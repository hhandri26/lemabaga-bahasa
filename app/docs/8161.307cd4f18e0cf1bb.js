"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[8161],{8161:(ht,_,i)=>{i.r(_),i.d(_,{RekapitulasiMonevModule:()=>vt});var r=i(8692),v=i(4032),x=i(9638),p=i(1379),h=i(3331),b=i(3319),Z=i(827),k=i(6558),C=i(3911),A=i(4466),U=i(2516),g=i(8659),L=i(2940),w=i(8772),R=i(1561),J=i(3704),Q=i(4536),y=i(7406),u=i(3538),I=i(8033),S=i(4639),D=i(7775),F=i(8023),f=i(3528),N=i(8288),t=i(4537),T=i(1949),M=i(1683),O=i(8292),l=i(92),B=i(5450),Y=i(7650),j=i(2494);const q=["keyword"];function G(e,a){1&e&&(t.TgZ(0,"div",17),t._UZ(1,"mat-progress-bar",18),t.qZA()),2&e&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function z(e,a){if(1&e&&(t.ynx(0),t._uU(1),t.ALo(2,"number"),t.BQk()),2&e){const n=t.oxw();t.xp6(1),t.hij("",t.lcZ(2,1,n.pagination.recordsTotal),"\xa0Survey ")}}function E(e,a){1&e&&t.GkF(0)}const K=function(e){return{$implicit:e}};function $(e,a){if(1&e&&(t.ynx(0),t.YNc(1,E,1,0,"ng-container",33),t.BQk()),2&e){const n=t.oxw().$implicit;t.oxw(4);const o=t.MAs(20);t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(2,K,n))}}function P(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",28)(2,"div",29)(3,"div",30),t._uU(4,"Survei BimTek Pengembangan Karir PFP 2020 "),t.qZA()(),t.TgZ(5,"div",23),t._uU(6," 24-11-2021 "),t.qZA(),t.TgZ(7,"div",23),t._uU(8," 25-11-2020 "),t.qZA(),t.TgZ(9,"div",23),t._uU(10," 14-12-2020 "),t.qZA(),t.TgZ(11,"div",24),t._uU(12," 50 Responden "),t.qZA(),t.TgZ(13,"div",24)(14,"button",31)(15,"span",32),t._uU(16,"Cetak"),t.qZA()()()(),t.TgZ(17,"div",20),t.YNc(18,$,2,4,"ng-container",5),t.qZA(),t.BQk()),2&e){const n=a.$implicit,o=t.oxw(4);t.xp6(18),t.Q6J("ngIf",(null==o.selected?null:o.selected.id)===n.id)}}function H(e,a){if(1&e&&(t.ynx(0),t.YNc(1,P,19,1,"ng-container",27),t.BQk()),2&e){const n=a.ngIf,o=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n)("ngForTrackBy",o.trackByFn)}}const V=function(e){return{"pointer-events-none":e}},W=function(){return[10,50,100,250,500]};function X(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",20)(2,"div",21)(3,"div",22),t._uU(4,"Judul survey"),t.qZA(),t.TgZ(5,"div",23),t._uU(6,"Dibuat pada"),t.qZA(),t.TgZ(7,"div",23),t._uU(8,"Dipublikasi pada"),t.qZA(),t.TgZ(9,"div",23),t._uU(10,"Selesai pada"),t.qZA(),t.TgZ(11,"div",24),t._uU(12,"Responden"),t.qZA(),t._UZ(13,"div",25),t.qZA(),t.YNc(14,H,2,2,"ng-container",5),t.ALo(15,"async"),t.qZA(),t.TgZ(16,"mat-paginator",26),t.NdJ("page",function(s){t.CHM(n);const c=t.oxw(2);return t.KtG(c.pageEvent(s))}),t.qZA(),t.BQk()}if(2&e){const n=t.oxw(2);t.xp6(14),t.Q6J("ngIf",t.lcZ(15,7,n.items$)),t.xp6(2),t.Q6J("ngClass",t.VKq(9,V,n.isLoading))("length",n.pagination.recordsTotal)("pageIndex",n.pagination.draw)("pageSize",n.pagination.perPage)("pageSizeOptions",t.DdM(11,W))("showFirstLastButtons",!0)}}function tt(e,a){if(1&e&&(t.ynx(0),t.YNc(1,X,17,12,"ng-container",19),t.BQk()),2&e){const n=a.ngIf;t.oxw();const o=t.MAs(22);t.xp6(1),t.Q6J("ngIf",n.length>0)("ngIfElse",o)}}function nt(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",53),t._uU(2),t.qZA(),t.TgZ(3,"div",53),t._uU(4),t.qZA(),t.TgZ(5,"div",53),t._uU(6),t.qZA(),t._UZ(7,"div",55),t.BQk()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.keyLabel),t.xp6(2),t.Oqu(n.before),t.xp6(2),t.Oqu(n.after)}}function et(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",52),t._UZ(2,"div",53),t.TgZ(3,"div",54),t._uU(4,"Data semula"),t.qZA(),t.TgZ(5,"div",54),t._uU(6,"Data menjadi"),t.qZA(),t._UZ(7,"div",55),t.YNc(8,nt,8,3,"ng-container",56),t.qZA(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(8),t.Q6J("ngForOf",n.selected.payload)}}function it(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",53),t._uU(2),t.qZA(),t.TgZ(3,"div",53),t._uU(4),t.qZA(),t._UZ(5,"div",55),t.BQk()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.keyLabel),t.xp6(2),t.Oqu(n.after)}}function ot(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",52),t._UZ(2,"div",53),t.TgZ(3,"div",54),t._uU(4,"Data yang ditambahkan "),t.qZA(),t._UZ(5,"div",55),t.YNc(6,it,6,2,"ng-container",56),t.qZA(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(6),t.Q6J("ngForOf",n.selected.payload)}}function at(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",53),t._uU(2),t.qZA(),t.TgZ(3,"div",53),t._uU(4),t.qZA(),t._UZ(5,"div",55),t.BQk()),2&e){const n=a.$implicit;t.xp6(2),t.Oqu(n.keyLabel),t.xp6(2),t.Oqu(n.before)}}function st(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"div",52),t._UZ(2,"div",53),t.TgZ(3,"div",54),t._uU(4,"Data yang dihapus"),t.qZA(),t._UZ(5,"div",55),t.YNc(6,at,6,2,"ng-container",56),t.qZA(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(6),t.Q6J("ngForOf",n.selected.payload)}}function rt(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",34)(2,"div",35)(3,"div",36)(4,"div",37)(5,"div",38),t.YNc(6,et,9,1,"ng-container",5),t.YNc(7,ot,7,1,"ng-container",5),t.YNc(8,st,7,1,"ng-container",5),t.qZA(),t.TgZ(9,"div",39)(10,"div",40)(11,"h3",41),t._uU(12,"Lampiran dokumen :"),t.qZA(),t.TgZ(13,"div",42)(14,"div",43)(15,"div",44),t._UZ(16,"mat-icon",45),t.TgZ(17,"button",46),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.togglePrint(s.selected.dokumenId))}),t._uU(18,"Dokumen"),t.qZA()()()(),t.TgZ(19,"mat-form-field",47)(20,"mat-label"),t._uU(21,"Catatan hasil verifikasi"),t.qZA(),t.TgZ(22,"textarea",48),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw(2);return t.KtG(c.message=s)}),t.qZA()()()()()()(),t.TgZ(23,"div",49)(24,"button",50),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.openConfirmationDialog(!1,s.selected.id))}),t._uU(25,"Tolak"),t.qZA(),t.TgZ(26,"button",51),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.openConfirmationDialog(!0,s.selected.id))}),t._uU(27,"Setuju"),t.qZA()()(),t.BQk()}if(2&e){const n=t.oxw(2);t.xp6(6),t.Q6J("ngIf","EDIT"===n.selected.actionName),t.xp6(1),t.Q6J("ngIf","ADD"===n.selected.actionName),t.xp6(1),t.Q6J("ngIf","DELETE"===n.selected.actionName),t.xp6(14),t.Q6J("ngModel",n.message)("autocomplete","off")("placeholder","Jelaskan alasan jika menolak"),t.xp6(2),t.Q6J("color","warn"),t.xp6(2),t.Q6J("color","primary")}}function lt(e,a){if(1&e&&t.YNc(0,rt,28,8,"ng-container",5),2&e){const n=t.oxw();t.Q6J("ngIf",n.selected)}}function ct(e,a){1&e&&(t.TgZ(0,"fuse-alert",57)(1,"span",58),t._uU(2,"Usulan perubahan data tidak ditemukan!"),t.qZA()()),2&e&&t.Q6J("type","info")}let mt=(()=>{class e{constructor(n,o,s,c,m,d,xt){this._changeDetectorRef=n,this._verifikasiRiwayatService=o,this._fuseConfirmationService=s,this._toastr=c,this._formBuilder=m,this._referensiService=d,this._profilService=xt,this.isLoading=!1,this.selected=null,this.message=null,this.jenisUsulan=this._referensiService.jenisUsulan(),this.actionUsulan=this._referensiService.actionUsulan(),this._unsubscribeAll=new F.x}ngOnInit(){this.form=this._formBuilder.group({byJenisUsul:[""],byNama:[null]}),this._verifikasiRiwayatService.pagination$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(n=>{this.pagination=n,this._changeDetectorRef.markForCheck()}),this.items$=this._verifikasiRiwayatService.items$,this._verifikasiRiwayatService.items$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(),this._verifikasiRiwayatService.pagination$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(n=>{this.pagination=n,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}pageEvent(n){this.fetch(n.pageIndex,n.pageSize,this.form.getRawValue()).subscribe()}toggleSearch(){this.fetch(this.pagination.draw,this.pagination.perPage,this.form.getRawValue()).subscribe()}fetch(n=0,o=10,s={}){return s.byJenisUsul||(s.byJenisUsul=null),this._verifikasiRiwayatService.getList(+n,+o,s).pipe()}toggleDetails(n){this.selected&&this.selected.id===n?this.closeDetails():this._verifikasiRiwayatService.getDetail(n).subscribe(o=>{this.selected=o,this._changeDetectorRef.markForCheck()})}closeDetails(){this.selected=null}_action(n){return(this.actionUsulan.find(s=>s.id===n)||null)?.nama??"-"}togglePrint(n){this._profilService.preview(n).subscribe(o=>{const s=URL.createObjectURL(o);window.open(s,"_blank")})}openConfirmationDialog(n,o){n||this.message?this._fuseConfirmationService.open({title:n?"Menyetujui verifikasi data ":"Menolak verifikasi data ",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:n?"heroicons_outline:check":"heroicons_outline:x",color:n?"primary":"warn"},actions:{confirm:{show:!0,label:n?"Setuju":"Tolak",color:n?"primary":"warn"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(c=>{if("confirmed"===c){const m=new FormData;m.append("isKonversiAK",!1),m.append("isApprove",n),m.append("usulId",o),m.append("message",this.message),this._verifikasiRiwayatService.approval(m).subscribe(d=>{d?.success?(this._toastr.success("Data telah diverifikasi","Konfirmasi Berhasil"),this.closeDetails(),this.fetch(this.pagination.draw,this.pagination.perPage,this.form.getRawValue()).subscribe(),this._changeDetectorRef.markForCheck()):this._toastr.error(d?.message,"ERROR")})}}):this._toastr.error("Untuk menolak Anda harus menjelaskan alasannya pada catatan hasil verifikasi","Alasan hasil verifikasi harus diisi")}trackByFn(n,o){return String(o.id)||String(n)}trackByFnType(n,o){return o.id||n}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.sBO),t.Y36(T.h),t.Y36(M.R),t.Y36(O._W),t.Y36(l.qu),t.Y36(B.A2),t.Y36(Y.z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(n,o){if(1&n&&(t.Gf(u.NW,5),t.Gf(q,7)),2&n){let s;t.iGM(s=t.CRH())&&(o._paginator=s.first),t.iGM(s=t.CRH())&&(o.findKeyword=s.first)}},features:[t._Bn([{provide:p.sG,useValue:p.sG}])],decls:23,vars:9,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-4","px-4","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-2xl","font-extrabold","tracking-tight","leading-none"],[1,"ml-0.5","font-medium","text-secondary"],[4,"ngIf"],[3,"formGroup"],[1,"flex","items-center","mt-4","sm:mt-0","md:mt-4"],[1,"flex-auto"],[1,"min-w-50","fuse-mat-dense","fuse-mat-no-subscript","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder"],["keyword",""],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],["rowDetailsTemplate",""],["noItems",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[4,"ngIf","ngIfElse"],[1,"grid"],[1,"item-grid","z-10","sticky","top-0","grid","grid-flow-col","auto-cols-max","md:auto-cols-min","grid-cols-12","gap-3","py-3","px-6","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"md:block","col-span-4"],[1,"md:block","col-span-2"],[1,"md:block","col-span-1"],[1,"hidden","md:block","col-span-1"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"item-grid","grid","grid-flow-col","auto-cols-max","md:auto-cols-min","grid-cols-12","items-center","gap-2","py-3","px-6","border-b"],[1,"hidden","md:block","col-span-4"],[1,"font-medium","tracking-tight","leading-6","truncate","text-md"],["mat-button","",1,"ml-4","min-w-10","min-h-7","h-7","px-2","leading-6"],[1,"ml-1","mr-1"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"shadow-lg","overflow-hidden"],[1,"flex"],[1,"flex","flex-col","w-full"],[1,"flex","flex-auto","flex-wrap","px-2"],[1,"flex","flex-col","w-full","lg:w-3/4"],[1,"flex","flex-col","w-full","lg:w-1/4"],[1,"my-3"],[1,"mb-2"],[1,"text-secondary","font-medium","mb-2"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"flex","items-center"],["svgIcon","attach_file",1,"icon-size-5","text-hint"],[1,"ml-1.5","text-sm","underline",3,"click"],[1,"fuse-mat-no-subscript","w-full","mt-4"],["matInput","",3,"ngModel","autocomplete","placeholder","ngModelChange"],[1,"flex","items-center","justify-end","w-full","border-t","px-8","py-4"],["mat-button","",1,"mr-4",3,"color","click"],["mat-flat-button","",3,"color","click"],[1,"grid","grid-cols-12","gap-x-1","py-5","px-4"],[1,"col-span-4","text-sm"],[1,"col-span-4","text-sm","font-semibold"],[1,"col-span-12","my-2","border-b"],[4,"ngFor","ngForOf"],[3,"type"],["fuseAlertTitle",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,G,2,1,"div",2),t.TgZ(3,"div")(4,"div",3),t._uU(5,"Monitoring dan Evaluasi"),t.qZA(),t.TgZ(6,"div",4),t.YNc(7,z,3,3,"ng-container",5),t.qZA()(),t.TgZ(8,"form",6)(9,"div",7)(10,"div",8)(11,"mat-form-field",9),t._UZ(12,"mat-icon",10)(13,"input",11,12),t.qZA()()()()(),t.TgZ(15,"div",13)(16,"div",14),t.YNc(17,tt,2,2,"ng-container",5),t.ALo(18,"async"),t.YNc(19,lt,1,1,"ng-template",null,15,t.W1O),t.YNc(21,ct,3,1,"ng-template",null,16,t.W1O),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",o.isLoading),t.xp6(5),t.Q6J("ngIf",o.pagination.recordsTotal>0),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(4),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("autocomplete","off")("placeholder","Cari survey"),t.xp6(4),t.Q6J("ngIf",t.lcZ(18,7,o.items$)))},dependencies:[r.mk,r.sg,r.O5,r.tP,x.lW,g.KE,g.hX,g.qo,h.Hw,y.Nt,u.NW,Z.pW,l._Y,l.Fj,l.JJ,l.JL,l.On,l.sg,j.W,r.Ov,r.JJ],encapsulation:2,data:{animation:N.L},changeDetection:0}),e})(),gt=(()=>{class e{constructor(n){this._verifikasiRiwayatService=n}resolve(n,o){return this._verifikasiRiwayatService.getList()}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(T.h))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var dt=i(7937),pt=i(5507),ut=i(1208),ft=i(5184);let _t=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,o){1&n&&t._UZ(0,"router-outlet")},dependencies:[v.lC],encapsulation:2}),e})(),vt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.ez,v.Bz.forChild([{path:"",component:_t,children:[{path:"",component:mt,resolve:{lists:gt}}]}]),ut.c,x.ot,R.p9,g.lN,h.Ps,y.c,b.Tx,u.TU,Z.Cv,p.si,k.JX,I.LD,S.rP,L.AV,A.m,U.Nh,Q.Is,D.fC,J.FA,w.Yd,C.p0,dt.w,pt.yI.forRoot(),ft.p]}),e})()}}]);