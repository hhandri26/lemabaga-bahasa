"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3509],{3509:(vt,_,i)=>{i.r(_),i.d(_,{RekapitulasiAngkaKreditModule:()=>ft});var r=i(8692),v=i(4032),x=i(9638),p=i(1379),h=i(3331),y=i(3319),Z=i(827),b=i(6558),A=i(3911),C=i(4466),U=i(2516),m=i(8659),L=i(2940),w=i(8772),R=i(1561),I=i(3704),J=i(4536),T=i(7406),u=i(3538),Q=i(8033),N=i(4639),S=i(7775),F=i(8023),f=i(3528),O=i(8288),t=i(4537),k=i(1949),D=i(1683),B=i(8292),l=i(92),Y=i(5450),K=i(7650),M=i(2494);function q(e,o){1&e&&(t.TgZ(0,"div",16),t._UZ(1,"mat-progress-bar",17),t.qZA()),2&e&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function j(e,o){1&e&&t.GkF(0)}const G=function(e){return{$implicit:e}};function P(e,o){if(1&e&&(t.ynx(0),t.YNc(1,j,1,0,"ng-container",36),t.BQk()),2&e){const n=t.oxw().$implicit;t.oxw(4);const a=t.MAs(18);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(2,G,n))}}function z(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",27)(2,"div",28)(3,"div",29),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"div",30)(7,"div",31)(8,"div"),t._uU(9),t.qZA(),t.TgZ(10,"div",32),t._uU(11,"\u2022"),t.qZA(),t.TgZ(12,"div"),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",33)(15,"div",29),t._uU(16,"Komisi Aparatur Sipil Negara"),t.qZA(),t.TgZ(17,"div",30)(18,"div",31)(19,"div"),t._uU(20,"Pusat Data dan Informasi"),t.qZA(),t.TgZ(21,"div",32),t._uU(22,"\u2022"),t.qZA(),t.TgZ(23,"div"),t._uU(24,"Pengembangan Sistem Informasi"),t.qZA()()()(),t.TgZ(25,"div",34),t._uU(26," 95 "),t.qZA(),t.TgZ(27,"div",35),t._uU(28,"IV/b - Penerjemah Ahli Madya"),t.qZA(),t.TgZ(29,"div",34),t._uU(30," 98 "),t.qZA()(),t.TgZ(31,"div",19),t.YNc(32,P,2,4,"ng-container",13),t.qZA(),t.BQk()),2&e){const n=o.$implicit,a=t.oxw(4);t.xp6(4),t.hij(" ",t.lcZ(5,5,n.pns.nama),""),t.xp6(5),t.Oqu(n.pns.nip),t.xp6(4),t.AsE("",n.pns.golonganNama," - ",n.pns.jabatanNama,""),t.xp6(19),t.Q6J("ngIf",(null==a.selected?null:a.selected.id)===n.id)}}function E(e,o){if(1&e&&(t.ynx(0),t.YNc(1,z,33,7,"ng-container",26),t.BQk()),2&e){const n=o.ngIf,a=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",n)("ngForTrackBy",a.trackByFn)}}const $=function(e){return{"pointer-events-none":e}},V=function(){return[10,50,100,250,500]};function W(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"div",20)(3,"div",21),t._uU(4,"Nama"),t.qZA(),t.TgZ(5,"div",22),t._uU(6,"Instansi"),t.qZA(),t.TgZ(7,"div",23),t._uU(8,"Nilai AK Terakhir"),t.qZA(),t.TgZ(9,"div",24),t._uU(10,"Golongan Terakhir AK"),t.qZA(),t.TgZ(11,"div",23),t._uU(12,"Batas AK"),t.qZA()(),t.YNc(13,E,2,2,"ng-container",13),t.ALo(14,"async"),t.qZA(),t.TgZ(15,"mat-paginator",25),t.NdJ("page",function(s){t.CHM(n);const c=t.oxw(2);return t.KtG(c.pageEvent(s))}),t.qZA(),t.BQk()}if(2&e){const n=t.oxw(2);t.xp6(13),t.Q6J("ngIf",t.lcZ(14,7,n.items$)),t.xp6(2),t.Q6J("ngClass",t.VKq(9,$,n.isLoading))("length",n.pagination.recordsTotal)("pageIndex",n.pagination.draw)("pageSize",n.pagination.perPage)("pageSizeOptions",t.DdM(11,V))("showFirstLastButtons",!0)}}function H(e,o){if(1&e&&(t.ynx(0),t.YNc(1,W,16,12,"ng-container",18),t.BQk()),2&e){const n=o.ngIf;t.oxw();const a=t.MAs(20);t.xp6(1),t.Q6J("ngIf",n.length>0)("ngIfElse",a)}}function X(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",55),t._uU(2),t.qZA(),t.TgZ(3,"div",55),t._uU(4),t.qZA(),t.TgZ(5,"div",55),t._uU(6),t.qZA(),t._UZ(7,"div",57),t.BQk()),2&e){const n=o.$implicit;t.xp6(2),t.Oqu(n.keyLabel),t.xp6(2),t.Oqu(n.before),t.xp6(2),t.Oqu(n.after)}}function tt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",54),t._UZ(2,"div",55),t.TgZ(3,"div",56),t._uU(4,"Data semula"),t.qZA(),t.TgZ(5,"div",56),t._uU(6,"Data menjadi"),t.qZA(),t._UZ(7,"div",57),t.YNc(8,X,8,3,"ng-container",58),t.qZA(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(8),t.Q6J("ngForOf",n.selected.payload)}}function nt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",55),t._uU(2),t.qZA(),t.TgZ(3,"div",55),t._uU(4),t.qZA(),t._UZ(5,"div",57),t.BQk()),2&e){const n=o.$implicit;t.xp6(2),t.Oqu(n.keyLabel),t.xp6(2),t.Oqu(n.after)}}function et(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",54),t._UZ(2,"div",55),t.TgZ(3,"div",56),t._uU(4,"Data yang ditambahkan "),t.qZA(),t._UZ(5,"div",57),t.YNc(6,nt,6,2,"ng-container",58),t.qZA(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(6),t.Q6J("ngForOf",n.selected.payload)}}function it(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",55),t._uU(2),t.qZA(),t.TgZ(3,"div",55),t._uU(4),t.qZA(),t._UZ(5,"div",57),t.BQk()),2&e){const n=o.$implicit;t.xp6(2),t.Oqu(n.keyLabel),t.xp6(2),t.Oqu(n.before)}}function at(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",54),t._UZ(2,"div",55),t.TgZ(3,"div",56),t._uU(4,"Data yang dihapus"),t.qZA(),t._UZ(5,"div",57),t.YNc(6,it,6,2,"ng-container",58),t.qZA(),t.BQk()),2&e){const n=t.oxw(3);t.xp6(6),t.Q6J("ngForOf",n.selected.payload)}}function ot(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",37)(2,"div",38)(3,"div",39)(4,"div",40)(5,"div",41),t.YNc(6,tt,9,1,"ng-container",13),t.YNc(7,et,7,1,"ng-container",13),t.YNc(8,at,7,1,"ng-container",13),t.qZA(),t.TgZ(9,"div",42)(10,"div",43)(11,"h3",44),t._uU(12,"Lampiran dokumen :"),t.qZA(),t.TgZ(13,"div",45)(14,"div",31)(15,"div",46),t._UZ(16,"mat-icon",47),t.TgZ(17,"button",48),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.togglePrint(s.selected.dokumenId))}),t._uU(18,"Dokumen"),t.qZA()()()(),t.TgZ(19,"mat-form-field",49)(20,"mat-label"),t._uU(21,"Catatan hasil verifikasi"),t.qZA(),t.TgZ(22,"textarea",50),t.NdJ("ngModelChange",function(s){t.CHM(n);const c=t.oxw(2);return t.KtG(c.message=s)}),t.qZA()()()()()()(),t.TgZ(23,"div",51)(24,"button",52),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.openConfirmationDialog(!1,s.selected.id))}),t._uU(25,"Tolak"),t.qZA(),t.TgZ(26,"button",53),t.NdJ("click",function(){t.CHM(n);const s=t.oxw(2);return t.KtG(s.openConfirmationDialog(!0,s.selected.id))}),t._uU(27,"Setuju"),t.qZA()()(),t.BQk()}if(2&e){const n=t.oxw(2);t.xp6(6),t.Q6J("ngIf","EDIT"===n.selected.actionName),t.xp6(1),t.Q6J("ngIf","ADD"===n.selected.actionName),t.xp6(1),t.Q6J("ngIf","DELETE"===n.selected.actionName),t.xp6(14),t.Q6J("ngModel",n.message)("autocomplete","off")("placeholder","Jelaskan alasan jika menolak"),t.xp6(2),t.Q6J("color","warn"),t.xp6(2),t.Q6J("color","primary")}}function st(e,o){if(1&e&&t.YNc(0,ot,28,8,"ng-container",13),2&e){const n=t.oxw();t.Q6J("ngIf",n.selected)}}function rt(e,o){1&e&&(t.TgZ(0,"fuse-alert",59)(1,"span",60),t._uU(2,"Usulan perubahan data tidak ditemukan!"),t.qZA()()),2&e&&t.Q6J("type","info")}let lt=(()=>{class e{constructor(n,a,s,c,g,d,_t){this._changeDetectorRef=n,this._verifikasiRiwayatService=a,this._fuseConfirmationService=s,this._toastr=c,this._formBuilder=g,this._referensiService=d,this._profilService=_t,this.isLoading=!1,this.selected=null,this.message=null,this.jenisUsulan=this._referensiService.jenisUsulan(),this.actionUsulan=this._referensiService.actionUsulan(),this._unsubscribeAll=new F.x}ngOnInit(){this.form=this._formBuilder.group({byJenisUsul:[""],byNama:[null]}),this._verifikasiRiwayatService.pagination$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(n=>{this.pagination=n,this._changeDetectorRef.markForCheck()}),this.items$=this._verifikasiRiwayatService.items$,this._verifikasiRiwayatService.items$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(),this._verifikasiRiwayatService.pagination$.pipe((0,f.R)(this._unsubscribeAll)).subscribe(n=>{this.pagination=n,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}pageEvent(n){this.fetch(n.pageIndex,n.pageSize,this.form.getRawValue()).subscribe()}toggleSearch(){this.fetch(this.pagination.draw,this.pagination.perPage,this.form.getRawValue()).subscribe()}fetch(n=0,a=10,s={}){return s.byJenisUsul||(s.byJenisUsul=null),this._verifikasiRiwayatService.getList(+n,+a,s).pipe()}toggleDetails(n){this.selected&&this.selected.id===n?this.closeDetails():this._verifikasiRiwayatService.getDetail(n).subscribe(a=>{this.selected=a,this._changeDetectorRef.markForCheck()})}closeDetails(){this.selected=null}_action(n){return(this.actionUsulan.find(s=>s.id===n)||null)?.nama??"-"}togglePrint(n){this._profilService.preview(n).subscribe(a=>{const s=URL.createObjectURL(a);window.open(s,"_blank")})}openConfirmationDialog(n,a){n||this.message?this._fuseConfirmationService.open({title:n?"Menyetujui verifikasi data ":"Menolak verifikasi data ",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:n?"heroicons_outline:check":"heroicons_outline:x",color:n?"primary":"warn"},actions:{confirm:{show:!0,label:n?"Setuju":"Tolak",color:n?"primary":"warn"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(c=>{if("confirmed"===c){const g=new FormData;g.append("isKonversiAK",!1),g.append("isApprove",n),g.append("usulId",a),g.append("message",this.message),this._verifikasiRiwayatService.approval(g).subscribe(d=>{d?.success?(this._toastr.success("Data telah diverifikasi","Konfirmasi Berhasil"),this.closeDetails(),this.fetch(this.pagination.draw,this.pagination.perPage,this.form.getRawValue()).subscribe(),this._changeDetectorRef.markForCheck()):this._toastr.error(d?.message,"ERROR")})}}):this._toastr.error("Untuk menolak Anda harus menjelaskan alasannya pada catatan hasil verifikasi","Alasan hasil verifikasi harus diisi")}trackByFn(n,a){return String(a.id)||String(n)}trackByFnType(n,a){return a.id||n}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.sBO),t.Y36(k.h),t.Y36(D.R),t.Y36(B._W),t.Y36(l.qu),t.Y36(Y.A2),t.Y36(K.z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(n,a){if(1&n&&t.Gf(u.NW,5),2&n){let s;t.iGM(s=t.CRH())&&(a._paginator=s.first)}},features:[t._Bn([{provide:p.sG,useValue:p.sG}])],decls:21,vars:8,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-4","px-4","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-2xl","font-extrabold","tracking-tight","leading-none"],[3,"formGroup"],[1,"flex","items-center","mt-4","sm:mt-0","md:mt-4"],[1,"flex-auto"],[1,"min-w-50","fuse-mat-dense","fuse-mat-no-subscript","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder"],["keyword",""],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],[4,"ngIf"],["rowDetailsTemplate",""],["noItems",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[4,"ngIf","ngIfElse"],[1,"grid"],[1,"item-grid","z-10","sticky","top-0","grid","grid-flow-col","auto-cols-max","md:auto-cols-min","grid-cols-12","gap-3","py-3","px-6","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"md:block","col-span-3"],[1,"md:block","col-span-4"],[1,"md:block","col-span-1"],[1,"md:block","col-span-2"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"item-grid","grid","grid-flow-col","auto-cols-max","md:auto-cols-min","grid-cols-12","items-center","gap-2","py-3","px-6","border-b"],[1,"hidden","md:block","col-span-3"],[1,"font-medium","tracking-tight","leading-6","truncate","text-md"],[1,"text-secondary","font-medium"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"hidden","sm:block"],[1,"hidden","md:block","col-span-4"],[1,"hidden","md:block","truncate","text-sm","col-span-1"],[1,"hidden","md:block","truncate","text-sm","col-span-2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"shadow-lg","overflow-hidden"],[1,"flex"],[1,"flex","flex-col","w-full"],[1,"flex","flex-auto","flex-wrap","px-2"],[1,"flex","flex-col","w-full","lg:w-3/4"],[1,"flex","flex-col","w-full","lg:w-1/4"],[1,"my-3"],[1,"mb-2"],[1,"text-secondary","font-medium","mb-2"],[1,"flex","items-center"],["svgIcon","attach_file",1,"icon-size-5","text-hint"],[1,"ml-1.5","text-sm","underline",3,"click"],[1,"fuse-mat-no-subscript","w-full","mt-4"],["matInput","",3,"ngModel","autocomplete","placeholder","ngModelChange"],[1,"flex","items-center","justify-end","w-full","border-t","px-8","py-4"],["mat-button","",1,"mr-4",3,"color","click"],["mat-flat-button","",3,"color","click"],[1,"grid","grid-cols-12","gap-x-1","py-5","px-4"],[1,"col-span-4","text-sm"],[1,"col-span-4","text-sm","font-semibold"],[1,"col-span-12","my-2","border-b"],[4,"ngFor","ngForOf"],[3,"type"],["fuseAlertTitle",""]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,q,2,1,"div",2),t.TgZ(3,"div")(4,"div",3),t._uU(5,"Capaian Angka Kredit"),t.qZA()(),t.TgZ(6,"form",4)(7,"div",5)(8,"div",6)(9,"mat-form-field",7),t._UZ(10,"mat-icon",8)(11,"input",9,10),t.qZA()()()()(),t.TgZ(13,"div",11)(14,"div",12),t.YNc(15,H,2,2,"ng-container",13),t.ALo(16,"async"),t.YNc(17,st,1,1,"ng-template",null,14,t.W1O),t.YNc(19,rt,3,1,"ng-template",null,15,t.W1O),t.qZA()()()),2&n&&(t.xp6(2),t.Q6J("ngIf",a.isLoading),t.xp6(4),t.Q6J("formGroup",a.form),t.xp6(4),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("autocomplete","off")("placeholder","Cari PFP"),t.xp6(4),t.Q6J("ngIf",t.lcZ(16,6,a.items$)))},dependencies:[r.mk,r.sg,r.O5,r.tP,x.lW,m.KE,m.hX,m.qo,h.Hw,T.Nt,u.NW,Z.pW,l._Y,l.Fj,l.JJ,l.JL,l.On,l.sg,M.W,r.Ov,r.rS],encapsulation:2,data:{animation:O.L},changeDetection:0}),e})(),ct=(()=>{class e{constructor(n){this._verifikasiRiwayatService=n}resolve(n,a){return this._verifikasiRiwayatService.getList()}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(k.h))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var gt=i(7937),mt=i(5507),dt=i(1208);let pt=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,a){1&n&&t._UZ(0,"router-outlet")},dependencies:[v.lC],encapsulation:2}),e})();var ut=i(5184);let ft=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.ez,v.Bz.forChild([{path:"",component:pt,children:[{path:"",component:lt,resolve:{lists:ct}}]}]),dt.c,x.ot,R.p9,m.lN,h.Ps,T.c,y.Tx,u.TU,Z.Cv,p.si,b.JX,Q.LD,N.rP,L.AV,C.m,U.Nh,J.Is,S.fC,I.FA,w.Yd,A.p0,gt.w,mt.yI.forRoot(),ut.p]}),e})()}}]);