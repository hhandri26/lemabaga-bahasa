"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[1422],{7853:(xt,W,l)=>{l.d(W,{V:()=>S});var x=l(4537);let S=(()=>{class M{}return M.\u0275fac=function(k){return new(k||M)},M.\u0275mod=x.oAB({type:M}),M.\u0275inj=x.cJS({}),M})()},4640:(xt,W,l)=>{l.d(W,{c:()=>S});var x=l(4537);let S=(()=>{class M{}return M.\u0275fac=function(k){return new(k||M)},M.\u0275mod=x.oAB({type:M}),M.\u0275inj=x.cJS({}),M})()},4119:(xt,W,l)=>{l.d(W,{D:()=>S});var x=l(4537);let S=(()=>{class M{constructor(){}transform(k,R,n){const i=n.find(t=>t[R]===k);return i?i.name:"-"}}return M.\u0275fac=function(k){return new(k||M)},M.\u0275pipe=x.Yjl({name:"findReference",type:M,pure:!1}),M})()},6464:(xt,W,l)=>{l.d(W,{e:()=>jt});var x=l(92),S=l(8772),M=l(1379),j=l(5450),k=l(8023),R=l(3528),n=l(4537),i=l(47),t=l(2047),nt=l(8292),et=l(8951),X=l(7495),e=l(8692),at=l(9638),c=l(8659),it=l(3331),L=l(7406),w=l(8033),V=l(2940),ot=l(2494),F=l(2516),q=l(7569);function y(f,D){1&f&&n.GkF(0)}const P=function(f){return{$implicit:f}};function G(f,D){if(1&f&&(n.ynx(0),n.YNc(1,y,1,0,"ng-container",30),n.BQk()),2&f){const _=n.oxw().$implicit;n.oxw(3);const T=n.MAs(10);n.xp6(1),n.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",n.VKq(2,P,_))}}function $(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"h2",20),n._uU(2,"Angka Kredit Konversi"),n.qZA(),n.TgZ(3,"div",21)(4,"div",22)(5,"div",23)(6,"div",24)(7,"div",25),n._uU(8),n.qZA(),n.TgZ(9,"div",26),n._uU(10,"\u2022"),n.qZA(),n.TgZ(11,"div",25),n._uU(12),n.qZA()()()(),n.TgZ(13,"div",27)(14,"button",28),n.NdJ("click",function(){const H=n.CHM(_).$implicit,Zt=n.oxw(3);return n.KtG(Zt.toggleDetailsAHK(H.id))}),n._UZ(15,"mat-icon",16),n.qZA()(),n._UZ(16,"div",29),n.qZA(),n.YNc(17,G,2,4,"ng-container",12),n.BQk()}if(2&f){const _=D.$implicit,T=n.oxw(3);n.xp6(7),n.Q6J("matTooltip","Tahun"),n.xp6(1),n.hij("Tahun ",_.tahun,""),n.xp6(3),n.Q6J("matTooltip","Nilai AK Konversi "),n.xp6(1),n.hij(" Nilai AK Konversi ",_.nilaiAkKonversi,""),n.xp6(3),n.Q6J("svgIcon",(null==T.selected?null:T.selected.id)===_.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),n.xp6(2),n.Q6J("ngIf",(null==T.selected?null:T.selected.id)===_.id)}}function z(f,D){1&f&&(n.ynx(0),n.TgZ(1,"fuse-alert",31)(2,"span",32),n._uU(3,"Belum ada data riwayat angka kredit konversi"),n.qZA()(),n.BQk()),2&f&&(n.xp6(1),n.Q6J("type","info"))}function tt(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",13)(2,"div",14)(3,"button",15),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleInsertAHK(!0))}),n._UZ(4,"mat-icon",16),n.TgZ(5,"span",17),n._uU(6,"Angka Kredit Hasil Konversi"),n.qZA()(),n.TgZ(7,"button",18),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleInsertAAK(!0))}),n._UZ(8,"mat-icon",16),n.TgZ(9,"span",17),n._uU(10,"Angka Kredit Hasil Akumulasi "),n.qZA()(),n.TgZ(11,"button",18),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleInsertPAK(!0))}),n._UZ(12,"mat-icon",16),n.TgZ(13,"span",17),n._uU(14,"Angka Kredit Hasil Penetapan AK"),n.qZA()()()(),n.YNc(15,$,18,6,"ng-container",19),n.YNc(16,z,4,1,"ng-container",12),n.BQk()}if(2&f){const _=n.oxw(2);n.xp6(4),n.Q6J("svgIcon","heroicons_solid:plus"),n.xp6(4),n.Q6J("svgIcon","heroicons_solid:plus"),n.xp6(4),n.Q6J("svgIcon","heroicons_solid:plus"),n.xp6(3),n.Q6J("ngForOf",_.rwAngkaKreditKonversi)("ngForTrackBy",_.trackByFn),n.xp6(1),n.Q6J("ngIf",!_.rwAngkaKreditKonversi.length)}}function _t(f,D){1&f&&n.GkF(0)}function lt(f,D){if(1&f&&(n.ynx(0),n.YNc(1,_t,1,0,"ng-container",30),n.BQk()),2&f){const _=n.oxw().$implicit;n.oxw(3);const T=n.MAs(12);n.xp6(1),n.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",n.VKq(2,P,_))}}function st(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"h2",20),n._uU(2,"Akumulasi Angka Kredit"),n.qZA(),n.TgZ(3,"div",21)(4,"div",22)(5,"div",23)(6,"div",24)(7,"div",25),n._uU(8),n.qZA(),n.TgZ(9,"div",26),n._uU(10,"\u2022"),n.qZA(),n.TgZ(11,"div",25),n._uU(12),n.qZA()()()(),n.TgZ(13,"div",27)(14,"button",28),n.NdJ("click",function(){const H=n.CHM(_).$implicit,Zt=n.oxw(3);return n.KtG(Zt.toggleDetailsAAK(H.id))}),n._UZ(15,"mat-icon",16),n.qZA()(),n._UZ(16,"div",29),n.qZA(),n.YNc(17,lt,2,4,"ng-container",12),n.BQk()}if(2&f){const _=D.$implicit,T=n.oxw(3);n.xp6(7),n.Q6J("matTooltip","Tahun"),n.xp6(1),n.hij("Tahun ",_.tahun,""),n.xp6(3),n.Q6J("matTooltip","Nilai AK Akumulasi "),n.xp6(1),n.hij(" Nilai AK Akumulasi ",_.nilaiAkAkumulasi,""),n.xp6(3),n.Q6J("svgIcon",(null==T.selected?null:T.selected.id)===_.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),n.xp6(2),n.Q6J("ngIf",(null==T.selected?null:T.selected.id)===_.id)}}function rt(f,D){1&f&&(n.ynx(0),n.TgZ(1,"fuse-alert",31)(2,"span",32),n._uU(3,"Belum ada data riwayat Akumulasi angka kredit "),n.qZA()(),n.BQk()),2&f&&(n.xp6(1),n.Q6J("type","info"))}function ct(f,D){if(1&f&&(n.ynx(0),n.YNc(1,st,18,6,"ng-container",19),n.YNc(2,rt,4,1,"ng-container",12),n.BQk()),2&f){const _=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",_.rwAngkaKreditAkumulasi)("ngForTrackBy",_.trackByFn),n.xp6(1),n.Q6J("ngIf",!_.rwAngkaKreditAkumulasi.length)}}function mt(f,D){1&f&&n.GkF(0)}function ut(f,D){if(1&f&&(n.ynx(0),n.YNc(1,mt,1,0,"ng-container",30),n.BQk()),2&f){const _=n.oxw().$implicit;n.oxw(3);const T=n.MAs(14);n.xp6(1),n.Q6J("ngTemplateOutlet",T)("ngTemplateOutletContext",n.VKq(2,P,_))}}function pt(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"h2",20),n._uU(2,"Penetapan Angka Kredit "),n.qZA(),n.TgZ(3,"div",21)(4,"div",22)(5,"div",23)(6,"div",24)(7,"div",25),n._uU(8),n.qZA(),n.TgZ(9,"div",26),n._uU(10,"\u2022"),n.qZA(),n.TgZ(11,"div",25),n._uU(12),n.qZA()()()(),n.TgZ(13,"div",27)(14,"button",28),n.NdJ("click",function(){const H=n.CHM(_).$implicit,Zt=n.oxw(3);return n.KtG(Zt.toggleDetailsPAK(H.id))}),n._UZ(15,"mat-icon",16),n.qZA()(),n._UZ(16,"div",29),n.qZA(),n.YNc(17,ut,2,4,"ng-container",12),n.BQk()}if(2&f){const _=D.$implicit,T=n.oxw(3);n.xp6(7),n.Q6J("matTooltip","Tahun"),n.xp6(1),n.hij("Tahun ",_.tahun,""),n.xp6(3),n.Q6J("matTooltip","Nilai Penetapan AK "),n.xp6(1),n.hij(" Nilai Penetapan Angka Kredit ",_.nilaiAkPenetapan,""),n.xp6(3),n.Q6J("svgIcon",(null==T.selected?null:T.selected.id)===_.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),n.xp6(2),n.Q6J("ngIf",(null==T.selected?null:T.selected.id)===_.id)}}function gt(f,D){1&f&&(n.ynx(0),n.TgZ(1,"fuse-alert",31)(2,"span",32),n._uU(3,"Belum ada data riwayat angka kredit Penetapan"),n.qZA()(),n.BQk()),2&f&&(n.xp6(1),n.Q6J("type","info"))}function dt(f,D){if(1&f&&(n.ynx(0),n.YNc(1,pt,18,6,"ng-container",19),n.YNc(2,gt,4,1,"ng-container",12),n.BQk()),2&f){const _=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",_.rwAngkaKreditPenetapan)("ngForTrackBy",_.trackByFn),n.xp6(1),n.Q6J("ngIf",!_.rwAngkaKreditPenetapan.length)}}function ft(f,D){if(1&f&&(n.TgZ(0,"mat-option",49),n._uU(1),n.qZA()),2&f){const _=D.$implicit;n.Q6J("value",_),n.xp6(1),n.hij("",_," ")}}function N(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",50),n.NdJ("click",function(){n.CHM(_),n.oxw();const v=n.MAs(28);return n.KtG(v.click())}),n._uU(1,"Unggah Dokumen"),n.qZA()}2&f&&n.Q6J("color","accent")}function Y(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",51),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(3);return n.KtG(v.toggleOnFileInputed(!1,"fileDokumen","file"))}),n._UZ(1,"mat-icon",52),n.qZA()}2&f&&(n.Q6J("matTooltip","Clear"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:x"))}function U(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",10)(2,"div",11)(3,"form",33)(4,"div",13)(5,"div",34)(6,"button",35),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleInsertAHK(!1))}),n._uU(7," Batal "),n.qZA(),n.TgZ(8,"button",36),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v._insertAHK())}),n._uU(9," Submit Usulan "),n.qZA()()(),n.TgZ(10,"div",37)(11,"mat-form-field",38)(12,"mat-label"),n._uU(13,"Tahun"),n.qZA(),n.TgZ(14,"mat-select",39),n.YNc(15,ft,2,2,"mat-option",40),n.qZA()()(),n.TgZ(16,"div",37)(17,"mat-form-field",38)(18,"mat-label"),n._uU(19,"Nilai AK hasil konversi"),n.qZA(),n._UZ(20,"input",41),n.qZA()(),n.TgZ(21,"div",37)(22,"div",38)(23,"mat-label"),n._uU(24,"Formulir Scan KAK(Ditandatangani pimpinan) "),n.TgZ(25,"i"),n._uU(26,"(PDF, Maksimal ukuran 2 MB)"),n.qZA()(),n.TgZ(27,"input",42,43),n.NdJ("click",function(){n.CHM(_);const v=n.MAs(28);return n.KtG(v.value=null)})("change",function(v){n.CHM(_);const H=n.oxw(2);return n.KtG(H.onFileInput(v,"fileDokumen","file"))}),n.qZA(),n.TgZ(29,"div",44)(30,"div",45),n.YNc(31,N,2,1,"button",46),n.YNc(32,Y,2,2,"button",47),n._UZ(33,"span",48),n.qZA()()()()()()(),n.BQk()}if(2&f){const _=n.oxw(2);n.xp6(3),n.Q6J("formGroup",_.formAHK),n.xp6(3),n.Q6J("matTooltip","Batalkan Penambahan Data Baru"),n.xp6(2),n.Q6J("color","primary")("disabled",_.formAHK.invalid)("matTooltip","Submit Usulan Penambahan Data"),n.xp6(6),n.Q6J("formControlName","tahun"),n.xp6(1),n.Q6J("ngForOf",_.tahun),n.xp6(5),n.Q6J("formControlName","nilaiAkKonversi"),n.xp6(11),n.Q6J("ngIf",!_.onFileInputed),n.xp6(1),n.Q6J("ngIf",_.onFileInputed),n.xp6(1),n.Q6J("id","fileDokumen")}}function O(f,D){if(1&f&&(n.TgZ(0,"mat-option",49),n._uU(1),n.qZA()),2&f){const _=D.$implicit;n.Q6J("value",_),n.xp6(1),n.hij("",_," ")}}function B(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",50),n.NdJ("click",function(){n.CHM(_),n.oxw();const v=n.MAs(28);return n.KtG(v.click())}),n._uU(1,"Unggah Dokumen Formulir Akumulasi Angka Kredit"),n.qZA()}2&f&&n.Q6J("color","accent")}function C(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",51),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(3);return n.KtG(v.toggleOnFileInputed2(!1,"fileDokumen","file"))}),n._UZ(1,"mat-icon",52),n.qZA()}2&f&&(n.Q6J("matTooltip","Clear"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:x"))}function Q(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",10)(2,"div",11)(3,"form",33)(4,"div",13)(5,"div",34)(6,"button",35),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleInsertAAK(!1))}),n._uU(7," Batal "),n.qZA(),n.TgZ(8,"button",36),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v._insertAAK())}),n._uU(9," Submit Usulan Akumulasi Angka Kredit "),n.qZA()()(),n.TgZ(10,"div",37)(11,"mat-form-field",38)(12,"mat-label"),n._uU(13,"Tahun"),n.qZA(),n.TgZ(14,"mat-select",39),n.YNc(15,O,2,2,"mat-option",40),n.qZA()()(),n.TgZ(16,"div",37)(17,"mat-form-field",38)(18,"mat-label"),n._uU(19,"Nilai Akumulasi Angka Kredit"),n.qZA(),n._UZ(20,"input",41),n.qZA()(),n.TgZ(21,"div",37)(22,"div",38)(23,"mat-label"),n._uU(24,"Dokumen Formulir Akumulasi Angka Kredit "),n.TgZ(25,"i"),n._uU(26,"(PDF, Maksimal ukuran 2 MB)"),n.qZA()(),n.TgZ(27,"input",42,53),n.NdJ("click",function(){n.CHM(_);const v=n.MAs(28);return n.KtG(v.value=null)})("change",function(v){n.CHM(_);const H=n.oxw(2);return n.KtG(H.onFileInput2(v,"fileDokumen","file"))}),n.qZA(),n.TgZ(29,"div",44)(30,"div",45),n.YNc(31,B,2,1,"button",46),n.YNc(32,C,2,2,"button",47),n._UZ(33,"span",48),n.qZA()()()()()()(),n.BQk()}if(2&f){const _=n.oxw(2);n.xp6(3),n.Q6J("formGroup",_.formAAK),n.xp6(3),n.Q6J("matTooltip","Batalkan Penambahan Data Baru"),n.xp6(2),n.Q6J("color","primary")("disabled",_.formAAK.invalid)("matTooltip","Submit Usulan Penambahan Data AAK"),n.xp6(6),n.Q6J("formControlName","tahun"),n.xp6(1),n.Q6J("ngForOf",_.tahun),n.xp6(5),n.Q6J("formControlName","nilaiAkAkumulasi"),n.xp6(11),n.Q6J("ngIf",!_.onFileInputed2),n.xp6(1),n.Q6J("ngIf",_.onFileInputed2),n.xp6(1),n.Q6J("id","fileDokumen")}}function d(f,D){if(1&f&&(n.TgZ(0,"mat-option",49),n._uU(1),n.qZA()),2&f){const _=D.$implicit;n.Q6J("value",_),n.xp6(1),n.hij("",_," ")}}function h(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",50),n.NdJ("click",function(){n.CHM(_),n.oxw();const v=n.MAs(28);return n.KtG(v.click())}),n._uU(1,"Unggah Formulir Penetapan Angka Kredit"),n.qZA()}2&f&&n.Q6J("color","accent")}function m(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",51),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(3);return n.KtG(v.toggleOnFileInputed3(!1,"fileDokumen","file"))}),n._UZ(1,"mat-icon",52),n.qZA()}2&f&&(n.Q6J("matTooltip","Clear"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:x"))}function o(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",10)(2,"div",11)(3,"form",33)(4,"div",13)(5,"div",34)(6,"button",35),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleInsertPAK(!1))}),n._uU(7," Batal "),n.qZA(),n.TgZ(8,"button",36),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v._insertPAK())}),n._uU(9," Submit Usulan Penenetapan Angka Kredit "),n.qZA()()(),n.TgZ(10,"div",37)(11,"mat-form-field",38)(12,"mat-label"),n._uU(13,"Tahun"),n.qZA(),n.TgZ(14,"mat-select",39),n.YNc(15,d,2,2,"mat-option",40),n.qZA()()(),n.TgZ(16,"div",37)(17,"mat-form-field",38)(18,"mat-label"),n._uU(19,"Nilai Penetapan Angka Kredit"),n.qZA(),n._UZ(20,"input",41),n.qZA()(),n.TgZ(21,"div",37)(22,"div",38)(23,"mat-label"),n._uU(24,"Formulir Penetapan Angka Kredit "),n.TgZ(25,"i"),n._uU(26,"(PDF, Maksimal ukuran 2 MB)"),n.qZA()(),n.TgZ(27,"input",42,53),n.NdJ("click",function(){n.CHM(_);const v=n.MAs(28);return n.KtG(v.value=null)})("change",function(v){n.CHM(_);const H=n.oxw(2);return n.KtG(H.onFileInput3(v,"fileDokumen","file"))}),n.qZA(),n.TgZ(29,"div",44)(30,"div",45),n.YNc(31,h,2,1,"button",46),n.YNc(32,m,2,2,"button",47),n._UZ(33,"span",48),n.qZA()()()()()()(),n.BQk()}if(2&f){const _=n.oxw(2);n.xp6(3),n.Q6J("formGroup",_.formPAK),n.xp6(3),n.Q6J("matTooltip","Batalkan Penambahan Data Baru"),n.xp6(2),n.Q6J("color","primary")("disabled",_.formPAK.invalid)("matTooltip","Submit Usulan Penambahan Data PAK"),n.xp6(6),n.Q6J("formControlName","tahun"),n.xp6(1),n.Q6J("ngForOf",_.tahun),n.xp6(5),n.Q6J("formControlName","nilaiAkPenetapan"),n.xp6(11),n.Q6J("ngIf",!_.onFileInputed3),n.xp6(1),n.Q6J("ngIf",_.onFileInputed3),n.xp6(1),n.Q6J("id","fileDokumen")}}function r(f,D){if(1&f&&(n.TgZ(0,"div",9)(1,"div",10)(2,"div",11),n.YNc(3,tt,17,6,"ng-container",12),n.YNc(4,ct,3,3,"ng-container",12),n.YNc(5,dt,3,3,"ng-container",12),n.YNc(6,U,34,11,"ng-container",12),n.YNc(7,Q,34,11,"ng-container",12),n.YNc(8,o,34,11,"ng-container",12),n.qZA()()()),2&f){const _=n.oxw();n.xp6(3),n.Q6J("ngIf",!_.insertAHK&&!_.insertAAK&&!_.insertPAK),n.xp6(1),n.Q6J("ngIf",!_.insertAHK&&!_.insertAAK&&!_.insertPAK),n.xp6(1),n.Q6J("ngIf",!_.insertAHK&&!_.insertAAK&&!_.insertPAK),n.xp6(1),n.Q6J("ngIf",_.insertAHK),n.xp6(1),n.Q6J("ngIf",_.insertAAK),n.xp6(1),n.Q6J("ngIf",_.insertPAK)}}function a(f,D){if(1&f&&n._UZ(0,"app-usulan",54),2&f){const _=n.oxw();n.Q6J("items",_.rwUsuls)}}function p(f,D){if(1&f&&n._UZ(0,"app-usulan",54),2&f){const _=n.oxw();n.Q6J("items",_.rwUsulAAK)}}function s(f,D){if(1&f&&n._UZ(0,"app-usulan",54),2&f){const _=n.oxw();n.Q6J("items",_.rwUsulPAK)}}function A(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",63),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(4);return n.KtG(v.togglePrint(v.selected.dokumenId))}),n._UZ(1,"mat-icon",16),n.TgZ(2,"span"),n._uU(3,"Unduh"),n.qZA()()}2&f&&(n.xp6(1),n.Q6J("svgIcon","heroicons_solid:paper-clip"))}function E(f,D){1&f&&(n.TgZ(0,"div"),n._uU(1,"-"),n.qZA())}function b(f,D){if(1&f&&(n.ynx(0),n.TgZ(1,"div",59)(2,"div",60)(3,"div",61),n._uU(4,"Tahun"),n.qZA(),n.TgZ(5,"div"),n._uU(6),n.qZA()(),n.TgZ(7,"div",60)(8,"div",61),n._uU(9,"Nilai AK Konversi"),n.qZA(),n.TgZ(10,"div"),n._uU(11),n.qZA()(),n.TgZ(12,"div",60)(13,"div",61),n._uU(14,"Dokumen AK Yang Sudah Ditandatanggani Pemimpin"),n.qZA(),n.YNc(15,A,4,1,"button",62),n.YNc(16,E,2,0,"div",12),n.qZA()(),n.BQk()),2&f){const _=n.oxw(3);let T;n.xp6(6),n.Oqu(_.selected.tahun),n.xp6(5),n.Oqu(null!==(T=_.selected.nilaiAkKonversi)&&void 0!==T?T:"-"),n.xp6(4),n.Q6J("ngIf",_.selected.dokumenId),n.xp6(1),n.Q6J("ngIf",!_.selected.dokumenId)}}function J(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",57)(2,"div",11)(3,"div",13)(4,"div",14)(5,"button",58),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.delete())}),n._uU(6," Hapus "),n.qZA(),n.TgZ(7,"button",15),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleEditAHK(!0))}),n._UZ(8,"mat-icon",16),n.TgZ(9,"span",17),n._uU(10,"Ubah"),n.qZA()()()(),n.YNc(11,b,17,4,"ng-container",12),n.qZA()(),n.BQk()}if(2&f){const _=n.oxw(2);n.xp6(5),n.Q6J("color","warn")("matTooltip","Hapus Data"),n.xp6(3),n.Q6J("svgIcon","heroicons_solid:pencil-alt"),n.xp6(3),n.Q6J("ngIf",_.selected)}}function u(f,D){if(1&f&&(n.TgZ(0,"mat-option",49),n._uU(1),n.qZA()),2&f){const _=D.$implicit;n.Q6J("value",_),n.xp6(1),n.hij("",_," ")}}function Z(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",50),n.NdJ("click",function(){n.CHM(_),n.oxw();const v=n.MAs(19);return n.KtG(v.click())}),n._uU(1,"Unggah Dokumen"),n.qZA()}2&f&&n.Q6J("color","accent")}function g(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",51),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(4);return n.KtG(v.toggleOnFileInputed(!1,"fileDokumen","file"))}),n._UZ(1,"mat-icon",52),n.qZA()}2&f&&(n.Q6J("matTooltip","Clear"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:x"))}function I(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",37)(2,"mat-form-field",38)(3,"mat-label"),n._uU(4,"Tahun"),n.qZA(),n.TgZ(5,"mat-select",39),n.YNc(6,u,2,2,"mat-option",40),n.qZA()()(),n.TgZ(7,"div",37)(8,"mat-form-field",38)(9,"mat-label"),n._uU(10,"Nilai Konversi AK"),n.qZA(),n._UZ(11,"input",41),n.qZA()(),n.TgZ(12,"div",37)(13,"div",38)(14,"mat-label"),n._uU(15,"Dokumen "),n.TgZ(16,"i"),n._uU(17,"(PDF, Maksimal ukuran 2 MB)"),n.qZA()(),n.TgZ(18,"input",42,43),n.NdJ("click",function(){n.CHM(_);const v=n.MAs(19);return n.KtG(v.value=null)})("change",function(v){n.CHM(_);const H=n.oxw(3);return n.KtG(H.onFileInput(v,"fileDokumen","file"))}),n.qZA(),n.TgZ(20,"div",44)(21,"div",45),n.YNc(22,Z,2,1,"button",46),n.YNc(23,g,2,2,"button",47),n._UZ(24,"span",48),n.qZA()()()(),n.BQk()}if(2&f){const _=n.oxw(3);n.xp6(5),n.Q6J("formControlName","tahun"),n.xp6(1),n.Q6J("ngForOf",_.tahun),n.xp6(5),n.Q6J("formControlName","nilaiAkKonversi"),n.xp6(11),n.Q6J("ngIf",!_.onFileInputed),n.xp6(1),n.Q6J("ngIf",_.onFileInputed),n.xp6(1),n.Q6J("id","fileDokumen")}}function K(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",10)(2,"div",11)(3,"form",33)(4,"div",13)(5,"div",34)(6,"button",35),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleEditAHK(!1))}),n._uU(7," Batal "),n.qZA(),n.TgZ(8,"button",36),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.updateAHK())}),n._uU(9," Submit Usulan "),n.qZA()()(),n.YNc(10,I,25,6,"ng-container",12),n.qZA()()(),n.BQk()}if(2&f){const _=n.oxw(2);n.xp6(3),n.Q6J("formGroup",_.formAHK),n.xp6(3),n.Q6J("matTooltip","Batalkan Perubahan Data"),n.xp6(2),n.Q6J("color","primary")("disabled",_.formAHK.invalid)("matTooltip","Submit Usulan Perubahan Data"),n.xp6(2),n.Q6J("ngIf",_.selected)}}function ht(f,D){if(1&f&&(n.TgZ(0,"div",21)(1,"div",55)(2,"div",56)(3,"div",9),n.YNc(4,J,12,4,"ng-container",12),n.YNc(5,K,11,6,"ng-container",12),n.qZA()()()()),2&f){const _=n.oxw();n.xp6(4),n.Q6J("ngIf",!_.editAHK),n.xp6(1),n.Q6J("ngIf",_.editAHK)}}function Tt(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",63),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(4);return n.KtG(v.togglePrint(v.selected.dokumenId))}),n._UZ(1,"mat-icon",16),n.TgZ(2,"span"),n._uU(3,"Unduh"),n.qZA()()}2&f&&(n.xp6(1),n.Q6J("svgIcon","heroicons_solid:paper-clip"))}function At(f,D){1&f&&(n.TgZ(0,"div"),n._uU(1,"-"),n.qZA())}function vt(f,D){if(1&f&&(n.ynx(0),n.TgZ(1,"div",59)(2,"div",60)(3,"div",61),n._uU(4,"Tahun"),n.qZA(),n.TgZ(5,"div"),n._uU(6),n.qZA()(),n.TgZ(7,"div",60)(8,"div",61),n._uU(9,"Nilai AK Akumulasi"),n.qZA(),n.TgZ(10,"div"),n._uU(11),n.qZA()(),n.TgZ(12,"div",60)(13,"div",61),n._uU(14,"Dokumen AK Yang Sudah Ditandatanggani Pemimpin "),n.qZA(),n.YNc(15,Tt,4,1,"button",62),n.YNc(16,At,2,0,"div",12),n.qZA()(),n.BQk()),2&f){const _=n.oxw(3);let T;n.xp6(6),n.Oqu(_.selected.tahun),n.xp6(5),n.Oqu(null!==(T=_.selected.nilaiAkAkumulasi)&&void 0!==T?T:"-"),n.xp6(4),n.Q6J("ngIf",_.selected.dokumenId),n.xp6(1),n.Q6J("ngIf",!_.selected.dokumenId)}}function kt(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",57)(2,"div",11)(3,"div",13)(4,"div",14)(5,"button",58),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.deleteAAK())}),n._uU(6," Hapus "),n.qZA(),n.TgZ(7,"button",15),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleEditAAK(!0))}),n._UZ(8,"mat-icon",16),n.TgZ(9,"span",17),n._uU(10,"Ubah"),n.qZA()()()(),n.YNc(11,vt,17,4,"ng-container",12),n.qZA()(),n.BQk()}if(2&f){const _=n.oxw(2);n.xp6(5),n.Q6J("color","warn")("matTooltip","Hapus Data"),n.xp6(3),n.Q6J("svgIcon","heroicons_solid:pencil-alt"),n.xp6(3),n.Q6J("ngIf",_.selected)}}function bt(f,D){if(1&f&&(n.TgZ(0,"mat-option",49),n._uU(1),n.qZA()),2&f){const _=D.$implicit;n.Q6J("value",_),n.xp6(1),n.hij("",_," ")}}function Ut(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",50),n.NdJ("click",function(){n.CHM(_),n.oxw();const v=n.MAs(19);return n.KtG(v.click())}),n._uU(1,"Unggah Dokumen"),n.qZA()}2&f&&n.Q6J("color","accent")}function It(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",51),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(4);return n.KtG(v.toggleOnFileInputed2(!1,"fileDokumen","file"))}),n._UZ(1,"mat-icon",52),n.qZA()}2&f&&(n.Q6J("matTooltip","Clear"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:x"))}function Ct(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",37)(2,"mat-form-field",38)(3,"mat-label"),n._uU(4,"Tahun"),n.qZA(),n.TgZ(5,"mat-select",39),n.YNc(6,bt,2,2,"mat-option",40),n.qZA()()(),n.TgZ(7,"div",37)(8,"mat-form-field",38)(9,"mat-label"),n._uU(10,"Nilai Akumulasi AK"),n.qZA(),n._UZ(11,"input",41),n.qZA()(),n.TgZ(12,"div",37)(13,"div",38)(14,"mat-label"),n._uU(15,"Dokumen formulir Akumulasi Angka Kredit "),n.TgZ(16,"i"),n._uU(17,"(PDF, Maksimal ukuran 2 MB)"),n.qZA()(),n.TgZ(18,"input",42,43),n.NdJ("click",function(){n.CHM(_);const v=n.MAs(19);return n.KtG(v.value=null)})("change",function(v){n.CHM(_);const H=n.oxw(3);return n.KtG(H.onFileInput2(v,"fileDokumen","file"))}),n.qZA(),n.TgZ(20,"div",44)(21,"div",45),n.YNc(22,Ut,2,1,"button",46),n.YNc(23,It,2,2,"button",47),n._UZ(24,"span",48),n.qZA()()()(),n.BQk()}if(2&f){const _=n.oxw(3);n.xp6(5),n.Q6J("formControlName","tahun"),n.xp6(1),n.Q6J("ngForOf",_.tahun),n.xp6(5),n.Q6J("formControlName","nilaiAkAkumulasi"),n.xp6(11),n.Q6J("ngIf",!_.onFileInputed2),n.xp6(1),n.Q6J("ngIf",_.onFileInputed2),n.xp6(1),n.Q6J("id","fileDokumen")}}function Et(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",10)(2,"div",11)(3,"form",33)(4,"div",13)(5,"div",34)(6,"button",35),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleEditAAK(!1))}),n._uU(7," Batal "),n.qZA(),n.TgZ(8,"button",36),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.updateAAK())}),n._uU(9," Submit Usulan "),n.qZA()()(),n.YNc(10,Ct,25,6,"ng-container",12),n.qZA()()(),n.BQk()}if(2&f){const _=n.oxw(2);n.xp6(3),n.Q6J("formGroup",_.formAAK),n.xp6(3),n.Q6J("matTooltip","Batalkan Perubahan Data"),n.xp6(2),n.Q6J("color","primary")("disabled",_.formAAK.invalid)("matTooltip","Submit Usulan Perubahan Data"),n.xp6(2),n.Q6J("ngIf",_.selected)}}function Mt(f,D){if(1&f&&(n.TgZ(0,"div",21)(1,"div",55)(2,"div",56)(3,"div",9),n.YNc(4,kt,12,4,"ng-container",12),n.YNc(5,Et,11,6,"ng-container",12),n.qZA()()()()),2&f){const _=n.oxw();n.xp6(4),n.Q6J("ngIf",!_.editAAK),n.xp6(1),n.Q6J("ngIf",_.editAAK)}}function Dt(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",63),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(4);return n.KtG(v.togglePrint(v.selected.dokumenId))}),n._UZ(1,"mat-icon",16),n.TgZ(2,"span"),n._uU(3,"Unduh"),n.qZA()()}2&f&&(n.xp6(1),n.Q6J("svgIcon","heroicons_solid:paper-clip"))}function Kt(f,D){1&f&&(n.TgZ(0,"div"),n._uU(1,"-"),n.qZA())}function Pt(f,D){if(1&f&&(n.ynx(0),n.TgZ(1,"div",59)(2,"div",60)(3,"div",61),n._uU(4,"Tahun"),n.qZA(),n.TgZ(5,"div"),n._uU(6),n.qZA()(),n.TgZ(7,"div",60)(8,"div",61),n._uU(9,"Nilai Penetapan AK "),n.qZA(),n.TgZ(10,"div"),n._uU(11),n.qZA()(),n.TgZ(12,"div",60)(13,"div",61),n._uU(14,"Dokumen AK Yang Sudah Ditandatanggani Pemimpin "),n.qZA(),n.YNc(15,Dt,4,1,"button",62),n.YNc(16,Kt,2,0,"div",12),n.qZA()(),n.BQk()),2&f){const _=n.oxw(3);let T;n.xp6(6),n.Oqu(_.selected.tahun),n.xp6(5),n.Oqu(null!==(T=_.selected.nilaiAkPenetapan)&&void 0!==T?T:"-"),n.xp6(4),n.Q6J("ngIf",_.selected.dokumenId),n.xp6(1),n.Q6J("ngIf",!_.selected.dokumenId)}}function Jt(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",57)(2,"div",11)(3,"div",13)(4,"div",14)(5,"button",58),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.deletePAK())}),n._uU(6," Hapus "),n.qZA(),n.TgZ(7,"button",15),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleEditPAK(!0))}),n._UZ(8,"mat-icon",16),n.TgZ(9,"span",17),n._uU(10,"Ubah"),n.qZA()()()(),n.YNc(11,Pt,17,4,"ng-container",12),n.qZA()(),n.BQk()}if(2&f){const _=n.oxw(2);n.xp6(5),n.Q6J("color","warn")("matTooltip","Hapus Data"),n.xp6(3),n.Q6J("svgIcon","heroicons_solid:pencil-alt"),n.xp6(3),n.Q6J("ngIf",_.selected)}}function Ot(f,D){if(1&f&&(n.TgZ(0,"mat-option",49),n._uU(1),n.qZA()),2&f){const _=D.$implicit;n.Q6J("value",_),n.xp6(1),n.hij("",_," ")}}function Bt(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",50),n.NdJ("click",function(){n.CHM(_),n.oxw();const v=n.MAs(19);return n.KtG(v.click())}),n._uU(1,"Unggah Dokumen"),n.qZA()}2&f&&n.Q6J("color","accent")}function Rt(f,D){if(1&f){const _=n.EpF();n.TgZ(0,"button",51),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(4);return n.KtG(v.toggleOnFileInputed(!1,"fileDokumen","file"))}),n._UZ(1,"mat-icon",52),n.qZA()}2&f&&(n.Q6J("matTooltip","Clear"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:x"))}function Qt(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",37)(2,"mat-form-field",38)(3,"mat-label"),n._uU(4,"Tahun"),n.qZA(),n.TgZ(5,"mat-select",39),n.YNc(6,Ot,2,2,"mat-option",40),n.qZA()()(),n.TgZ(7,"div",37)(8,"mat-form-field",38)(9,"mat-label"),n._uU(10,"Nilai Penetapan AK"),n.qZA(),n._UZ(11,"input",41),n.qZA()(),n.TgZ(12,"div",37)(13,"div",38)(14,"mat-label"),n._uU(15,"Dokumen PAK "),n.TgZ(16,"i"),n._uU(17,"(PDF, Maksimal ukuran 2 MB)"),n.qZA()(),n.TgZ(18,"input",42,43),n.NdJ("click",function(){n.CHM(_);const v=n.MAs(19);return n.KtG(v.value=null)})("change",function(v){n.CHM(_);const H=n.oxw(3);return n.KtG(H.onFileInput(v,"fileDokumen","file"))}),n.qZA(),n.TgZ(20,"div",44)(21,"div",45),n.YNc(22,Bt,2,1,"button",46),n.YNc(23,Rt,2,2,"button",47),n._UZ(24,"span",48),n.qZA()()()(),n.BQk()}if(2&f){const _=n.oxw(3);n.xp6(5),n.Q6J("formControlName","tahun"),n.xp6(1),n.Q6J("ngForOf",_.tahun),n.xp6(5),n.Q6J("formControlName","nilaiAkPenetapan"),n.xp6(11),n.Q6J("ngIf",!_.onFileInputed),n.xp6(1),n.Q6J("ngIf",_.onFileInputed),n.xp6(1),n.Q6J("id","fileDokumen")}}function Nt(f,D){if(1&f){const _=n.EpF();n.ynx(0),n.TgZ(1,"div",10)(2,"div",11)(3,"form",33)(4,"div",13)(5,"div",34)(6,"button",35),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.toggleEditPAK(!1))}),n._uU(7," Batal "),n.qZA(),n.TgZ(8,"button",36),n.NdJ("click",function(){n.CHM(_);const v=n.oxw(2);return n.KtG(v.update())}),n._uU(9," Submit Usulan "),n.qZA()()(),n.YNc(10,Qt,25,6,"ng-container",12),n.qZA()()(),n.BQk()}if(2&f){const _=n.oxw(2);n.xp6(3),n.Q6J("formGroup",_.formPAK),n.xp6(3),n.Q6J("matTooltip","Batalkan Perubahan Data"),n.xp6(2),n.Q6J("color","primary")("disabled",_.formPAK.invalid)("matTooltip","Submit Usulan Perubahan Data"),n.xp6(2),n.Q6J("ngIf",_.selected)}}function qt(f,D){if(1&f&&(n.TgZ(0,"div",21)(1,"div",55)(2,"div",56)(3,"div",9),n.YNc(4,Jt,12,4,"ng-container",12),n.YNc(5,Nt,11,6,"ng-container",12),n.qZA()()()()),2&f){const _=n.oxw();n.xp6(4),n.Q6J("ngIf",!_.editPAK),n.xp6(1),n.Q6J("ngIf",_.editPAK)}}let jt=(()=>{class f{constructor(_,T,v,H,Zt,Ft,yt,St){this._penerjemahService=_,this._referensiService=T,this._helperService=v,this._changeDetectorRef=H,this._formBuilder=Zt,this._toastr=Ft,this._authService=yt,this._userService=St,this.rwAngkaKreditKonversi=[],this.rwAngkaKreditAkumulasi=[],this.rwAngkaKreditPenetapan=[],this.rwUsuls=[],this.rwUsulAAK=[],this.rwUsulPAK=[],this.selected=null,this.editAHK=!1,this.editAAK=!1,this.editPAK=!1,this.insertAHK=!1,this.insertAAK=!1,this.insertPAK=!1,this.onFileInputed=!1,this.onFileInputed2=!1,this.onFileInputed3=!1,this.jenisGolongan$=this._referensiService.golongan(),this.jenisJabatan$=this._referensiService.jabatan(),this.rwGolongan=[],this.rwJabatan=[],this.tahun=this._referensiService.tahun(),this._unsubscribeAll=new k.x}ngOnInit(){this.formAHK=this._formBuilder.group({nilaiAkKonversi:[null,x.kI.required],tahun:[null,x.kI.required],file:[null,x.kI.required]}),this.formAAK=this._formBuilder.group({nilaiAkAkumulasi:[null,x.kI.required],tahun:[null,x.kI.required],file:[null,x.kI.required]}),this.formPAK=this._formBuilder.group({nilaiAkPenetapan:[null,x.kI.required],tahun:[null,x.kI.required],file:[null,x.kI.required]}),this.loadData()}loadData(){"ROLE_ADMIN"===this._authService.role?this._penerjemahService.jfpItem$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(_=>{this.pnsId=_.id,this._changeDetectorRef.markForCheck()}):this._userService.user$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(_=>{this.pnsId=_.pnsId,this._changeDetectorRef.markForCheck()}),this._penerjemahService.getRwAngkaKreditKonversi(this.pnsId).subscribe(),this._penerjemahService.rwAngkaKreditKonversi$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(_=>{_&&(this.rwAngkaKreditKonversi=_,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getRwAngkaKreditAkumulasi(this.pnsId).subscribe(),this._penerjemahService.rwAngkaKreditAkumulasi$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(_=>{_&&(console.log(_),this.rwAngkaKreditAkumulasi=_,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getRwAngkaKreditPenetapan(this.pnsId).subscribe(),this._penerjemahService.rwAngkaKreditPenetapan$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(_=>{_&&(this.rwAngkaKreditPenetapan=_,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"RW_ANGKA_KREDIT_KONVERSI",size:100}).pipe((0,R.R)(this._unsubscribeAll)).subscribe(_=>{_&&(this.rwUsuls=_,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"RW_ANGKA_KREDIT_AKUMULASI",size:100}).pipe((0,R.R)(this._unsubscribeAll)).subscribe(_=>{_&&(this.rwUsulAAK=_,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"RW_ANGKA_KREDIT_PENETAPAN",size:100}).pipe((0,R.R)(this._unsubscribeAll)).subscribe(_=>{_&&(this.rwUsulPAK=_,this._changeDetectorRef.markForCheck())})}togglePrint(_){this._penerjemahService.getDokumen(_).subscribe({next:T=>{const v=URL.createObjectURL(T);window.open(v,"_blank")},error:()=>{this._toastr.error("ERROR: Dokumen gagal ditampilkan","ERROR")}})}_insertAHK(){const _=this.formAHK.getRawValue(),T=new FormData;T.append("pnsId",this.pnsId),_.tahun&&T.append("tahun",_.tahun),_.nilaiAkKonversi&&T.append("nilaiAkKonversi",_.nilaiAkKonversi),_.file&&T.append("file",_.file),this._penerjemahService.saveRwAngkaKreditKonversi(T).subscribe(v=>{v?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.formAHK.reset(),this.loadData(),this.toggleInsertAHK(!1),this.toggleEditAHK(!1)):this._toastr.error(v?.message,"ERROR")})}_insertAAK(){const _=this.formAAK.getRawValue(),T=new FormData;T.append("pnsId",this.pnsId),_.tahun&&T.append("tahun",_.tahun),_.nilaiAkAkumulasi&&T.append("nilaiAkAkumulasi",_.nilaiAkAkumulasi),_.file&&T.append("file",_.file),this._penerjemahService.saveRwAngkaKreditAkumulasi(T).subscribe(v=>{v?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.formAAK.reset(),this.loadData(),this.toggleInsertAAK(!1),this.toggleEditAAK(!1)):this._toastr.error(v?.message,"ERROR")})}_insertPAK(){const _=this.formPAK.getRawValue(),T=new FormData;T.append("pnsId",this.pnsId),_.tahun&&T.append("tahun",_.tahun),_.nilaiAkPenetapan&&T.append("nilaiAkPenetapan",_.nilaiAkPenetapan),_.file&&T.append("file",_.file),this._penerjemahService.saveRwAngkaKreditPenetapan(T).subscribe(v=>{v?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.formPAK.reset(),this.loadData(),this.toggleInsertPAK(!1),this.toggleEditPAK(!1)):this._toastr.error(v?.message,"ERROR")})}delete(){this._penerjemahService.deleteRwAngkaKreditKonversi(this.selected.id).subscribe(_=>{_?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertAHK(!1),this.toggleEditAHK(!1)):this._toastr.error(_?.message,"ERROR")})}deleteAAK(){this._penerjemahService.deleteRwAngkaKreditAkumulasi(this.selected.id).subscribe(_=>{_?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertAAK(!1),this.toggleEditAAK(!1)):this._toastr.error(_?.message,"ERROR")})}deletePAK(){this._penerjemahService.deleteRwAngkaKreditPenetapan(this.selected.id).subscribe(_=>{_?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertPAK(!1),this.toggleEditPAK(!1)):this._toastr.error(_?.message,"ERROR")})}updateAHK(){const _=this.formAHK.getRawValue(),T=new FormData;T.append("pnsId",this.pnsId),T.append("id",this.selected.id),_.tahun&&T.append("tahun",_.tahun),_.nilaiAkKonversi&&T.append("nilaiAkKonversi",_.nilaiAkKonversi),_.file&&T.append("file",_.file),this._penerjemahService.saveRwAngkaKreditKonversi(T).subscribe(v=>{v?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.formAHK.reset(),this.loadData(),this.toggleInsertAHK(!1),this.toggleEditAHK(!1)):this._toastr.error(v?.message,"ERROR")})}updateAAK(){const _=this.formAAK.getRawValue(),T=new FormData;T.append("pnsId",this.pnsId),T.append("id",this.selected.id),_.tahun&&T.append("tahun",_.tahun),_.nilaiAkAkumulasi&&T.append("nilaiAkAkumulasi",_.nilaiAkAkumulasi),_.file&&T.append("file",_.file),this._penerjemahService.saveRwAngkaKreditAkumulasi(T).subscribe(v=>{v?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.formAAK.reset(),this.loadData(),this.toggleInsertAAK(!1),this.toggleEditAAK(!1)):this._toastr.error(v?.message,"ERROR")})}updatePAK(){const _=this.formPAK.getRawValue(),T=new FormData;T.append("pnsId",this.pnsId),T.append("id",this.selected.id),_.tahun&&T.append("tahun",_.tahun),_.nilaiAkPenetapan&&T.append("nilaiAkPenetapan",_.nilaiAkPenetapan),_.file&&T.append("file",_.file),this._penerjemahService.saveRwAngkaKreditPenetapan(T).subscribe(v=>{v?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.formPAK.reset(),this.loadData(),this.toggleInsertPAK(!1),this.toggleEditPAK(!1)):this._toastr.error(v?.message,"ERROR")})}displayFn(_){if(_)return _.nama}trackByFn(_,T){return T.id||_}onFileInput(_,T,v){const H=this._referensiService.onFileInputSingle(_,"application/pdf",2e3);return H.isSuccess?(this.onFileInputed=!0,document.getElementById(T).innerText=H.fileInfo.name,console.log(v),this.formAHK.get(v).setValue(_.target.files[0]),!0):(this._toastr.error(H.msg,"ERROR"),!1)}toggleOnFileInputed(_=null,T,v){null===_?this.onFileInputed=!this.onFileInputed:(_||(this.formAHK.get(v).setValue(null),document.getElementById(T).innerText=null),this.onFileInputed=_),this._changeDetectorRef.markForCheck()}onFileInput2(_,T,v){const H=this._referensiService.onFileInputSingle(_,"application/pdf",2e3);return H.isSuccess?(this.onFileInputed2=!0,document.getElementById(T).innerText=H.fileInfo.name,console.log(v),this.formAAK.get(v).setValue(_.target.files[0]),!0):(this._toastr.error(H.msg,"ERROR"),!1)}toggleOnFileInputed2(_=null,T,v){null===_?this.onFileInputed2=!this.onFileInputed2:(_||(this.formAAK.get(v).setValue(null),document.getElementById(T).innerText=null),this.onFileInputed2=_),this._changeDetectorRef.markForCheck()}onFileInput3(_,T,v){const H=this._referensiService.onFileInputSingle(_,"application/pdf",2e3);return H.isSuccess?(this.onFileInputed3=!0,document.getElementById(T).innerText=H.fileInfo.name,console.log(v),this.formPAK.get(v).setValue(_.target.files[0]),!0):(this._toastr.error(H.msg,"ERROR"),!1)}toggleOnFileInputed3(_=null,T,v){null===_?this.onFileInputed3=!this.onFileInputed3:(_||(this.formPAK.get(v).setValue(null),document.getElementById(T).innerText=null),this.onFileInputed3=_),this._changeDetectorRef.markForCheck()}toggleInsertAHK(_=null){this.insertAHK=null===_?!this.insertAHK:_,this._changeDetectorRef.markForCheck()}toggleInsertPAK(_=null){this.insertPAK=null===_?!this.insertPAK:_,this._changeDetectorRef.markForCheck()}toggleInsertAAK(_=null){this.insertAAK=null===_?!this.insertAAK:_,this._changeDetectorRef.markForCheck()}toggleEditAHK(_=null){this.editAHK=null===_?!this.editAHK:_,this._changeDetectorRef.markForCheck()}toggleEditPAK(_=null){this.editPAK=null===_?!this.editPAK:_,this._changeDetectorRef.markForCheck()}toggleEditAAK(_=null){this.editAAK=null===_?!this.editAAK:_,this._changeDetectorRef.markForCheck()}toggleDetailsAAK(_){this.selected&&this.selected.id===_?this.closeDetailsAAK():this._penerjemahService.getRwAngkaKreditAkumulasiById(_).subscribe(T=>{this.selected=T,this.formAAK.patchValue(T),this._changeDetectorRef.markForCheck()})}closeDetailsAAK(){this.selected=null}toggleDetailsPAK(_){this.selected&&this.selected.id===_?this.closeDetailsPAK():this._penerjemahService.getRwAngkaKreditPenetapanById(_).subscribe(T=>{this.selected=T,this.formPAK.patchValue(T),this._changeDetectorRef.markForCheck()})}closeDetailsPAK(){this.selected=null}toggleDetailsAHK(_){this.selected&&this.selected.id===_?this.closeDetailsAHK():this._penerjemahService.getRwAngkaKreditKonversiById(_).subscribe(T=>{this.selected=T,this.formAHK.patchValue(T),this._changeDetectorRef.markForCheck()})}closeDetailsAHK(){this.selected=null}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return f.\u0275fac=function(_){return new(_||f)(n.Y36(i.e),n.Y36(j.A2),n.Y36(t.W),n.Y36(n.sBO),n.Y36(x.qu),n.Y36(nt._W),n.Y36(et.e),n.Y36(X.K))},f.\u0275cmp=n.Xpm({type:f,selectors:[["app-angka-kredit"]],features:[n._Bn([{provide:M.sG,useValue:j.lv},{provide:M._A,useClass:S.t7,deps:[M.Ad]}])],decls:15,vars:1,consts:[[1,"ml-0","pl-0","mt-5",3,"animationDuration"],["label","Data Disetujui"],["matTabContent",""],["label","Usulan Angka Kredit Hasil Konversi"],["label","Usulan Angka Kredit Akumulasi"],["label","Usulan Angka Kredit Penetapan"],["rowDetailsTemplateAHK",""],["rowDetailsTemplateAAK",""],["rowDetailsTemplatePAK",""],[1,"flex","flex-col","w-full"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6"],[1,"w-full"],[4,"ngIf"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["mat-stroked-button","",1,"ml-3",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-lg","font-bold","mb-2"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-11","text-md","font-medium"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[3,"matTooltip"],[1,"hidden","sm:block"],[1,"col-span-1","self-center","text-right"],["mat-stroked-button","",1,"min-w-10","min-h-10","h-10","px-2","leading-6",3,"click"],[1,"col-span-12","my-4","border-b"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type"],["fuseAlertTitle",""],[3,"formGroup"],[1,"flex","items-center","justify-end","w-full","mx-auto"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"formControlName"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[3,"value"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"],["fileDokumen",""],[3,"items"],[1,"col-span-12","shadow-lg","overflow-hidden","mb-4"],[1,"flex","border-b"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0"],["mat-button","",1,"mr-5",3,"color","matTooltip","click"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],["class","px-3","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"px-3",3,"click"]],template:function(_,T){1&_&&(n.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),n.YNc(2,r,9,6,"ng-template",2),n.qZA(),n.TgZ(3,"mat-tab",3),n.YNc(4,a,1,1,"ng-template",2),n.qZA(),n.TgZ(5,"mat-tab",4),n.YNc(6,p,1,1,"ng-template",2),n.qZA(),n.TgZ(7,"mat-tab",5),n.YNc(8,s,1,1,"ng-template",2),n.qZA()(),n.YNc(9,ht,6,2,"ng-template",null,6,n.W1O),n.YNc(11,Mt,6,2,"ng-template",null,7,n.W1O),n.YNc(13,qt,6,2,"ng-template",null,8,n.W1O)),2&_&&n.Q6J("animationDuration","0")},dependencies:[e.sg,e.O5,e.tP,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,at.lW,c.KE,c.hX,it.Hw,L.Nt,w.gD,M.ey,V.gM,ot.W,F.SP,F.uX,F.Vc,q.Q],encapsulation:2,changeDetection:0}),f})()},6254:(xt,W,l)=>{l.d(W,{Y:()=>ft});var x=l(92),S=l(1379),M=l(2047),j=l(8023),k=l(3528),R=l(3151),n=l(8168),i=l(7969),t=l(4970),nt=l(1528),et=l(5490),X=l(8772),e=l(6738),at=l.n(e),c=l(4537),it=l(47),L=l(5450),w=l(8292),V=l(8951),ot=l(1683),F=l(8692),q=l(9638),y=l(3704),P=l(8659),G=l(3331),$=l(7406),z=l(2940),tt=l(1637),_t=l(4119);function lt(N,Y){if(1&N){const U=c.EpF();c.ynx(0),c.TgZ(1,"button",9),c.NdJ("click",function(){c.CHM(U);const B=c.oxw(2);return c.KtG(B.toggleDeleteMode(B.item.id))}),c._UZ(2,"mat-icon",7),c.TgZ(3,"span",8),c._uU(4,"Hapus"),c.qZA()(),c.BQk()}2&N&&(c.xp6(2),c.Q6J("svgIcon","heroicons_solid:trash"))}function st(N,Y){if(1&N&&(c.ynx(0),c.TgZ(1,"div",10)(2,"div",11),c._UZ(3,"mat-icon",12),c.TgZ(4,"div",13),c._uU(5),c.qZA()()(),c.TgZ(6,"div",14)(7,"div",11),c._UZ(8,"mat-icon",12),c.TgZ(9,"div",13),c._uU(10),c.ALo(11,"titlecase"),c.qZA()()(),c.TgZ(12,"div",14)(13,"div",11),c._UZ(14,"mat-icon",12),c.TgZ(15,"div",13),c._uU(16),c.ALo(17,"findReference"),c.qZA()()(),c.TgZ(18,"div",14)(19,"div",11),c._UZ(20,"mat-icon",12),c.TgZ(21,"div",13),c._uU(22),c.qZA()()(),c.TgZ(23,"div",14)(24,"div",11),c._UZ(25,"mat-icon",12),c.TgZ(26,"div",13),c._uU(27),c.qZA()()(),c.TgZ(28,"div",14)(29,"div",11),c._UZ(30,"mat-icon",12),c.TgZ(31,"div",13),c._uU(32),c.qZA()()(),c.BQk()),2&N){const U=c.oxw(2);let O,B,C,Q,d;c.xp6(3),c.Q6J("svgIcon","heroicons_outline:identification"),c.xp6(2),c.Oqu(null!==(O=U.item.nip)&&void 0!==O?O:"-"),c.xp6(3),c.Q6J("svgIcon","heroicons_outline:cake"),c.xp6(2),c.AsE("",null!==(B=c.lcZ(11,13,U.item.tempatLahir.nama))&&void 0!==B?B:"-",", ",null!==(B=U.item.tglLahir)&&void 0!==B?B:"-",""),c.xp6(4),c.Q6J("svgIcon","heroicons_outline:user"),c.xp6(2),c.Oqu(c.Dn7(17,15,U.item.jenisKelamin,"id",U.genders)),c.xp6(4),c.Q6J("svgIcon","heroicons_outline:phone"),c.xp6(2),c.Oqu(null!==(C=U.item.noHp)&&void 0!==C?C:"-"),c.xp6(3),c.Q6J("svgIcon","heroicons_outline:at-symbol"),c.xp6(2),c.Oqu(null!==(Q=U.item.email)&&void 0!==Q?Q:"-"),c.xp6(3),c.Q6J("svgIcon","heroicons_outline:home"),c.xp6(2),c.Oqu(null!==(d=U.item.alamatDomisiliDeskripsi)&&void 0!==d?d:"-")}}function rt(N,Y){if(1&N){const U=c.EpF();c.ynx(0),c.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),c.YNc(5,lt,5,1,"ng-container",1),c.TgZ(6,"button",6),c.NdJ("click",function(){c.CHM(U);const B=c.oxw();return c.KtG(B.toggleEditMode(!0))}),c._UZ(7,"mat-icon",7),c.TgZ(8,"span",8),c._uU(9,"Ubah"),c.qZA()()()(),c.YNc(10,st,33,19,"ng-container",1),c.qZA()(),c.BQk()}if(2&N){const U=c.oxw();c.xp6(5),c.Q6J("ngIf","ROLE_ADMIN"===U.role),c.xp6(2),c.Q6J("svgIcon","heroicons_solid:pencil-alt"),c.xp6(3),c.Q6J("ngIf",U.item)}}function ct(N,Y){if(1&N){const U=c.EpF();c.TgZ(0,"button",35),c.NdJ("click",function(){c.CHM(U);const B=c.oxw(3);return c.KtG(B.form.get("tempatLahirId").setValue(""))}),c.TgZ(1,"mat-icon"),c._uU(2,"close"),c.qZA()()}}function mt(N,Y){1&N&&(c.TgZ(0,"mat-option",36),c._uU(1," Kab/Kota tidak ditemukan! "),c.qZA())}function ut(N,Y){if(1&N&&(c.TgZ(0,"mat-option",37)(1,"span",38),c._uU(2),c.ALo(3,"titlecase"),c.qZA()()),2&N){const U=Y.$implicit;c.Q6J("value",U),c.xp6(2),c.Oqu(c.lcZ(3,2,U.nama))}}function pt(N,Y){1&N&&(c.TgZ(0,"mat-error"),c._uU(1," Anda harus memilih pilihan Kab/Kota dari hasil pencarian "),c.qZA())}function gt(N,Y){if(1&N){const U=c.EpF();c.ynx(0),c.TgZ(1,"div",19)(2,"mat-form-field",20)(3,"mat-label"),c._uU(4,"Nama Lengkap"),c.qZA(),c._UZ(5,"mat-icon",21)(6,"input",22),c.qZA()(),c.TgZ(7,"div",19)(8,"mat-form-field",20)(9,"mat-label"),c._uU(10,"Tempat Lahir"),c.qZA(),c._UZ(11,"mat-icon",21)(12,"input",23,24),c.YNc(14,ct,3,0,"button",25),c.qZA(),c.TgZ(15,"mat-autocomplete",26,27),c.YNc(17,mt,2,0,"mat-option",28),c.YNc(18,ut,4,4,"mat-option",29),c.qZA(),c.YNc(19,pt,2,0,"mat-error",1),c.qZA(),c.TgZ(20,"div",19)(21,"mat-form-field",20)(22,"mat-label"),c._uU(23,"Tanggal Lahir"),c.qZA(),c.TgZ(24,"input",30),c.NdJ("click",function(){c.CHM(U);const B=c.MAs(27);return c.KtG(B.open())})("keydown.keydown",function(B){return B.preventDefault()}),c.qZA(),c._UZ(25,"mat-datepicker-toggle",31)(26,"mat-datepicker",32,33),c.qZA()(),c.TgZ(28,"div",19)(29,"mat-form-field",20)(30,"mat-label"),c._uU(31,"Nomor Ponsel"),c.qZA(),c._UZ(32,"mat-icon",21)(33,"input",34),c.qZA()(),c.TgZ(34,"div",19)(35,"mat-form-field",20)(36,"mat-label"),c._uU(37,"Email"),c.qZA(),c._UZ(38,"mat-icon",21)(39,"input",34),c.qZA()(),c.TgZ(40,"div",19)(41,"mat-form-field",20)(42,"mat-label"),c._uU(43,"Alamat"),c.qZA(),c._UZ(44,"mat-icon",21)(45,"input",34),c.qZA()(),c.BQk()}if(2&N){const U=c.MAs(16),O=c.MAs(27),B=c.oxw(2);c.xp6(5),c.Q6J("svgIcon","heroicons_solid:identification"),c.xp6(1),c.Q6J("formControlName","nama")("spellcheck",!1),c.xp6(5),c.Q6J("svgIcon","heroicons_solid:location-marker"),c.xp6(1),c.Q6J("formControlName","tempatLahirId")("matAutocomplete",U)("placeholder","Cari nama Kab/Kota..."),c.xp6(2),c.Q6J("ngIf",B.form.get("tempatLahirId").value),c.xp6(1),c.Q6J("displayWith",B.displayFn)("disableRipple",!0),c.xp6(2),c.Q6J("ngIf",B.resultTempatLahir&&!B.resultTempatLahir.length),c.xp6(1),c.Q6J("ngForOf",B.resultTempatLahir)("ngForTrackBy",B.trackByFn),c.xp6(1),c.Q6J("ngIf",B.form.controls.tempatLahirId.hasError("incorrect")),c.xp6(5),c.Q6J("matDatepicker",O)("formControlName","_tglLahir")("max",B._helperService.maxDate()),c.xp6(1),c.Q6J("for",O),c.xp6(1),c.Q6J("startAt",B._helperService.startDate()),c.xp6(6),c.Q6J("svgIcon","heroicons_solid:phone"),c.xp6(1),c.Q6J("formControlName","noHp")("placeholder","0812345678")("spellcheck",!1),c.xp6(5),c.Q6J("svgIcon","heroicons_solid:at-symbol"),c.xp6(1),c.Q6J("formControlName","email")("placeholder","email@domain")("spellcheck",!1),c.xp6(5),c.Q6J("svgIcon","heroicons_solid:home"),c.xp6(1),c.Q6J("formControlName","alamatDomisiliDeskripsi")("placeholder","Alamat")("spellcheck",!1)}}function dt(N,Y){if(1&N){const U=c.EpF();c.ynx(0),c.TgZ(1,"div",2)(2,"div",3)(3,"form",15)(4,"div",4)(5,"div",16)(6,"button",17),c.NdJ("click",function(){c.CHM(U);const B=c.oxw();return c.KtG(B.toggleEditMode(!1))}),c._uU(7," Batal "),c.qZA(),c.TgZ(8,"button",18),c.NdJ("click",function(){c.CHM(U);const B=c.oxw();return c.KtG(B.update())}),c._uU(9," Simpan "),c.qZA()()(),c.YNc(10,gt,46,31,"ng-container",1),c.qZA()()(),c.BQk()}if(2&N){const U=c.oxw();c.xp6(3),c.Q6J("formGroup",U.form),c.xp6(3),c.Q6J("matTooltip","Batalkan Perubahan Data"),c.xp6(2),c.Q6J("color","primary")("disabled",U.form.invalid)("matTooltip","Simpan Perubahan Data"),c.xp6(2),c.Q6J("ngIf",U.item)}}let ft=(()=>{class N{constructor(U,O,B,C,Q,d,h,m){this._penerjemahService=U,this._referensiService=O,this._helperService=B,this._changeDetectorRef=C,this._formBuilder=Q,this._toastr=d,this._authService=h,this._fuseConfirmationService=m,this.isLoading=!1,this.role=this._authService.role,this.editMode=!1,this.genders=this._helperService.jenisKelaminList(),this._unsubscribeAll=new j.x}ngOnInit(){this.form=this._formBuilder.group({nama:[null,x.kI.required],tempatLahirId:[null,[x.kI.required,this._helperService.requireMatch]],_tglLahir:[null,x.kI.required],noHp:[null,[x.kI.required,x.kI.pattern("[0-9]+")]],email:[null,[x.kI.required,x.kI.email]],alamatDomisiliDeskripsi:[null,x.kI.required]}),"ROLE_ADMIN"===this._authService.role?this._penerjemahService.jfpItem$.pipe((0,k.R)(this._unsubscribeAll)).subscribe(U=>{this._penerjemahService.getDataUtama(U.id).subscribe(),this.fetchData()}):this.fetchData(),this.form.get("tempatLahirId").valueChanges.pipe((0,R.b)(300),(0,k.R)(this._unsubscribeAll),(0,n.b)(()=>this.isLoading=!0),(0,i.U)(U=>((!U||U.length<2)&&(this.resultTempatLahir=null),U)),(0,t.h)(U=>U&&U.length>=2),(0,nt.w)(U=>this._referensiService.kabupaten({q:U}).pipe((0,et.x)(()=>this.isLoading=!1)))).subscribe(U=>{this.resultTempatLahir=U,this._changeDetectorRef.markForCheck()})}fetchData(){this._penerjemahService.dataUtama$.pipe((0,k.R)(this._unsubscribeAll)).subscribe(U=>{console.log("Data yang diterima:",U),this.item=U,U?.tempatLahir&&(U.tempatLahirId=U.tempatLahir,U._tglLahir=this._helperService.getDateFromStringID(U.tglLahir),U.satuanorganisasi=U.satuanorganisasi,U.unitkerja=U.unitkerja),this.form.patchValue(U),this._changeDetectorRef.markForCheck()})}update(){const U=this.form.getRawValue(),O=new FormData;U.nama&&O.append("nama",U.nama),U.tempatLahirId&&O.append("tempatLahirId",U.tempatLahirId.id),U._tglLahir&&O.append("tglLahir",at()(U._tglLahir).format("DD-MM-YYYY")),U.noHp&&O.append("noHp",U.noHp),U.alamatDomisiliDeskripsi&&O.append("alamatDomisiliDeskripsi",U.alamatDomisiliDeskripsi),O.append("id",this.item.id),O.append("nip",this.item.nip),O.append("golonganId",this.item.golonganId),O.append("instansiId",this.item.instansiId),O.append("tmtGolongan",this.item.tmtGolongan),O.append("jenisKelamin",this.item.jenisKelamin),O.append("jabatanId",this.item.jabatanId),O.append("unitkerja",this.item.unitkerja),O.append("satuanorganisasi",this.item.satuanorganisasi),O.append("email",U.email),this._penerjemahService.updateDataUtama(O).subscribe(B=>{B?.success?(this._toastr.success("Data berhasil diubah","Update Berhasil"),this.form.reset(),this.toggleEditMode(!1)):this._toastr.error(B?.message,"ERROR")})}toggleEditMode(U=null){this.editMode=null===U?!this.editMode:U,this._changeDetectorRef.markForCheck()}toggleDeleteMode(U){this._fuseConfirmationService.open({title:"Hapus JFP",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:"heroicons_outline:x",color:"warn"},actions:{confirm:{show:!0,label:"Konfirm hapus",color:"warn"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(B=>{"confirmed"===B&&this._penerjemahService.deleteProfil(U).subscribe(C=>{C?.success?(this._toastr.success("PFP telah dihapus"),this.fetchData()):this._toastr.error(C?.message,"ERROR")})})}displayFn(U){if(U)return U.nama}trackByFn(U,O){return O.id||U}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return N.\u0275fac=function(U){return new(U||N)(c.Y36(it.e),c.Y36(L.A2),c.Y36(M.W),c.Y36(c.sBO),c.Y36(x.qu),c.Y36(w._W),c.Y36(V.e),c.Y36(ot.R))},N.\u0275cmp=c.Xpm({type:N,selectors:[["app-data-utama"]],features:[c._Bn([{provide:S.sG,useValue:M.G},{provide:S._A,useClass:X.t7,deps:[S.Ad]}])],decls:3,vars:2,consts:[[1,"flex","flex-col","w-full"],[4,"ngIf"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6"],[1,"w-full"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["mat-stroked-button","",1,"mr-3",3,"click"],[1,"flex","flex-col","pt-4","border-t","space-y-8"],[1,"flex","sm:items-center"],[3,"svgIcon"],[1,"ml-6","leading-6"],[1,"flex","flex-col","mt-4","pt-4","border-t","space-y-8"],[3,"formGroup"],[1,"flex","items-center","justify-end","w-full","mx-auto"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName","spellcheck"],["matInput","",3,"formControlName","matAutocomplete","placeholder"],["barSearchInput",""],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"displayWith","disableRipple"],["matAutocomplete","matAutocomplete"],["class","py-0 px-6 text-md pointer-events-none text-secondary bg-transparent",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["matInput","","readonly","readonly",3,"matDatepicker","formControlName","max","click","keydown.keydown"],["matSuffix","",3,"for"],["startView","year",3,"startAt"],["_tglLahir",""],["matInput","",3,"formControlName","placeholder","spellcheck"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"py-0","px-6","text-md","pointer-events-none","text-secondary","bg-transparent"],[3,"value"],[1,"text-sm","font-semibold","tracking-wider","text-secondary"]],template:function(U,O){1&U&&(c.TgZ(0,"div",0),c.YNc(1,rt,11,3,"ng-container",1),c.YNc(2,dt,11,6,"ng-container",1),c.qZA()),2&U&&(c.xp6(1),c.Q6J("ngIf",!O.editMode),c.xp6(1),c.Q6J("ngIf",O.editMode))},dependencies:[F.sg,F.O5,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,q.lW,y.Mq,y.hl,y.nW,P.TO,P.KE,P.hX,P.qo,P.R9,G.Hw,$.Nt,S.ey,z.gM,tt.XC,tt.ZL,F.rS,_t.D],encapsulation:2,changeDetection:0}),N})()},8266:(xt,W,l)=>{l.d(W,{t:()=>m});var x=l(92),S=l(8772),M=l(1379),j=l(5450),k=l(6738),R=l.n(k),n=l(8023),i=l(3528),t=l(4537),nt=l(47),et=l(2047),X=l(8292),e=l(8951),at=l(7495),c=l(8692),it=l(9638),L=l(3704),w=l(8659),V=l(3331),ot=l(7406),F=l(8033),q=l(2940),y=l(2494),P=l(2516),G=l(7569);function $(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t._uU(2,"\u2022"),t.qZA(),t.TgZ(3,"div",21),t._UZ(4,"mat-icon",27),t.TgZ(5,"button",28),t.NdJ("click",function(){t.CHM(a);const s=t.oxw().$implicit,A=t.oxw(3);return t.KtG(A.togglePrint(s.dokumenId))}),t._uU(6),t.qZA()(),t.BQk()}if(2&o){const a=t.oxw().$implicit;t.xp6(3),t.Q6J("matTooltip","Nomor SK"),t.xp6(3),t.Oqu(a.noSk)}}function z(o,r){1&o&&t.GkF(0)}const tt=function(o){return{$implicit:o}};function _t(o,r){if(1&o&&(t.ynx(0),t.YNc(1,z,1,0,"ng-container",29),t.BQk()),2&o){const a=t.oxw().$implicit;t.oxw(3);const p=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",t.VKq(2,tt,a))}}function lt(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"div",19),t._uU(8,"\u2022"),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.qZA()(),t.TgZ(11,"div",20)(12,"div",21),t._UZ(13,"mat-icon",22),t.TgZ(14,"div",23),t._uU(15),t.qZA()(),t.YNc(16,$,7,2,"ng-container",8),t.qZA()()(),t.TgZ(17,"div",24)(18,"button",25),t.NdJ("click",function(){const A=t.CHM(a).$implicit,E=t.oxw(3);return t.KtG(E.toggleDetails(A.id))}),t._UZ(19,"mat-icon",12),t.qZA()(),t._UZ(20,"div",26),t.qZA(),t.YNc(21,_t,2,4,"ng-container",8),t.BQk()}if(2&o){const a=r.$implicit,p=t.oxw(3);let s;t.xp6(6),t.Oqu(a.golonganNamaPangkat),t.xp6(4),t.Oqu(null!==(s=a.golonganNama)&&void 0!==s?s:"-"),t.xp6(2),t.Q6J("matTooltip","TMT-Golongan"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:calendar"),t.xp6(2),t.Oqu(a.tmtGolongan),t.xp6(1),t.Q6J("ngIf",a.noSk),t.xp6(3),t.Q6J("svgIcon",(null==p.selected?null:p.selected.id)===a.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),t.xp6(2),t.Q6J("ngIf",(null==p.selected?null:p.selected.id)===a.id)}}function st(o,r){1&o&&(t.ynx(0),t.TgZ(1,"fuse-alert",30)(2,"span",31),t._uU(3,"Belum ada data riwayat golongan"),t.qZA()(),t.BQk()),2&o&&(t.xp6(1),t.Q6J("type","info"))}function rt(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",10)(3,"button",11),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.toggleInsertMode(!0))}),t._UZ(4,"mat-icon",12),t.TgZ(5,"span",13),t._uU(6,"Data Baru"),t.qZA()()()(),t.YNc(7,lt,22,8,"ng-container",14),t.YNc(8,st,4,1,"ng-container",8),t.BQk()}if(2&o){const a=t.oxw(2);t.xp6(4),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(3),t.Q6J("ngForOf",a.rwGolongan)("ngForTrackBy",a.trackByFn),t.xp6(1),t.Q6J("ngIf",!a.rwGolongan.length)}}function ct(o,r){if(1&o&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&o){const a=r.$implicit;t.Q6J("value",a.id),t.xp6(1),t.AsE("",a.namaPangkat," - ",a.nama," ")}}function mt(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(a),t.oxw();const s=t.MAs(37);return t.KtG(s.click())}),t._uU(1,"Unggah Dokumen"),t.qZA()}2&o&&t.Q6J("color","accent")}function ut(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(3);return t.KtG(s.toggleOnFileInputed(!1))}),t._UZ(1,"mat-icon",54),t.qZA()}2&o&&(t.Q6J("matTooltip","Clear"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"))}function pt(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"form",32)(4,"div",9)(5,"div",33)(6,"button",34),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.toggleInsertMode(!1))}),t._uU(7," Batal "),t.qZA(),t.TgZ(8,"button",35),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.insert())}),t._uU(9," Submit Usulan "),t.qZA()()(),t.TgZ(10,"div",36)(11,"mat-form-field",37)(12,"mat-label"),t._uU(13,"Pangkat / Golongan"),t.qZA(),t.TgZ(14,"mat-select",38),t.YNc(15,ct,2,3,"mat-option",39),t.ALo(16,"async"),t.qZA()()(),t.TgZ(17,"div",36)(18,"mat-form-field",37)(19,"mat-label"),t._uU(20,"TMT-Golongan"),t.qZA(),t.TgZ(21,"input",40),t.NdJ("focus",function(){t.CHM(a);const s=t.MAs(24);return t.KtG(s.open())}),t.qZA(),t._UZ(22,"mat-datepicker-toggle",41)(23,"mat-datepicker",null,42),t.qZA()(),t.TgZ(25,"div",36)(26,"mat-form-field",37)(27,"mat-label"),t._uU(28,"No. SK"),t.qZA(),t._UZ(29,"input",43),t.qZA()(),t.TgZ(30,"div",36)(31,"div",37)(32,"mat-label"),t._uU(33,"Dokumen SK "),t.TgZ(34,"i"),t._uU(35,"(PDF, Maksimal ukuran 2 MB)"),t.qZA()(),t.TgZ(36,"input",44,45),t.NdJ("click",function(){t.CHM(a);const s=t.MAs(37);return t.KtG(s.value=null)})("change",function(s){t.CHM(a);const A=t.oxw(2);return t.KtG(A.onFileInput(s))}),t.qZA(),t.TgZ(38,"div",46)(39,"div",47),t.YNc(40,mt,2,1,"button",48),t.YNc(41,ut,2,2,"button",49),t._UZ(42,"span",50),t.qZA()()()()()()(),t.BQk()}if(2&o){const a=t.MAs(24),p=t.oxw(2);t.xp6(3),t.Q6J("formGroup",p.form),t.xp6(3),t.Q6J("matTooltip","Batalkan Penambahan Data Baru"),t.xp6(2),t.Q6J("color","primary")("disabled",p.form.invalid)("matTooltip","Submit Usulan Penambahan Data"),t.xp6(6),t.Q6J("formControlName","golonganId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(16,16,p.jenisGolongan$)),t.xp6(6),t.Q6J("matDatepicker",a)("formControlName","tmtGolongan")("max",p._helperService.maxDate()),t.xp6(1),t.Q6J("for",a),t.xp6(7),t.Q6J("formControlName","noSk")("spellcheck",!1),t.xp6(11),t.Q6J("ngIf",!p.onFileInputed),t.xp6(1),t.Q6J("ngIf",p.onFileInputed),t.xp6(1),t.Q6J("id","fileDokumen")}}function gt(o,r){if(1&o&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t.YNc(3,rt,9,4,"ng-container",8),t.YNc(4,pt,43,18,"ng-container",8),t.qZA()()()),2&o){const a=t.oxw();t.xp6(3),t.Q6J("ngIf",!a.insertMode),t.xp6(1),t.Q6J("ngIf",a.insertMode)}}function dt(o,r){if(1&o&&t._UZ(0,"app-usulan",55),2&o){const a=t.oxw();t.Q6J("items",a.rwUsuls)}}function ft(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(4);return t.KtG(s.togglePrint(s.selected.dokumenId))}),t._UZ(1,"mat-icon",12),t.TgZ(2,"span"),t._uU(3,"Unduh"),t.qZA()()}2&o&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:paper-clip"))}function N(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"-"),t.qZA())}function Y(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",60)(2,"div",61)(3,"div",62),t._uU(4,"Pangkat / Golongan"),t.qZA(),t.TgZ(5,"div",18)(6,"div"),t._uU(7),t.qZA()()(),t.TgZ(8,"div",61)(9,"div",62),t._uU(10,"TMT-Golongan"),t.qZA(),t.TgZ(11,"div"),t._uU(12),t.qZA()(),t.TgZ(13,"div",61)(14,"div",62),t._uU(15,"No. SK"),t.qZA(),t.TgZ(16,"div"),t._uU(17),t.qZA()(),t.TgZ(18,"div",61)(19,"div",62),t._uU(20,"Dokumen SK"),t.qZA(),t.YNc(21,ft,4,1,"button",63),t.YNc(22,N,2,0,"div",8),t.qZA()(),t.BQk()),2&o){const a=t.oxw(3);let p,s,A;t.xp6(7),t.AsE("",a.selected.golonganNamaPangkat," - ",null!==(p=a.selected.golonganNama)&&void 0!==p?p:"-",""),t.xp6(5),t.Oqu(null!==(s=a.selected.tmtGolongan)&&void 0!==s?s:"-"),t.xp6(5),t.Oqu(null!==(A=a.selected.noSk)&&void 0!==A?A:"-"),t.xp6(4),t.Q6J("ngIf",a.selected.dokumenId),t.xp6(1),t.Q6J("ngIf",!a.selected.dokumenId)}}function U(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",58)(2,"div",7)(3,"div",9)(4,"div",10)(5,"button",59),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.delete())}),t._uU(6," Hapus "),t.qZA(),t.TgZ(7,"button",11),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.toggleEditMode(!0))}),t._UZ(8,"mat-icon",12),t.TgZ(9,"span",13),t._uU(10,"Ubah"),t.qZA()()()(),t.YNc(11,Y,23,6,"ng-container",8),t.qZA()(),t.BQk()}if(2&o){const a=t.oxw(2);t.xp6(5),t.Q6J("color","warn")("matTooltip","Hapus Data"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(3),t.Q6J("ngIf",a.selected)}}function O(o,r){if(1&o&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&o){const a=r.$implicit;t.Q6J("value",a.id),t.xp6(1),t.AsE("",a.namaPangkat," - ",a.nama," ")}}function B(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(a),t.oxw();const s=t.MAs(28);return t.KtG(s.click())}),t._uU(1,"Unggah Dokumen"),t.qZA()}2&o&&t.Q6J("color","accent")}function C(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(4);return t.KtG(s.toggleOnFileInputed(!1))}),t._UZ(1,"mat-icon",54),t.qZA()}2&o&&(t.Q6J("matTooltip","Clear"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"))}function Q(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"mat-form-field",37)(3,"mat-label"),t._uU(4,"Pangkat / Golongan"),t.qZA(),t.TgZ(5,"mat-select",38),t.YNc(6,O,2,3,"mat-option",39),t.ALo(7,"async"),t.qZA()()(),t.TgZ(8,"div",36)(9,"mat-form-field",37)(10,"mat-label"),t._uU(11,"TMT-Golongan"),t.qZA(),t.TgZ(12,"input",40),t.NdJ("focus",function(){t.CHM(a);const s=t.MAs(15);return t.KtG(s.open())}),t.qZA(),t._UZ(13,"mat-datepicker-toggle",41)(14,"mat-datepicker",null,42),t.qZA()(),t.TgZ(16,"div",36)(17,"mat-form-field",37)(18,"mat-label"),t._uU(19,"No. SK"),t.qZA(),t._UZ(20,"input",43),t.qZA()(),t.TgZ(21,"div",36)(22,"div",37)(23,"mat-label"),t._uU(24,"Dokumen SK "),t.TgZ(25,"i"),t._uU(26,"(PDF, Maksimal ukuran 1 MB)"),t.qZA()(),t.TgZ(27,"input",44,65),t.NdJ("click",function(){t.CHM(a);const s=t.MAs(28);return t.KtG(s.value=null)})("change",function(s){t.CHM(a);const A=t.oxw(3);return t.KtG(A.onFileInput(s))}),t.qZA(),t.TgZ(29,"div",46)(30,"div",47),t.YNc(31,B,2,1,"button",48),t.YNc(32,C,2,2,"button",49),t._UZ(33,"span",50),t.qZA()()()(),t.BQk()}if(2&o){const a=t.MAs(15),p=t.oxw(3);t.xp6(5),t.Q6J("formControlName","golonganId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(7,11,p.jenisGolongan$)),t.xp6(6),t.Q6J("matDatepicker",a)("formControlName","tmtGolongan")("max",p._helperService.maxDate()),t.xp6(1),t.Q6J("for",a),t.xp6(7),t.Q6J("formControlName","noSk")("spellcheck",!1),t.xp6(11),t.Q6J("ngIf",!p.onFileInputed),t.xp6(1),t.Q6J("ngIf",p.onFileInputed),t.xp6(1),t.Q6J("id","fileDokumen")}}function d(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"form",32)(4,"div",9)(5,"div",33)(6,"button",34),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.toggleEditMode(!1))}),t._uU(7," Batal "),t.qZA(),t.TgZ(8,"button",35),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.update())}),t._uU(9," Submit Usulan "),t.qZA()()(),t.YNc(10,Q,34,13,"ng-container",8),t.qZA()()(),t.BQk()}if(2&o){const a=t.oxw(2);t.xp6(3),t.Q6J("formGroup",a.form),t.xp6(3),t.Q6J("matTooltip","Batalkan Perubahan Data"),t.xp6(2),t.Q6J("color","primary")("disabled",a.form.invalid)("matTooltip","Submit Usulan Perubahan Data"),t.xp6(2),t.Q6J("ngIf",a.selected)}}function h(o,r){if(1&o&&(t.TgZ(0,"div",15)(1,"div",56)(2,"div",57)(3,"div",5),t.YNc(4,U,12,4,"ng-container",8),t.YNc(5,d,11,6,"ng-container",8),t.qZA()()()()),2&o){const a=t.oxw();t.xp6(4),t.Q6J("ngIf",!a.editMode),t.xp6(1),t.Q6J("ngIf",a.editMode)}}let m=(()=>{class o{constructor(a,p,s,A,E,b,J,u){this._penerjemahService=a,this._referensiService=p,this._helperService=s,this._changeDetectorRef=A,this._formBuilder=E,this._toastr=b,this._authService=J,this._userService=u,this.rwGolongan=[],this.rwUsuls=[],this.selected=null,this.editMode=!1,this.insertMode=!1,this.onFileInputed=!1,this.jenisGolongan$=this._referensiService.golongan(),this._unsubscribeAll=new n.x}ngOnInit(){this.form=this._formBuilder.group({golonganId:[null,x.kI.required],tmtGolongan:[null,x.kI.required],noSk:[null,x.kI.required],file:[null,x.kI.required]}),this.loadData()}loadData(){"ROLE_ADMIN"===this._authService.role?this._penerjemahService.jfpItem$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(a=>{this.pnsId=a.id,this._changeDetectorRef.markForCheck()}):this._userService.user$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(a=>{this.pnsId=a.pnsId,this._changeDetectorRef.markForCheck()}),this._penerjemahService.getRwGolongan(this.pnsId).subscribe(),this._penerjemahService.rwGolongans$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(a=>{a&&(this.rwGolongan=a,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"RW_GOL",size:100}).pipe((0,i.R)(this._unsubscribeAll)).subscribe(a=>{a&&(this.rwUsuls=a,this._changeDetectorRef.markForCheck())})}togglePrint(a){this._penerjemahService.getDokumen(a).subscribe({next:p=>{const s=URL.createObjectURL(p);window.open(s,"_blank")},error:()=>{this._toastr.error("ERROR: Dokumen gagal ditampilkan","ERROR")}})}onFileInput(a){const p=this._referensiService.onFileInputSingle(a,"application/pdf",2e3);return p.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=p.fileInfo.name,this.form.get("file").setValue(a.target.files[0]),!0):(this._toastr.error(p.msg,"ERROR"),!1)}insert(){const a=this.form.getRawValue(),p=new FormData;p.append("pnsId",this.pnsId),a.golonganId&&p.append("golonganId",a.golonganId),a.tmtGolongan&&p.append("tmtGolongan",R()(a.tmtGolongan).format("DD-MM-YYYY")),a.noSk&&p.append("noSk",a.noSk),a.file&&p.append("file",a.file),this._penerjemahService.saveRwGolongan(p).subscribe(s=>{s?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(s?.message,"ERROR")})}delete(){this._penerjemahService.deleteRwGolongan(this.selected.id).subscribe(a=>{a?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(a?.message,"ERROR")})}update(){const a=this.form.getRawValue(),p=new FormData;p.append("pnsId",this.pnsId),p.append("id",this.selected.id),a.golonganId&&p.append("golonganId",a.golonganId),a.tmtGolongan&&p.append("tmtGolongan",R()(a.tmtGolongan).format("DD-MM-YYYY")),a.noSk&&p.append("noSk",a.noSk),a.file&&p.append("file",a.file),this._penerjemahService.saveRwGolongan(p).subscribe(s=>{s?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(s?.message,"ERROR")})}displayFn(a){if(a)return a.nama}trackByFn(a,p){return p.id||a}toggleOnFileInputed(a=null){null===a?this.onFileInputed=!this.onFileInputed:(a||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=a),this._changeDetectorRef.markForCheck()}toggleInsertMode(a=null){this.insertMode=null===a?!this.insertMode:a,this._changeDetectorRef.markForCheck()}toggleEditMode(a=null){this.editMode=null===a?!this.editMode:a,this._changeDetectorRef.markForCheck()}toggleDetails(a){this.selected&&this.selected.id===a?this.closeDetails():this._penerjemahService.getRwGolonganById(a).subscribe(p=>{this.selected=p,this.form.patchValue(p),this.form.get("tmtGolongan").setValue(this._helperService.getDateFromStringID(p.tmtGolongan)),this._changeDetectorRef.markForCheck()})}closeDetails(){this.selected=null}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(nt.e),t.Y36(j.A2),t.Y36(et.W),t.Y36(t.sBO),t.Y36(x.qu),t.Y36(X._W),t.Y36(e.e),t.Y36(at.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-golongan"]],features:[t._Bn([{provide:M.sG,useValue:j.lv},{provide:M._A,useClass:S.t7,deps:[M.Ad]}])],decls:7,vars:1,consts:[[1,"ml-0","pl-0","mt-5",3,"animationDuration"],["label","Data Disetujui"],["matTabContent",""],["label","Riwayat Usulan"],["rowDetailsTemplate",""],[1,"flex","flex-col","w-full"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6"],[1,"w-full"],[4,"ngIf"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-11","text-md","font-medium"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"hidden","sm:block"],[1,"flex","flex-col","sm:flex-row","sm:items-center","-ml-0.5","mt-2","sm:mt-1","space-y-1","sm:space-y-0","sm:space-x-3"],[1,"flex","items-center",3,"matTooltip"],[1,"icon-size-5","text-hint",3,"svgIcon"],[1,"ml-1.5","text-sm"],[1,"col-span-1","self-center","text-right"],["mat-stroked-button","",1,"min-w-10","min-h-10","h-10","px-2","leading-6",3,"click"],[1,"col-span-12","my-4","border-b"],["svgIcon","attach_file",1,"icon-size-5","text-hint"],[1,"ml-1.5","text-sm","underline",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type"],["fuseAlertTitle",""],[3,"formGroup"],[1,"flex","items-center","justify-end","w-full","mx-auto"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"matDatepicker","formControlName","max","focus"],["matSuffix","",3,"for"],["_tmtGolongan",""],["matInput","",3,"formControlName","spellcheck"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[3,"value"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"],[3,"items"],[1,"col-span-12","shadow-lg","overflow-hidden","mb-4"],[1,"flex","border-b"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0"],["mat-button","",1,"mr-5",3,"color","matTooltip","click"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],["class","px-3","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"px-3",3,"click"],["fileInputDocument",""]],template:function(a,p){1&a&&(t.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),t.YNc(2,gt,5,2,"ng-template",2),t.qZA(),t.TgZ(3,"mat-tab",3),t.YNc(4,dt,1,1,"ng-template",2),t.qZA()(),t.YNc(5,h,6,2,"ng-template",null,4,t.W1O)),2&a&&t.Q6J("animationDuration","0")},dependencies:[c.sg,c.O5,c.tP,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,it.lW,L.Mq,L.hl,L.nW,w.KE,w.hX,w.R9,V.Hw,ot.Nt,F.gD,M.ey,q.gM,y.W,P.SP,P.uX,P.Vc,G.Q,c.Ov],encapsulation:2,changeDetection:0}),o})()},7095:(xt,W,l)=>{l.d(W,{C:()=>m});var x=l(92),S=l(8772),M=l(1379),j=l(5450),k=l(6738),R=l.n(k),n=l(8023),i=l(3528),t=l(4537),nt=l(47),et=l(2047),X=l(8292),e=l(8951),at=l(7495),c=l(8692),it=l(9638),L=l(3704),w=l(8659),V=l(3331),ot=l(7406),F=l(8033),q=l(2940),y=l(2494),P=l(2516),G=l(7569);function $(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",19),t._uU(2,"\u2022"),t.qZA(),t.TgZ(3,"div",21),t._UZ(4,"mat-icon",27),t.TgZ(5,"button",28),t.NdJ("click",function(){t.CHM(a);const s=t.oxw().$implicit,A=t.oxw(3);return t.KtG(A.togglePrint(s.dokumenId))}),t._uU(6),t.qZA()(),t.BQk()}if(2&o){const a=t.oxw().$implicit;t.xp6(3),t.Q6J("matTooltip","Nomor SK"),t.xp6(3),t.Oqu(a.noSk)}}function z(o,r){1&o&&t.GkF(0)}const tt=function(o){return{$implicit:o}};function _t(o,r){if(1&o&&(t.ynx(0),t.YNc(1,z,1,0,"ng-container",29),t.BQk()),2&o){const a=t.oxw().$implicit;t.oxw(3);const p=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",t.VKq(2,tt,a))}}function lt(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"div",19),t._uU(8,"\u2022"),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.qZA()(),t.TgZ(11,"div",20)(12,"div",21),t._UZ(13,"mat-icon",22),t.TgZ(14,"div",23),t._uU(15),t.qZA()(),t.YNc(16,$,7,2,"ng-container",8),t.qZA()()(),t.TgZ(17,"div",24)(18,"button",25),t.NdJ("click",function(){const A=t.CHM(a).$implicit,E=t.oxw(3);return t.KtG(E.toggleDetails(A.id))}),t._UZ(19,"mat-icon",12),t.qZA()(),t._UZ(20,"div",26),t.qZA(),t.YNc(21,_t,2,4,"ng-container",8),t.BQk()}if(2&o){const a=r.$implicit,p=t.oxw(3);let s;t.xp6(6),t.Oqu(a.jabatanJenjang),t.xp6(4),t.Oqu(null!==(s=a.jabatanNama)&&void 0!==s?s:"-"),t.xp6(2),t.Q6J("matTooltip","TMT-Jabatan"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:calendar"),t.xp6(2),t.Oqu(a.tmtJabatan),t.xp6(1),t.Q6J("ngIf",a.noSk),t.xp6(3),t.Q6J("svgIcon",(null==p.selected?null:p.selected.id)===a.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),t.xp6(2),t.Q6J("ngIf",(null==p.selected?null:p.selected.id)===a.id)}}function st(o,r){1&o&&(t.ynx(0),t.TgZ(1,"fuse-alert",30)(2,"span",31),t._uU(3,"Belum ada data riwayat jabatan"),t.qZA()(),t.BQk()),2&o&&(t.xp6(1),t.Q6J("type","info"))}function rt(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",10)(3,"button",11),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.toggleInsertMode(!0))}),t._UZ(4,"mat-icon",12),t.TgZ(5,"span",13),t._uU(6,"Data Baru"),t.qZA()()()(),t.YNc(7,lt,22,8,"ng-container",14),t.YNc(8,st,4,1,"ng-container",8),t.BQk()}if(2&o){const a=t.oxw(2);t.xp6(4),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(3),t.Q6J("ngForOf",a.rwJabatan)("ngForTrackBy",a.trackByFn),t.xp6(1),t.Q6J("ngIf",!a.rwJabatan.length)}}function ct(o,r){if(1&o&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&o){const a=r.$implicit;t.Q6J("value",a.id),t.xp6(1),t.AsE("",a.jenjang," - ",a.nama," ")}}function mt(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(a),t.oxw();const s=t.MAs(37);return t.KtG(s.click())}),t._uU(1,"Unggah Dokumen"),t.qZA()}2&o&&t.Q6J("color","accent")}function ut(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(3);return t.KtG(s.toggleOnFileInputed(!1))}),t._UZ(1,"mat-icon",54),t.qZA()}2&o&&(t.Q6J("matTooltip","Clear"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"))}function pt(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"form",32)(4,"div",9)(5,"div",33)(6,"button",34),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.toggleInsertMode(!1))}),t._uU(7," Batal "),t.qZA(),t.TgZ(8,"button",35),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.insert())}),t._uU(9," Submit Usulan "),t.qZA()()(),t.TgZ(10,"div",36)(11,"mat-form-field",37)(12,"mat-label"),t._uU(13,"Jenis Jabatan"),t.qZA(),t.TgZ(14,"mat-select",38),t.YNc(15,ct,2,3,"mat-option",39),t.ALo(16,"async"),t.qZA()()(),t.TgZ(17,"div",36)(18,"mat-form-field",37)(19,"mat-label"),t._uU(20,"TMT-Jabatan"),t.qZA(),t.TgZ(21,"input",40),t.NdJ("focus",function(){t.CHM(a);const s=t.MAs(24);return t.KtG(s.open())}),t.qZA(),t._UZ(22,"mat-datepicker-toggle",41)(23,"mat-datepicker",null,42),t.qZA()(),t.TgZ(25,"div",36)(26,"mat-form-field",37)(27,"mat-label"),t._uU(28,"No. SK"),t.qZA(),t._UZ(29,"input",43),t.qZA()(),t.TgZ(30,"div",36)(31,"div",37)(32,"mat-label"),t._uU(33,"Dokumen SK "),t.TgZ(34,"i"),t._uU(35,"(PDF, Maksimal ukuran 2 MB)"),t.qZA()(),t.TgZ(36,"input",44,45),t.NdJ("click",function(){t.CHM(a);const s=t.MAs(37);return t.KtG(s.value=null)})("change",function(s){t.CHM(a);const A=t.oxw(2);return t.KtG(A.onFileInput(s))}),t.qZA(),t.TgZ(38,"div",46)(39,"div",47),t.YNc(40,mt,2,1,"button",48),t.YNc(41,ut,2,2,"button",49),t._UZ(42,"span",50),t.qZA()()()()()()(),t.BQk()}if(2&o){const a=t.MAs(24),p=t.oxw(2);t.xp6(3),t.Q6J("formGroup",p.form),t.xp6(3),t.Q6J("matTooltip","Batalkan Penambahan Data Baru"),t.xp6(2),t.Q6J("color","primary")("disabled",p.form.invalid)("matTooltip","Submit Usulan Penambahan Data"),t.xp6(6),t.Q6J("formControlName","jabatanId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(16,16,p.jenisJabatan$)),t.xp6(6),t.Q6J("matDatepicker",a)("formControlName","tmtJabatan")("max",p._helperService.maxDate()),t.xp6(1),t.Q6J("for",a),t.xp6(7),t.Q6J("formControlName","noSk")("spellcheck",!1),t.xp6(11),t.Q6J("ngIf",!p.onFileInputed),t.xp6(1),t.Q6J("ngIf",p.onFileInputed),t.xp6(1),t.Q6J("id","fileDokumen")}}function gt(o,r){if(1&o&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t.YNc(3,rt,9,4,"ng-container",8),t.YNc(4,pt,43,18,"ng-container",8),t.qZA()()()),2&o){const a=t.oxw();t.xp6(3),t.Q6J("ngIf",!a.insertMode),t.xp6(1),t.Q6J("ngIf",a.insertMode)}}function dt(o,r){if(1&o&&t._UZ(0,"app-usulan",55),2&o){const a=t.oxw();t.Q6J("items",a.rwUsuls)}}function ft(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"button",64),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(4);return t.KtG(s.togglePrint(s.selected.dokumenId))}),t._UZ(1,"mat-icon",12),t.TgZ(2,"span"),t._uU(3,"Unduh"),t.qZA()()}2&o&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:paper-clip"))}function N(o,r){1&o&&(t.TgZ(0,"div"),t._uU(1,"-"),t.qZA())}function Y(o,r){if(1&o&&(t.ynx(0),t.TgZ(1,"div",60)(2,"div",61)(3,"div",62),t._uU(4,"Jabatan"),t.qZA(),t.TgZ(5,"div",18)(6,"div"),t._uU(7),t.qZA()()(),t.TgZ(8,"div",61)(9,"div",62),t._uU(10,"TMT-Jabatan"),t.qZA(),t.TgZ(11,"div"),t._uU(12),t.qZA()(),t.TgZ(13,"div",61)(14,"div",62),t._uU(15,"No. SK"),t.qZA(),t.TgZ(16,"div"),t._uU(17),t.qZA()(),t.TgZ(18,"div",61)(19,"div",62),t._uU(20,"Dokumen SK"),t.qZA(),t.YNc(21,ft,4,1,"button",63),t.YNc(22,N,2,0,"div",8),t.qZA()(),t.BQk()),2&o){const a=t.oxw(3);let p,s,A;t.xp6(7),t.AsE("",a.selected.jabatanJenjang," - ",null!==(p=a.selected.jabatanNama)&&void 0!==p?p:"-",""),t.xp6(5),t.Oqu(null!==(s=a.selected.tmtJabatan)&&void 0!==s?s:"-"),t.xp6(5),t.Oqu(null!==(A=a.selected.noSk)&&void 0!==A?A:"-"),t.xp6(4),t.Q6J("ngIf",a.selected.dokumenId),t.xp6(1),t.Q6J("ngIf",!a.selected.dokumenId)}}function U(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",58)(2,"div",7)(3,"div",9)(4,"div",10)(5,"button",59),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.delete())}),t._uU(6," Hapus "),t.qZA(),t.TgZ(7,"button",11),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.toggleEditMode(!0))}),t._UZ(8,"mat-icon",12),t.TgZ(9,"span",13),t._uU(10,"Ubah"),t.qZA()()()(),t.YNc(11,Y,23,6,"ng-container",8),t.qZA()(),t.BQk()}if(2&o){const a=t.oxw(2);t.xp6(5),t.Q6J("color","warn")("matTooltip","Hapus Data"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(3),t.Q6J("ngIf",a.selected)}}function O(o,r){if(1&o&&(t.TgZ(0,"mat-option",51),t._uU(1),t.qZA()),2&o){const a=r.$implicit;t.Q6J("value",a.id),t.xp6(1),t.AsE("",a.jenjang," - ",a.nama," ")}}function B(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(a),t.oxw();const s=t.MAs(28);return t.KtG(s.click())}),t._uU(1,"Unggah Dokumen"),t.qZA()}2&o&&t.Q6J("color","accent")}function C(o,r){if(1&o){const a=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(4);return t.KtG(s.toggleOnFileInputed(!1))}),t._UZ(1,"mat-icon",54),t.qZA()}2&o&&(t.Q6J("matTooltip","Clear"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"))}function Q(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"mat-form-field",37)(3,"mat-label"),t._uU(4,"Jenis Jabatan"),t.qZA(),t.TgZ(5,"mat-select",38),t.YNc(6,O,2,3,"mat-option",39),t.ALo(7,"async"),t.qZA()()(),t.TgZ(8,"div",36)(9,"mat-form-field",37)(10,"mat-label"),t._uU(11,"TMT-Jabatan"),t.qZA(),t.TgZ(12,"input",40),t.NdJ("focus",function(){t.CHM(a);const s=t.MAs(15);return t.KtG(s.open())}),t.qZA(),t._UZ(13,"mat-datepicker-toggle",41)(14,"mat-datepicker",null,42),t.qZA()(),t.TgZ(16,"div",36)(17,"mat-form-field",37)(18,"mat-label"),t._uU(19,"No. SK"),t.qZA(),t._UZ(20,"input",43),t.qZA()(),t.TgZ(21,"div",36)(22,"div",37)(23,"mat-label"),t._uU(24,"Dokumen SK "),t.TgZ(25,"i"),t._uU(26,"(PDF, Maksimal ukuran 1 MB)"),t.qZA()(),t.TgZ(27,"input",44,65),t.NdJ("click",function(){t.CHM(a);const s=t.MAs(28);return t.KtG(s.value=null)})("change",function(s){t.CHM(a);const A=t.oxw(3);return t.KtG(A.onFileInput(s))}),t.qZA(),t.TgZ(29,"div",46)(30,"div",47),t.YNc(31,B,2,1,"button",48),t.YNc(32,C,2,2,"button",49),t._UZ(33,"span",50),t.qZA()()()(),t.BQk()}if(2&o){const a=t.MAs(15),p=t.oxw(3);t.xp6(5),t.Q6J("formControlName","jabatanId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(7,11,p.jenisJabatan$)),t.xp6(6),t.Q6J("matDatepicker",a)("formControlName","tmtJabatan")("max",p._helperService.maxDate()),t.xp6(1),t.Q6J("for",a),t.xp6(7),t.Q6J("formControlName","noSk")("spellcheck",!1),t.xp6(11),t.Q6J("ngIf",!p.onFileInputed),t.xp6(1),t.Q6J("ngIf",p.onFileInputed),t.xp6(1),t.Q6J("id","fileDokumen")}}function d(o,r){if(1&o){const a=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"form",32)(4,"div",9)(5,"div",33)(6,"button",34),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.toggleEditMode(!1))}),t._uU(7," Batal "),t.qZA(),t.TgZ(8,"button",35),t.NdJ("click",function(){t.CHM(a);const s=t.oxw(2);return t.KtG(s.update())}),t._uU(9," Submit Usulan "),t.qZA()()(),t.YNc(10,Q,34,13,"ng-container",8),t.qZA()()(),t.BQk()}if(2&o){const a=t.oxw(2);t.xp6(3),t.Q6J("formGroup",a.form),t.xp6(3),t.Q6J("matTooltip","Batalkan Perubahan Data"),t.xp6(2),t.Q6J("color","primary")("disabled",a.form.invalid)("matTooltip","Submit Usulan Perubahan Data"),t.xp6(2),t.Q6J("ngIf",a.selected)}}function h(o,r){if(1&o&&(t.TgZ(0,"div",15)(1,"div",56)(2,"div",57)(3,"div",5),t.YNc(4,U,12,4,"ng-container",8),t.YNc(5,d,11,6,"ng-container",8),t.qZA()()()()),2&o){const a=t.oxw();t.xp6(4),t.Q6J("ngIf",!a.editMode),t.xp6(1),t.Q6J("ngIf",a.editMode)}}let m=(()=>{class o{constructor(a,p,s,A,E,b,J,u){this._penerjemahService=a,this._referensiService=p,this._helperService=s,this._changeDetectorRef=A,this._formBuilder=E,this._toastr=b,this._authService=J,this._userService=u,this.rwJabatan=[],this.rwUsuls=[],this.selected=null,this.editMode=!1,this.insertMode=!1,this.onFileInputed=!1,this.jenisJabatan$=this._referensiService.jabatan(),this._unsubscribeAll=new n.x}ngOnInit(){this.form=this._formBuilder.group({jabatanId:[null,x.kI.required],tmtJabatan:[null,x.kI.required],noSk:[null,x.kI.required],file:[null,x.kI.required]}),this.loadData()}loadData(){"ROLE_ADMIN"===this._authService.role?this._penerjemahService.jfpItem$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(a=>{this.pnsId=a.id,this._changeDetectorRef.markForCheck()}):this._userService.user$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(a=>{this.pnsId=a.pnsId,this._changeDetectorRef.markForCheck()}),this._penerjemahService.getRwJabatan(this.pnsId).subscribe(),this._penerjemahService.rwJabatan$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(a=>{a&&(this.rwJabatan=a,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"RW_JAB",size:100}).pipe((0,i.R)(this._unsubscribeAll)).subscribe(a=>{a&&(this.rwUsuls=a,this._changeDetectorRef.markForCheck())})}togglePrint(a){this._penerjemahService.getDokumen(a).subscribe({next:p=>{const s=URL.createObjectURL(p);window.open(s,"_blank")},error:p=>{this._toastr.error("ERROR: Dokumen gagal ditampilkan","ERROR")}})}onFileInput(a){const p=this._referensiService.onFileInputSingle(a,"application/pdf",2e3);return p.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=p.fileInfo.name,this.form.get("file").setValue(a.target.files[0]),!0):(this._toastr.error(p.msg,"ERROR"),!1)}insert(){const a=this.form.getRawValue(),p=new FormData;p.append("pnsId",this.pnsId),a.jabatanId&&p.append("jabatanId",a.jabatanId),a.tmtJabatan&&p.append("tmtJabatan",R()(a.tmtJabatan).format("DD-MM-YYYY")),a.noSk&&p.append("noSk",a.noSk),a.file&&p.append("file",a.file),this._penerjemahService.saveRwJabatan(p).subscribe(s=>{s?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(s?.message,"ERROR")})}delete(){this._penerjemahService.deleteRwJabatan(this.selected.id).subscribe(a=>{a?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(a?.message,"ERROR")})}update(){const a=this.form.getRawValue(),p=new FormData;p.append("pnsId",this.pnsId),p.append("id",this.selected.id),a.jabatanId&&p.append("jabatanId",a.jabatanId),a.tmtJabatan&&p.append("tmtJabatan",R()(a.tmtJabatan).format("DD-MM-YYYY")),a.noSk&&p.append("noSk",a.noSk),a.file&&p.append("file",a.file),this._penerjemahService.saveRwJabatan(p).subscribe(s=>{s?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(s?.message,"ERROR")})}displayFn(a){if(a)return a.nama}trackByFn(a,p){return p.id||a}toggleOnFileInputed(a=null){null===a?this.onFileInputed=!this.onFileInputed:(a||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=a),this._changeDetectorRef.markForCheck()}toggleInsertMode(a=null){this.insertMode=null===a?!this.insertMode:a,this._changeDetectorRef.markForCheck()}toggleEditMode(a=null){this.editMode=null===a?!this.editMode:a,this._changeDetectorRef.markForCheck()}toggleDetails(a){this.selected&&this.selected.id===a?this.closeDetails():this._penerjemahService.getRwJabatanById(a).subscribe(p=>{this.selected=p,this.form.patchValue(p),this.form.get("tmtJabatan").setValue(this._helperService.getDateFromStringID(p.tmtJabatan)),this._changeDetectorRef.markForCheck()})}closeDetails(){this.selected=null}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(nt.e),t.Y36(j.A2),t.Y36(et.W),t.Y36(t.sBO),t.Y36(x.qu),t.Y36(X._W),t.Y36(e.e),t.Y36(at.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-jabatan"]],features:[t._Bn([{provide:M.sG,useValue:j.lv},{provide:M._A,useClass:S.t7,deps:[M.Ad]}])],decls:7,vars:1,consts:[[1,"ml-0","pl-0","mt-5",3,"animationDuration"],["label","Data Disetujui"],["matTabContent",""],["label","Riwayat Usulan"],["rowDetailsTemplate",""],[1,"flex","flex-col","w-full"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6"],[1,"w-full"],[4,"ngIf"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-11","text-md","font-medium"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"hidden","sm:block"],[1,"flex","flex-col","sm:flex-row","sm:items-center","-ml-0.5","mt-2","sm:mt-1","space-y-1","sm:space-y-0","sm:space-x-3"],[1,"flex","items-center",3,"matTooltip"],[1,"icon-size-5","text-hint",3,"svgIcon"],[1,"ml-1.5","text-sm"],[1,"col-span-1","self-center","text-right"],["mat-stroked-button","",1,"min-w-10","min-h-10","h-10","px-2","leading-6",3,"click"],[1,"col-span-12","my-4","border-b"],["svgIcon","attach_file",1,"icon-size-5","text-hint"],[1,"ml-1.5","text-sm","underline",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type"],["fuseAlertTitle",""],[3,"formGroup"],[1,"flex","items-center","justify-end","w-full","mx-auto"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"matDatepicker","formControlName","max","focus"],["matSuffix","",3,"for"],["_tmtJabatan",""],["matInput","",3,"formControlName","spellcheck"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[3,"value"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"],[3,"items"],[1,"col-span-12","shadow-lg","overflow-hidden","mb-4"],[1,"flex","border-b"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0"],["mat-button","",1,"mr-5",3,"color","matTooltip","click"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],["class","px-3","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"px-3",3,"click"],["fileInputDocument",""]],template:function(a,p){1&a&&(t.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),t.YNc(2,gt,5,2,"ng-template",2),t.qZA(),t.TgZ(3,"mat-tab",3),t.YNc(4,dt,1,1,"ng-template",2),t.qZA()(),t.YNc(5,h,6,2,"ng-template",null,4,t.W1O)),2&a&&t.Q6J("animationDuration","0")},dependencies:[c.sg,c.O5,c.tP,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,it.lW,L.Mq,L.hl,L.nW,w.KE,w.hX,w.R9,V.Hw,ot.Nt,F.gD,M.ey,q.gM,y.W,P.SP,P.uX,P.Vc,G.Q,c.Ov],encapsulation:2,changeDetection:0}),o})()},839:(xt,W,l)=>{l.d(W,{n:()=>Q});var x=l(92),S=l(8772),M=l(1379),j=l(5450),k=l(6738),R=l.n(k),n=l(8023),i=l(3528),t=l(4537),nt=l(47),et=l(2047),X=l(8292),e=l(8951),at=l(7495),c=l(8692),it=l(9638),L=l(3704),w=l(8659),V=l(3331),ot=l(7406),F=l(8033),q=l(2940),y=l(2494),P=l(2516),G=l(7569);function $(d,h){1&d&&t.GkF(0)}const z=function(d){return{$implicit:d}};function tt(d,h){if(1&d&&(t.ynx(0),t.YNc(1,$,1,0,"ng-container",23),t.BQk()),2&d){const m=t.oxw().$implicit;t.oxw(3);const o=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.VKq(2,z,m))}}function _t(d,h){if(1&d){const m=t.EpF();t.ynx(0),t.TgZ(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"div"),t._uU(6),t.qZA(),t.TgZ(7,"div",19),t._uU(8,"\u2022"),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.qZA()(),t.TgZ(11,"div",18)(12,"div"),t._uU(13),t.qZA(),t.TgZ(14,"div",19),t._uU(15,"\u2022"),t.qZA(),t.TgZ(16,"div"),t._uU(17),t.qZA()()()(),t.TgZ(18,"div",20)(19,"button",21),t.NdJ("click",function(){const a=t.CHM(m).$implicit,p=t.oxw(3);return t.KtG(p.toggleDetails(a.id))}),t._UZ(20,"mat-icon",12),t.qZA()(),t._UZ(21,"div",22),t.qZA(),t.YNc(22,tt,2,4,"ng-container",8),t.BQk()}if(2&d){const m=h.$implicit,o=t.oxw(3);let r,a;t.xp6(6),t.Oqu(m.tglKegiatan),t.xp6(4),t.Oqu(null!==(r=m.jenisKegiatanTranslasiNama)&&void 0!==r?r:"-"),t.xp6(3),t.Oqu(m.namaKegiatan),t.xp6(4),t.Oqu(null!==(a=m.lokasiKegiatan)&&void 0!==a?a:"-"),t.xp6(3),t.Q6J("svgIcon",(null==o.selected?null:o.selected.id)===m.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),t.xp6(2),t.Q6J("ngIf",(null==o.selected?null:o.selected.id)===m.id)}}function lt(d,h){1&d&&(t.ynx(0),t.TgZ(1,"fuse-alert",24)(2,"span",25),t._uU(3,"Belum ada data riwayat kegiatan penerjemahan"),t.qZA()(),t.BQk()),2&d&&(t.xp6(1),t.Q6J("type","info"))}function st(d,h){if(1&d){const m=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",10)(3,"button",11),t.NdJ("click",function(){t.CHM(m);const r=t.oxw(2);return t.KtG(r.toggleInsertMode(!0))}),t._UZ(4,"mat-icon",12),t.TgZ(5,"span",13),t._uU(6,"Data Baru"),t.qZA()()()(),t.YNc(7,_t,23,6,"ng-container",14),t.YNc(8,lt,4,1,"ng-container",8),t.BQk()}if(2&d){const m=t.oxw(2);t.xp6(4),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(3),t.Q6J("ngForOf",m.rwKegiatanTranslasi)("ngForTrackBy",m.trackByFn),t.xp6(1),t.Q6J("ngIf",!m.rwKegiatanTranslasi.length)}}function rt(d,h){if(1&d&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&d){const m=h.$implicit;t.Q6J("value",m.id),t.xp6(1),t.AsE("",m.tipeKegiatan," - ",m.nama," ")}}function ct(d,h){if(1&d&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&d){const m=h.$implicit;t.Q6J("value",m.id),t.xp6(1),t.hij("",m.nama," ")}}function mt(d,h){if(1&d&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&d){const m=h.$implicit;t.Q6J("value",m.id),t.xp6(1),t.hij("",m.nama," ")}}function ut(d,h){if(1&d){const m=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"form",26)(4,"div",9)(5,"div",27)(6,"button",28),t.NdJ("click",function(){t.CHM(m);const r=t.oxw(2);return t.KtG(r.toggleInsertMode(!1))}),t._uU(7," Batal "),t.qZA(),t.TgZ(8,"button",29),t.NdJ("click",function(){t.CHM(m);const r=t.oxw(2);return t.KtG(r.insert())}),t._uU(9," Submit Usulan "),t.qZA()()(),t.TgZ(10,"div",30)(11,"mat-form-field",31)(12,"mat-label"),t._uU(13,"Jenis Kegiatan"),t.qZA(),t.TgZ(14,"mat-select",32),t.YNc(15,rt,2,3,"mat-option",33),t.ALo(16,"async"),t.qZA()()(),t.TgZ(17,"div",30)(18,"mat-form-field",31)(19,"mat-label"),t._uU(20,"Nama Kegiatan"),t.qZA(),t._UZ(21,"input",34),t.qZA()(),t.TgZ(22,"div",30)(23,"mat-form-field",31)(24,"mat-label"),t._uU(25,"Tanggal Kegiatan"),t.qZA(),t.TgZ(26,"input",35),t.NdJ("focus",function(){t.CHM(m);const r=t.MAs(29);return t.KtG(r.open())}),t.qZA(),t._UZ(27,"mat-datepicker-toggle",36)(28,"mat-datepicker",null,37),t.qZA()(),t.TgZ(30,"div",30)(31,"mat-form-field",31)(32,"mat-label"),t._uU(33,"Penerjemahan Dari Bahasa"),t.qZA(),t.TgZ(34,"mat-select",32),t.YNc(35,ct,2,2,"mat-option",33),t.ALo(36,"async"),t.qZA()()(),t.TgZ(37,"div",30)(38,"mat-form-field",31)(39,"mat-label"),t._uU(40,"Penerjemahan Ke Bahasa"),t.qZA(),t.TgZ(41,"mat-select",32),t.YNc(42,mt,2,2,"mat-option",33),t.ALo(43,"async"),t.qZA()()(),t.TgZ(44,"div",30)(45,"mat-form-field",31)(46,"mat-label"),t._uU(47,"Instansi Penugasan"),t.qZA(),t._UZ(48,"input",34),t.qZA()(),t.TgZ(49,"div",30)(50,"mat-form-field",31)(51,"mat-label"),t._uU(52,"Lokasi Kegiatan"),t.qZA(),t._UZ(53,"input",34),t.qZA()()()()(),t.BQk()}if(2&d){const m=t.MAs(29),o=t.oxw(2);t.xp6(3),t.Q6J("formGroup",o.form),t.xp6(3),t.Q6J("matTooltip","Batalkan Penambahan Data Baru"),t.xp6(2),t.Q6J("color","primary")("disabled",o.form.invalid)("matTooltip","Submit Usulan Penambahan Data"),t.xp6(6),t.Q6J("formControlName","jenisKegiatanId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(16,21,o.jenisKegiatanTranslasi$)),t.xp6(6),t.Q6J("formControlName","namaKegiatan")("spellcheck",!1),t.xp6(5),t.Q6J("matDatepicker",m)("formControlName","tglKegiatan")("max",o._helperService.maxDate()),t.xp6(1),t.Q6J("for",m),t.xp6(7),t.Q6J("formControlName","bahasaSourceId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(36,23,o.jenisBahasa$)),t.xp6(6),t.Q6J("formControlName","bahasaTargetId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(43,25,o.jenisBahasa$)),t.xp6(6),t.Q6J("formControlName","instansiPenugasan")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","lokasiKegiatan")("spellcheck",!1)}}function pt(d,h){if(1&d&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t.YNc(3,st,9,4,"ng-container",8),t.YNc(4,ut,54,27,"ng-container",8),t.qZA()()()),2&d){const m=t.oxw();t.xp6(3),t.Q6J("ngIf",!m.insertMode),t.xp6(1),t.Q6J("ngIf",m.insertMode)}}function gt(d,h){if(1&d&&t._UZ(0,"app-usulan",39),2&d){const m=t.oxw();t.Q6J("items",m.rwUsuls)}}function dt(d,h){if(1&d&&(t.ynx(0),t.TgZ(1,"div",44)(2,"div",45)(3,"div",46),t._uU(4,"Tanggal Kegiatan"),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA()(),t.TgZ(7,"div",45)(8,"div",46),t._uU(9,"Jenis Kegiatan"),t.qZA(),t.TgZ(10,"div"),t._uU(11),t.qZA()(),t.TgZ(12,"div",45)(13,"div",46),t._uU(14,"Nama Kegiatan"),t.qZA(),t.TgZ(15,"div"),t._uU(16),t.qZA()(),t.TgZ(17,"div",45)(18,"div",46),t._uU(19,"Instansi Penugasan"),t.qZA(),t.TgZ(20,"div"),t._uU(21),t.qZA()(),t.TgZ(22,"div",45)(23,"div",46),t._uU(24,"Lokasi Kegiatan"),t.qZA(),t.TgZ(25,"div"),t._uU(26),t.qZA()(),t.TgZ(27,"div",45)(28,"div",46),t._uU(29,"Penerjemahan Dari Bahasa"),t.qZA(),t.TgZ(30,"div"),t._uU(31),t.qZA()(),t.TgZ(32,"div",45)(33,"div",46),t._uU(34,"Penerjemahan Ke Bahasa"),t.qZA(),t.TgZ(35,"div"),t._uU(36),t.qZA()()(),t.BQk()),2&d){const m=t.oxw(3);let o,r,a,p,s,A;t.xp6(6),t.Oqu(null!==(o=m.selected.tglKegiatan)&&void 0!==o?o:"-"),t.xp6(5),t.AsE("",m.selected.jenisKegiatanTranslasiTipeKegiatan," - ",m.selected.jenisKegiatanTranslasiNama,""),t.xp6(5),t.Oqu(null!==(r=m.selected.namaKegiatan)&&void 0!==r?r:"-"),t.xp6(5),t.Oqu(null!==(a=m.selected.instansiPenugasan)&&void 0!==a?a:"-"),t.xp6(5),t.Oqu(null!==(p=m.selected.lokasiKegiatan)&&void 0!==p?p:"-"),t.xp6(5),t.Oqu(null!==(s=m.selected.bahasaSource.nama)&&void 0!==s?s:"-"),t.xp6(5),t.Oqu(null!==(A=m.selected.bahasaTarget.nama)&&void 0!==A?A:"-")}}function ft(d,h){if(1&d){const m=t.EpF();t.ynx(0),t.TgZ(1,"div",42)(2,"div",7)(3,"div",9)(4,"div",10)(5,"button",43),t.NdJ("click",function(){t.CHM(m);const r=t.oxw(2);return t.KtG(r.delete())}),t._uU(6," Hapus "),t.qZA(),t.TgZ(7,"button",11),t.NdJ("click",function(){t.CHM(m);const r=t.oxw(2);return t.KtG(r.toggleEditMode(!0))}),t._UZ(8,"mat-icon",12),t.TgZ(9,"span",13),t._uU(10,"Ubah"),t.qZA()()()(),t.YNc(11,dt,37,8,"ng-container",8),t.qZA()(),t.BQk()}if(2&d){const m=t.oxw(2);t.xp6(5),t.Q6J("color","warn")("matTooltip","Hapus Data"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(3),t.Q6J("ngIf",m.selected)}}function N(d,h){if(1&d&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&d){const m=h.$implicit;t.Q6J("value",m.id),t.xp6(1),t.AsE("",m.tipeKegiatan," - ",m.nama," ")}}function Y(d,h){if(1&d&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&d){const m=h.$implicit;t.Q6J("value",m.id),t.xp6(1),t.hij("",m.nama," ")}}function U(d,h){if(1&d&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&d){const m=h.$implicit;t.Q6J("value",m.id),t.xp6(1),t.hij("",m.nama," ")}}function O(d,h){if(1&d){const m=t.EpF();t.ynx(0),t.TgZ(1,"div",30)(2,"mat-form-field",31)(3,"mat-label"),t._uU(4,"Jenis Kegiatan"),t.qZA(),t.TgZ(5,"mat-select",32),t.YNc(6,N,2,3,"mat-option",33),t.ALo(7,"async"),t.qZA()()(),t.TgZ(8,"div",30)(9,"mat-form-field",31)(10,"mat-label"),t._uU(11,"Nama Kegiatan"),t.qZA(),t._UZ(12,"input",34),t.qZA()(),t.TgZ(13,"div",30)(14,"mat-form-field",31)(15,"mat-label"),t._uU(16,"Tanggal Kegiatan"),t.qZA(),t.TgZ(17,"input",35),t.NdJ("focus",function(){t.CHM(m);const r=t.MAs(20);return t.KtG(r.open())}),t.qZA(),t._UZ(18,"mat-datepicker-toggle",36)(19,"mat-datepicker",null,37),t.qZA()(),t.TgZ(21,"div",30)(22,"mat-form-field",31)(23,"mat-label"),t._uU(24,"Penerjemahan Dari Bahasa"),t.qZA(),t.TgZ(25,"mat-select",32),t.YNc(26,Y,2,2,"mat-option",33),t.ALo(27,"async"),t.qZA()()(),t.TgZ(28,"div",30)(29,"mat-form-field",31)(30,"mat-label"),t._uU(31,"Penerjemahan Ke Bahasa"),t.qZA(),t.TgZ(32,"mat-select",32),t.YNc(33,U,2,2,"mat-option",33),t.ALo(34,"async"),t.qZA()()(),t.TgZ(35,"div",30)(36,"mat-form-field",31)(37,"mat-label"),t._uU(38,"Instansi Penugasan"),t.qZA(),t._UZ(39,"input",34),t.qZA()(),t.TgZ(40,"div",30)(41,"mat-form-field",31)(42,"mat-label"),t._uU(43,"Lokasi Kegiatan"),t.qZA(),t._UZ(44,"input",34),t.qZA()(),t.BQk()}if(2&d){const m=t.MAs(20),o=t.oxw(3);t.xp6(5),t.Q6J("formControlName","jenisKegiatanId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(7,16,o.jenisKegiatanTranslasi$)),t.xp6(6),t.Q6J("formControlName","namaKegiatan")("spellcheck",!1),t.xp6(5),t.Q6J("matDatepicker",m)("formControlName","tglKegiatan")("max",o._helperService.maxDate()),t.xp6(1),t.Q6J("for",m),t.xp6(7),t.Q6J("formControlName","bahasaSourceId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(27,18,o.jenisBahasa$)),t.xp6(6),t.Q6J("formControlName","bahasaTargetId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(34,20,o.jenisBahasa$)),t.xp6(6),t.Q6J("formControlName","instansiPenugasan")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","lokasiKegiatan")("spellcheck",!1)}}function B(d,h){if(1&d){const m=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"form",26)(4,"div",9)(5,"div",27)(6,"button",28),t.NdJ("click",function(){t.CHM(m);const r=t.oxw(2);return t.KtG(r.toggleEditMode(!1))}),t._uU(7," Batal "),t.qZA(),t.TgZ(8,"button",29),t.NdJ("click",function(){t.CHM(m);const r=t.oxw(2);return t.KtG(r.update())}),t._uU(9," Submit Usulan "),t.qZA()()(),t.YNc(10,O,45,22,"ng-container",8),t.qZA()()(),t.BQk()}if(2&d){const m=t.oxw(2);t.xp6(3),t.Q6J("formGroup",m.form),t.xp6(3),t.Q6J("matTooltip","Batalkan Perubahan Data"),t.xp6(2),t.Q6J("color","primary")("disabled",m.form.invalid)("matTooltip","Submit Usulan Perubahan Data"),t.xp6(2),t.Q6J("ngIf",m.selected)}}function C(d,h){if(1&d&&(t.TgZ(0,"div",15)(1,"div",40)(2,"div",41)(3,"div",5),t.YNc(4,ft,12,4,"ng-container",8),t.YNc(5,B,11,6,"ng-container",8),t.qZA()()()()),2&d){const m=t.oxw();t.xp6(4),t.Q6J("ngIf",!m.editMode),t.xp6(1),t.Q6J("ngIf",m.editMode)}}let Q=(()=>{class d{constructor(m,o,r,a,p,s,A,E){this._penerjemahService=m,this._referensiService=o,this._helperService=r,this._changeDetectorRef=a,this._formBuilder=p,this._toastr=s,this._authService=A,this._userService=E,this.rwKegiatanTranslasi=[],this.rwUsuls=[],this.selected=null,this.editMode=!1,this.insertMode=!1,this.onFileInputed=!1,this.jenisKegiatanTranslasi$=this._referensiService.jenisKegiatanTranslasi(),this.jenisBahasa$=this._referensiService.jenisBahasa(),this._unsubscribeAll=new n.x}ngOnInit(){this.form=this._formBuilder.group({lokasiKegiatan:[null,x.kI.required],bahasaSourceId:[null,x.kI.required],bahasaTargetId:[null,x.kI.required],jenisKegiatanId:[null,x.kI.required],tglKegiatan:[null,x.kI.required],instansiPenugasan:[null,x.kI.required],namaKegiatan:[null,x.kI.required]}),this.loadData()}loadData(){"ROLE_ADMIN"===this._authService.role?this._penerjemahService.jfpItem$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(m=>{this.pnsId=m.id,this._changeDetectorRef.markForCheck()}):this._userService.user$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(m=>{this.pnsId=m.pnsId,this._changeDetectorRef.markForCheck()}),this._penerjemahService.getRwKegiatanTranslasi(this.pnsId).subscribe(),this._penerjemahService.rwKegiatanTranslasi$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(m=>{m&&(this.rwKegiatanTranslasi=m,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"RW_KEG_TRANSLASI",size:100}).pipe((0,i.R)(this._unsubscribeAll)).subscribe(m=>{m&&(this.rwUsuls=m,this._changeDetectorRef.markForCheck())})}insert(){const m=this.form.getRawValue(),o=new FormData;o.append("pnsId",this.pnsId),m.lokasiKegiatan&&o.append("lokasiKegiatan",m.lokasiKegiatan),m.bahasaSourceId&&o.append("bahasaSourceId",m.bahasaSourceId),m.bahasaTargetId&&o.append("bahasaTargetId",m.bahasaTargetId),m.jenisKegiatanId&&o.append("jenisKegiatanId",m.jenisKegiatanId),m.tglKegiatan&&o.append("tglKegiatan",R()(m.tglKegiatan).format("DD-MM-YYYY")),m.instansiPenugasan&&o.append("instansiPenugasan",m.instansiPenugasan),m.namaKegiatan&&o.append("namaKegiatan",m.namaKegiatan),this._penerjemahService.saveRwKegiatanTranslasi(o).subscribe(r=>{r?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(r?.message,"ERROR")})}delete(){this._penerjemahService.deleteRwKegiatanTranslasi(this.selected.id).subscribe(m=>{m?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(m?.message,"ERROR")})}update(){const m=this.form.getRawValue(),o=new FormData;o.append("pnsId",this.pnsId),o.append("id",this.selected.id),m.lokasiKegiatan&&o.append("lokasiKegiatan",m.lokasiKegiatan),m.bahasaSourceId&&o.append("bahasaSourceId",m.bahasaSourceId),m.bahasaTargetId&&o.append("bahasaTargetId",m.bahasaTargetId),m.jenisKegiatanId&&o.append("jenisKegiatanId",m.jenisKegiatanId),m.tglKegiatan&&o.append("tglKegiatan",R()(m.tglKegiatan).format("DD-MM-YYYY")),m.instansiPenugasan&&o.append("instansiPenugasan",m.instansiPenugasan),m.namaKegiatan&&o.append("namaKegiatan",m.namaKegiatan),this._penerjemahService.saveRwKegiatanTranslasi(o).subscribe(r=>{r?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(r?.message,"ERROR")})}displayFn(m){if(m)return m.nama}trackByFn(m,o){return o.id||m}toggleInsertMode(m=null){this.insertMode=null===m?!this.insertMode:m,this._changeDetectorRef.markForCheck()}toggleEditMode(m=null){this.editMode=null===m?!this.editMode:m,this._changeDetectorRef.markForCheck()}toggleDetails(m){this.selected&&this.selected.id===m?this.closeDetails():this._penerjemahService.getRwKegiatanTranslasiById(m).subscribe(o=>{this.selected=o,this.form.patchValue(o),this.form.get("tglKegiatan").setValue(this._helperService.getDateFromStringID(o.tglKegiatan)),this.form.get("bahasaSourceId").setValue(o.bahasaSource.id),this.form.get("bahasaTargetId").setValue(o.bahasaTarget.id),this.form.get("jenisKegiatanId").setValue(o.jenisKegiatanTranslasiId),this._changeDetectorRef.markForCheck()})}closeDetails(){this.selected=null}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return d.\u0275fac=function(m){return new(m||d)(t.Y36(nt.e),t.Y36(j.A2),t.Y36(et.W),t.Y36(t.sBO),t.Y36(x.qu),t.Y36(X._W),t.Y36(e.e),t.Y36(at.K))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-kegiatan-penerjemahan"]],features:[t._Bn([{provide:M.sG,useValue:j.lv},{provide:M._A,useClass:S.t7,deps:[M.Ad]}])],decls:7,vars:1,consts:[[1,"ml-0","pl-0","mt-5",3,"animationDuration"],["label","Data Disetujui"],["matTabContent",""],["label","Riwayat Usulan"],["rowDetailsTemplate",""],[1,"flex","flex-col","w-full"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6"],[1,"w-full"],[4,"ngIf"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-11","text-md","font-medium"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"hidden","sm:block"],[1,"col-span-1","self-center","text-right"],["mat-stroked-button","",1,"min-w-10","min-h-10","h-10","px-2","leading-6",3,"click"],[1,"col-span-12","my-4","border-b"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type"],["fuseAlertTitle",""],[3,"formGroup"],[1,"flex","items-center","justify-end","w-full","mx-auto"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"formControlName","spellcheck"],["matInput","",3,"matDatepicker","formControlName","max","focus"],["matSuffix","",3,"for"],["_tglKegiatan",""],[3,"value"],[3,"items"],[1,"col-span-12","shadow-lg","overflow-hidden","mb-4"],[1,"flex","border-b"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0"],["mat-button","",1,"mr-5",3,"color","matTooltip","click"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"]],template:function(m,o){1&m&&(t.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),t.YNc(2,pt,5,2,"ng-template",2),t.qZA(),t.TgZ(3,"mat-tab",3),t.YNc(4,gt,1,1,"ng-template",2),t.qZA()(),t.YNc(5,C,6,2,"ng-template",null,4,t.W1O)),2&m&&t.Q6J("animationDuration","0")},dependencies:[c.sg,c.O5,c.tP,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,it.lW,L.Mq,L.hl,L.nW,w.KE,w.hX,w.R9,V.Hw,ot.Nt,F.gD,M.ey,q.gM,y.W,P.SP,P.uX,P.Vc,G.Q,c.Ov],encapsulation:2,changeDetection:0}),d})()},9804:(xt,W,l)=>{l.d(W,{W:()=>J});var x=l(92),S=l(8772),M=l(1379),j=l(5450),k=l(8023),R=l(3151),n=l(3528),i=l(8168),t=l(7969),nt=l(4970),et=l(1528),X=l(5490),e=l(4537),at=l(47),c=l(2047),it=l(8292),L=l(8951),w=l(7495),V=l(8692),ot=l(9638),F=l(8659),q=l(3331),y=l(7406),P=l(2940),G=l(1637),$=l(2494),z=l(2516),tt=l(7569);function _t(u,Z){if(1&u){const g=e.EpF();e.ynx(0),e.TgZ(1,"div",22),e._uU(2,"\u2022"),e.qZA(),e.TgZ(3,"div",23)(4,"button",24),e.NdJ("click",function(){e.CHM(g);const K=e.oxw().$implicit,ht=e.oxw(3);return e.KtG(ht.togglePrint(K.dokumenId))}),e._uU(5),e.qZA()(),e.BQk()}if(2&u){const g=e.oxw().$implicit;e.xp6(3),e.Q6J("matTooltip","Nomor SK"),e.xp6(2),e.Oqu(g.namaInstansi)}}function lt(u,Z){1&u&&e.GkF(0)}const st=function(u){return{$implicit:u}};function rt(u,Z){if(1&u&&(e.ynx(0),e.YNc(1,lt,1,0,"ng-container",25),e.BQk()),2&u){const g=e.oxw().$implicit;e.oxw(3);const I=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",I)("ngTemplateOutletContext",e.VKq(2,st,g))}}function ct(u,Z){if(1&u){const g=e.EpF();e.ynx(0),e.TgZ(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18),e.YNc(5,_t,6,2,"ng-container",8),e.qZA()()(),e.TgZ(6,"div",19)(7,"button",20),e.NdJ("click",function(){const ht=e.CHM(g).$implicit,Tt=e.oxw(3);return e.KtG(Tt.toggleDetails(ht.id))}),e._UZ(8,"mat-icon",12),e.qZA()(),e._UZ(9,"div",21),e.qZA(),e.YNc(10,rt,2,4,"ng-container",8),e.BQk()}if(2&u){const g=Z.$implicit,I=e.oxw(3);e.xp6(5),e.Q6J("ngIf",g.noSk),e.xp6(3),e.Q6J("svgIcon",(null==I.selected?null:I.selected.id)===g.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),e.xp6(2),e.Q6J("ngIf",(null==I.selected?null:I.selected.id)===g.id)}}function mt(u,Z){1&u&&(e.ynx(0),e.TgZ(1,"fuse-alert",26)(2,"span",27),e._uU(3,"Belum ada data riwayat instansi"),e.qZA()(),e.BQk()),2&u&&(e.xp6(1),e.Q6J("type","info"))}function ut(u,Z){if(1&u){const g=e.EpF();e.ynx(0),e.TgZ(1,"div",9)(2,"div",10)(3,"button",11),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(2);return e.KtG(K.toggleInsertMode(!0))}),e._UZ(4,"mat-icon",12),e.TgZ(5,"span",13),e._uU(6,"Data Baru"),e.qZA()()()(),e.YNc(7,ct,11,3,"ng-container",14),e.YNc(8,mt,4,1,"ng-container",8),e.BQk()}if(2&u){const g=e.oxw(2);e.xp6(4),e.Q6J("svgIcon","heroicons_solid:plus"),e.xp6(3),e.Q6J("ngForOf",g.rwInstansi)("ngForTrackBy",g.trackByFn),e.xp6(1),e.Q6J("ngIf",!g.rwInstansi.length)}}function pt(u,Z){if(1&u){const g=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(3);return e.KtG(K.form.get("instansiId").setValue(""))}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function gt(u,Z){1&u&&(e.TgZ(0,"mat-option",50),e._uU(1," Instansi tidak ditemukan! "),e.qZA())}function dt(u,Z){if(1&u&&(e.TgZ(0,"mat-option",51)(1,"span",52),e._uU(2),e.ALo(3,"titlecase"),e.qZA()()),2&u){const g=Z.$implicit;e.Q6J("value",g),e.xp6(2),e.AsE("",e.lcZ(3,3,g.nama)," - ","P"===g.jenis?"Pusat":"Daerah","")}}function ft(u,Z){1&u&&(e.TgZ(0,"mat-error"),e._uU(1," Anda harus memilih pilihan instansi dari hasil pencarian "),e.qZA())}function N(u,Z){if(1&u){const g=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(g),e.oxw();const K=e.MAs(44);return e.KtG(K.click())}),e._uU(1,"Unggah Dokumen"),e.qZA()}2&u&&e.Q6J("color","accent")}function Y(u,Z){if(1&u){const g=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(3);return e.KtG(K.toggleOnFileInputed(!1))}),e._UZ(1,"mat-icon",55),e.qZA()}2&u&&(e.Q6J("matTooltip","Clear"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"))}function U(u,Z){if(1&u){const g=e.EpF();e.ynx(0),e.TgZ(1,"div",6)(2,"div",7)(3,"form",28)(4,"div",9)(5,"div",29)(6,"button",30),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(2);return e.KtG(K.toggleInsertMode(!1))}),e._uU(7," Batal "),e.qZA(),e.TgZ(8,"button",31),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(2);return e.KtG(K.insert())}),e._uU(9," Submit Usulan "),e.qZA()()(),e.TgZ(10,"div",32)(11,"mat-form-field",33)(12,"mat-label"),e._uU(13,"Instansi"),e.qZA(),e._UZ(14,"mat-icon",34)(15,"input",35),e.YNc(16,pt,3,0,"button",36),e.qZA(),e.TgZ(17,"mat-autocomplete",37,38),e.YNc(19,gt,2,0,"mat-option",39),e.YNc(20,dt,4,5,"mat-option",40),e.qZA(),e.YNc(21,ft,2,0,"mat-error",8),e.qZA(),e.TgZ(22,"div",32)(23,"mat-form-field",33)(24,"mat-label"),e._uU(25,"Satuan Organisasi"),e.qZA(),e._UZ(26,"input",41),e.qZA()(),e.TgZ(27,"div",32)(28,"mat-form-field",33)(29,"mat-label"),e._uU(30,"Unit Kerja"),e.qZA(),e._UZ(31,"input",41),e.qZA()(),e.TgZ(32,"div",32)(33,"mat-form-field",33)(34,"mat-label"),e._uU(35,"No. SK"),e.qZA(),e._UZ(36,"input",41),e.qZA()(),e.TgZ(37,"div",32)(38,"div",33)(39,"mat-label"),e._uU(40,"Dokumen SK "),e.TgZ(41,"i"),e._uU(42,"(PDF, Maksimal ukuran 2 MB)"),e.qZA()(),e.TgZ(43,"input",42,43),e.NdJ("click",function(){e.CHM(g);const K=e.MAs(44);return e.KtG(K.value=null)})("change",function(K){e.CHM(g);const ht=e.oxw(2);return e.KtG(ht.onFileInput(K))}),e.qZA(),e.TgZ(45,"div",44)(46,"div",45),e.YNc(47,N,2,1,"button",46),e.YNc(48,Y,2,2,"button",47),e._UZ(49,"span",48),e.qZA()()()()()()(),e.BQk()}if(2&u){const g=e.MAs(18),I=e.oxw(2);e.xp6(3),e.Q6J("formGroup",I.form),e.xp6(3),e.Q6J("matTooltip","Batalkan Penambahan Data Baru"),e.xp6(2),e.Q6J("color","primary")("disabled",I.form.invalid)("matTooltip","Submit Usulan Penambahan Data"),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:search"),e.xp6(1),e.Q6J("formControlName","instansiId")("matAutocomplete",g)("placeholder","Cari nama instansi..."),e.xp6(1),e.Q6J("ngIf",I.form.get("instansiId").value),e.xp6(1),e.Q6J("displayWith",I.displayInstansiFn)("disableRipple",!0),e.xp6(2),e.Q6J("ngIf",I.resultInstansi&&!I.resultInstansi.length),e.xp6(1),e.Q6J("ngForOf",I.resultInstansi)("ngForTrackBy",I.trackByFn),e.xp6(1),e.Q6J("ngIf",I.form.controls.instansiId.hasError("incorrect")),e.xp6(5),e.Q6J("formControlName","satuanorganisasi")("spellcheck",!1),e.xp6(5),e.Q6J("formControlName","unitkerja")("spellcheck",!1),e.xp6(5),e.Q6J("formControlName","noSk")("spellcheck",!1),e.xp6(11),e.Q6J("ngIf",!I.onFileInputed),e.xp6(1),e.Q6J("ngIf",I.onFileInputed),e.xp6(1),e.Q6J("id","fileDokumen")}}function O(u,Z){if(1&u&&(e.TgZ(0,"div",5)(1,"div",6)(2,"div",7),e.YNc(3,ut,9,4,"ng-container",8),e.YNc(4,U,50,25,"ng-container",8),e.qZA()()()),2&u){const g=e.oxw();e.xp6(3),e.Q6J("ngIf",!g.insertMode),e.xp6(1),e.Q6J("ngIf",g.insertMode)}}function B(u,Z){if(1&u&&e._UZ(0,"app-usulan",56),2&u){const g=e.oxw();e.Q6J("items",g.rwUsuls)}}function C(u,Z){if(1&u){const g=e.EpF();e.TgZ(0,"button",65),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(4);return e.KtG(K.togglePrint(K.selected.dokumenId))}),e._UZ(1,"mat-icon",12),e.TgZ(2,"span"),e._uU(3,"Unduh"),e.qZA()()}2&u&&(e.xp6(1),e.Q6J("svgIcon","heroicons_solid:paper-clip"))}function Q(u,Z){1&u&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function d(u,Z){if(1&u&&(e.ynx(0),e.TgZ(1,"div",61)(2,"div",62)(3,"div",63),e._uU(4,"No. SK"),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA()(),e.TgZ(7,"div",62)(8,"div",63),e._uU(9,"Satuan Organisasi"),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA()(),e.TgZ(12,"div",62)(13,"div",63),e._uU(14,"Unit Kerja"),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.qZA()(),e.TgZ(17,"div",62)(18,"div",63),e._uU(19,"Nama Instansi"),e.qZA(),e.TgZ(20,"div"),e._uU(21),e.qZA()(),e.TgZ(22,"div",62)(23,"div",63),e._uU(24,"Dokumen SK"),e.qZA(),e.YNc(25,C,4,1,"button",64),e.YNc(26,Q,2,0,"div",8),e.qZA()(),e.BQk()),2&u){const g=e.oxw(3);let I,K,ht,Tt;e.xp6(6),e.Oqu(null!==(I=g.selected.noSk)&&void 0!==I?I:"-"),e.xp6(5),e.Oqu(null!==(K=g.selected.satuanorganisasi)&&void 0!==K?K:"-"),e.xp6(5),e.Oqu(null!==(ht=g.selected.unitkerja)&&void 0!==ht?ht:"-"),e.xp6(5),e.Oqu(null!==(Tt=g.selected.namaInstansi)&&void 0!==Tt?Tt:"-"),e.xp6(4),e.Q6J("ngIf",g.selected.dokumenId),e.xp6(1),e.Q6J("ngIf",!g.selected.dokumenId)}}function h(u,Z){if(1&u){const g=e.EpF();e.ynx(0),e.TgZ(1,"div",59)(2,"div",7)(3,"div",9)(4,"div",10)(5,"button",60),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(2);return e.KtG(K.delete())}),e._uU(6," Hapus "),e.qZA(),e.TgZ(7,"button",11),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(2);return e.KtG(K.toggleEditMode(!0))}),e._UZ(8,"mat-icon",12),e.TgZ(9,"span",13),e._uU(10,"Ubah"),e.qZA()()()(),e.YNc(11,d,27,6,"ng-container",8),e.qZA()(),e.BQk()}if(2&u){const g=e.oxw(2);e.xp6(5),e.Q6J("color","warn")("matTooltip","Hapus Data"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil-alt"),e.xp6(3),e.Q6J("ngIf",g.selected)}}function m(u,Z){if(1&u){const g=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(4);return e.KtG(K.form.get("instansiId").setValue(""))}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function o(u,Z){1&u&&(e.TgZ(0,"mat-option",50),e._uU(1," Instansi tidak ditemukan! "),e.qZA())}function r(u,Z){if(1&u&&(e.TgZ(0,"mat-option",51)(1,"span",52),e._uU(2),e.ALo(3,"titlecase"),e.qZA()()),2&u){const g=Z.$implicit;e.Q6J("value",g),e.xp6(2),e.AsE("",e.lcZ(3,3,g.nama)," - ","P"===g.jenis?"Pusat":"Daerah","")}}function a(u,Z){1&u&&(e.TgZ(0,"mat-error"),e._uU(1," Anda harus memilih pilihan instansi dari hasil pencarian "),e.qZA())}function p(u,Z){if(1&u){const g=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(g),e.oxw();const K=e.MAs(35);return e.KtG(K.click())}),e._uU(1,"Unggah Dokumen"),e.qZA()}2&u&&e.Q6J("color","accent")}function s(u,Z){if(1&u){const g=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(4);return e.KtG(K.toggleOnFileInputed(!1))}),e._UZ(1,"mat-icon",55),e.qZA()}2&u&&(e.Q6J("matTooltip","Clear"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"))}function A(u,Z){if(1&u){const g=e.EpF();e.ynx(0),e.TgZ(1,"div",32)(2,"mat-form-field",33)(3,"mat-label"),e._uU(4,"Instansi"),e.qZA(),e._UZ(5,"mat-icon",34)(6,"input",35),e.YNc(7,m,3,0,"button",36),e.qZA(),e.TgZ(8,"mat-autocomplete",37,38),e.YNc(10,o,2,0,"mat-option",39),e.YNc(11,r,4,5,"mat-option",40),e.qZA(),e.YNc(12,a,2,0,"mat-error",8),e.qZA(),e.TgZ(13,"div",32)(14,"mat-form-field",33)(15,"mat-label"),e._uU(16,"Satuan Organisasi"),e.qZA(),e._UZ(17,"input",41),e.qZA()(),e.TgZ(18,"div",32)(19,"mat-form-field",33)(20,"mat-label"),e._uU(21,"Unit Kerja"),e.qZA(),e._UZ(22,"input",41),e.qZA()(),e.TgZ(23,"div",32)(24,"mat-form-field",33)(25,"mat-label"),e._uU(26,"No. SK"),e.qZA(),e._UZ(27,"input",41),e.qZA()(),e.TgZ(28,"div",32)(29,"div",33)(30,"mat-label"),e._uU(31,"Dokumen SK "),e.TgZ(32,"i"),e._uU(33,"(PDF, Maksimal ukuran 2 MB)"),e.qZA()(),e.TgZ(34,"input",42,43),e.NdJ("click",function(){e.CHM(g);const K=e.MAs(35);return e.KtG(K.value=null)})("change",function(K){e.CHM(g);const ht=e.oxw(3);return e.KtG(ht.onFileInput(K))}),e.qZA(),e.TgZ(36,"div",44)(37,"div",45),e.YNc(38,p,2,1,"button",46),e.YNc(39,s,2,2,"button",47),e._UZ(40,"span",48),e.qZA()()()(),e.BQk()}if(2&u){const g=e.MAs(9),I=e.oxw(3);e.xp6(5),e.Q6J("svgIcon","heroicons_solid:search"),e.xp6(1),e.Q6J("formControlName","instansiId")("matAutocomplete",g)("placeholder","Cari nama instansi..."),e.xp6(1),e.Q6J("ngIf",I.form.get("instansiId").value),e.xp6(1),e.Q6J("displayWith",I.displayInstansiFn)("disableRipple",!0),e.xp6(2),e.Q6J("ngIf",I.resultInstansi&&!I.resultInstansi.length),e.xp6(1),e.Q6J("ngForOf",I.resultInstansi)("ngForTrackBy",I.trackByFn),e.xp6(1),e.Q6J("ngIf",I.form.controls.instansiId.hasError("incorrect")),e.xp6(5),e.Q6J("formControlName","satuanorganisasi")("spellcheck",!1),e.xp6(5),e.Q6J("formControlName","unitkerja")("spellcheck",!1),e.xp6(5),e.Q6J("formControlName","noSk")("spellcheck",!1),e.xp6(11),e.Q6J("ngIf",!I.onFileInputed),e.xp6(1),e.Q6J("ngIf",I.onFileInputed),e.xp6(1),e.Q6J("id","fileDokumen")}}function E(u,Z){if(1&u){const g=e.EpF();e.ynx(0),e.TgZ(1,"div",6)(2,"div",7)(3,"form",28)(4,"div",9)(5,"div",29)(6,"button",30),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(2);return e.KtG(K.toggleEditMode(!1))}),e._uU(7," Batal "),e.qZA(),e.TgZ(8,"button",31),e.NdJ("click",function(){e.CHM(g);const K=e.oxw(2);return e.KtG(K.update())}),e._uU(9," Submit Usulan "),e.qZA()()(),e.YNc(10,A,41,20,"ng-container",8),e.qZA()()(),e.BQk()}if(2&u){const g=e.oxw(2);e.xp6(3),e.Q6J("formGroup",g.form),e.xp6(3),e.Q6J("matTooltip","Batalkan Perubahan Data"),e.xp6(2),e.Q6J("color","primary")("disabled",g.form.invalid)("matTooltip","Submit Usulan Perubahan Data"),e.xp6(2),e.Q6J("ngIf",g.selected)}}function b(u,Z){if(1&u&&(e.TgZ(0,"div",15)(1,"div",57)(2,"div",58)(3,"div",5),e.YNc(4,h,12,4,"ng-container",8),e.YNc(5,E,11,6,"ng-container",8),e.qZA()()()()),2&u){const g=e.oxw();e.xp6(4),e.Q6J("ngIf",!g.editMode),e.xp6(1),e.Q6J("ngIf",g.editMode)}}let J=(()=>{class u{constructor(g,I,K,ht,Tt,At,vt,kt){this._penerjemahService=g,this._referensiService=I,this._helperService=K,this._changeDetectorRef=ht,this._formBuilder=Tt,this._toastr=At,this._authService=vt,this._userService=kt,this.isLoading=!1,this.rwInstansi=[],this.rwUsuls=[],this.selected=null,this.editMode=!1,this.insertMode=!1,this.onFileInputed=!1,this.jenisinstansi$=this._referensiService.instansi(),this._unsubscribeAll=new k.x}ngOnInit(){this.form=this._formBuilder.group({instansiId:[null,x.kI.required],unitkerja:[null,x.kI.required],satuanorganisasi:[null,x.kI.required],noSk:[null,x.kI.required],file:[null,x.kI.required]}),this.loadData(),this.form.get("instansiId").valueChanges.pipe((0,R.b)(300),(0,n.R)(this._unsubscribeAll),(0,i.b)(()=>this.isLoading=!0),(0,t.U)(g=>((!g||g.length<2)&&(this.resultInstansi=null),g)),(0,nt.h)(g=>g&&g.length>=2),(0,et.w)(g=>this._referensiService.instansi({q:g}).pipe((0,X.x)(()=>this.isLoading=!1)))).subscribe(g=>{this.resultInstansi=g?.content,this._changeDetectorRef.markForCheck()})}loadData(){"ROLE_ADMIN"===this._authService.role?this._penerjemahService.jfpItem$.pipe((0,n.R)(this._unsubscribeAll)).subscribe(g=>{this.pnsId=g.id,this._changeDetectorRef.markForCheck()}):this._userService.user$.pipe((0,n.R)(this._unsubscribeAll)).subscribe(g=>{this.pnsId=g.pnsId,this._changeDetectorRef.markForCheck()}),this._penerjemahService.getRwInstansi(this.pnsId).subscribe(),this._penerjemahService.rwInstansi$.pipe((0,n.R)(this._unsubscribeAll)).subscribe(g=>{console.log("Data RW Instansi:",g),g&&(this.rwInstansi=g,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"RW_INSTANSI",size:100}).pipe((0,n.R)(this._unsubscribeAll)).subscribe(g=>{g&&(this.rwUsuls=g,this._changeDetectorRef.markForCheck())})}togglePrint(g){this._penerjemahService.getDokumen(g).subscribe({next:I=>{const K=URL.createObjectURL(I);window.open(K,"_blank")},error:I=>{this._toastr.error("ERROR: Dokumen gagal ditampilkan","ERROR")}})}onFileInput(g){const I=this._referensiService.onFileInputSingle(g,"application/pdf",2e3);return I.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=I.fileInfo.name,this.form.get("file").setValue(g.target.files[0]),!0):(this._toastr.error(I.msg,"ERROR"),!1)}insert(){const g=this.form.getRawValue(),I=new FormData;I.append("pnsId",this.pnsId),g.instansiId&&I.append("instansiId",g.instansiId.id),g.unitkerja&&I.append("unitkerja",g.unitkerja),g.satuanorganisasi&&I.append("satuanorganisasi",g.satuanorganisasi),g.noSk&&I.append("noSk",g.noSk),g.file&&I.append("file",g.file),console.log("Insert Data:",{pnsId:this.pnsId,formInput:g,body:I}),this._penerjemahService.saveRwInstansi(I).subscribe(K=>{K?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(K?.message,"ERROR")})}delete(){this._penerjemahService.deleteRwInstansi(this.selected.id).subscribe(g=>{g?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(g?.message,"ERROR")})}update(){const g=this.form.getRawValue(),I=new FormData;I.append("pnsId",this.pnsId),I.append("id",this.selected.id),g.instansiId&&I.append("instansiId",g.instansiId),g.unitkerja&&I.append("unitkerja",g.unitkerja),g.satuanorganisasi&&I.append("satuanorganisasi",g.satuanorganisasi),g.noSk&&I.append("noSk",g.noSk),g.file&&I.append("file",g.file),this._penerjemahService.saveRwInstansi(I).subscribe(K=>{K?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(K?.message,"ERROR")})}displayFn(g){if(g)return g.nama}trackByFn(g,I){return I.id||g}toggleOnFileInputed(g=null){null===g?this.onFileInputed=!this.onFileInputed:(g||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=g),this._changeDetectorRef.markForCheck()}toggleInsertMode(g=null){this.insertMode=null===g?!this.insertMode:g,this._changeDetectorRef.markForCheck()}toggleEditMode(g=null){this.editMode=null===g?!this.editMode:g,this._changeDetectorRef.markForCheck()}toggleDetails(g){this.selected&&this.selected.id===g?this.closeDetails():this._penerjemahService.getRwInstansiById(g).subscribe(I=>{console.log("Fetched Item:",I),this.selected=I,this.form.patchValue(I),this._changeDetectorRef.markForCheck()})}closeDetails(){this.selected=null}displayInstansiFn(g){if(g)return g.nama}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return u.\u0275fac=function(g){return new(g||u)(e.Y36(at.e),e.Y36(j.A2),e.Y36(c.W),e.Y36(e.sBO),e.Y36(x.qu),e.Y36(it._W),e.Y36(L.e),e.Y36(w.K))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-mutasi"]],features:[e._Bn([{provide:M.sG,useValue:j.lv},{provide:M._A,useClass:S.t7,deps:[M.Ad]}])],decls:7,vars:1,consts:[[1,"ml-0","pl-0","mt-5",3,"animationDuration"],["label","Data Disetujui"],["matTabContent",""],["label","Riwayat Usulan"],["rowDetailsTemplate",""],[1,"flex","flex-col","w-full"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6"],[1,"w-full"],[4,"ngIf"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-11","text-md","font-medium"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","sm:items-center","-ml-0.5","mt-2","sm:mt-1","space-y-1","sm:space-y-0","sm:space-x-3"],[1,"col-span-1","self-center","text-right"],["mat-stroked-button","",1,"min-w-10","min-h-10","h-10","px-2","leading-6",3,"click"],[1,"col-span-12","my-4","border-b"],[1,"hidden","sm:block"],[1,"flex","items-center",3,"matTooltip"],[1,"ml-4","text-sm","underline",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type"],["fuseAlertTitle",""],[3,"formGroup"],[1,"flex","items-center","justify-end","w-full","mx-auto"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName","matAutocomplete","placeholder"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[3,"displayWith","disableRipple"],["matAutocompletePendidikan","matAutocomplete"],["class","py-0 px-6 text-md pointer-events-none text-secondary bg-transparent",4,"ngIf"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["matInput","",3,"formControlName","spellcheck"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"py-0","px-6","text-md","pointer-events-none","text-secondary","bg-transparent"],[3,"value"],[1,"text-sm","font-semibold","tracking-wider","text-secondary"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"],[3,"items"],[1,"col-span-12","shadow-lg","overflow-hidden","mb-4"],[1,"flex","border-b"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0"],["mat-button","",1,"mr-5",3,"color","matTooltip","click"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],["class","px-3","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"px-3",3,"click"]],template:function(g,I){1&g&&(e.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),e.YNc(2,O,5,2,"ng-template",2),e.qZA(),e.TgZ(3,"mat-tab",3),e.YNc(4,B,1,1,"ng-template",2),e.qZA()(),e.YNc(5,b,6,2,"ng-template",null,4,e.W1O)),2&g&&e.Q6J("animationDuration","0")},dependencies:[V.sg,V.O5,V.tP,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,ot.lW,F.TO,F.KE,F.hX,F.qo,F.R9,q.Hw,y.Nt,M.ey,P.gM,G.XC,G.ZL,$.W,z.SP,z.uX,z.Vc,tt.Q,V.rS],encapsulation:2,changeDetection:0}),u})()},9949:(xt,W,l)=>{l.d(W,{m:()=>r});var x=l(92),S=l(8772),M=l(1379),j=l(5450),k=l(6738),R=l.n(k),n=l(8023),i=l(3528),t=l(4537),nt=l(47),et=l(2047),X=l(8292),e=l(8951),at=l(7495),c=l(8692),it=l(9638),L=l(3704),w=l(8659),V=l(3331),ot=l(7406),F=l(8033),q=l(2940),y=l(2494),P=l(2516),G=l(7569);function $(a,p){if(1&a&&(t.ynx(0),t.TgZ(1,"div",22),t._uU(2,"\u2022"),t.qZA(),t.TgZ(3,"div",23)(4,"button",24),t._uU(5),t.qZA()(),t.BQk()),2&a){const s=t.oxw().$implicit;let A;t.xp6(3),t.Q6J("matTooltip","Nama"),t.xp6(2),t.Oqu(null!==(A=s.namapelatihan)&&void 0!==A?A:"-")}}function z(a,p){1&a&&t.GkF(0)}const tt=function(a){return{$implicit:a}};function _t(a,p){if(1&a&&(t.ynx(0),t.YNc(1,z,1,0,"ng-container",25),t.BQk()),2&a){const s=t.oxw().$implicit;t.oxw(3);const A=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",A)("ngTemplateOutletContext",t.VKq(2,tt,s))}}function lt(a,p){if(1&a){const s=t.EpF();t.ynx(0),t.TgZ(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18),t.YNc(5,$,6,2,"ng-container",8),t.qZA()()(),t.TgZ(6,"div",19)(7,"button",20),t.NdJ("click",function(){const b=t.CHM(s).$implicit,J=t.oxw(3);return t.KtG(J.toggleDetails(b.id))}),t._UZ(8,"mat-icon",12),t.qZA()(),t._UZ(9,"div",21),t.qZA(),t.YNc(10,_t,2,4,"ng-container",8),t.BQk()}if(2&a){const s=p.$implicit,A=t.oxw(3);t.xp6(5),t.Q6J("ngIf",s.namapelatihan),t.xp6(3),t.Q6J("svgIcon",(null==A.selected?null:A.selected.id)===s.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),t.xp6(2),t.Q6J("ngIf",(null==A.selected?null:A.selected.id)===s.id)}}function st(a,p){1&a&&(t.ynx(0),t.TgZ(1,"fuse-alert",26)(2,"span",27),t._uU(3,"Belum ada data riwayat pelatihan"),t.qZA()(),t.BQk()),2&a&&(t.xp6(1),t.Q6J("type","info"))}function rt(a,p){if(1&a){const s=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",10)(3,"button",11),t.NdJ("click",function(){t.CHM(s);const E=t.oxw(2);return t.KtG(E.toggleInsertMode(!0))}),t._UZ(4,"mat-icon",12),t.TgZ(5,"span",13),t._uU(6,"Data Baru"),t.qZA()()()(),t.YNc(7,lt,11,3,"ng-container",14),t.YNc(8,st,4,1,"ng-container",8),t.BQk()}if(2&a){const s=t.oxw(2);t.xp6(4),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(3),t.Q6J("ngForOf",s.rwPelatihan)("ngForTrackBy",s.trackByFn),t.xp6(1),t.Q6J("ngIf",!s.rwPelatihan.length)}}function ct(a,p){if(1&a&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&a){const s=p.$implicit;t.Q6J("value",s.id),t.xp6(1),t.hij("",s.name," ")}}function mt(a,p){if(1&a&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&a){const s=p.$implicit;t.Q6J("value",s.id),t.xp6(1),t.hij(" ",s.nama," ")}}function ut(a,p){if(1&a){const s=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(s),t.oxw();const E=t.MAs(68);return t.KtG(E.click())}),t._uU(1,"Unggah Sertifikat"),t.qZA()}2&a&&t.Q6J("color","accent")}function pt(a,p){if(1&a){const s=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(s);const E=t.oxw(3);return t.KtG(E.toggleOnFileInputed(!1))}),t._UZ(1,"mat-icon",51),t.qZA()}2&a&&(t.Q6J("matTooltip","Clear"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"))}function gt(a,p){if(1&a){const s=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"form",28)(4,"div",9)(5,"div",29)(6,"button",30),t.NdJ("click",function(){t.CHM(s);const E=t.oxw(2);return t.KtG(E.toggleInsertMode(!1))}),t._uU(7," Batal "),t.qZA(),t.TgZ(8,"button",31),t.NdJ("click",function(){t.CHM(s);const E=t.oxw(2);return t.KtG(E.insert())}),t._uU(9," Submit Usulan "),t.qZA()()(),t.TgZ(10,"div",32)(11,"mat-form-field",33)(12,"mat-label"),t._uU(13,"Tahun"),t.qZA(),t.TgZ(14,"input",34),t.NdJ("focus",function(){t.CHM(s);const E=t.MAs(17);return t.KtG(E.open())}),t.qZA(),t._UZ(15,"mat-datepicker-toggle",35),t.TgZ(16,"mat-datepicker",36,37),t.NdJ("yearSelected",function(E){t.CHM(s);const b=t.MAs(17),J=t.oxw(2);return t.KtG(J.chosenYearHandler(E,b))}),t.qZA()()(),t.TgZ(18,"div",32)(19,"mat-form-field",33)(20,"mat-label"),t._uU(21,"Lingkup Pelatihan"),t.qZA(),t.TgZ(22,"mat-select",38),t.YNc(23,ct,2,2,"mat-option",39),t.qZA()()(),t.TgZ(24,"div",32)(25,"mat-form-field",33)(26,"mat-label"),t._uU(27,"Nama Pelatihan"),t.qZA(),t._UZ(28,"input",40),t.qZA()(),t.TgZ(29,"div",32)(30,"mat-form-field",33)(31,"mat-label"),t._uU(32,"Institusi Penyelenggara"),t.qZA(),t._UZ(33,"input",40),t.qZA()(),t.TgZ(34,"div",32)(35,"mat-form-field",33)(36,"mat-label"),t._uU(37,"Jenis Pelatihan"),t.qZA(),t.TgZ(38,"mat-select",38),t.YNc(39,mt,2,2,"mat-option",39),t.ALo(40,"async"),t.qZA()()(),t.TgZ(41,"div",32)(42,"mat-form-field",33)(43,"mat-label"),t._uU(44,"Nilai"),t.qZA(),t._UZ(45,"input",40),t.qZA()(),t.TgZ(46,"div",32)(47,"mat-form-field",33)(48,"mat-label"),t._uU(49,"Predikat"),t.qZA(),t._UZ(50,"input",40),t.qZA()(),t.TgZ(51,"div",32)(52,"mat-form-field",33)(53,"mat-label"),t._uU(54,"Peringkat"),t.qZA(),t._UZ(55,"input",40),t.qZA()(),t.TgZ(56,"div",32)(57,"mat-form-field",33)(58,"mat-label"),t._uU(59,"JP"),t.qZA(),t._UZ(60,"input",40),t.qZA()(),t.TgZ(61,"div",32)(62,"div",33)(63,"mat-label"),t._uU(64,"Sertifikat "),t.TgZ(65,"i"),t._uU(66,"(PDF, Maksimal ukuran 2 MB)"),t.qZA()(),t.TgZ(67,"input",41,42),t.NdJ("click",function(){t.CHM(s);const E=t.MAs(68);return t.KtG(E.value=null)})("change",function(E){t.CHM(s);const b=t.oxw(2);return t.KtG(b.onFileInput(E))}),t.qZA(),t.TgZ(69,"div",43)(70,"div",44),t.YNc(71,ut,2,1,"button",45),t.YNc(72,pt,2,2,"button",46),t._UZ(73,"span",47),t.qZA()()()()()()(),t.BQk()}if(2&a){const s=t.MAs(17),A=t.oxw(2);t.xp6(3),t.Q6J("formGroup",A.form),t.xp6(3),t.Q6J("matTooltip","Batalkan Penambahan Data Baru"),t.xp6(2),t.Q6J("color","primary")("disabled",A.form.invalid)("matTooltip","Submit Usulan Penambahan Data"),t.xp6(6),t.Q6J("matDatepicker",s)("formControlName","tahun")("max",A._helperService.maxDate()),t.xp6(1),t.Q6J("for",s),t.xp6(7),t.Q6J("formControlName","lingkupPelatihan"),t.xp6(1),t.Q6J("ngForOf",A.lingkupPelatihan),t.xp6(5),t.Q6J("formControlName","nama")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","institusi")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","pelatihanId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(40,28,A.jenisPelatihan$)),t.xp6(6),t.Q6J("formControlName","nilai")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","predikat")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","peringkat")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","jp")("spellcheck",!1),t.xp6(11),t.Q6J("ngIf",!A.onFileInputed),t.xp6(1),t.Q6J("ngIf",A.onFileInputed),t.xp6(1),t.Q6J("id","fileDokumen")}}function dt(a,p){if(1&a&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t.YNc(3,rt,9,4,"ng-container",8),t.YNc(4,gt,74,30,"ng-container",8),t.qZA()()()),2&a){const s=t.oxw();t.xp6(3),t.Q6J("ngIf",!s.insertMode),t.xp6(1),t.Q6J("ngIf",s.insertMode)}}function ft(a,p){if(1&a&&t._UZ(0,"app-usulan",52),2&a){const s=t.oxw();t.Q6J("items",s.rwUsuls)}}function N(a,p){if(1&a){const s=t.EpF();t.TgZ(0,"button",62),t.NdJ("click",function(){t.CHM(s);const E=t.oxw(4);return t.KtG(E.togglePrint(E.selected.dokumenId))}),t._UZ(1,"mat-icon",12),t.TgZ(2,"span"),t._uU(3,"Unduh"),t.qZA()()}2&a&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:paper-clip"))}function Y(a,p){1&a&&(t.TgZ(0,"div"),t._uU(1,"-"),t.qZA())}function U(a,p){if(1&a&&(t.ynx(0),t.TgZ(1,"div",57)(2,"div",58)(3,"div",59),t._uU(4,"Tahun"),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA()(),t.TgZ(7,"div",58)(8,"div",59),t._uU(9,"Nama Pelatihan"),t.qZA(),t.TgZ(10,"div"),t._uU(11),t.qZA()(),t.TgZ(12,"div",58)(13,"div",59),t._uU(14,"Lingkup"),t.qZA(),t.TgZ(15,"div",60)(16,"div"),t._uU(17),t.qZA()()(),t.TgZ(18,"div",58)(19,"div",59),t._uU(20,"Nama Institusi"),t.qZA(),t.TgZ(21,"div"),t._uU(22),t.qZA()(),t.TgZ(23,"div",58)(24,"div",59),t._uU(25,"Nama"),t.qZA(),t.TgZ(26,"div"),t._uU(27),t.qZA()(),t.TgZ(28,"div",58)(29,"div",59),t._uU(30,"Nilai"),t.qZA(),t.TgZ(31,"div"),t._uU(32),t.qZA()(),t.TgZ(33,"div",58)(34,"div",59),t._uU(35,"Predikat"),t.qZA(),t.TgZ(36,"div"),t._uU(37),t.qZA()(),t.TgZ(38,"div",58)(39,"div",59),t._uU(40,"Peringkat"),t.qZA(),t.TgZ(41,"div"),t._uU(42),t.qZA()(),t.TgZ(43,"div",58)(44,"div",59),t._uU(45,"JP"),t.qZA(),t.TgZ(46,"div"),t._uU(47),t.qZA()(),t.TgZ(48,"div",58)(49,"div",59),t._uU(50,"Sertifikat"),t.qZA(),t.YNc(51,N,4,1,"button",61),t.YNc(52,Y,2,0,"div",8),t.qZA()(),t.BQk()),2&a){const s=t.oxw(3);let A,E,b,J,u,Z,g,I;t.xp6(6),t.Oqu(null!==(A=s.selected.tahun)&&void 0!==A?A:"-"),t.xp6(5),t.Oqu(null!==(E=s.selected.nama)&&void 0!==E?E:"-"),t.xp6(6),t.Oqu(s.selected.lingkupPelatihan),t.xp6(5),t.Oqu(null!==(b=s.selected.institusi)&&void 0!==b?b:"-"),t.xp6(5),t.Oqu(null!==(J=s.selected.namapelatihan)&&void 0!==J?J:"-"),t.xp6(5),t.Oqu(null!==(u=s.selected.nilai)&&void 0!==u?u:"-"),t.xp6(5),t.Oqu(null!==(Z=s.selected.predikat)&&void 0!==Z?Z:"-"),t.xp6(5),t.Oqu(null!==(g=s.selected.peringkat)&&void 0!==g?g:"-"),t.xp6(5),t.Oqu(null!==(I=s.selected.jp)&&void 0!==I?I:"-"),t.xp6(4),t.Q6J("ngIf",s.selected.dokumenId),t.xp6(1),t.Q6J("ngIf",!s.selected.dokumenId)}}function O(a,p){if(1&a){const s=t.EpF();t.ynx(0),t.TgZ(1,"div",55)(2,"div",7)(3,"div",9)(4,"div",10)(5,"button",56),t.NdJ("click",function(){t.CHM(s);const E=t.oxw(2);return t.KtG(E.delete())}),t._uU(6," Hapus "),t.qZA(),t.TgZ(7,"button",11),t.NdJ("click",function(){t.CHM(s);const E=t.oxw(2);return t.KtG(E.toggleEditMode(!0))}),t._UZ(8,"mat-icon",12),t.TgZ(9,"span",13),t._uU(10,"Ubah"),t.qZA()()()(),t.YNc(11,U,53,11,"ng-container",8),t.qZA()(),t.BQk()}if(2&a){const s=t.oxw(2);t.xp6(5),t.Q6J("color","warn")("matTooltip","Hapus Data"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(3),t.Q6J("ngIf",s.selected)}}function B(a,p){if(1&a&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&a){const s=p.$implicit;t.Q6J("value",s.id),t.xp6(1),t.hij(" ",s.nama," ")}}function C(a,p){if(1&a&&(t.TgZ(0,"mat-option",48),t._uU(1),t.qZA()),2&a){const s=p.$implicit;t.Q6J("value",s.id),t.xp6(1),t.hij("",s.name," ")}}function Q(a,p){if(1&a){const s=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(s),t.oxw();const E=t.MAs(59);return t.KtG(E.click())}),t._uU(1,"Unggah Sertifikat"),t.qZA()}2&a&&t.Q6J("color","accent")}function d(a,p){if(1&a){const s=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(s);const E=t.oxw(4);return t.KtG(E.toggleOnFileInputed(!1))}),t._UZ(1,"mat-icon",51),t.qZA()}2&a&&(t.Q6J("matTooltip","Clear"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"))}function h(a,p){if(1&a){const s=t.EpF();t.ynx(0),t.TgZ(1,"div",32)(2,"mat-form-field",33)(3,"mat-label"),t._uU(4,"Jenis Pelatihan"),t.qZA(),t.TgZ(5,"mat-select",38),t.YNc(6,B,2,2,"mat-option",39),t.ALo(7,"async"),t.qZA()()(),t.TgZ(8,"div",32)(9,"mat-form-field",33)(10,"mat-label"),t._uU(11,"Tahun"),t.qZA(),t.TgZ(12,"input",34),t.NdJ("focus",function(){t.CHM(s);const E=t.MAs(15);return t.KtG(E.open())}),t.qZA(),t._UZ(13,"mat-datepicker-toggle",35),t.TgZ(14,"mat-datepicker",36,37),t.NdJ("yearSelected",function(E){t.CHM(s);const b=t.MAs(15),J=t.oxw(3);return t.KtG(J.chosenYearHandler(E,b))}),t.qZA()()(),t.TgZ(16,"div",32)(17,"mat-form-field",33)(18,"mat-label"),t._uU(19,"Lingkup Pelatihan"),t.qZA(),t.TgZ(20,"mat-select",38),t.YNc(21,C,2,2,"mat-option",39),t.qZA()()(),t.TgZ(22,"div",32)(23,"mat-form-field",33)(24,"mat-label"),t._uU(25,"Nama Pelatihan"),t.qZA(),t._UZ(26,"input",40),t.qZA()(),t.TgZ(27,"div",32)(28,"mat-form-field",33)(29,"mat-label"),t._uU(30,"Institusi Penyelenggara"),t.qZA(),t._UZ(31,"input",40),t.qZA()(),t.TgZ(32,"div",32)(33,"mat-form-field",33)(34,"mat-label"),t._uU(35,"Nilai"),t.qZA(),t._UZ(36,"input",40),t.qZA()(),t.TgZ(37,"div",32)(38,"mat-form-field",33)(39,"mat-label"),t._uU(40,"Predikat"),t.qZA(),t._UZ(41,"input",40),t.qZA()(),t.TgZ(42,"div",32)(43,"mat-form-field",33)(44,"mat-label"),t._uU(45,"Peringkat"),t.qZA(),t._UZ(46,"input",40),t.qZA()(),t.TgZ(47,"div",32)(48,"mat-form-field",33)(49,"mat-label"),t._uU(50,"JP"),t.qZA(),t._UZ(51,"input",40),t.qZA()(),t.TgZ(52,"div",32)(53,"div",33)(54,"mat-label"),t._uU(55,"Sertifikat "),t.TgZ(56,"i"),t._uU(57,"(PDF, Maksimal ukuran 1 MB)"),t.qZA()(),t.TgZ(58,"input",41,63),t.NdJ("click",function(){t.CHM(s);const E=t.MAs(59);return t.KtG(E.value=null)})("change",function(E){t.CHM(s);const b=t.oxw(3);return t.KtG(b.onFileInput(E))}),t.qZA(),t.TgZ(60,"div",43)(61,"div",44),t.YNc(62,Q,2,1,"button",45),t.YNc(63,d,2,2,"button",46),t._UZ(64,"span",47),t.qZA()()()(),t.BQk()}if(2&a){const s=t.MAs(15),A=t.oxw(3);t.xp6(5),t.Q6J("formControlName","pelatihanId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(7,23,A.jenisPelatihan$)),t.xp6(6),t.Q6J("matDatepicker",s)("formControlName","tahun")("max",A._helperService.maxDate()),t.xp6(1),t.Q6J("for",s),t.xp6(7),t.Q6J("formControlName","lingkupPelatihan"),t.xp6(1),t.Q6J("ngForOf",A.lingkupPelatihan),t.xp6(5),t.Q6J("formControlName","nama")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","institusi")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","nilai")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","predikat")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","peringkat")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","jp")("spellcheck",!1),t.xp6(11),t.Q6J("ngIf",!A.onFileInputed),t.xp6(1),t.Q6J("ngIf",A.onFileInputed),t.xp6(1),t.Q6J("id","fileDokumen")}}function m(a,p){if(1&a){const s=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"form",28)(4,"div",9)(5,"div",29)(6,"button",30),t.NdJ("click",function(){t.CHM(s);const E=t.oxw(2);return t.KtG(E.toggleEditMode(!1))}),t._uU(7," Batal "),t.qZA(),t.TgZ(8,"button",31),t.NdJ("click",function(){t.CHM(s);const E=t.oxw(2);return t.KtG(E.update())}),t._uU(9," Submit Usulan "),t.qZA()()(),t.YNc(10,h,65,25,"ng-container",8),t.qZA()()(),t.BQk()}if(2&a){const s=t.oxw(2);t.xp6(3),t.Q6J("formGroup",s.form),t.xp6(3),t.Q6J("matTooltip","Batalkan Perubahan Data"),t.xp6(2),t.Q6J("color","primary")("disabled",s.form.invalid)("matTooltip","Submit Usulan Perubahan Data"),t.xp6(2),t.Q6J("ngIf",s.selected)}}function o(a,p){if(1&a&&(t.TgZ(0,"div",15)(1,"div",53)(2,"div",54)(3,"div",5),t.YNc(4,O,12,4,"ng-container",8),t.YNc(5,m,11,6,"ng-container",8),t.qZA()()()()),2&a){const s=t.oxw();t.xp6(4),t.Q6J("ngIf",!s.editMode),t.xp6(1),t.Q6J("ngIf",s.editMode)}}let r=(()=>{class a{constructor(s,A,E,b,J,u,Z,g){this._penerjemahService=s,this._referensiService=A,this._helperService=E,this._changeDetectorRef=b,this._formBuilder=J,this._toastr=u,this._authService=Z,this._userService=g,this.rwPelatihan=[],this.rwUsuls=[],this.selected=null,this.editMode=!1,this.insertMode=!1,this.onFileInputed=!1,this.lingkupPelatihan=this._referensiService.lingkupPelatihan(),this.onChange=I=>{},this._unsubscribeAll=new n.x,this.jenisPelatihan$=this._referensiService.pelatihan()}ngOnInit(){this.form=this._formBuilder.group({nama:[null,x.kI.required],tahun:[R()(),x.kI.required],lingkupPelatihan:[null,x.kI.required],institusi:[null,x.kI.required],file:[null,x.kI.required],pelatihanId:[null,x.kI.required],nilai:[null,x.kI.required],predikat:[null,x.kI.required],peringkat:[null,x.kI.required],jp:[null,x.kI.required]}),this.loadData()}loadData(){"ROLE_ADMIN"===this._authService.role?this._penerjemahService.jfpItem$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(s=>{this.pnsId=s.id,this._changeDetectorRef.markForCheck()}):this._userService.user$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(s=>{this.pnsId=s.pnsId,this._changeDetectorRef.markForCheck()}),this._penerjemahService.getRwPelatihan(this.pnsId).subscribe(),this._penerjemahService.rwPelatihan$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this.rwPelatihan=s,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"RW_PELATIHAN",size:100}).pipe((0,i.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this.rwUsuls=s,this._changeDetectorRef.markForCheck())})}togglePrint(s){this._penerjemahService.getDokumen(s).subscribe({next:A=>{const E=URL.createObjectURL(A);window.open(E,"_blank")},error:()=>{this._toastr.error("ERROR: Dokumen gagal ditampilkan","ERROR")}})}onFileInput(s){const A=this._referensiService.onFileInputSingle(s,"application/pdf",2e3);return A.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=A.fileInfo.name,this.form.get("file").setValue(s.target.files[0]),!0):(this._toastr.error(A.msg,"ERROR"),!1)}insert(){const s=this.form.getRawValue(),A=new FormData;A.append("pnsId",this.pnsId),s.pelatihanId&&A.append("pelatihanId",s.pelatihanId),s.nilai&&A.append("nilai",s.nilai),s.predikat&&A.append("predikat",s.predikat),s.peringkat&&A.append("peringkat",s.peringkat),s.jp&&A.append("jp",s.jp),s.nama&&A.append("nama",s.nama),s.tahun&&A.append("tahun",R()(s.tahun).format("YYYY")),s.lingkupPelatihan&&A.append("lingkupPelatihan",s.lingkupPelatihan),s.institusi&&A.append("institusi",s.institusi),s.file&&A.append("file",s.file),this._penerjemahService.saveRwPelatihan(A).subscribe(E=>{E?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(E?.message,"ERROR")})}delete(){this._penerjemahService.deleteRwPelatihan(this.selected.id).subscribe(s=>{s?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(s?.message,"ERROR")})}update(){const s=this.form.getRawValue(),A=new FormData;A.append("pnsId",this.pnsId),A.append("id",this.selected.id),s.nama&&A.append("nama",s.nama),s.tahun&&A.append("tahun",R()(s.tahun).format("YYYY")),s.lingkupPelatihan&&A.append("lingkupPelatihan",s.lingkupPelatihan),s.institusi&&A.append("institusi",s.institusi),s.file&&A.append("file",s.file),s.pelatihanId&&A.append("pelatihanId",s.pelatihanId),s.nilai&&A.append("nilai",s.nilai),s.predikat&&A.append("predikat",s.predikat),s.peringkat&&A.append("peringkat",s.peringkat),s.jp&&A.append("jp",s.jp),s.nama&&A.append("nama",s.nama),s.tahun&&A.append("tahun",R()(s.tahun).format("YYYY")),s.lingkupPelatihan&&A.append("lingkupPelatihan",s.lingkupPelatihan),s.institusi&&A.append("institusi",s.institusi),s.file&&A.append("file",s.file),this._penerjemahService.saveRwPelatihan(A).subscribe(E=>{E?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(E?.message,"ERROR")})}displayFn(s){if(s)return s.nama}trackByFn(s,A){return A.id||s}chosenYearHandler(s,A){const E=this.form.get("tahun").value;E.year(s.year()),this.form.get("tahun").setValue(E),this._changeDetectorRef.markForCheck(),A.close()}toggleOnFileInputed(s=null){null===s?this.onFileInputed=!this.onFileInputed:(s||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=s),this._changeDetectorRef.markForCheck()}toggleInsertMode(s=null){this.insertMode=null===s?!this.insertMode:s,this._changeDetectorRef.markForCheck()}toggleEditMode(s=null){this.editMode=null===s?!this.editMode:s,this._changeDetectorRef.markForCheck()}toggleDetails(s){this.selected&&this.selected.id===s?this.closeDetails():this._penerjemahService.getRwPelatihanById(s).subscribe(A=>{this.selected=A,this.form.patchValue(A),this.form.get("tahun").setValue(R()(this._helperService.getDateFromStringID("01-01-"+A.tahun))),this._changeDetectorRef.markForCheck()})}closeDetails(){this.selected=null}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return a.\u0275fac=function(s){return new(s||a)(t.Y36(nt.e),t.Y36(j.A2),t.Y36(et.W),t.Y36(t.sBO),t.Y36(x.qu),t.Y36(X._W),t.Y36(e.e),t.Y36(at.K))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-pelatihan"]],features:[t._Bn([{provide:M.sG,useValue:j.IJ},{provide:M._A,useClass:S.t7,deps:[M.Ad]}])],decls:7,vars:1,consts:[[1,"ml-0","pl-0","mt-5",3,"animationDuration"],["label","Data Disetujui"],["matTabContent",""],["label","Riwayat Usulan"],["rowDetailsTemplate",""],[1,"flex","flex-col","w-full"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6"],[1,"w-full"],[4,"ngIf"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-11","text-md","font-medium"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","sm:items-center","-ml-0.5","mt-2","sm:mt-1","space-y-1","sm:space-y-0","sm:space-x-3"],[1,"col-span-1","self-center","text-right"],["mat-stroked-button","",1,"min-w-10","min-h-10","h-10","px-2","leading-6",3,"click"],[1,"col-span-12","my-4","border-b"],[1,"hidden","sm:block"],[1,"flex","items-center",3,"matTooltip"],[1,"ml-4"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type"],["fuseAlertTitle",""],[3,"formGroup"],[1,"flex","items-center","justify-end","w-full","mx-auto"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],["matInput","",3,"matDatepicker","formControlName","max","focus"],["matSuffix","",3,"for"],["startView","multi-year",3,"yearSelected"],["_tahun",""],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"formControlName","spellcheck"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[3,"value"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"],[3,"items"],[1,"col-span-12","shadow-lg","overflow-hidden","mb-4"],[1,"flex","border-b"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0"],["mat-button","",1,"mr-5",3,"color","matTooltip","click"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],["class","px-3","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"px-3",3,"click"],["fileInputDocument",""]],template:function(s,A){1&s&&(t.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),t.YNc(2,dt,5,2,"ng-template",2),t.qZA(),t.TgZ(3,"mat-tab",3),t.YNc(4,ft,1,1,"ng-template",2),t.qZA()(),t.YNc(5,o,6,2,"ng-template",null,4,t.W1O)),2&s&&t.Q6J("animationDuration","0")},dependencies:[c.sg,c.O5,c.tP,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,it.lW,L.Mq,L.hl,L.nW,w.KE,w.hX,w.R9,V.Hw,ot.Nt,F.gD,M.ey,q.gM,y.W,P.SP,P.uX,P.Vc,G.Q,c.Ov],encapsulation:2,changeDetection:0}),a})()},2471:(xt,W,l)=>{l.d(W,{n:()=>d});var x=l(92),S=l(8772),M=l(1379),j=l(5450),k=l(8023),R=l(3528),n=l(4537),i=l(47),t=l(2047),nt=l(8292),et=l(8951),X=l(7495),e=l(8692),at=l(9638),c=l(8659),it=l(3331),L=l(7406),w=l(8033),V=l(2940),ot=l(2494),F=l(2516),q=l(7569);function y(h,m){if(1&h){const o=n.EpF();n.ynx(0),n.TgZ(1,"div",19),n._uU(2,"\u2022"),n.qZA(),n.TgZ(3,"div",24),n._UZ(4,"mat-icon",25),n.TgZ(5,"button",26),n.NdJ("click",function(){n.CHM(o);const a=n.oxw().$implicit,p=n.oxw(3);return n.KtG(p.togglePrint(a.dokumenId))}),n._uU(6,"Ijazah"),n.qZA()(),n.BQk()}2&h&&(n.xp6(3),n.Q6J("matTooltip","Lihat ijazah"))}function P(h,m){1&h&&n.GkF(0)}const G=function(h){return{$implicit:h}};function $(h,m){if(1&h&&(n.ynx(0),n.YNc(1,P,1,0,"ng-container",27),n.BQk()),2&h){const o=n.oxw().$implicit;n.oxw(3);const r=n.MAs(6);n.xp6(1),n.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",n.VKq(2,G,o))}}function z(h,m){if(1&h){const o=n.EpF();n.ynx(0),n.TgZ(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"div"),n._uU(6),n.qZA(),n.TgZ(7,"div",19),n._uU(8,"\u2022"),n.qZA(),n.TgZ(9,"div"),n._uU(10),n.qZA(),n.TgZ(11,"div",19),n._uU(12,"\u2022"),n.qZA(),n.TgZ(13,"div"),n._uU(14),n.qZA()(),n.TgZ(15,"div",20)(16,"div"),n._uU(17),n.qZA(),n.TgZ(18,"div",19),n._uU(19,"\u2022"),n.qZA(),n.TgZ(20,"div"),n._uU(21),n.qZA(),n.YNc(22,y,7,1,"ng-container",8),n.qZA()()(),n.TgZ(23,"div",21)(24,"button",22),n.NdJ("click",function(){const p=n.CHM(o).$implicit,s=n.oxw(3);return n.KtG(s.toggleDetails(p.id))}),n._UZ(25,"mat-icon",12),n.qZA()(),n._UZ(26,"div",23),n.qZA(),n.YNc(27,$,2,4,"ng-container",8),n.BQk()}if(2&h){const o=m.$implicit,r=n.oxw(3);let a;n.xp6(6),n.Oqu(o.tahunLulus),n.xp6(4),n.Oqu(o.tingkatPendidikan),n.xp6(4),n.Oqu(null!==(a=o.pendidikanNama)&&void 0!==a?a:"-"),n.xp6(3),n.Oqu(o.namaSekolah),n.xp6(4),n.Oqu(o.jurusan),n.xp6(1),n.Q6J("ngIf",o.dokumenId),n.xp6(3),n.Q6J("svgIcon",(null==r.selected?null:r.selected.id)===o.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),n.xp6(2),n.Q6J("ngIf",(null==r.selected?null:r.selected.id)===o.id)}}function tt(h,m){1&h&&(n.ynx(0),n.TgZ(1,"fuse-alert",28)(2,"span",29),n._uU(3,"Belum ada data riwayat pendidikan"),n.qZA()(),n.BQk()),2&h&&(n.xp6(1),n.Q6J("type","info"))}function _t(h,m){if(1&h){const o=n.EpF();n.ynx(0),n.TgZ(1,"div",9)(2,"div",10)(3,"button",11),n.NdJ("click",function(){n.CHM(o);const a=n.oxw(2);return n.KtG(a.toggleInsertMode(!0))}),n._UZ(4,"mat-icon",12),n.TgZ(5,"span",13),n._uU(6,"Data Baru"),n.qZA()()()(),n.YNc(7,z,28,8,"ng-container",14),n.YNc(8,tt,4,1,"ng-container",8),n.BQk()}if(2&h){const o=n.oxw(2);n.xp6(4),n.Q6J("svgIcon","heroicons_solid:plus"),n.xp6(3),n.Q6J("ngForOf",o.rwPendidikan)("ngForTrackBy",o.trackByFn),n.xp6(1),n.Q6J("ngIf",!o.rwPendidikan.length)}}function lt(h,m){1&h&&(n.TgZ(0,"mat-error"),n._uU(1," Anda harus memilih pilihan pendidikan dari hasil pencarian "),n.qZA())}function st(h,m){if(1&h){const o=n.EpF();n.TgZ(0,"button",49),n.NdJ("click",function(){n.CHM(o),n.oxw();const a=n.MAs(51);return n.KtG(a.click())}),n._uU(1,"Unggah Ijazah"),n.qZA()}2&h&&n.Q6J("color","accent")}function rt(h,m){if(1&h){const o=n.EpF();n.TgZ(0,"button",50),n.NdJ("click",function(){n.CHM(o);const a=n.oxw(3);return n.KtG(a.toggleOnFileInputed(!1))}),n._UZ(1,"mat-icon",51),n.qZA()}2&h&&(n.Q6J("matTooltip","Clear"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:x"))}function ct(h,m){if(1&h){const o=n.EpF();n.ynx(0),n.TgZ(1,"div",6)(2,"div",7)(3,"form",30)(4,"div",9)(5,"div",31)(6,"button",32),n.NdJ("click",function(){n.CHM(o);const a=n.oxw(2);return n.KtG(a.toggleInsertMode(!1))}),n._uU(7," Batal "),n.qZA(),n.TgZ(8,"button",33),n.NdJ("click",function(){n.CHM(o);const a=n.oxw(2);return n.KtG(a.insert())}),n._uU(9," Submit Usulan "),n.qZA()()(),n.TgZ(10,"div",34)(11,"mat-form-field",35)(12,"mat-label"),n._uU(13,"Tingkat Pendidikan"),n.qZA(),n.TgZ(14,"mat-select",36)(15,"mat-option",37),n._uU(16,"Pilih tingkat pendidikan"),n.qZA(),n.TgZ(17,"mat-option",38),n._uU(18,"S1"),n.qZA(),n.TgZ(19,"mat-option",39),n._uU(20,"S2"),n.qZA(),n.TgZ(21,"mat-option",40),n._uU(22,"S3"),n.qZA()(),n.YNc(23,lt,2,0,"mat-error",8),n.qZA()(),n.TgZ(24,"div",34)(25,"mat-form-field",35)(26,"mat-label"),n._uU(27,"Nama Perguruan Tinggi"),n.qZA(),n._UZ(28,"input",41),n.qZA()(),n.TgZ(29,"div",34)(30,"mat-form-field",35)(31,"mat-label"),n._uU(32,"Lokasi Perguruan Tinggi"),n.qZA(),n._UZ(33,"input",41),n.qZA()(),n.TgZ(34,"div",34)(35,"mat-form-field",35)(36,"mat-label"),n._uU(37,"Jurusan"),n.qZA(),n._UZ(38,"input",41),n.qZA()(),n.TgZ(39,"div",34)(40,"mat-form-field",35)(41,"mat-label"),n._uU(42,"Tahun Kelulusan"),n.qZA(),n._UZ(43,"input",41),n.qZA()(),n.TgZ(44,"div",34)(45,"div",35)(46,"mat-label"),n._uU(47,"Dokumen Ijazah "),n.TgZ(48,"i"),n._uU(49,"(PDF, Maksimal ukuran 2 MB)"),n.qZA()(),n.TgZ(50,"input",42,43),n.NdJ("click",function(){n.CHM(o);const a=n.MAs(51);return n.KtG(a.value=null)})("change",function(a){n.CHM(o);const p=n.oxw(2);return n.KtG(p.onFileInput(a))}),n.qZA(),n.TgZ(52,"div",44)(53,"div",45),n.YNc(54,st,2,1,"button",46),n.YNc(55,rt,2,2,"button",47),n._UZ(56,"span",48),n.qZA()()()()()()(),n.BQk()}if(2&h){const o=n.oxw(2);n.xp6(3),n.Q6J("formGroup",o.form),n.xp6(3),n.Q6J("matTooltip","Batalkan Penambahan Data Baru"),n.xp6(2),n.Q6J("color","primary")("disabled",o.form.invalid)("matTooltip","Submit Usulan Penambahan Data"),n.xp6(6),n.Q6J("formControlName","tingkatPendidikan"),n.xp6(9),n.Q6J("ngIf",o.form.controls.tingkatPendidikan.hasError("incorrect")),n.xp6(5),n.Q6J("formControlName","namaSekolah")("spellcheck",!1),n.xp6(5),n.Q6J("formControlName","lokasiPendidikan")("spellcheck",!1),n.xp6(5),n.Q6J("formControlName","jurusan")("spellcheck",!1),n.xp6(5),n.Q6J("formControlName","tahunLulus")("spellcheck",!1),n.xp6(11),n.Q6J("ngIf",!o.onFileInputed),n.xp6(1),n.Q6J("ngIf",o.onFileInputed),n.xp6(1),n.Q6J("id","fileDokumen")}}function mt(h,m){if(1&h&&(n.TgZ(0,"div",5)(1,"div",6)(2,"div",7),n.YNc(3,_t,9,4,"ng-container",8),n.YNc(4,ct,57,18,"ng-container",8),n.qZA()()()),2&h){const o=n.oxw();n.xp6(3),n.Q6J("ngIf",!o.insertMode),n.xp6(1),n.Q6J("ngIf",o.insertMode)}}function ut(h,m){if(1&h&&n._UZ(0,"app-usulan",52),2&h){const o=n.oxw();n.Q6J("items",o.rwUsuls)}}function pt(h,m){if(1&h){const o=n.EpF();n.TgZ(0,"button",61),n.NdJ("click",function(){n.CHM(o);const a=n.oxw(4);return n.KtG(a.togglePrint(a.selected.dokumenId))}),n._UZ(1,"mat-icon",12),n.TgZ(2,"span"),n._uU(3,"Unduh"),n.qZA()()}2&h&&(n.xp6(1),n.Q6J("svgIcon","heroicons_solid:paper-clip"))}function gt(h,m){1&h&&(n.TgZ(0,"div"),n._uU(1,"-"),n.qZA())}function dt(h,m){if(1&h&&(n.ynx(0),n.TgZ(1,"div",57)(2,"div",58)(3,"div",59),n._uU(4,"Tahun Kelulusan"),n.qZA(),n.TgZ(5,"div"),n._uU(6),n.qZA()(),n.TgZ(7,"div",58)(8,"div",59),n._uU(9,"Tingkat Pendidikan"),n.qZA(),n.TgZ(10,"div"),n._uU(11),n.qZA()(),n.TgZ(12,"div",58)(13,"div",59),n._uU(14,"Nama Pendidikan"),n.qZA(),n.TgZ(15,"div"),n._uU(16),n.qZA()(),n.TgZ(17,"div",58)(18,"div",59),n._uU(19,"Nama Sekolah"),n.qZA(),n.TgZ(20,"div"),n._uU(21),n.qZA()(),n.TgZ(22,"div",58)(23,"div",59),n._uU(24,"Jurusan"),n.qZA(),n.TgZ(25,"div"),n._uU(26),n.qZA()(),n.TgZ(27,"div",58)(28,"div",59),n._uU(29,"Lokasi Pendidikan"),n.qZA(),n.TgZ(30,"div"),n._uU(31),n.qZA()(),n.TgZ(32,"div",58)(33,"div",59),n._uU(34,"Dokumen Ijazah"),n.qZA(),n.YNc(35,pt,4,1,"button",60),n.YNc(36,gt,2,0,"div",8),n.qZA()(),n.BQk()),2&h){const o=n.oxw(3);let r,a,p,s,A,E;n.xp6(6),n.Oqu(null!==(r=o.selected.tahunLulus)&&void 0!==r?r:"-"),n.xp6(5),n.Oqu(null!==(a=o.selected.tingkatPendidikan)&&void 0!==a?a:"-"),n.xp6(5),n.Oqu(null!==(p=o.selected.pendidikanNama)&&void 0!==p?p:"-"),n.xp6(5),n.Oqu(null!==(s=o.selected.namaSekolah)&&void 0!==s?s:"-"),n.xp6(5),n.Oqu(null!==(A=o.selected.jurusan)&&void 0!==A?A:"-"),n.xp6(5),n.Oqu(null!==(E=o.selected.lokasiPendidikan)&&void 0!==E?E:"-"),n.xp6(4),n.Q6J("ngIf",o.selected.dokumenId),n.xp6(1),n.Q6J("ngIf",!o.selected.dokumenId)}}function ft(h,m){if(1&h){const o=n.EpF();n.ynx(0),n.TgZ(1,"div",55)(2,"div",7)(3,"div",9)(4,"div",10)(5,"button",56),n.NdJ("click",function(){n.CHM(o);const a=n.oxw(2);return n.KtG(a.delete())}),n._uU(6," Hapus "),n.qZA(),n.TgZ(7,"button",11),n.NdJ("click",function(){n.CHM(o);const a=n.oxw(2);return n.KtG(a.toggleEditMode(!0))}),n._UZ(8,"mat-icon",12),n.TgZ(9,"span",13),n._uU(10,"Ubah"),n.qZA()()()(),n.YNc(11,dt,37,8,"ng-container",8),n.qZA()(),n.BQk()}if(2&h){const o=n.oxw(2);n.xp6(5),n.Q6J("color","warn")("matTooltip","Hapus Data"),n.xp6(3),n.Q6J("svgIcon","heroicons_solid:pencil-alt"),n.xp6(3),n.Q6J("ngIf",o.selected)}}function N(h,m){if(1&h&&(n.TgZ(0,"mat-option",63),n._uU(1),n.qZA()),2&h){const o=m.$implicit;n.Q6J("value",o),n.xp6(1),n.hij("",o," ")}}function Y(h,m){1&h&&(n.TgZ(0,"mat-error"),n._uU(1," Anda harus memilih pilihan pendidikan dari hasil pencarian "),n.qZA())}function U(h,m){if(1&h){const o=n.EpF();n.TgZ(0,"button",49),n.NdJ("click",function(){n.CHM(o),n.oxw();const a=n.MAs(43);return n.KtG(a.click())}),n._uU(1,"Unggah Ijazah"),n.qZA()}2&h&&n.Q6J("color","accent")}function O(h,m){if(1&h){const o=n.EpF();n.TgZ(0,"button",50),n.NdJ("click",function(){n.CHM(o);const a=n.oxw(4);return n.KtG(a.toggleOnFileInputed(!1))}),n._UZ(1,"mat-icon",51),n.qZA()}2&h&&(n.Q6J("matTooltip","Clear"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:x"))}function B(h,m){if(1&h){const o=n.EpF();n.ynx(0),n.TgZ(1,"div",34)(2,"mat-form-field",35)(3,"mat-label"),n._uU(4,"Tahun Kelulusan"),n.qZA(),n.TgZ(5,"mat-select",36),n.YNc(6,N,2,2,"mat-option",62),n.qZA()()(),n.TgZ(7,"div",34)(8,"mat-form-field",35)(9,"mat-label"),n._uU(10,"Nama Perguruan Tinggi"),n.qZA(),n._UZ(11,"input",41),n.qZA()(),n.TgZ(12,"div",34)(13,"mat-form-field",35)(14,"mat-label"),n._uU(15,"Lokasi Pendidikan"),n.qZA(),n._UZ(16,"input",41),n.qZA()(),n.TgZ(17,"div",34)(18,"mat-form-field",35)(19,"mat-label"),n._uU(20,"Tingkat Pendidikan"),n.qZA(),n.TgZ(21,"mat-select",36)(22,"mat-option",37),n._uU(23,"Pilih tingkat pendidikan"),n.qZA(),n.TgZ(24,"mat-option",38),n._uU(25,"S1"),n.qZA(),n.TgZ(26,"mat-option",39),n._uU(27,"S2"),n.qZA(),n.TgZ(28,"mat-option",40),n._uU(29,"S3"),n.qZA()(),n.YNc(30,Y,2,0,"mat-error",8),n.qZA()(),n.TgZ(31,"div",34)(32,"mat-form-field",35)(33,"mat-label"),n._uU(34,"Jurusan"),n.qZA(),n._UZ(35,"input",41),n.qZA()(),n.TgZ(36,"div",34)(37,"div",35)(38,"mat-label"),n._uU(39,"Dokumen Ijazah "),n.TgZ(40,"i"),n._uU(41,"(PDF, Maksimal ukuran 2 MB)"),n.qZA()(),n.TgZ(42,"input",42,43),n.NdJ("click",function(){n.CHM(o);const a=n.MAs(43);return n.KtG(a.value=null)})("change",function(a){n.CHM(o);const p=n.oxw(3);return n.KtG(p.onFileInput(a))}),n.qZA(),n.TgZ(44,"div",44)(45,"div",45),n.YNc(46,U,2,1,"button",46),n.YNc(47,O,2,2,"button",47),n._UZ(48,"span",48),n.qZA()()()(),n.BQk()}if(2&h){const o=n.oxw(3);n.xp6(5),n.Q6J("formControlName","tahunLulus"),n.xp6(1),n.Q6J("ngForOf",o.tahun),n.xp6(5),n.Q6J("formControlName","namaSekolah")("spellcheck",!1),n.xp6(5),n.Q6J("formControlName","lokasiPendidikan")("spellcheck",!1),n.xp6(5),n.Q6J("formControlName","tingkatPendidikan"),n.xp6(9),n.Q6J("ngIf",o.form.controls.tingkatPendidikan.hasError("incorrect")),n.xp6(5),n.Q6J("formControlName","jurusan")("spellcheck",!1),n.xp6(11),n.Q6J("ngIf",!o.onFileInputed),n.xp6(1),n.Q6J("ngIf",o.onFileInputed),n.xp6(1),n.Q6J("id","fileDokumen")}}function C(h,m){if(1&h){const o=n.EpF();n.ynx(0),n.TgZ(1,"div",6)(2,"div",7)(3,"form",30)(4,"div",9)(5,"div",31)(6,"button",32),n.NdJ("click",function(){n.CHM(o);const a=n.oxw(2);return n.KtG(a.toggleEditMode(!1))}),n._uU(7," Batal "),n.qZA(),n.TgZ(8,"button",33),n.NdJ("click",function(){n.CHM(o);const a=n.oxw(2);return n.KtG(a.update())}),n._uU(9," Submit Usulan "),n.qZA()()(),n.YNc(10,B,49,13,"ng-container",8),n.qZA()()(),n.BQk()}if(2&h){const o=n.oxw(2);n.xp6(3),n.Q6J("formGroup",o.form),n.xp6(3),n.Q6J("matTooltip","Batalkan Perubahan Data"),n.xp6(2),n.Q6J("color","primary")("disabled",o.form.invalid)("matTooltip","Submit Usulan Perubahan Data"),n.xp6(2),n.Q6J("ngIf",o.selected)}}function Q(h,m){if(1&h&&(n.TgZ(0,"div",15)(1,"div",53)(2,"div",54)(3,"div",5),n.YNc(4,ft,12,4,"ng-container",8),n.YNc(5,C,11,6,"ng-container",8),n.qZA()()()()),2&h){const o=n.oxw();n.xp6(4),n.Q6J("ngIf",!o.editMode),n.xp6(1),n.Q6J("ngIf",o.editMode)}}let d=(()=>{class h{constructor(o,r,a,p,s,A,E,b){this._penerjemahService=o,this._referensiService=r,this._helperService=a,this._changeDetectorRef=p,this._formBuilder=s,this._toastr=A,this._authService=E,this._userService=b,this.isLoading=!1,this.rwPendidikan=[],this.rwUsuls=[],this.selected=null,this.editMode=!1,this.insertMode=!1,this.onFileInputed=!1,this.tahun=this._referensiService.tahun(),this._unsubscribeAll=new k.x}ngOnInit(){this.form=this._formBuilder.group({tingkatPendidikan:[null,x.kI.required],tahunLulus:[null,x.kI.required],namaSekolah:[null,x.kI.required],jurusan:[null,x.kI.required],lokasiPendidikan:[null,[x.kI.required]],file:[null,x.kI.required]}),this.loadData()}loadData(){"ROLE_ADMIN"===this._authService.role?this._penerjemahService.jfpItem$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(o=>{this.pnsId=o.id,this._changeDetectorRef.markForCheck()}):this._userService.user$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(o=>{this.pnsId=o.pnsId,this._changeDetectorRef.markForCheck()}),this._penerjemahService.getRwPendidikan(this.pnsId).subscribe(),this._penerjemahService.rwPendidikan$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(o=>{o&&(this.rwPendidikan=o,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"RW_PENDIDIKAN",size:100}).pipe((0,R.R)(this._unsubscribeAll)).subscribe(o=>{o&&(this.rwUsuls=o,this._changeDetectorRef.markForCheck())})}togglePrint(o){this._penerjemahService.getDokumen(o).subscribe({next:r=>{const a=URL.createObjectURL(r);window.open(a,"_blank")},error:()=>{this._toastr.error("ERROR: Dokumen gagal ditampilkan","ERROR")}})}onFileInput(o){const r=this._referensiService.onFileInputSingle(o,"application/pdf",2e3);return r.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=r.fileInfo.name,this.form.get("file").setValue(o.target.files[0]),!0):(this._toastr.error(r.msg,"ERROR"),!1)}insert(){const o=this.form.getRawValue(),r=new FormData;r.append("pnsId",this.pnsId),o.tingkatPendidikan&&r.append("tingkatPendidikan",o.tingkatPendidikan),o.tahunLulus&&r.append("tahunLulus",o.tahunLulus),o.namaSekolah&&r.append("namaSekolah",o.namaSekolah),o.jurusan&&r.append("jurusan",o.jurusan),o.lokasiPendidikan&&r.append("lokasiPendidikan",o.lokasiPendidikan),o.file&&r.append("file",o.file),this._penerjemahService.saveRwPendidikan(r).subscribe(a=>{a?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(a?.message,"ERROR")})}delete(){this._penerjemahService.deleteRwPendidikan(this.selected.id).subscribe(o=>{o?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(o?.message,"ERROR")})}update(){const o=this.form.getRawValue(),r=new FormData;r.append("pnsId",this.pnsId),r.append("id",this.selected.id),o.tingkatPendidikan&&r.append("tingkatPendidikan",o.tingkatPendidikan),o.tahunLulus&&r.append("tahunLulus",o.tahunLulus),o.namaSekolah&&r.append("namaSekolah",o.namaSekolah),o.jurusan&&r.append("jurusan",o.jurusan),o.lokasiPendidikan&&r.append("lokasiPendidikan",o.lokasiPendidikan),o.file&&r.append("file",o.file),this._penerjemahService.saveRwPendidikan(r).subscribe(a=>{a?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(a?.message,"ERROR")})}displayFn(o){if(o)return o.propinsiNama+", "+o.nama}displayPendidikanFn(o){if(o)return o.tkPendidikan+", "+o.nama}trackByFn(o,r){return r.id||o}toggleOnFileInputed(o=null){null===o?this.onFileInputed=!this.onFileInputed:(o||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=o),this._changeDetectorRef.markForCheck()}toggleInsertMode(o=null){this.insertMode=null===o?!this.insertMode:o,this._changeDetectorRef.markForCheck()}toggleEditMode(o=null){this.editMode=null===o?!this.editMode:o,this._changeDetectorRef.markForCheck()}toggleDetails(o){this.selected&&this.selected.id===o?this.closeDetails():this._penerjemahService.getRwPendidikanById(o).subscribe(r=>{this.selected=r,r.pendidikanId={id:r.pendidikanId,nama:r.pendidikanNama,tkPendidikan:r.pendidikanTkPendidikan},this.form.patchValue(r),this._changeDetectorRef.markForCheck()})}closeDetails(){this.selected=null}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return h.\u0275fac=function(o){return new(o||h)(n.Y36(i.e),n.Y36(j.A2),n.Y36(t.W),n.Y36(n.sBO),n.Y36(x.qu),n.Y36(nt._W),n.Y36(et.e),n.Y36(X.K))},h.\u0275cmp=n.Xpm({type:h,selectors:[["app-pendidikan"]],features:[n._Bn([{provide:M.sG,useValue:j.lv},{provide:M._A,useClass:S.t7,deps:[M.Ad]}])],decls:7,vars:1,consts:[[1,"ml-0","pl-0","mt-5",3,"animationDuration"],["label","Data Disetujui"],["matTabContent",""],["label","Riwayat Usulan"],["rowDetailsTemplate",""],[1,"flex","flex-col","w-full"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6"],[1,"w-full"],[4,"ngIf"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-11","text-md","font-medium"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"hidden","sm:block"],[1,"flex","flex-col","sm:flex-row","sm:items-center","-ml-0.5","mt-2","sm:mt-1","space-y-1","sm:space-y-0","sm:space-x-3"],[1,"col-span-1","self-center","text-right"],["mat-stroked-button","",1,"min-w-10","min-h-10","h-10","px-2","leading-6",3,"click"],[1,"col-span-12","my-4","border-b"],[1,"flex","items-center",3,"matTooltip"],["svgIcon","attach_file",1,"icon-size-5","text-hint"],[1,"ml-1.5","text-sm","underline",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type"],["fuseAlertTitle",""],[3,"formGroup"],[1,"flex","items-center","justify-end","w-full","mx-auto"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],["value","","disabled",""],["value","S1"],["value","S2"],["value","S3"],["matInput","",3,"formControlName","spellcheck"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"],[3,"items"],[1,"col-span-12","shadow-lg","overflow-hidden","mb-4"],[1,"flex","border-b"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0"],["mat-button","",1,"mr-5",3,"color","matTooltip","click"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],["class","px-3","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"px-3",3,"click"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,r){1&o&&(n.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),n.YNc(2,mt,5,2,"ng-template",2),n.qZA(),n.TgZ(3,"mat-tab",3),n.YNc(4,ut,1,1,"ng-template",2),n.qZA()(),n.YNc(5,Q,6,2,"ng-template",null,4,n.W1O)),2&o&&n.Q6J("animationDuration","0")},dependencies:[e.sg,e.O5,e.tP,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,at.lW,c.TO,c.KE,c.hX,it.Hw,L.Nt,w.gD,M.ey,V.gM,ot.W,F.SP,F.uX,F.Vc,q.Q],encapsulation:2,changeDetection:0}),h})()},4153:(xt,W,l)=>{l.d(W,{L:()=>B});var x=l(92),S=l(8772),M=l(1379),j=l(5450),k=l(8023),R=l(3528),n=l(4537),i=l(47),t=l(2047),nt=l(8292),et=l(8951),X=l(7495),e=l(8692),at=l(9638),c=l(8659),it=l(3331),L=l(7406),w=l(8033),V=l(2940),ot=l(2494),F=l(2516),q=l(7569);function y(C,Q){1&C&&n.GkF(0)}const P=function(C){return{$implicit:C}};function G(C,Q){if(1&C&&(n.ynx(0),n.YNc(1,y,1,0,"ng-container",24),n.BQk()),2&C){const d=n.oxw().$implicit;n.oxw(3);const h=n.MAs(6);n.xp6(1),n.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",n.VKq(2,P,d))}}function $(C,Q){if(1&C){const d=n.EpF();n.ynx(0),n.TgZ(1,"div",15)(2,"div",16)(3,"div",17),n._UZ(4,"div",18),n.TgZ(5,"div",19)(6,"div"),n._uU(7),n.qZA(),n.TgZ(8,"div",20),n._uU(9,"\u2022"),n.qZA()()()(),n.TgZ(10,"div",21)(11,"button",22),n.NdJ("click",function(){const o=n.CHM(d).$implicit,r=n.oxw(3);return n.KtG(r.toggleDetails(o.bahasa.id))}),n._UZ(12,"mat-icon",12),n.qZA()(),n._UZ(13,"div",23),n.qZA(),n.YNc(14,G,2,4,"ng-container",8),n.BQk()}if(2&C){const d=Q.$implicit,h=n.oxw(3);n.xp6(7),n.Oqu(d.bahasa.nama),n.xp6(5),n.Q6J("svgIcon",(null==h.selected?null:h.selected.bahasa.id)===d.bahasa.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),n.xp6(2),n.Q6J("ngIf",(null==h.selected?null:h.selected.bahasa.id)===d.bahasa.id)}}function z(C,Q){1&C&&(n.ynx(0),n.TgZ(1,"fuse-alert",25)(2,"span",26),n._uU(3,"Belum ada data riwayat Penguasaan Bahasa"),n.qZA()(),n.BQk()),2&C&&(n.xp6(1),n.Q6J("type","info"))}function tt(C,Q){if(1&C){const d=n.EpF();n.ynx(0),n.TgZ(1,"div",9)(2,"div",10)(3,"button",11),n.NdJ("click",function(){n.CHM(d);const m=n.oxw(2);return n.KtG(m.toggleInsertMode(!0))}),n._UZ(4,"mat-icon",12),n.TgZ(5,"span",13),n._uU(6,"Data Baru"),n.qZA()()()(),n.YNc(7,$,15,3,"ng-container",14),n.YNc(8,z,4,1,"ng-container",8),n.BQk()}if(2&C){const d=n.oxw(2);n.xp6(4),n.Q6J("svgIcon","heroicons_solid:plus"),n.xp6(3),n.Q6J("ngForOf",d.rwPenguasaanBahasa)("ngForTrackBy",d.trackByFn),n.xp6(1),n.Q6J("ngIf",!d.rwPenguasaanBahasa.length)}}function _t(C,Q){if(1&C&&(n.TgZ(0,"mat-option",44),n._uU(1),n.qZA()),2&C){const d=Q.$implicit;n.Q6J("value",d.id),n.xp6(1),n.hij("",d.nama," ")}}function lt(C,Q){if(1&C&&(n.TgZ(0,"mat-option",44),n._uU(1),n.qZA()),2&C){const d=Q.$implicit;n.Q6J("value",d),n.xp6(1),n.hij("",d," ")}}function st(C,Q){if(1&C){const d=n.EpF();n.TgZ(0,"button",45),n.NdJ("click",function(){n.CHM(d),n.oxw();const m=n.MAs(36);return n.KtG(m.click())}),n._uU(1,"Unggah Sertifikat"),n.qZA()}2&C&&n.Q6J("color","accent")}function rt(C,Q){if(1&C){const d=n.EpF();n.TgZ(0,"button",46),n.NdJ("click",function(){n.CHM(d);const m=n.oxw(3);return n.KtG(m.toggleOnFileInputed(!1))}),n._UZ(1,"mat-icon",47),n.qZA()}2&C&&(n.Q6J("matTooltip","Clear"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:x"))}function ct(C,Q){if(1&C){const d=n.EpF();n.ynx(0),n.TgZ(1,"div",6)(2,"div",7)(3,"form",27)(4,"div",9)(5,"div",28)(6,"button",29),n.NdJ("click",function(){n.CHM(d);const m=n.oxw(2);return n.KtG(m.toggleInsertMode(!1))}),n._uU(7," Batal "),n.qZA(),n.TgZ(8,"button",30),n.NdJ("click",function(){n.CHM(d);const m=n.oxw(2);return n.KtG(m.insert())}),n._uU(9," Submit Usulan "),n.qZA()()(),n._UZ(10,"input",31),n.TgZ(11,"div",32)(12,"mat-form-field",33)(13,"mat-label"),n._uU(14,"Penguasaan Bahasa"),n.qZA(),n.TgZ(15,"mat-select",34),n.YNc(16,_t,2,2,"mat-option",35),n.ALo(17,"async"),n.qZA()()(),n.TgZ(18,"div",32)(19,"mat-form-field",33)(20,"mat-label"),n._uU(21,"Tahun Terbit Sertifikat"),n.qZA(),n.TgZ(22,"mat-select",34),n.YNc(23,lt,2,2,"mat-option",35),n.qZA()()(),n.TgZ(24,"div",32)(25,"mat-form-field",33)(26,"mat-label"),n._uU(27,"Nilai"),n.qZA(),n._UZ(28,"input",36),n.qZA()(),n.TgZ(29,"div",32)(30,"div",33)(31,"mat-label"),n._uU(32,"Sertifikat "),n.TgZ(33,"i"),n._uU(34,"(PDF, Maksimal ukuran 2 MB)"),n.qZA()(),n.TgZ(35,"input",37,38),n.NdJ("click",function(){n.CHM(d);const m=n.MAs(36);return n.KtG(m.value=null)})("change",function(m){n.CHM(d);const o=n.oxw(2);return n.KtG(o.onFileInput(m))}),n.qZA(),n.TgZ(37,"div",39)(38,"div",40),n.YNc(39,st,2,1,"button",41),n.YNc(40,rt,2,2,"button",42),n._UZ(41,"span",43),n.qZA()()()()()()(),n.BQk()}if(2&C){const d=n.oxw(2);n.xp6(3),n.Q6J("formGroup",d.form),n.xp6(3),n.Q6J("matTooltip","Batalkan Penambahan Data Baru"),n.xp6(2),n.Q6J("color","primary")("disabled",d.form.invalid)("matTooltip","Submit Usulan Penambahan Data"),n.xp6(7),n.Q6J("formControlName","bahasaId"),n.xp6(1),n.Q6J("ngForOf",n.lcZ(17,14,d.jenisBahasa$)),n.xp6(6),n.Q6J("formControlName","tahun"),n.xp6(1),n.Q6J("ngForOf",d.tahun),n.xp6(5),n.Q6J("formControlName","nilai")("spellcheck",!1),n.xp6(11),n.Q6J("ngIf",!d.onFileInputed),n.xp6(1),n.Q6J("ngIf",d.onFileInputed),n.xp6(1),n.Q6J("id","fileDokumen")}}function mt(C,Q){if(1&C&&(n.TgZ(0,"div",5)(1,"div",6)(2,"div",7),n.YNc(3,tt,9,4,"ng-container",8),n.YNc(4,ct,42,16,"ng-container",8),n.qZA()()()),2&C){const d=n.oxw();n.xp6(3),n.Q6J("ngIf",!d.insertMode),n.xp6(1),n.Q6J("ngIf",d.insertMode)}}function ut(C,Q){if(1&C&&n._UZ(0,"app-usulan",48),2&C){const d=n.oxw();n.Q6J("items",d.rwUsuls)}}function pt(C,Q){if(1&C&&(n.ynx(0),n.TgZ(1,"div",53)(2,"div",54)(3,"div",55),n._uU(4,"Penguasaan Bahasa"),n.qZA(),n.TgZ(5,"div"),n._uU(6),n.qZA()()(),n.BQk()),2&C){const d=n.oxw(3);let h;n.xp6(6),n.Oqu(null!==(h=d.selected.bahasa.nama)&&void 0!==h?h:"-")}}function gt(C,Q){if(1&C&&(n.ynx(0),n.TgZ(1,"div",53)(2,"div",54)(3,"div",55),n._uU(4,"Nilai"),n.qZA(),n.TgZ(5,"div"),n._uU(6),n.qZA()()(),n.BQk()),2&C){const d=n.oxw(3);let h;n.xp6(6),n.Oqu(null!==(h=d.selected.nilai)&&void 0!==h?h:"-")}}function dt(C,Q){if(1&C&&(n.ynx(0),n.TgZ(1,"div",53)(2,"div",54)(3,"div",55),n._uU(4,"Tahun"),n.qZA(),n.TgZ(5,"div"),n._uU(6),n.qZA()()(),n.BQk()),2&C){const d=n.oxw(3);let h;n.xp6(6),n.Oqu(null!==(h=d.selected.tahun)&&void 0!==h?h:"-")}}function ft(C,Q){if(1&C){const d=n.EpF();n.ynx(0),n.TgZ(1,"div",51)(2,"div",7)(3,"div",9)(4,"div",10)(5,"button",52),n.NdJ("click",function(){n.CHM(d);const m=n.oxw(2);return n.KtG(m.delete())}),n._uU(6," Hapus "),n.qZA(),n.TgZ(7,"button",11),n.NdJ("click",function(){n.CHM(d);const m=n.oxw(2);return n.KtG(m.toggleEditMode(!0))}),n._UZ(8,"mat-icon",12),n.TgZ(9,"span",13),n._uU(10,"Ubah"),n.qZA()()()(),n.YNc(11,pt,7,1,"ng-container",8),n.YNc(12,gt,7,1,"ng-container",8),n.YNc(13,dt,7,1,"ng-container",8),n.qZA()(),n.BQk()}if(2&C){const d=n.oxw(2);n.xp6(5),n.Q6J("color","warn")("matTooltip","Hapus Data"),n.xp6(3),n.Q6J("svgIcon","heroicons_solid:pencil-alt"),n.xp6(3),n.Q6J("ngIf",d.selected),n.xp6(1),n.Q6J("ngIf",d.selected),n.xp6(1),n.Q6J("ngIf",d.selected)}}function N(C,Q){if(1&C&&(n.TgZ(0,"mat-option",44),n._uU(1),n.qZA()),2&C){const d=Q.$implicit;n.Q6J("value",d.id),n.xp6(1),n.hij("",d.nama," ")}}function Y(C,Q){if(1&C&&(n.ynx(0),n._UZ(1,"input",56),n.TgZ(2,"div",32)(3,"mat-form-field",33)(4,"mat-label"),n._uU(5,"Riwayat Kemahiran Berbahasa"),n.qZA(),n.TgZ(6,"mat-select",34),n.YNc(7,N,2,2,"mat-option",35),n.ALo(8,"async"),n.qZA()()(),n.BQk()),2&C){const d=n.oxw(3);n.xp6(6),n.Q6J("formControlName","bahasaId"),n.xp6(1),n.Q6J("ngForOf",n.lcZ(8,2,d.jenisBahasa$))}}function U(C,Q){if(1&C){const d=n.EpF();n.ynx(0),n.TgZ(1,"div",6)(2,"div",7)(3,"form",27)(4,"div",9)(5,"div",28)(6,"button",29),n.NdJ("click",function(){n.CHM(d);const m=n.oxw(2);return n.KtG(m.toggleEditMode(!1))}),n._uU(7," Batal "),n.qZA(),n.TgZ(8,"button",30),n.NdJ("click",function(){n.CHM(d);const m=n.oxw(2);return n.KtG(m.update())}),n._uU(9," Submit Usulan "),n.qZA()()(),n.YNc(10,Y,9,4,"ng-container",8),n.qZA()()(),n.BQk()}if(2&C){const d=n.oxw(2);n.xp6(3),n.Q6J("formGroup",d.form),n.xp6(3),n.Q6J("matTooltip","Batalkan Perubahan Data"),n.xp6(2),n.Q6J("color","primary")("disabled",d.form.invalid)("matTooltip","Submit Usulan Perubahan Data"),n.xp6(2),n.Q6J("ngIf",d.selected)}}function O(C,Q){if(1&C&&(n.TgZ(0,"div",15)(1,"div",49)(2,"div",50)(3,"div",5),n.YNc(4,ft,14,6,"ng-container",8),n.YNc(5,U,11,6,"ng-container",8),n.qZA()()()()),2&C){const d=n.oxw();n.xp6(4),n.Q6J("ngIf",!d.editMode),n.xp6(1),n.Q6J("ngIf",d.editMode)}}let B=(()=>{class C{constructor(d,h,m,o,r,a,p,s){this._penerjemahService=d,this._referensiService=h,this._helperService=m,this._changeDetectorRef=o,this._formBuilder=r,this._toastr=a,this._authService=p,this._userService=s,this.rwPenguasaanBahasa=[],this.rwUsuls=[],this.selected=null,this.editMode=!1,this.insertMode=!1,this.onFileInputed=!1,this.tahun=this._referensiService.tahun(),this.jenisBahasa$=this._referensiService.jenisBahasa(),this._unsubscribeAll=new k.x}ngOnInit(){this.form=this._formBuilder.group({newBahasaId:[null],beforeBahasaId:[null],bahasaId:[null,x.kI.required],nilai:[null,x.kI.required],tahun:[null,x.kI.required],file:[null,x.kI.required]}),this.loadData()}loadData(){"ROLE_ADMIN"===this._authService.role?this._penerjemahService.jfpItem$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(d=>{this.pnsId=d.id,this._changeDetectorRef.markForCheck()}):this._userService.user$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(d=>{this.pnsId=d.pnsId,this._changeDetectorRef.markForCheck()}),this._penerjemahService.getPenguasaanBahasa(this.pnsId).subscribe(),this._penerjemahService.penguasaanBahasa$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(d=>{console.log("Fetched Item:",d),d&&(this.rwPenguasaanBahasa=d,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"KEMAHIRAN_BAHASA",size:100}).pipe((0,R.R)(this._unsubscribeAll)).subscribe(d=>{d&&(this.rwUsuls=d,this._changeDetectorRef.markForCheck())})}onFileInput(d){const h=this._referensiService.onFileInputSingle(d,"application/pdf",2e3);return h.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=h.fileInfo.name,this.form.get("file").setValue(d.target.files[0]),!0):(this._toastr.error(h.msg,"ERROR"),!1)}insert(){const d=this.form.getRawValue(),h=new FormData;h.append("pnsId",this.pnsId),h.append("newBahasaId",d.bahasaId),d.bahasaId&&h.append("bahasaId",d.bahasaId),d.tahun&&h.append("tahun",d.tahun),d.nilai&&h.append("nilai",d.nilai),d.file&&h.append("file",d.file),this._penerjemahService.saveRwKemahiranBahasa(h).subscribe(m=>{m?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(m?.message,"ERROR")})}delete(){this._penerjemahService.deleteKemahiranBahasa(this.selected.pnsId,this.selected.bahasa.id).subscribe(d=>{d?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(d?.message,"ERROR")})}update(){const d=this.form.getRawValue(),h=new FormData;h.append("pnsId",this.pnsId),h.append("newBahasaId",d.bahasaId),d.beforeBahasaId!==d.bahasaId&&this._penerjemahService.deleteKemahiranBahasa(this.selected.pnsId,d.beforeBahasaId).subscribe(),d.bahasaId&&h.append("bahasaId",d.bahasaId),this._penerjemahService.saveRwKemahiranBahasa(h).subscribe(m=>{m?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(m?.message,"ERROR")})}displayFn(d){if(d)return d.nama}trackByFn(d,h){return h.id||d}toggleInsertMode(d=null){this.insertMode=null===d?!this.insertMode:d,this._changeDetectorRef.markForCheck()}toggleEditMode(d=null){this.editMode=null===d?!this.editMode:d,this._changeDetectorRef.markForCheck()}toggleDetails(d){const h=this.rwPenguasaanBahasa.find(m=>m.bahasa.id===d);h?(this.selected&&this.selected.bahasa.id===h.bahasa.id?this.selected=null:(this.selected=h,this.form.patchValue(this.selected)),this._changeDetectorRef.markForCheck()):this._toastr.error("Detail tidak ditemukan","ERROR")}closeDetails(){this.selected=null}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return C.\u0275fac=function(d){return new(d||C)(n.Y36(i.e),n.Y36(j.A2),n.Y36(t.W),n.Y36(n.sBO),n.Y36(x.qu),n.Y36(nt._W),n.Y36(et.e),n.Y36(X.K))},C.\u0275cmp=n.Xpm({type:C,selectors:[["app-penguasaan-bahasa"]],features:[n._Bn([{provide:M.sG,useValue:j.lv},{provide:M._A,useClass:S.t7,deps:[M.Ad]}])],decls:7,vars:1,consts:[[1,"ml-0","pl-0","mt-5",3,"animationDuration"],["label","Data Disetujui"],["matTabContent",""],["label","Riwayat Usulan"],["rowDetailsTemplate",""],[1,"flex","flex-col","w-full"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6"],[1,"w-full"],[4,"ngIf"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-11","text-md","font-medium"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"flex","flex-col","sm:flex-row","sm:items-center","-ml-0.5","mt-2","sm:mt-1","space-y-1","sm:space-y-0","sm:space-x-3"],[1,"hidden","sm:block"],[1,"col-span-1","self-center","text-right"],["mat-stroked-button","",1,"min-w-10","min-h-10","h-10","px-2","leading-6",3,"click"],[1,"col-span-12","my-4","border-b"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type"],["fuseAlertTitle",""],[3,"formGroup"],[1,"flex","items-center","justify-end","w-full","mx-auto"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],["type","hidden","formControlName","newBahasaId"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"formControlName","spellcheck"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[3,"value"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"],[3,"items"],[1,"col-span-12","shadow-lg","overflow-hidden","mb-4"],[1,"flex","border-b"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0"],["mat-button","",1,"mr-5",3,"color","matTooltip","click"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],["type","hidden","formControlName","beforeBahasaId"]],template:function(d,h){1&d&&(n.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),n.YNc(2,mt,5,2,"ng-template",2),n.qZA(),n.TgZ(3,"mat-tab",3),n.YNc(4,ut,1,1,"ng-template",2),n.qZA()(),n.YNc(5,O,6,2,"ng-template",null,4,n.W1O)),2&d&&n.Q6J("animationDuration","0")},dependencies:[e.sg,e.O5,e.tP,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,at.lW,c.KE,c.hX,it.Hw,L.Nt,w.gD,M.ey,V.gM,ot.W,F.SP,F.uX,F.Vc,q.Q,e.Ov],encapsulation:2,changeDetection:0}),C})()},4330:(xt,W,l)=>{l.d(W,{I:()=>G});var x=l(1637),S=l(9638),M=l(1561),j=l(1379),k=l(3704),R=l(4756),n=l(8659),i=l(3331),t=l(7406),nt=l(3319),et=l(3538),X=l(827),e=l(3556),at=l(8033),c=l(2094),it=l(3911),L=l(2940),w=l(7775),V=l(7853),ot=l(5507),F=l(4640),q=l(4466),y=l(2516),P=l(4537);let G=(()=>{class ${}return $.\u0275fac=function(tt){return new(tt||$)},$.\u0275mod=P.oAB({type:$}),$.\u0275inj=P.cJS({imports:[q.m,S.ot,M.p9,k.FA,R.t,n.lN,i.Ps,t.c,nt.Tx,X.Cv,e.Fk,j.si,at.LD,c.SJ,it.p0,et.TU,L.AV,V.V,x.Bb,j.XK,w.fC,y.Nh,ot.yI.forRoot(),F.c]}),$})()},5335:(xt,W,l)=>{l.d(W,{a:()=>h});var x=l(92),S=l(8772),M=l(1379),j=l(5450),k=l(8023),R=l(3528),n=l(4945),i=l(4537),t=l(47),nt=l(8292),et=l(8951),X=l(7495),e=l(8692),at=l(9638),c=l(8659),it=l(3331),L=l(7406),w=l(8033),V=l(2940),ot=l(2494),F=l(2516),q=l(7569);function y(m,o){if(1&m){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",19),i._uU(2,"\u2022"),i.qZA(),i.TgZ(3,"div",24),i._UZ(4,"mat-icon",25),i.TgZ(5,"button",26),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,s=i.oxw(3);return i.KtG(s.togglePrint(p.dokumenId))}),i._uU(6,"Sertifikat"),i.qZA()(),i.BQk()}}function P(m,o){1&m&&i.GkF(0)}const G=function(m){return{$implicit:m}};function $(m,o){if(1&m&&(i.ynx(0),i.YNc(1,P,1,0,"ng-container",27),i.BQk()),2&m){const r=i.oxw().$implicit;i.oxw(3);const a=i.MAs(6);i.xp6(1),i.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",i.VKq(2,G,r))}}function z(m,o){if(1&m){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"div"),i._uU(6),i.qZA(),i.TgZ(7,"div",19),i._uU(8,"\u2022"),i.qZA(),i.TgZ(9,"div"),i._uU(10),i.qZA()(),i.TgZ(11,"div",18)(12,"div",20),i._uU(13),i.qZA(),i.YNc(14,y,7,0,"ng-container",8),i.qZA()()(),i.TgZ(15,"div",21)(16,"button",22),i.NdJ("click",function(){const s=i.CHM(r).$implicit,A=i.oxw(3);return i.KtG(A.toggleDetails(s.id))}),i._UZ(17,"mat-icon",12),i.qZA()(),i._UZ(18,"div",23),i.qZA(),i.YNc(19,$,2,4,"ng-container",8),i.BQk()}if(2&m){const r=o.$implicit,a=i.oxw(3);i.xp6(6),i.Oqu(r.tahun),i.xp6(4),i.Oqu(r.namaBahasa),i.xp6(2),i.Q6J("matTooltip","Nilai"),i.xp6(1),i.Oqu(r.nilai),i.xp6(1),i.Q6J("ngIf",r.dokumenId),i.xp6(3),i.Q6J("svgIcon",(null==a.selected?null:a.selected.id)===r.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),i.xp6(2),i.Q6J("ngIf",(null==a.selected?null:a.selected.id)===r.id)}}function tt(m,o){1&m&&(i.ynx(0),i.TgZ(1,"fuse-alert",28)(2,"span",29),i._uU(3,"Belum ada data riwayat uji kemahiran berbahasa"),i.qZA()(),i.BQk()),2&m&&(i.xp6(1),i.Q6J("type","info"))}function _t(m,o){if(1&m){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",9)(2,"div",10)(3,"button",11),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.toggleInsertMode(!0))}),i._UZ(4,"mat-icon",12),i.TgZ(5,"span",13),i._uU(6,"Data Baru"),i.qZA()()()(),i.YNc(7,z,20,7,"ng-container",14),i.YNc(8,tt,4,1,"ng-container",8),i.BQk()}if(2&m){const r=i.oxw(2);i.xp6(4),i.Q6J("svgIcon","heroicons_solid:plus"),i.xp6(3),i.Q6J("ngForOf",r.rwKemahiranBerbahasa)("ngForTrackBy",r.trackByFn),i.xp6(1),i.Q6J("ngIf",!r.rwKemahiranBerbahasa.length)}}function lt(m,o){if(1&m&&(i.TgZ(0,"mat-option",47),i._uU(1),i.qZA()),2&m){const r=o.$implicit;i.Q6J("value",r.id),i.xp6(1),i.hij("",r.nama," ")}}function st(m,o){if(1&m&&(i.TgZ(0,"mat-option",47),i._uU(1),i.qZA()),2&m){const r=o.$implicit;i.Q6J("value",r),i.xp6(1),i.hij("",r," ")}}function rt(m,o){if(1&m){const r=i.EpF();i.TgZ(0,"button",48),i.NdJ("click",function(){i.CHM(r),i.oxw();const p=i.MAs(36);return i.KtG(p.click())}),i._uU(1,"Unggah Sertifikat"),i.qZA()}2&m&&i.Q6J("color","accent")}function ct(m,o){if(1&m){const r=i.EpF();i.TgZ(0,"button",49),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(3);return i.KtG(p.toggleOnFileInputed(!1))}),i._UZ(1,"mat-icon",50),i.qZA()}2&m&&(i.Q6J("matTooltip","Clear"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"))}function mt(m,o){if(1&m){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",6)(2,"div",7)(3,"form",30)(4,"div",9)(5,"div",31)(6,"button",32),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.toggleInsertMode(!1))}),i._uU(7," Batal "),i.qZA(),i.TgZ(8,"button",33),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.insert())}),i._uU(9," Submit Usulan "),i.qZA()()(),i._UZ(10,"input",34),i.TgZ(11,"div",35)(12,"mat-form-field",36)(13,"mat-label"),i._uU(14,"Riwayat Kemahiran Berbahasa"),i.qZA(),i.TgZ(15,"mat-select",37),i.YNc(16,lt,2,2,"mat-option",38),i.ALo(17,"async"),i.qZA()()(),i.TgZ(18,"div",35)(19,"mat-form-field",36)(20,"mat-label"),i._uU(21,"Tahun Terbit Sertifikat"),i.qZA(),i.TgZ(22,"mat-select",37),i.YNc(23,st,2,2,"mat-option",38),i.qZA()()(),i.TgZ(24,"div",35)(25,"mat-form-field",36)(26,"mat-label"),i._uU(27,"Nilai"),i.qZA(),i._UZ(28,"input",39),i.qZA()(),i.TgZ(29,"div",35)(30,"div",36)(31,"mat-label"),i._uU(32,"Sertifikat "),i.TgZ(33,"i"),i._uU(34,"(PDF, Maksimal ukuran 2 MB)"),i.qZA()(),i.TgZ(35,"input",40,41),i.NdJ("click",function(){i.CHM(r);const p=i.MAs(36);return i.KtG(p.value=null)})("change",function(p){i.CHM(r);const s=i.oxw(2);return i.KtG(s.onFileInput(p))}),i.qZA(),i.TgZ(37,"div",42)(38,"div",43),i.YNc(39,rt,2,1,"button",44),i.YNc(40,ct,2,2,"button",45),i._UZ(41,"span",46),i.qZA()()()()()()(),i.BQk()}if(2&m){const r=i.oxw(2);i.xp6(3),i.Q6J("formGroup",r.form),i.xp6(3),i.Q6J("matTooltip","Batalkan Penambahan Data Baru"),i.xp6(2),i.Q6J("color","primary")("disabled",r.form.invalid)("matTooltip","Submit Usulan Penambahan Data"),i.xp6(7),i.Q6J("formControlName","bahasaId"),i.xp6(1),i.Q6J("ngForOf",i.lcZ(17,14,r.jenisBahasa$)),i.xp6(6),i.Q6J("formControlName","tahun"),i.xp6(1),i.Q6J("ngForOf",r.tahun),i.xp6(5),i.Q6J("formControlName","nilai")("spellcheck",!1),i.xp6(11),i.Q6J("ngIf",!r.onFileInputed),i.xp6(1),i.Q6J("ngIf",r.onFileInputed),i.xp6(1),i.Q6J("id","fileDokumen")}}function ut(m,o){if(1&m&&(i.TgZ(0,"div",5)(1,"div",6)(2,"div",7),i.YNc(3,_t,9,4,"ng-container",8),i.YNc(4,mt,42,16,"ng-container",8),i.qZA()()()),2&m){const r=i.oxw();i.xp6(3),i.Q6J("ngIf",!r.insertMode),i.xp6(1),i.Q6J("ngIf",r.insertMode)}}function pt(m,o){if(1&m&&i._UZ(0,"app-usulan",51),2&m){const r=i.oxw();i.Q6J("items",r.rwUsuls)}}function gt(m,o){if(1&m){const r=i.EpF();i.TgZ(0,"button",60),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(4);return i.KtG(p.togglePrint(p.selected.dokumenId))}),i._UZ(1,"mat-icon",12),i.TgZ(2,"span"),i._uU(3,"Unduh"),i.qZA()()}2&m&&(i.xp6(1),i.Q6J("svgIcon","heroicons_solid:paper-clip"))}function dt(m,o){1&m&&(i.TgZ(0,"div"),i._uU(1,"-"),i.qZA())}function ft(m,o){if(1&m&&(i.ynx(0),i.TgZ(1,"div",56)(2,"div",57)(3,"div",58),i._uU(4,"Tahun"),i.qZA(),i.TgZ(5,"div"),i._uU(6),i.qZA()(),i.TgZ(7,"div",57)(8,"div",58),i._uU(9,"Jenis Sertifikat"),i.qZA(),i.TgZ(10,"div",18)(11,"div"),i._uU(12),i.qZA()()(),i.TgZ(13,"div",57)(14,"div",58),i._uU(15,"Nilai"),i.qZA(),i.TgZ(16,"div"),i._uU(17),i.qZA()(),i.TgZ(18,"div",57)(19,"div",58),i._uU(20,"Dokumen Sertifikat"),i.qZA(),i.YNc(21,gt,4,1,"button",59),i.YNc(22,dt,2,0,"div",8),i.qZA()(),i.BQk()),2&m){const r=i.oxw(3);let a,p,s;i.xp6(6),i.Oqu(null!==(a=r.selected.tahun)&&void 0!==a?a:"-"),i.xp6(6),i.Oqu(null!==(p=r.selected.jenisSertifikat.nama)&&void 0!==p?p:"-"),i.xp6(5),i.Oqu(null!==(s=r.selected.nilai)&&void 0!==s?s:"-"),i.xp6(4),i.Q6J("ngIf",r.selected.dokumenId),i.xp6(1),i.Q6J("ngIf",!r.selected.dokumenId)}}function N(m,o){if(1&m){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",54)(2,"div",7)(3,"div",9)(4,"div",10)(5,"button",55),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.delete())}),i._uU(6," Hapus "),i.qZA(),i.TgZ(7,"button",11),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.toggleEditMode(!0))}),i._UZ(8,"mat-icon",12),i.TgZ(9,"span",13),i._uU(10,"Ubah"),i.qZA()()()(),i.YNc(11,ft,23,5,"ng-container",8),i.qZA()(),i.BQk()}if(2&m){const r=i.oxw(2);i.xp6(5),i.Q6J("color","warn")("matTooltip","Hapus Data"),i.xp6(3),i.Q6J("svgIcon","heroicons_solid:pencil-alt"),i.xp6(3),i.Q6J("ngIf",r.selected)}}function Y(m,o){if(1&m&&(i.TgZ(0,"mat-option",47),i._uU(1),i.qZA()),2&m){const r=o.$implicit;i.Q6J("value",r.id),i.xp6(1),i.hij("",r.nama," ")}}function U(m,o){if(1&m&&(i.TgZ(0,"mat-option",47),i._uU(1),i.qZA()),2&m){const r=o.$implicit;i.Q6J("value",r),i.xp6(1),i.hij("",r," ")}}function O(m,o){if(1&m){const r=i.EpF();i.TgZ(0,"button",48),i.NdJ("click",function(){i.CHM(r),i.oxw();const p=i.MAs(26);return i.KtG(p.click())}),i._uU(1,"Unggah Sertifikat"),i.qZA()}2&m&&i.Q6J("color","accent")}function B(m,o){if(1&m){const r=i.EpF();i.TgZ(0,"button",49),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(4);return i.KtG(p.toggleOnFileInputed(!1))}),i._UZ(1,"mat-icon",50),i.qZA()}2&m&&(i.Q6J("matTooltip","Clear"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"))}function C(m,o){if(1&m){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",35)(2,"mat-form-field",36)(3,"mat-label"),i._uU(4,"Jenis Sertifikat"),i.qZA(),i.TgZ(5,"mat-select",37),i.YNc(6,Y,2,2,"mat-option",38),i.ALo(7,"async"),i.qZA()()(),i.TgZ(8,"div",35)(9,"mat-form-field",36)(10,"mat-label"),i._uU(11,"Tahun Terbit Sertifikat"),i.qZA(),i.TgZ(12,"mat-select",37),i.YNc(13,U,2,2,"mat-option",38),i.qZA()()(),i.TgZ(14,"div",35)(15,"mat-form-field",36)(16,"mat-label"),i._uU(17,"Nilai"),i.qZA(),i._UZ(18,"input",39),i.qZA()(),i.TgZ(19,"div",35)(20,"div",36)(21,"mat-label"),i._uU(22,"Sertifikat "),i.TgZ(23,"i"),i._uU(24,"(PDF, Maksimal ukuran 2 MB)"),i.qZA()(),i.TgZ(25,"input",40,41),i.NdJ("click",function(){i.CHM(r);const p=i.MAs(26);return i.KtG(p.value=null)})("change",function(p){i.CHM(r);const s=i.oxw(3);return i.KtG(s.onFileInput(p))}),i.qZA(),i.TgZ(27,"div",42)(28,"div",43),i.YNc(29,O,2,1,"button",44),i.YNc(30,B,2,2,"button",45),i._UZ(31,"span",46),i.qZA()()()(),i.BQk()}if(2&m){const r=i.oxw(3);i.xp6(5),i.Q6J("formControlName","jenisSertifikat"),i.xp6(1),i.Q6J("ngForOf",i.lcZ(7,9,r.jenisSertifikat$)),i.xp6(6),i.Q6J("formControlName","tahun"),i.xp6(1),i.Q6J("ngForOf",r.tahun),i.xp6(5),i.Q6J("formControlName","nilai")("spellcheck",!1),i.xp6(11),i.Q6J("ngIf",!r.onFileInputed),i.xp6(1),i.Q6J("ngIf",r.onFileInputed),i.xp6(1),i.Q6J("id","fileDokumen")}}function Q(m,o){if(1&m){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",6)(2,"div",7)(3,"form",30)(4,"div",9)(5,"div",31)(6,"button",32),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.toggleEditMode(!1))}),i._uU(7," Batal "),i.qZA(),i.TgZ(8,"button",33),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.update())}),i._uU(9," Submit Usulan "),i.qZA()()(),i.YNc(10,C,32,11,"ng-container",8),i.qZA()()(),i.BQk()}if(2&m){const r=i.oxw(2);i.xp6(3),i.Q6J("formGroup",r.form),i.xp6(3),i.Q6J("matTooltip","Batalkan Perubahan Data"),i.xp6(2),i.Q6J("color","primary")("disabled",r.form.invalid)("matTooltip","Submit Usulan Perubahan Data"),i.xp6(2),i.Q6J("ngIf",r.selected)}}function d(m,o){if(1&m&&(i.TgZ(0,"div",15)(1,"div",52)(2,"div",53)(3,"div",5),i.YNc(4,N,12,4,"ng-container",8),i.YNc(5,Q,11,6,"ng-container",8),i.qZA()()()()),2&m){const r=i.oxw();i.xp6(4),i.Q6J("ngIf",!r.editMode),i.xp6(1),i.Q6J("ngIf",r.editMode)}}let h=(()=>{class m{constructor(r,a,p,s,A,E,b){this._penerjemahService=r,this._referensiService=a,this._changeDetectorRef=p,this._formBuilder=s,this._toastr=A,this._authService=E,this._userService=b,this.rwKemahiranBerbahasa=[],this.rwUsuls=[],this.selected=null,this.editMode=!1,this.insertMode=!1,this.onFileInputed=!1,this.tahun=this._referensiService.tahun(),this.jenisBahasa$=this._referensiService.jenisBahasa(),this._unsubscribeAll=new k.x}ngOnInit(){this.form=this._formBuilder.group({nilai:[null,x.kI.required],tahun:[null,x.kI.required],file:[null,x.kI.required],newBahasaId:[null],beforeBahasaId:[null],bahasaId:[null,x.kI.required]}),this.loadData()}loadData(){"ROLE_ADMIN"===this._authService.role?this._penerjemahService.jfpItem$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(r=>{this.pnsId=r.id,this._changeDetectorRef.markForCheck()}):this._userService.user$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(r=>{this.pnsId=r.pnsId,this._changeDetectorRef.markForCheck()}),this._penerjemahService.getRwUjiKemahiranBerbahasa(this.pnsId).subscribe(),this._penerjemahService.rwUjiKemahiranBerbahasas$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this.rwKemahiranBerbahasa=r,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"RW_SERTIFIKAT_BAHASA",size:100}).pipe((0,R.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this.rwUsuls=r,this._changeDetectorRef.markForCheck())})}searchBahasa(r){this.jenisBahasa$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(a=>{this.jenisBahasa$=r?(0,n.of)(a.filter(p=>p.nama.toLowerCase().includes(r.toLowerCase()))):this._referensiService.jenisBahasa(),this._changeDetectorRef.markForCheck()})}togglePrint(r){this._penerjemahService.getDokumen(r).subscribe({next:a=>{const p=URL.createObjectURL(a);window.open(p,"_blank")},error:a=>{this._toastr.error("ERROR: Dokumen gagal ditampilkan","ERROR")}})}onFileInput(r){const a=this._referensiService.onFileInputSingle(r,"application/pdf",2e3);return a.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=a.fileInfo.name,this.form.get("file").setValue(r.target.files[0]),!0):(this._toastr.error(a.msg,"ERROR"),!1)}insert(){const r=this.form.getRawValue(),a=new FormData;a.append("pnsId",this.pnsId),a.append("newBahasaId",r.bahasaId),r.bahasaId&&a.append("bahasaId",r.bahasaId),r.tahun&&a.append("tahun",r.tahun),r.nilai&&a.append("nilai",r.nilai),r.file&&a.append("file",r.file),this._penerjemahService.saveRwUjiKemahiranBerbahasa(a).subscribe(p=>{p?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(p?.message,"ERROR")})}delete(){this._penerjemahService.deleteRwUjiKemahiranBerbahasa(this.selected.id).subscribe(r=>{r?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(r?.message,"ERROR")})}update(){const r=this.form.getRawValue(),a=new FormData;a.append("pnsId",this.pnsId),a.append("id",this.selected.id),a.append("newBahasaId",r.bahasaId),r.beforeBahasaId!==r.bahasaId&&this._penerjemahService.deleteKemahiranBahasa(this.selected.pnsId,r.beforeBahasaId).subscribe(),r.bahasaId&&a.append("bahasaId",r.bahasaId),r.tahun&&a.append("tahun",r.tahun),r.nilai&&a.append("nilai",r.nilai),r.file&&a.append("file",r.file),this._penerjemahService.saveRwUjiKemahiranBerbahasa(a).subscribe(p=>{p?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(p?.message,"ERROR")})}displayFn(r){if(r)return r.nama}trackByFn(r,a){return a.id||r}toggleInsertMode(r=null){this.insertMode=null===r?!this.insertMode:r,this._changeDetectorRef.markForCheck()}toggleEditMode(r=null){this.editMode=null===r?!this.editMode:r,this._changeDetectorRef.markForCheck()}toggleDetails(r){this.selected&&this.selected.id===r?this.closeDetails():this._penerjemahService.getPenguasaanBahasaById(r).subscribe(a=>{this.selected=a,this.form.patchValue(a),this.form.get("beforeBahasaId").setValue(a.bahasa.id),this.form.get("bahasaId").setValue(a.bahasa.id),this._changeDetectorRef.markForCheck()})}closeDetails(){this.selected=null}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return m.\u0275fac=function(r){return new(r||m)(i.Y36(t.e),i.Y36(j.A2),i.Y36(i.sBO),i.Y36(x.qu),i.Y36(nt._W),i.Y36(et.e),i.Y36(X.K))},m.\u0275cmp=i.Xpm({type:m,selectors:[["app-uji-berbahasa"]],features:[i._Bn([{provide:M.sG,useValue:j.lv},{provide:M._A,useClass:S.t7,deps:[M.Ad]}])],decls:7,vars:1,consts:[[1,"ml-0","pl-0","mt-5",3,"animationDuration"],["label","Data Disetujui"],["matTabContent",""],["label","Riwayat Usulan"],["rowDetailsTemplate",""],[1,"flex","flex-col","w-full"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6"],[1,"w-full"],[4,"ngIf"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-11","text-md","font-medium"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"hidden","sm:block"],[3,"matTooltip"],[1,"col-span-1","self-center","text-right"],["mat-stroked-button","",1,"min-w-10","min-h-10","h-10","px-2","leading-6",3,"click"],[1,"col-span-12","my-4","border-b"],[1,"flex","items-center"],["svgIcon","attach_file",1,"icon-size-5","text-hint"],[1,"ml-1.5","text-sm","underline",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type"],["fuseAlertTitle",""],[3,"formGroup"],[1,"flex","items-center","justify-end","w-full","mx-auto"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],["type","hidden","formControlName","newBahasaId"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"formControlName","spellcheck"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[3,"value"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"],[3,"items"],[1,"col-span-12","shadow-lg","overflow-hidden","mb-4"],[1,"flex","border-b"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0"],["mat-button","",1,"mr-5",3,"color","matTooltip","click"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],["class","px-3","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"px-3",3,"click"]],template:function(r,a){1&r&&(i.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),i.YNc(2,ut,5,2,"ng-template",2),i.qZA(),i.TgZ(3,"mat-tab",3),i.YNc(4,pt,1,1,"ng-template",2),i.qZA()(),i.YNc(5,d,6,2,"ng-template",null,4,i.W1O)),2&r&&i.Q6J("animationDuration","0")},dependencies:[e.sg,e.O5,e.tP,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,at.lW,c.KE,c.hX,it.Hw,L.Nt,w.gD,M.ey,V.gM,ot.W,F.SP,F.uX,F.Vc,q.Q,e.Ov],encapsulation:2,changeDetection:0}),m})()},6280:(xt,W,l)=>{l.d(W,{V:()=>E});var x=l(92),S=l(8772),M=l(1379),j=l(5450),k=l(6738),R=l.n(k),n=l(8023),i=l(3528),t=l(4537),nt=l(47),et=l(2047),X=l(8292),e=l(8951),at=l(7495),c=l(8692),it=l(9638),L=l(3704),w=l(8659),V=l(3331),ot=l(7406),F=l(8033),q=l(2940),y=l(2494),P=l(2516),G=l(7569);function $(b,J){1&b&&t.GkF(0)}const z=function(b){return{$implicit:b}};function tt(b,J){if(1&b&&(t.ynx(0),t.YNc(1,$,1,0,"ng-container",26),t.BQk()),2&b){const u=t.oxw().$implicit;t.oxw(3);const Z=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",Z)("ngTemplateOutletContext",t.VKq(2,z,u))}}function _t(b,J){if(1&b){const u=t.EpF();t.ynx(0),t.TgZ(1,"div",15)(2,"div",16)(3,"div",17),t._UZ(4,"div",18),t.TgZ(5,"div",19)(6,"div",20),t._UZ(7,"mat-icon",21),t.TgZ(8,"div",22),t._uU(9),t.qZA()()()()(),t.TgZ(10,"div",23)(11,"button",24),t.NdJ("click",function(){const I=t.CHM(u).$implicit,K=t.oxw(3);return t.KtG(K.toggleDetails(I.id))}),t._UZ(12,"mat-icon",12),t.qZA()(),t._UZ(13,"div",25),t.qZA(),t.YNc(14,tt,2,4,"ng-container",8),t.BQk()}if(2&b){const u=J.$implicit,Z=t.oxw(3);t.xp6(6),t.Q6J("matTooltip","Tanggal SK"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:calendar"),t.xp6(2),t.Oqu(u.jenisUjikom),t.xp6(3),t.Q6J("svgIcon",(null==Z.selected?null:Z.selected.id)===u.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),t.xp6(2),t.Q6J("ngIf",(null==Z.selected?null:Z.selected.id)===u.id)}}function lt(b,J){1&b&&(t.ynx(0),t.TgZ(1,"fuse-alert",27)(2,"span",28),t._uU(3,"Belum ada data riwayat uji kompetensi"),t.qZA()(),t.BQk()),2&b&&(t.xp6(1),t.Q6J("type","info"))}function st(b,J){if(1&b){const u=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",10)(3,"button",11),t.NdJ("click",function(){t.CHM(u);const g=t.oxw(2);return t.KtG(g.toggleInsertMode(!0))}),t._UZ(4,"mat-icon",12),t.TgZ(5,"span",13),t._uU(6,"Data Baru"),t.qZA()()()(),t.YNc(7,_t,15,5,"ng-container",14),t.YNc(8,lt,4,1,"ng-container",8),t.BQk()}if(2&b){const u=t.oxw(2);t.xp6(4),t.Q6J("svgIcon","heroicons_solid:plus"),t.xp6(3),t.Q6J("ngForOf",u.rwUjiKompetensi)("ngForTrackBy",u.trackByFn),t.xp6(1),t.Q6J("ngIf",!u.rwUjiKompetensi.length)}}function rt(b,J){if(1&b&&(t.TgZ(0,"mat-option",52),t._uU(1),t.qZA()),2&b){const u=J.$implicit;t.Q6J("value",u),t.xp6(1),t.hij("",u," ")}}function ct(b,J){if(1&b&&(t.TgZ(0,"mat-option",52),t._uU(1),t.qZA()),2&b){const u=J.$implicit;t.Q6J("value",u.id),t.xp6(1),t.AsE("",u.namaPangkat," - ",u.nama," ")}}function mt(b,J){if(1&b&&(t.TgZ(0,"mat-option",52),t._uU(1),t.qZA()),2&b){const u=J.$implicit;t.Q6J("value",u.id),t.xp6(1),t.AsE("",u.jenjang," - ",u.nama," ")}}function ut(b,J){if(1&b&&(t.TgZ(0,"mat-option",52),t._uU(1),t.qZA()),2&b){const u=J.$implicit;t.Q6J("value",u.id),t.xp6(1),t.hij("",u.name," ")}}function pt(b,J){1&b&&(t.TgZ(0,"mat-error"),t._uU(1," Anda harus memilih pilihan uji kompetensi dari hasil pencarian "),t.qZA())}function gt(b,J){if(1&b){const u=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(u),t.oxw();const g=t.MAs(85);return t.KtG(g.click())}),t._uU(1,"Unggah Dokumen"),t.qZA()}2&b&&t.Q6J("color","accent")}function dt(b,J){if(1&b){const u=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){t.CHM(u);const g=t.oxw(3);return t.KtG(g.toggleOnFileInputed(!1))}),t._UZ(1,"mat-icon",55),t.qZA()}2&b&&(t.Q6J("matTooltip","Clear"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"))}function ft(b,J){if(1&b){const u=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"form",29)(4,"div",9)(5,"div",30)(6,"button",31),t.NdJ("click",function(){t.CHM(u);const g=t.oxw(2);return t.KtG(g.toggleInsertMode(!1))}),t._uU(7," Batal "),t.qZA(),t.TgZ(8,"button",32),t.NdJ("click",function(){t.CHM(u);const g=t.oxw(2);return t.KtG(g.insert())}),t._uU(9," Submit Usulan "),t.qZA()()(),t.TgZ(10,"div",33)(11,"mat-form-field",34)(12,"mat-label"),t._uU(13,"Tahun"),t.qZA(),t.TgZ(14,"mat-select",35),t.YNc(15,rt,2,2,"mat-option",36),t.qZA()()(),t.TgZ(16,"div",33)(17,"mat-form-field",34)(18,"mat-label"),t._uU(19,"Pangkat / Golongan"),t.qZA(),t.TgZ(20,"mat-select",35),t.YNc(21,ct,2,3,"mat-option",36),t.ALo(22,"async"),t.qZA()()(),t.TgZ(23,"div",33)(24,"mat-form-field",34)(25,"mat-label"),t._uU(26,"Jenis Jabatan"),t.qZA(),t.TgZ(27,"mat-select",35),t.YNc(28,mt,2,3,"mat-option",36),t.ALo(29,"async"),t.qZA()()(),t.TgZ(30,"div",33)(31,"mat-form-field",34)(32,"mat-label"),t._uU(33,"Lulus"),t.qZA(),t.TgZ(34,"mat-select",35),t.YNc(35,ut,2,2,"mat-option",36),t.qZA()()(),t.TgZ(36,"div",33)(37,"mat-form-field",34)(38,"mat-label"),t._uU(39,"Tanggal SK"),t.qZA(),t.TgZ(40,"input",37),t.NdJ("focus",function(){t.CHM(u);const g=t.MAs(43);return t.KtG(g.open())}),t.qZA(),t._UZ(41,"mat-datepicker-toggle",38)(42,"mat-datepicker",null,39),t.qZA()(),t.TgZ(44,"div",33)(45,"mat-form-field",34)(46,"mat-label"),t._uU(47,"No. SK"),t.qZA(),t._UZ(48,"input",40),t.qZA()(),t.TgZ(49,"div",33)(50,"mat-form-field",34)(51,"mat-label"),t._uU(52,"Jenis Uji Kompetennsi"),t.qZA(),t.TgZ(53,"mat-select",35)(54,"mat-option",41),t._uU(55,"Pilih Jenis Uji Kompetensi"),t.qZA(),t.TgZ(56,"mat-option",42),t._uU(57,"Ujikom Kenaikan Jenjang Jabatan Ahli Pertama ke Ahli Muda"),t.qZA(),t.TgZ(58,"mat-option",43),t._uU(59,"Ujikom Kenaikan Jenjang Jabatan Ahli Muda ke Ahli Madya"),t.qZA(),t.TgZ(60,"mat-option",44),t._uU(61,"Ujikom Kenaikan Jenjang Jabatan Ahli Madya ke Ahli Utama"),t.qZA()(),t.YNc(62,pt,2,0,"mat-error",8),t.qZA()(),t.TgZ(63,"div",33)(64,"mat-form-field",34)(65,"mat-label"),t._uU(66,"Nilai"),t.qZA(),t._UZ(67,"input",40),t.qZA()(),t.TgZ(68,"div",33)(69,"mat-form-field",34)(70,"mat-label"),t._uU(71,"Evaluasi Hasil Uji Kompetensi"),t.qZA(),t._UZ(72,"input",40),t.qZA()(),t.TgZ(73,"div",33)(74,"mat-form-field",34)(75,"mat-label"),t._uU(76,"Rekomendasi"),t.qZA(),t._UZ(77,"input",40),t.qZA()(),t.TgZ(78,"div",33)(79,"div",34)(80,"mat-label"),t._uU(81,"Sertifikat "),t.TgZ(82,"i"),t._uU(83,"(PDF, Maksimal ukuran 2 MB)"),t.qZA()(),t.TgZ(84,"input",45,46),t.NdJ("click",function(){t.CHM(u);const g=t.MAs(85);return t.KtG(g.value=null)})("change",function(g){t.CHM(u);const I=t.oxw(2);return t.KtG(I.onFileInput(g))}),t.qZA(),t.TgZ(86,"div",47)(87,"div",48),t.YNc(88,gt,2,1,"button",49),t.YNc(89,dt,2,2,"button",50),t._UZ(90,"span",51),t.qZA()()()()()()(),t.BQk()}if(2&b){const u=t.MAs(43),Z=t.oxw(2);t.xp6(3),t.Q6J("formGroup",Z.form),t.xp6(3),t.Q6J("matTooltip","Batalkan Penambahan Data Baru"),t.xp6(2),t.Q6J("color","primary")("disabled",Z.form.invalid)("matTooltip","Submit Usulan Penambahan Data"),t.xp6(6),t.Q6J("formControlName","tahun"),t.xp6(1),t.Q6J("ngForOf",Z.tahun),t.xp6(5),t.Q6J("formControlName","golonganId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(22,30,Z.jenisGolongan$)),t.xp6(6),t.Q6J("formControlName","jabatanId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(29,32,Z.jenisJabatan$)),t.xp6(6),t.Q6J("formControlName","isLulus"),t.xp6(1),t.Q6J("ngForOf",Z.lulus),t.xp6(5),t.Q6J("matDatepicker",u)("formControlName","tglSk")("max",Z._helperService.maxDate()),t.xp6(1),t.Q6J("for",u),t.xp6(7),t.Q6J("formControlName","noSk")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","jenisUjikom"),t.xp6(9),t.Q6J("ngIf",Z.form.controls.jenisUjikom.hasError("incorrect")),t.xp6(5),t.Q6J("formControlName","nilai")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","evaluasi")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","rekomendasi")("spellcheck",!1),t.xp6(11),t.Q6J("ngIf",!Z.onFileInputed),t.xp6(1),t.Q6J("ngIf",Z.onFileInputed),t.xp6(1),t.Q6J("id","fileDokumen")}}function N(b,J){if(1&b&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t.YNc(3,st,9,4,"ng-container",8),t.YNc(4,ft,91,34,"ng-container",8),t.qZA()()()),2&b){const u=t.oxw();t.xp6(3),t.Q6J("ngIf",!u.insertMode),t.xp6(1),t.Q6J("ngIf",u.insertMode)}}function Y(b,J){if(1&b&&t._UZ(0,"app-usulan",56),2&b){const u=t.oxw();t.Q6J("items",u.rwUsuls)}}function U(b,J){if(1&b){const u=t.EpF();t.TgZ(0,"button",65),t.NdJ("click",function(){t.CHM(u);const g=t.oxw(4);return t.KtG(g.togglePrint(g.selected.dokumenId))}),t._UZ(1,"mat-icon",12),t.TgZ(2,"span"),t._uU(3,"Unduh"),t.qZA()()}2&b&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:paper-clip"))}function O(b,J){1&b&&(t.TgZ(0,"div"),t._uU(1,"-"),t.qZA())}function B(b,J){if(1&b&&(t.ynx(0),t.TgZ(1,"div",61)(2,"div",62)(3,"div",63),t._uU(4,"Tahun"),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA()(),t.TgZ(7,"div",62)(8,"div",63),t._uU(9,"Pangkat / Golongan"),t.qZA(),t.TgZ(10,"div",18)(11,"div"),t._uU(12),t.qZA()()(),t.TgZ(13,"div",62)(14,"div",63),t._uU(15,"Lulus"),t.qZA(),t.TgZ(16,"div"),t._uU(17),t.qZA()(),t.TgZ(18,"div",62)(19,"div",63),t._uU(20,"Tanggal SK"),t.qZA(),t.TgZ(21,"div"),t._uU(22),t.qZA()(),t.TgZ(23,"div",62)(24,"div",63),t._uU(25,"No. SK"),t.qZA(),t.TgZ(26,"div"),t._uU(27),t.qZA()(),t.TgZ(28,"div",62)(29,"div",63),t._uU(30,"Jenis Uji Kom"),t.qZA(),t.TgZ(31,"div"),t._uU(32),t.qZA()(),t.TgZ(33,"div",62)(34,"div",63),t._uU(35,"Nilai"),t.qZA(),t.TgZ(36,"div",18)(37,"div"),t._uU(38),t.qZA()()(),t.TgZ(39,"div",62)(40,"div",63),t._uU(41,"Evaluasi"),t.qZA(),t.TgZ(42,"div"),t._uU(43),t.qZA()(),t.TgZ(44,"div",62)(45,"div",63),t._uU(46,"Rekomendasi"),t.qZA(),t.TgZ(47,"div"),t._uU(48),t.qZA()(),t.TgZ(49,"div",62)(50,"div",63),t._uU(51,"Dokumen Sertifikat"),t.qZA(),t.YNc(52,U,4,1,"button",64),t.YNc(53,O,2,0,"div",8),t.qZA()(),t.BQk()),2&b){const u=t.oxw(3);let Z,g,I,K,ht,Tt,At,vt;t.xp6(6),t.Oqu(null!==(Z=u.selected.tahun)&&void 0!==Z?Z:"-"),t.xp6(6),t.AsE("",u.selected.jabatanNama," - ",null!==(g=u.selected.golonganNama)&&void 0!==g?g:"-",""),t.xp6(5),t.Oqu(!0===u.selected.isLulus?"Ya":"Tidak"),t.xp6(5),t.Oqu(null!==(I=u.selected.tglSk)&&void 0!==I?I:"-"),t.xp6(5),t.Oqu(null!==(K=u.selected.noSk)&&void 0!==K?K:"-"),t.xp6(5),t.Oqu(null!==(ht=u.selected.jenisUjikom)&&void 0!==ht?ht:"-"),t.xp6(6),t.Oqu(null!==(Tt=u.selected.nilai)&&void 0!==Tt?Tt:"-"),t.xp6(5),t.Oqu(null!==(At=u.selected.evaluasi)&&void 0!==At?At:"-"),t.xp6(5),t.Oqu(null!==(vt=u.selected.rekomendasi)&&void 0!==vt?vt:"-"),t.xp6(4),t.Q6J("ngIf",u.selected.dokumenId),t.xp6(1),t.Q6J("ngIf",!u.selected.dokumenId)}}function C(b,J){if(1&b){const u=t.EpF();t.ynx(0),t.TgZ(1,"div",59)(2,"div",7)(3,"div",9)(4,"div",10)(5,"button",60),t.NdJ("click",function(){t.CHM(u);const g=t.oxw(2);return t.KtG(g.delete())}),t._uU(6," Hapus "),t.qZA(),t.TgZ(7,"button",11),t.NdJ("click",function(){t.CHM(u);const g=t.oxw(2);return t.KtG(g.toggleEditMode(!0))}),t._UZ(8,"mat-icon",12),t.TgZ(9,"span",13),t._uU(10,"Ubah"),t.qZA()()()(),t.YNc(11,B,54,12,"ng-container",8),t.qZA()(),t.BQk()}if(2&b){const u=t.oxw(2);t.xp6(5),t.Q6J("color","warn")("matTooltip","Hapus Data"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(3),t.Q6J("ngIf",u.selected)}}function Q(b,J){if(1&b&&(t.TgZ(0,"mat-option",52),t._uU(1),t.qZA()),2&b){const u=J.$implicit;t.Q6J("value",u),t.xp6(1),t.hij("",u," ")}}function d(b,J){if(1&b&&(t.TgZ(0,"mat-option",52),t._uU(1),t.qZA()),2&b){const u=J.$implicit;t.Q6J("value",u.id),t.xp6(1),t.AsE("",u.namaPangkat," - ",u.nama," ")}}function h(b,J){if(1&b&&(t.TgZ(0,"mat-option",52),t._uU(1),t.qZA()),2&b){const u=J.$implicit;t.Q6J("value",u.id),t.xp6(1),t.AsE("",u.jenjang," - ",u.nama," ")}}function m(b,J){if(1&b&&(t.TgZ(0,"mat-option",52),t._uU(1),t.qZA()),2&b){const u=J.$implicit;t.Q6J("value",u.id),t.xp6(1),t.hij("",u.name," ")}}function o(b,J){1&b&&(t.TgZ(0,"mat-error"),t._uU(1," Anda harus memilih pilihan uji kompetensi dari hasil pencarian "),t.qZA())}function r(b,J){if(1&b){const u=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(u),t.oxw();const g=t.MAs(76);return t.KtG(g.click())}),t._uU(1,"Unggah Dokumen"),t.qZA()}2&b&&t.Q6J("color","accent")}function a(b,J){if(1&b){const u=t.EpF();t.TgZ(0,"button",54),t.NdJ("click",function(){t.CHM(u);const g=t.oxw(4);return t.KtG(g.toggleOnFileInputed(!1))}),t._UZ(1,"mat-icon",55),t.qZA()}2&b&&(t.Q6J("matTooltip","Clear"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"))}function p(b,J){if(1&b){const u=t.EpF();t.ynx(0),t.TgZ(1,"div",33)(2,"div",33)(3,"mat-form-field",34)(4,"mat-label"),t._uU(5,"Tahun"),t.qZA(),t.TgZ(6,"mat-select",35),t.YNc(7,Q,2,2,"mat-option",36),t.qZA()()(),t.TgZ(8,"div",33)(9,"mat-form-field",34)(10,"mat-label"),t._uU(11,"Pangkat / Golongan"),t.qZA(),t.TgZ(12,"mat-select",35),t.YNc(13,d,2,3,"mat-option",36),t.ALo(14,"async"),t.qZA()()(),t.TgZ(15,"div",33)(16,"mat-form-field",34)(17,"mat-label"),t._uU(18,"Jenis Jabatan"),t.qZA(),t.TgZ(19,"mat-select",35),t.YNc(20,h,2,3,"mat-option",36),t.ALo(21,"async"),t.qZA()()(),t.TgZ(22,"div",33)(23,"mat-form-field",34)(24,"mat-label"),t._uU(25,"Lulus"),t.qZA(),t.TgZ(26,"mat-select",35),t.YNc(27,m,2,2,"mat-option",36),t.qZA()()(),t.TgZ(28,"div",33)(29,"mat-form-field",34)(30,"mat-label"),t._uU(31,"Tanggal SK"),t.qZA(),t.TgZ(32,"input",37),t.NdJ("focus",function(){t.CHM(u);const g=t.MAs(35);return t.KtG(g.open())}),t.qZA(),t._UZ(33,"mat-datepicker-toggle",38)(34,"mat-datepicker",null,39),t.qZA()(),t.TgZ(36,"div",33)(37,"mat-form-field",34)(38,"mat-label"),t._uU(39,"No. SK"),t.qZA(),t._UZ(40,"input",40),t.qZA()(),t.TgZ(41,"mat-form-field",34)(42,"mat-label"),t._uU(43,"Jenis Uji Kompetennsi"),t.qZA(),t.TgZ(44,"mat-select",35)(45,"mat-option",41),t._uU(46,"Pilih Jenis Uji Kompetensi"),t.qZA(),t.TgZ(47,"mat-option",42),t._uU(48,"Ujikom Kenaikan Jenjang Jabatan Ahli Pertama ke Ahli Muda"),t.qZA(),t.TgZ(49,"mat-option",43),t._uU(50,"Ujikom Kenaikan Jenjang Jabatan Ahli Muda ke Ahli Madya"),t.qZA(),t.TgZ(51,"mat-option",44),t._uU(52,"Ujikom Kenaikan Jenjang Jabatan Ahli Madya ke Ahli Utama"),t.qZA()(),t.YNc(53,o,2,0,"mat-error",8),t.qZA()(),t.TgZ(54,"div",33)(55,"mat-form-field",34)(56,"mat-label"),t._uU(57,"Nilai"),t.qZA(),t._UZ(58,"input",40),t.qZA()(),t.TgZ(59,"div",33)(60,"mat-form-field",34)(61,"mat-label"),t._uU(62,"Evaluasi Hasil Uji Kompetensi"),t.qZA(),t._UZ(63,"input",40),t.qZA()(),t.TgZ(64,"div",33)(65,"mat-form-field",34)(66,"mat-label"),t._uU(67,"Rekomendasi"),t.qZA(),t._UZ(68,"input",40),t.qZA()(),t.TgZ(69,"div",33)(70,"div",34)(71,"mat-label"),t._uU(72,"Sertifikat "),t.TgZ(73,"i"),t._uU(74,"(PDF, Maksimal ukuran 2 MB)"),t.qZA()(),t.TgZ(75,"input",45,46),t.NdJ("click",function(){t.CHM(u);const g=t.MAs(76);return t.KtG(g.value=null)})("change",function(g){t.CHM(u);const I=t.oxw(3);return t.KtG(I.onFileInput(g))}),t.qZA(),t.TgZ(77,"div",47)(78,"div",48),t.YNc(79,r,2,1,"button",49),t.YNc(80,a,2,2,"button",50),t._UZ(81,"span",51),t.qZA()()()(),t.BQk()}if(2&b){const u=t.MAs(35),Z=t.oxw(3);t.xp6(6),t.Q6J("formControlName","tahun"),t.xp6(1),t.Q6J("ngForOf",Z.tahun),t.xp6(5),t.Q6J("formControlName","golonganId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(14,25,Z.jenisGolongan$)),t.xp6(6),t.Q6J("formControlName","jabatanId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(21,27,Z.jenisJabatan$)),t.xp6(6),t.Q6J("formControlName","isLulus"),t.xp6(1),t.Q6J("ngForOf",Z.lulus),t.xp6(5),t.Q6J("matDatepicker",u)("formControlName","tglSk")("max",Z._helperService.maxDate()),t.xp6(1),t.Q6J("for",u),t.xp6(7),t.Q6J("formControlName","noSk")("spellcheck",!1),t.xp6(4),t.Q6J("formControlName","jenisUjikom"),t.xp6(9),t.Q6J("ngIf",Z.form.controls.jenisUjikom.hasError("incorrect")),t.xp6(5),t.Q6J("formControlName","nilai")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","evaluasi")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","rekomendasi")("spellcheck",!1),t.xp6(11),t.Q6J("ngIf",!Z.onFileInputed),t.xp6(1),t.Q6J("ngIf",Z.onFileInputed),t.xp6(1),t.Q6J("id","fileDokumen")}}function s(b,J){if(1&b){const u=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"form",29)(4,"div",9)(5,"div",30)(6,"button",31),t.NdJ("click",function(){t.CHM(u);const g=t.oxw(2);return t.KtG(g.toggleEditMode(!1))}),t._uU(7," Batal "),t.qZA(),t.TgZ(8,"button",32),t.NdJ("click",function(){t.CHM(u);const g=t.oxw(2);return t.KtG(g.update())}),t._uU(9," Submit Usulan "),t.qZA()()(),t.YNc(10,p,82,29,"ng-container",8),t.qZA()()(),t.BQk()}if(2&b){const u=t.oxw(2);t.xp6(3),t.Q6J("formGroup",u.form),t.xp6(3),t.Q6J("matTooltip","Batalkan Perubahan Data"),t.xp6(2),t.Q6J("color","primary")("disabled",u.form.invalid)("matTooltip","Submit Usulan Perubahan Data"),t.xp6(2),t.Q6J("ngIf",u.selected)}}function A(b,J){if(1&b&&(t.TgZ(0,"div",15)(1,"div",57)(2,"div",58)(3,"div",5),t.YNc(4,C,12,4,"ng-container",8),t.YNc(5,s,11,6,"ng-container",8),t.qZA()()()()),2&b){const u=t.oxw();t.xp6(4),t.Q6J("ngIf",!u.editMode),t.xp6(1),t.Q6J("ngIf",u.editMode)}}let E=(()=>{class b{constructor(u,Z,g,I,K,ht,Tt,At){this._penerjemahService=u,this._referensiService=Z,this._helperService=g,this._changeDetectorRef=I,this._formBuilder=K,this._toastr=ht,this._authService=Tt,this._userService=At,this.rwUjiKompetensi=[],this.rwUsuls=[],this.selected=null,this.editMode=!1,this.insertMode=!1,this.onFileInputed=!1,this.jenisGolongan$=this._referensiService.golongan(),this.jenisJabatan$=this._referensiService.jabatan(),this.tahun=this._referensiService.tahun(),this.lulus=this._referensiService.lulus(),this._unsubscribeAll=new n.x}ngOnInit(){this.form=this._formBuilder.group({golonganId:[null,x.kI.required],isLulus:[null,x.kI.required],jabatanId:[null,x.kI.required],noSk:[null,x.kI.required],tglSk:[null,x.kI.required],tahun:[null,x.kI.required],jenisUjikom:[null,x.kI.required],nilai:[null,x.kI.required],evaluasi:[null,x.kI.required],rekomendasi:[null,x.kI.required],file:[null,x.kI.required]}),this.loadData()}loadData(){"ROLE_ADMIN"===this._authService.role?this._penerjemahService.jfpItem$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(u=>{this.pnsId=u.id,this._changeDetectorRef.markForCheck()}):this._userService.user$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(u=>{this.pnsId=u.pnsId,this._changeDetectorRef.markForCheck()}),this._penerjemahService.getRwUjiKompetensi(this.pnsId).subscribe(),this._penerjemahService.rwUjiKompetensis$.pipe((0,i.R)(this._unsubscribeAll)).subscribe(u=>{u&&(this.rwUjiKompetensi=u,this._changeDetectorRef.markForCheck())}),this._penerjemahService.getHistoriUsulProfil({pnsId:this.pnsId,jenisUsul:"RW_UJI_KOMPETENSI",size:100}).pipe((0,i.R)(this._unsubscribeAll)).subscribe(u=>{u&&(this.rwUsuls=u,this._changeDetectorRef.markForCheck())})}togglePrint(u){this._penerjemahService.getDokumen(u).subscribe({next:Z=>{const g=URL.createObjectURL(Z);window.open(g,"_blank")},error:()=>{this._toastr.error("ERROR: Dokumen gagal ditampilkan","ERROR")}})}onFileInput(u){const Z=this._referensiService.onFileInputSingle(u,"application/pdf",2e3);return Z.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=Z.fileInfo.name,this.form.get("file").setValue(u.target.files[0]),!0):(this._toastr.error(Z.msg,"ERROR"),!1)}insert(){const u=this.form.getRawValue(),Z=new FormData;Z.append("pnsId",this.pnsId),u.golonganId&&Z.append("golonganId",u.golonganId),u.isLulus&&Z.append("isLulus",u.isLulus),u.jabatanId&&Z.append("jabatanId",u.jabatanId),u.tglSk&&Z.append("tglSk",R()(u.tglSk).format("DD-MM-YYYY")),u.noSk&&Z.append("noSk",u.noSk),u.tahun&&Z.append("tahun",u.tahun),u.jenisUjikom&&Z.append("jenisUjikom",u.jenisUjikom),u.evaluasi&&Z.append("evaluasi",u.evaluasi),u.nilai&&Z.append("nilai",u.nilai),u.rekomendasi&&Z.append("rekomendasi",u.rekomendasi),u.file&&Z.append("file",u.file),this._penerjemahService.saveRwUjiKompetensi(Z).subscribe(g=>{g?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Tambah Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(g?.message,"ERROR")})}delete(){this._penerjemahService.deleteRwUjiKompetensi(this.selected.id).subscribe(u=>{u?.success?(this._toastr.success("Selanjutnya usulan Anda akan diproses oleh Admin","Usulan Hapus Berhasil"),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(u?.message,"ERROR")})}update(){const u=this.form.getRawValue(),Z=new FormData;Z.append("pnsId",this.pnsId),Z.append("id",this.selected.id),u.golonganId&&Z.append("golonganId",u.golonganId),u.isLulus&&Z.append("isLulus",u.isLulus),u.jabatanId&&Z.append("jabatanId",u.jabatanId),u.tglSk&&Z.append("tglSk",R()(u.tglSk).format("DD-MM-YYYY")),u.noSk&&Z.append("noSk",u.noSk),u.tahun&&Z.append("tahun",u.tahun),u.jenisUjikom&&Z.append("jenisUjikom",u.jenisUjikom),u.evaluasi&&Z.append("evaluasi",u.evaluasi),u.nilai&&Z.append("nilai",u.nilai),u.rekomendasi&&Z.append("rekomendasi",u.rekomendasi),u.file&&Z.append("file",u.file),this._penerjemahService.saveRwUjiKompetensi(Z).subscribe(g=>{g?.success?(this._toastr.success("Selanjutnya usulan Anda akan diverifikasi oleh Admin","Usulan Perubahan Berhasil"),this.form.reset(),this.loadData(),this.toggleInsertMode(!1),this.toggleEditMode(!1)):this._toastr.error(g?.message,"ERROR")})}displayFn(u){if(u)return u.nama}trackByFn(u,Z){return Z.id||u}toggleOnFileInputed(u=null){null===u?this.onFileInputed=!this.onFileInputed:(u||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=u),this._changeDetectorRef.markForCheck()}toggleInsertMode(u=null){this.insertMode=null===u?!this.insertMode:u,this._changeDetectorRef.markForCheck()}toggleEditMode(u=null){this.editMode=null===u?!this.editMode:u,this._changeDetectorRef.markForCheck()}toggleDetails(u){this.selected&&this.selected.id===u?this.closeDetails():this._penerjemahService.getRwUjiKompetensiById(u).subscribe(Z=>{this.selected=Z,this.form.patchValue(Z),this.form.get("jenisUjikom").setValue(this._helperService.getDateFromStringID(Z.jenisUjikom)),this._changeDetectorRef.markForCheck()})}closeDetails(){this.selected=null}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return b.\u0275fac=function(u){return new(u||b)(t.Y36(nt.e),t.Y36(j.A2),t.Y36(et.W),t.Y36(t.sBO),t.Y36(x.qu),t.Y36(X._W),t.Y36(e.e),t.Y36(at.K))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-uji-kompetensi"]],features:[t._Bn([{provide:M.sG,useValue:j.lv},{provide:M._A,useClass:S.t7,deps:[M.Ad]}])],decls:7,vars:1,consts:[[1,"ml-0","pl-0","mt-5",3,"animationDuration"],["label","Data Disetujui"],["matTabContent",""],["label","Riwayat Usulan"],["rowDetailsTemplate",""],[1,"flex","flex-col","w-full"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6"],[1,"w-full"],[4,"ngIf"],[1,"flex","flex-auto","items-end"],[1,"flex","items-center","ml-auto","mb-4"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","grid-cols-12","gap-x-1"],[1,"col-span-11","text-md","font-medium"],[1,"flex","flex-col"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"flex","flex-col","sm:flex-row","sm:items-center","-ml-0.5","mt-2","sm:mt-1","space-y-1","sm:space-y-0","sm:space-x-3"],[1,"flex","items-center",3,"matTooltip"],[1,"icon-size-5","text-hint",3,"svgIcon"],[1,"ml-1.5","text-sm"],[1,"col-span-1","self-center","text-right"],["mat-stroked-button","",1,"min-w-10","min-h-10","h-10","px-2","leading-6",3,"click"],[1,"col-span-12","my-4","border-b"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"type"],["fuseAlertTitle",""],[3,"formGroup"],[1,"flex","items-center","justify-end","w-full","mx-auto"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"matDatepicker","formControlName","max","focus"],["matSuffix","",3,"for"],["_tglSk",""],["matInput","",3,"formControlName","spellcheck"],["value","","disabled",""],["value","Ujikom Kenaikan Jenjang Jabatan Ahli Pertama ke Ahli Muda "],["value","Ujikom Kenaikan Jenjang Jabatan Ahli Muda ke Ahli Madya"],["value","S3"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[3,"value"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"],[3,"items"],[1,"col-span-12","shadow-lg","overflow-hidden","mb-4"],[1,"flex","border-b"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0"],["mat-button","",1,"mr-5",3,"color","matTooltip","click"],[1,"flex","flex-col","mt-4","border-t","border-b","divide-y","font-medium"],[1,"flex","items-center","justify-between","py-3"],[1,"text-secondary"],["class","px-3","mat-button","",3,"click",4,"ngIf"],["mat-button","",1,"px-3",3,"click"]],template:function(u,Z){1&u&&(t.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),t.YNc(2,N,5,2,"ng-template",2),t.qZA(),t.TgZ(3,"mat-tab",3),t.YNc(4,Y,1,1,"ng-template",2),t.qZA()(),t.YNc(5,A,6,2,"ng-template",null,4,t.W1O)),2&u&&t.Q6J("animationDuration","0")},dependencies:[c.sg,c.O5,c.tP,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,it.lW,L.Mq,L.hl,L.nW,w.TO,w.KE,w.hX,w.R9,V.Hw,ot.Nt,F.gD,M.ey,q.gM,y.W,P.SP,P.uX,P.Vc,G.Q,c.Ov],encapsulation:2,changeDetection:0}),b})()},7569:(xt,W,l)=>{l.d(W,{Q:()=>F});var x=l(8772),S=l(1379),M=l(5450),j=l(8023),k=l(4537),R=l(47),n=l(2047),i=l(92),t=l(8292),nt=l(8951),et=l(7495),X=l(8692),e=l(3331),at=l(2494);function c(q,y){1&q&&(k.ynx(0),k._UZ(1,"div",16),k.BQk())}function it(q,y){if(1&q&&(k.ynx(0),k.TgZ(1,"div",22),k._uU(2),k.qZA(),k.TgZ(3,"div",22),k._uU(4),k.qZA(),k.TgZ(5,"div",22),k._uU(6),k.qZA(),k._UZ(7,"div",20),k.BQk()),2&q){const P=y.$implicit;k.xp6(2),k.Oqu(P.keyLabel),k.xp6(2),k.Oqu(P.before),k.xp6(2),k.Oqu(P.after)}}function L(q,y){if(1&q&&(k.ynx(0),k.TgZ(1,"div",17)(2,"div",18)(3,"div",19),k._uU(4,"Data"),k.qZA(),k.TgZ(5,"div",19),k._uU(6,"Data semula"),k.qZA(),k.TgZ(7,"div",19),k._uU(8,"Data menjadi"),k.qZA(),k._UZ(9,"div",20),k.YNc(10,it,8,3,"ng-container",21),k.qZA()(),k.BQk()),2&q){const P=k.oxw().$implicit;k.xp6(10),k.Q6J("ngForOf",P.payload)}}function w(q,y){if(1&q&&(k.ynx(0),k.TgZ(1,"li",8),k.YNc(2,c,2,0,"ng-container",0),k.TgZ(3,"div",9)(4,"div",10),k._UZ(5,"mat-icon",11),k.qZA(),k.TgZ(6,"div",12)(7,"div",13)(8,"div",14),k._uU(9),k.qZA()(),k.TgZ(10,"div",13)(11,"div",15),k._uU(12),k.qZA()(),k.YNc(13,L,11,1,"ng-container",0),k.qZA()()(),k.BQk()),2&q){const P=y.$implicit,G=y.index;k.xp6(2),k.Q6J("ngIf",0===G),k.xp6(7),k.Oqu(P.messageEvent),k.xp6(3),k.Oqu(P.createdDate),k.xp6(1),k.Q6J("ngIf","USUL_CREATED"===P.eventType)}}function V(q,y){if(1&q&&(k.ynx(0),k.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"ol"),k.YNc(7,w,14,4,"ng-container",6),k.qZA()()(),k._UZ(8,"div",7),k.qZA()()(),k.BQk()),2&q){const P=k.oxw();k.xp6(7),k.Q6J("ngForOf",P.items)("ngForTrackBy",P.trackByFn)}}function ot(q,y){1&q&&(k.ynx(0),k.TgZ(1,"fuse-alert",23)(2,"span",24),k._uU(3,"Belum ada data riwayat usulan"),k.qZA()(),k.BQk()),2&q&&(k.xp6(1),k.Q6J("type","info"))}let F=(()=>{class q{constructor(P,G,$,z,tt,_t,lt,st){this._penerjemahService=P,this._referensiService=G,this._helperService=$,this._changeDetectorRef=z,this._formBuilder=tt,this._toastr=_t,this._authService=lt,this._userService=st,this._unsubscribeAll=new j.x}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}}return q.\u0275fac=function(P){return new(P||q)(k.Y36(R.e),k.Y36(M.A2),k.Y36(n.W),k.Y36(k.sBO),k.Y36(i.qu),k.Y36(t._W),k.Y36(nt.e),k.Y36(et.K))},q.\u0275cmp=k.Xpm({type:q,selectors:[["app-usulan"]],inputs:{items:"items"},features:[k._Bn([{provide:S.sG,useValue:M.lv},{provide:S._A,useClass:x.t7,deps:[S.Ad]}])],decls:2,vars:2,consts:[[4,"ngIf"],[1,"shadow-lg","overflow-hidden"],[1,"flex"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-3/4","sm:pl-8"],[1,"mt-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col","w-full","lg:w-1/4"],[1,"relative","flex","py-2"],[1,"relative","flex","flex-auto"],[1,"flex","shrink-0","items-center","justify-center","w-10","h-10","mr-4","rounded-full","bg-green-200"],["svgIcon","heroicons_outline:check"],[1,"flex","flex-col","flex-auto","items-start"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"font-medium","text-md"],[1,"text-secondary"],[1,"absolute","top-7","left-5","w-0.5","h-full","-ml-px","bg-gray-200","dark:bg-gray-600"],[1,"flex","flex-col","w-full"],[1,"grid","grid-cols-12","gap-x-1","py-5","px-4"],[1,"col-span-4","text-sm","font-semibold"],[1,"col-span-12","my-2","border-b"],[4,"ngFor","ngForOf"],[1,"col-span-4","text-sm"],[3,"type"],["fuseAlertTitle",""]],template:function(P,G){1&P&&(k.YNc(0,V,9,2,"ng-container",0),k.YNc(1,ot,4,1,"ng-container",0)),2&P&&(k.Q6J("ngIf",G.items.length),k.xp6(1),k.Q6J("ngIf",!G.items.length))},dependencies:[X.sg,X.O5,e.Hw,at.W],encapsulation:2,changeDetection:0}),q})()}}]);