"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[8828],{6011:(P,T,c)=>{c.r(T),c.d(T,{SettingsModule:()=>re});var Z=c(4032),S=c(9638),y=c(8659),C=c(3331),b=c(7406),J=c(3556),k=c(8033),E=c(4639),A=c(2094),U=c(7775),Q=c(4466),I=c(8023),m=c(3528),e=c(4537),o=c(4880),a=c(3071),d=c(8692),l=c(7495),p=c(2494);const x=["avatarFileInput"];function _(t,s){if(1&t&&(e.TgZ(0,"fuse-alert",20),e._uU(1),e.qZA()),2&t){const n=e.oxw(2);e.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type),e.xp6(1),e.hij(" ",n.alert.message," ")}}function h(t,s){if(1&t&&e._UZ(0,"img",21),2&t){const n=e.oxw().ngIf;e.Q6J("id","photo")("src",n.photoUrl,e.LSH)}}function g(t,s){if(1&t&&(e.TgZ(0,"div",22),e._uU(1),e.qZA()),2&t){const n=e.oxw().ngIf;e.xp6(1),e.hij(" ",n.nama.charAt(0)," ")}}function w(t,s){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,_,2,4,"fuse-alert",3),e.TgZ(4,"div",4)(5,"div",5),e._UZ(6,"div",6),e.TgZ(7,"div",7)(8,"div")(9,"input",8,9),e.NdJ("change",function(){const u=e.CHM(n).ngIf,f=e.MAs(10),F=e.oxw();return e.KtG(F.uploadAvatar(u.pnsId,f.files))}),e.qZA(),e.TgZ(11,"label",10),e._UZ(12,"mat-icon",11),e.qZA()(),e.TgZ(13,"div")(14,"button",12),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.removeAvatar())}),e._UZ(15,"mat-icon",11),e.qZA()()(),e.YNc(16,h,1,2,"img",13),e.YNc(17,g,2,1,"div",14),e.qZA()()(),e._UZ(18,"div",15),e.TgZ(19,"div",16)(20,"div",17)(21,"div",2)(22,"div",18),e._uU(23,"Username"),e.qZA(),e.TgZ(24,"div",19),e._uU(25),e.qZA()()(),e.TgZ(26,"div",17)(27,"div",2)(28,"div",18),e._uU(29,"Nama"),e.qZA(),e.TgZ(30,"div",19),e._uU(31),e.qZA()()(),e.TgZ(32,"div",17)(33,"div",2)(34,"div",18),e._uU(35,"Email"),e.qZA(),e.TgZ(36,"div",19),e._uU(37),e.qZA()()()()(),e.BQk()}if(2&t){const n=s.ngIf,i=e.oxw();e.xp6(3),e.Q6J("ngIf",i.showAlert),e.xp6(6),e.Q6J("multiple",!1)("accept","image/jpeg, image/png"),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:camera"),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:trash"),e.xp6(1),e.Q6J("ngIf",n.photoUrl),e.xp6(1),e.Q6J("ngIf",!n.photoUrl),e.xp6(8),e.Oqu(n.username),e.xp6(6),e.Oqu(n.nama),e.xp6(6),e.Oqu(n.email)}}let N=(()=>{class t{constructor(n){this._userService=n,this.showAlert=!1,this.alert={type:"success",message:""},this.isLoadingSubmit=!1,this.profile$=this._userService.user$,this._unsubscribeAll=new I.x}ngOnInit(){}uploadAvatar(n,i){if(!i.length)return;const u=i[0];["image/jpeg","image/png"].includes(u.type)&&this.readFileAsync(u).then(F=>{})}readFileAsync(n){return new Promise((i,r)=>{const u=new FileReader;u.onload=()=>{i(u.result)},u.onerror=r,u.readAsDataURL(n)})}removeAvatar(){this.form.get("photo").setValue(null),this._avatarFileInput.nativeElement.value=null}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(l.K))},t.\u0275cmp=e.Xpm({type:t,selectors:[["settings-account"]],viewQuery:function(n,i){if(1&n&&e.Gf(x,5),2&n){let r;e.iGM(r=e.CRH())&&(i._avatarFileInput=r.first)}},decls:2,vars:3,consts:[[4,"ngIf"],[1,"w-full","max-w-3xl"],[1,"w-full"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[1,"flex","flex-auto","items-end","mt-10"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["avatarFileInput",""],["for","avatar-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["mat-icon-button","",3,"click"],["class","object-cover w-full h-full",3,"id","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200",4,"ngIf"],[1,"my-10","border-t"],[1,"grid","sm:grid-cols-8","gap-6","w-full","mt-8"],[1,"sm:col-span-2"],[1,"text-lg"],[1,"text-secondary"],[1,"mt-8",3,"appearance","showIcon","type"],[1,"object-cover","w-full","h-full",3,"id","src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded","overflow-hidden","uppercase","text-8xl","font-bold","leading-none","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"]],template:function(n,i){1&n&&(e.YNc(0,w,38,10,"ng-container",0),e.ALo(1,"async")),2&n&&e.Q6J("ngIf",e.lcZ(1,1,i.profile$))},dependencies:[S.lW,C.Hw,p.W,d.O5,d.Ov],encapsulation:2,changeDetection:0}),t})();var v=c(92),O=c(5490);function V(t,s){return n=>{const r=n.controls[s];r.errors&&!r.errors.confirmPasswordValidator||r.setErrors(n.controls[t].value!==r.value?{confirmPasswordValidator:!0}:null)}}var M=c(8697);function D(t,s){if(1&t&&(e.TgZ(0,"fuse-alert",19),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type),e.xp6(1),e.hij(" ",n.alert.message," ")}}function Y(t,s){1&t&&e._UZ(0,"mat-icon",20),2&t&&e.Q6J("svgIcon","heroicons_solid:eye")}function j(t,s){1&t&&e._UZ(0,"mat-icon",20),2&t&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function q(t,s){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Password wajib diisi "),e.qZA())}function K(t,s){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Minimal 6 karakter "),e.qZA())}function B(t,s){1&t&&e._UZ(0,"mat-icon",20),2&t&&e.Q6J("svgIcon","heroicons_solid:eye")}function G(t,s){1&t&&e._UZ(0,"mat-icon",20),2&t&&e.Q6J("svgIcon","heroicons_solid:eye-off")}function L(t,s){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Konfirmasi password wajib diisi "),e.qZA())}function R(t,s){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Konfirmasi password tidak sesuai dengan password "),e.qZA())}function W(t,s){1&t&&(e.TgZ(0,"span"),e._uU(1," Simpan "),e.qZA())}function z(t,s){1&t&&e._UZ(0,"mat-progress-spinner",21),2&t&&e.Q6J("diameter",24)("mode","indeterminate")}let H=(()=>{class t{constructor(n,i){this._formBuilder=n,this._userService=i,this.isLoadingSubmit=!1,this.showAlert=!1,this.alert={type:"success",message:""}}ngOnInit(){this.form=this._formBuilder.group({password:["",[v.kI.required,v.kI.minLength(6)]],password_confirmation:["",v.kI.required]},{validators:V("password","password_confirmation")})}save(){if(this.form.invalid)return;const n=this.form.getRawValue(),i=new FormData;i.append("password",n.password_confirmation),this.form.disable(),this.isLoadingSubmit=!0,this._userService.change_password(i).pipe((0,O.x)(()=>{this.form.enable(),this.isLoadingSubmit=!1})).subscribe({next:r=>{this.alert=!0===r?.success?{type:"success",message:"Password berhasil diperbaharui"}:{type:"error",message:r?.message??"Terjadi kesalahan, harap coba lagi"},this.showAlert=!0},error:r=>{this.alert={type:"error",message:r?.error.message??"Terjadi kesalahan, harap coba lagi"},this.showAlert=!0},complete:()=>{this.form.enable(),this.isLoadingSubmit=!1}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(v.QS),e.Y36(a.K))},t.\u0275cmp=e.Xpm({type:t,selectors:[["settings-security"]],decls:35,vars:18,consts:[[1,"w-full","max-w-3xl"],["class","mt-8",3,"appearance","showIcon","type",4,"ngIf"],[3,"formGroup"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4"],[1,"w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["autocomplete","off","type","password","matInput","",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[4,"ngIf"],[1,"mt-1","text-md","text-hint"],["autocomplete","off","matInput","","type","password",3,"formControlName"],["password_confirmationField",""],[1,"my-10","border-t"],[1,"flex","items-center","justify-end"],["mat-flat-button","","type","button",1,"ml-4",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[1,"mt-8",3,"appearance","showIcon","type"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"]],template:function(n,i){if(1&n){const r=e.EpF();e.TgZ(0,"div",0),e.YNc(1,D,2,4,"fuse-alert",1),e.TgZ(2,"form",2)(3,"div",3)(4,"div",4)(5,"mat-form-field",5)(6,"mat-label"),e._uU(7,"Password baru"),e.qZA(),e._UZ(8,"mat-icon",6)(9,"input",7,8),e.TgZ(11,"button",9),e.NdJ("click",function(){e.CHM(r);const f=e.MAs(10);return e.KtG(f.type="password"===f.type?"text":"password")}),e.YNc(12,Y,1,1,"mat-icon",10),e.YNc(13,j,1,1,"mat-icon",10),e.qZA(),e.YNc(14,q,2,0,"mat-error",11),e.YNc(15,K,2,0,"mat-error",11),e.qZA(),e.TgZ(16,"div",12),e._uU(17,"Minimal 6 karakter"),e.qZA()(),e.TgZ(18,"div",4)(19,"mat-form-field",5)(20,"mat-label"),e._uU(21,"Konfirmasi password baru"),e.qZA(),e._UZ(22,"mat-icon",6)(23,"input",13,14),e.TgZ(25,"button",9),e.NdJ("click",function(){e.CHM(r);const f=e.MAs(24);return e.KtG(f.type="password"===f.type?"text":"password")}),e.YNc(26,B,1,1,"mat-icon",10),e.YNc(27,G,1,1,"mat-icon",10),e.qZA(),e.YNc(28,L,2,0,"mat-error",11),e.YNc(29,R,2,0,"mat-error",11),e.qZA()()(),e._UZ(30,"div",15),e.TgZ(31,"div",16)(32,"button",17),e.NdJ("click",function(){return i.save()}),e.YNc(33,W,2,0,"span",11),e.YNc(34,z,1,2,"mat-progress-spinner",18),e.qZA()()()()}if(2&n){const r=e.MAs(10),u=e.MAs(24);e.xp6(1),e.Q6J("ngIf",i.showAlert),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:key"),e.xp6(1),e.Q6J("formControlName","password"),e.xp6(3),e.Q6J("ngIf","password"===r.type),e.xp6(1),e.Q6J("ngIf","text"===r.type),e.xp6(1),e.Q6J("ngIf",i.form.get("password").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.get("password").hasError("minlength")),e.xp6(7),e.Q6J("svgIcon","heroicons_solid:key"),e.xp6(1),e.Q6J("formControlName","password_confirmation"),e.xp6(3),e.Q6J("ngIf","password"===u.type),e.xp6(1),e.Q6J("ngIf","text"===u.type),e.xp6(1),e.Q6J("ngIf",i.form.get("password_confirmation").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.get("password_confirmation").hasError("confirmPasswordValidator")),e.xp6(3),e.Q6J("color","primary")("disabled",i.form.disabled||i.isLoadingSubmit),e.xp6(1),e.Q6J("ngIf",!i.form.disabled),e.xp6(1),e.Q6J("ngIf",i.form.disabled)}},dependencies:[S.lW,y.TO,y.KE,y.hX,y.qo,y.R9,C.Hw,b.Nt,p.W,d.O5,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,M.Ou],encapsulation:2,changeDetection:0}),t})();const $=["drawer"],X=function(t,s){return{"hover:bg-gray-100 dark:hover:bg-hover":t,"bg-primary-50 dark:bg-hover":s}},ee=function(t,s){return{"text-hint":t,"text-primary dark:text-primary-500":s}},te=function(t){return{"text-primary dark:text-primary-500":t}};function ne(t,s){if(1&t){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",19),e.NdJ("click",function(){const u=e.CHM(n).$implicit,f=e.oxw();return e.KtG(f.goToPanel(u.id))}),e._UZ(2,"mat-icon",20),e.TgZ(3,"div",21)(4,"div",22),e._uU(5),e.qZA(),e.TgZ(6,"div",23),e._uU(7),e.qZA()()(),e.BQk()}if(2&t){const n=s.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngClass",e.WLB(6,X,!i.selectedPanel||i.selectedPanel!==n.id,i.selectedPanel&&i.selectedPanel===n.id)),e.xp6(1),e.Q6J("ngClass",e.WLB(9,ee,!i.selectedPanel||i.selectedPanel!==n.id,i.selectedPanel&&i.selectedPanel===n.id))("svgIcon",n.icon),e.xp6(2),e.Q6J("ngClass",e.VKq(12,te,i.selectedPanel&&i.selectedPanel===n.id)),e.xp6(1),e.hij(" ",n.title," "),e.xp6(2),e.hij(" ",n.description," ")}}function ie(t,s){1&t&&(e.ynx(0),e._UZ(1,"settings-account"),e.BQk())}function se(t,s){1&t&&(e.ynx(0),e._UZ(1,"settings-security"),e.BQk())}const oe=[{path:"",component:(()=>{class t{constructor(n,i,r,u){this._changeDetectorRef=n,this._fuseMediaWatcherService=i,this._userParticipantService=r,this._userService=u,this.drawerMode="side",this.drawerOpened=!0,this.panels=[],this.selectedPanel="account",this._unsubscribeAll=new I.x}ngOnInit(){this.panels=[{id:"account",icon:"heroicons_outline:user-circle",title:"Akun",description:""},{id:"security",icon:"heroicons_outline:lock-closed",title:"Password",description:""}],this._fuseMediaWatcherService.onMediaChange$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(({matchingAliases:n})=>{n.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}goToPanel(n){this.selectedPanel=n,"over"===this.drawerMode&&this.drawer.close()}getPanelInfo(n){return this.panels.find(i=>i.id===n)}trackByFn(n,i){return i.id||n}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO),e.Y36(o.T),e.Y36(a.K),e.Y36(a.K))},t.\u0275cmp=e.Xpm({type:t,selectors:[["settings"]],viewQuery:function(n,i){if(1&n&&e.Gf($,5),2&n){let r;e.iGM(r=e.CRH())&&(i.drawer=r.first)}},decls:23,vars:11,consts:[[1,"flex","flex-col","w-full","min-w-0","sm:absolute","sm:inset-0","sm:overflow-hidden"],[1,"flex-auto","sm:h-full"],[1,"sm:w-96","dark:bg-gray-900",3,"autoFocus","mode","opened"],["drawer",""],[1,"flex","items-center","justify-between","m-8","mr-6","sm:my-10"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"lg:hidden"],["mat-icon-button","",3,"click"],[3,"svgIcon"],[1,"flex","flex-col","divide-y","border-t","border-b"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col"],[1,"flex-auto","px-6","pt-9","pb-12","md:p-8","md:pb-12","lg:p-12"],[1,"flex","items-center"],["mat-icon-button","",1,"lg:hidden","-ml-2",3,"click"],[1,"ml-2","lg:ml-0","text-3xl","font-bold","tracking-tight","leading-none"],[1,"mt-8"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"flex","px-8","py-5","cursor-pointer",3,"ngClass","click"],[3,"ngClass","svgIcon"],[1,"ml-3"],[1,"font-medium","leading-6",3,"ngClass"],[1,"mt-0.5","text-secondary"]],template:function(n,i){if(1&n){const r=e.EpF();e.TgZ(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"div",4)(5,"div",5),e._uU(6,"Profile"),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){e.CHM(r);const f=e.MAs(3);return e.KtG(f.close())}),e._UZ(9,"mat-icon",8),e.qZA()()(),e.TgZ(10,"div",9),e.YNc(11,ne,8,14,"ng-container",10),e.qZA()(),e.TgZ(12,"mat-drawer-content",11)(13,"div",12)(14,"div",13)(15,"button",14),e.NdJ("click",function(){e.CHM(r);const f=e.MAs(3);return e.KtG(f.toggle())}),e._UZ(16,"mat-icon",8),e.qZA(),e.TgZ(17,"div",15),e._uU(18),e.qZA()(),e.TgZ(19,"div",16),e.ynx(20,17),e.YNc(21,ie,2,0,"ng-container",18),e.YNc(22,se,2,0,"ng-container",18),e.BQk(),e.qZA()()()()()}2&n&&(e.xp6(2),e.Q6J("autoFocus",!1)("mode",i.drawerMode)("opened",i.drawerOpened),e.xp6(7),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(2),e.Q6J("ngForOf",i.panels)("ngForTrackBy",i.trackByFn),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:menu"),e.xp6(2),e.hij(" ",i.getPanelInfo(i.selectedPanel).title," "),e.xp6(2),e.Q6J("ngSwitch",i.selectedPanel),e.xp6(1),e.Q6J("ngSwitchCase","account"),e.xp6(1),e.Q6J("ngSwitchCase","security"))},dependencies:[S.lW,C.Hw,A.jA,A.kh,A.LW,d.mk,d.sg,d.RF,d.n9,N,H],encapsulation:2,changeDetection:0}),t})(),resolve:{profile:(()=>{class t{constructor(n,i){this._userService=n,this._router=i}resolve(n,i){}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(a.K),e.LFG(Z.F0))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}];let re=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[Z.Bz.forChild(oe),S.ot,y.lN,C.Ps,b.c,J.Fk,k.LD,A.SJ,E.rP,U.fC,Q.m,M.Cq]}),t})()},5834:(P,T,c)=>{c.d(T,{A8:()=>Q,Ov:()=>A,Z9:()=>b,eX:()=>E,k:()=>I,o2:()=>C,yy:()=>k});var Z=c(561),S=c(8023),y=c(4537);class C{}function b(m){return m&&"function"==typeof m.connect&&!(m instanceof Z.c)}class k{applyChanges(e,o,a,d,l){e.forEachOperation((p,x,_)=>{let h,g;if(null==p.previousIndex){const w=a(p,x,_);h=o.createEmbeddedView(w.templateRef,w.context,w.index),g=1}else null==_?(o.remove(x),g=3):(h=o.get(x),o.move(h,_),g=2);l&&l({context:h?.context,operation:g,record:p})})}detach(){}}class E{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,o,a,d,l){e.forEachOperation((p,x,_)=>{let h,g;null==p.previousIndex?(h=this._insertView(()=>a(p,x,_),_,o,d(p)),g=h?1:0):null==_?(this._detachAndCacheView(x,o),g=3):(h=this._moveView(x,_,o,d(p)),g=2),l&&l({context:h?.context,operation:g,record:p})})}detach(){for(const e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,o,a,d){const l=this._insertViewFromCache(o,a);if(l)return void(l.context.$implicit=d);const p=e();return a.createEmbeddedView(p.templateRef,p.context,p.index)}_detachAndCacheView(e,o){const a=o.detach(e);this._maybeCacheView(a,o)}_moveView(e,o,a,d){const l=a.get(e);return a.move(l,o),l.context.$implicit=d,l}_maybeCacheView(e,o){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{const a=o.indexOf(e);-1===a?e.destroy():o.remove(a)}}_insertViewFromCache(e,o){const a=this._viewCache.pop();return a&&o.insert(a,e),a||null}}class A{constructor(e=!1,o,a=!0,d){this._multiple=e,this._emitChanges=a,this.compareWith=d,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new S.x,o&&o.length&&(e?o.forEach(l=>this._markSelected(l)):this._markSelected(o[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(a=>this._markSelected(a));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}deselect(...e){this._verifyValueAssignment(e),e.forEach(a=>this._unmarkSelected(a));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}setSelection(...e){this._verifyValueAssignment(e);const o=this.selected,a=new Set(e);e.forEach(l=>this._markSelected(l)),o.filter(l=>!a.has(l)).forEach(l=>this._unmarkSelected(l));const d=this._hasQueuedChanges();return this._emitChangeEvent(),d}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const o=this._hasQueuedChanges();return e&&this._emitChangeEvent(),o}isSelected(e){if(this.compareWith){for(const o of this._selection)if(this.compareWith(o,e))return!0;return!1}return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}let Q=(()=>{class m{constructor(){this._listeners=[]}notify(o,a){for(let d of this._listeners)d(o,a)}listen(o){return this._listeners.push(o),()=>{this._listeners=this._listeners.filter(a=>o!==a)}}ngOnDestroy(){this._listeners=[]}}return m.\u0275fac=function(o){return new(o||m)},m.\u0275prov=y.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})();const I=new y.OlP("_ViewRepeater")}}]);