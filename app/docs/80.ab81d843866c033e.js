(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[80],{8556:(ye,me,G)=>{ye=G.nmd(ye);var Nt=G(7820).default;(function(wt){const at=wt.en=wt.en||{};at.dictionary=Object.assign(at.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),self,ye.exports=(()=>(()=>{"use strict";var wt={3062:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const Z=B},903:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border)\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t// Horizontal drop target (between blocks).\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: block;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 0;\n\t\tmargin: 0;\n\t\ttext-align: initial;\n\n\t\t& .ck-clipboard-drop-target__line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 0;\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-top: -1px;\n\n\t\t\t&::before {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: calc(-1 * var(--ck-clipboard-drop-target-dot-size));\n\t\t\t\ttop: 0;\n\n\t\t\t\ttransform: translateY(-50%);\n\t\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t\t\tborder-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\t*/\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n'],sourceRoot:""}]);const Z=B},3143:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-modal);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-toolbar {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\n\t\t& .ck-sticky-panel__content_sticky .ck-toolbar {\n\t\t\tborder-bottom-width: 1px;\n\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},4717:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot:""}]);const Z=B},9315:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const Z=B},8733:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},3508:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\n\t/*\n\t * Make sure the selected inline image always stays on top of its siblings.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t */\n\t& .image.ck-widget_selected {\n\t\tz-index: 1;\n\t}\n\n\t& .image-inline.ck-widget_selected {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the native browser selection style is not displayed.\n\t\t * Inline image widgets have their own styles for the selected state and\n\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t */\n\t\t& ::selection {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Z=B},2640:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highligted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot:""}]);const Z=B},5083:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Z=B},4036:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const Z=B},3773:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const Z=B},3689:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const Z=B},1905:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},9773:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const Z=B},2347:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Z=B},7754:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Z=B},4564:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content ol {\n\tlist-style-type: decimal;\n\n\t& ol {\n\t\tlist-style-type: lower-latin;\n\n\t\t& ol {\n\t\t\tlist-style-type: lower-roman;\n\n\t\t\t& ol {\n\t\t\t\tlist-style-type: upper-latin;\n\n\t\t\t\t& ol {\n\t\t\t\t\tlist-style-type: upper-roman;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-content ul {\n\tlist-style-type: disc;\n\n\t& ul {\n\t\tlist-style-type: circle;\n\n\t\t& ul {\n\t\t\tlist-style-type: square;\n\n\t\t\t& ul {\n\t\t\t\tlist-style-type: square;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Z=B},4652:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const Z=B},7442:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Z=B},9292:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},1613:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const Z=B},6306:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const Z=B},3881:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-table-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Z=B},6945:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const Z=B},4906:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: left;\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\tfont-weight: bold;\n\t\topacity: .7;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const Z=B},5332:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const Z=B},6781:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-table__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot:""}]);const Z=B},5485:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-modal);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-modal) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\t\t\t\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},3949:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown .ck-dropdown__panel .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},7686:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},7339:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const Z=B},9688:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-base-foreground);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-base-foreground);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Z=B},8847:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-form-header-height: 38px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& .ck-form__header__label {\n\t\tfont-weight: bold;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},6574:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Z=B},4879:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Z=B},3662:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const Z=B},2577:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0 0;\n\n\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},1046:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\ttext-align: left;\n\t\tborder-radius: 0;\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding:\n\t\t\tcalc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\n\t\t& .ck-button__label {\n\t\t\t/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\t\tline-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},8793:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-modal);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Z=B},4650:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},7676:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-modal) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Z=B},5868:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-modal); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Z=B},6764:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const Z=B},9695:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const Z=B},5542:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const Z=B},3332:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t/* Keep tooltips transparent for any interactions. */\n\tpointer-events: none;\n\n\tz-index: calc( var(--ck-z-modal) + 100 );\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const Z=B},4793:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-modal: calc( var(--ck-z-default) + 999 );\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const Z=B},3488:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const Z=B},8506:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const Z=B},4921:(U,$,S)=>{S.d($,{Z:()=>Z});var j=S(1799),H=S.n(j),O=S(2609),B=S.n(O)()(H());B.push([U.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const Z=B},2609:U=>{U.exports=function($){var S=[];return S.toString=function(){return this.map(function(j){var H=$(j);return j[2]?"@media ".concat(j[2]," {").concat(H,"}"):H}).join("")},S.i=function(j,H,O){"string"==typeof j&&(j=[[null,j,""]]);var B={};if(O)for(var Z=0;Z<this.length;Z++){var it=this[Z][0];null!=it&&(B[it]=!0)}for(var lt=0;lt<j.length;lt++){var ct=[].concat(j[lt]);O&&B[ct[0]]||(H&&(ct[2]=ct[2]?"".concat(H," and ").concat(ct[2]):H),S.push(ct))}},S}},1799:U=>{function S(j,H){(null==H||H>j.length)&&(H=j.length);for(var O=0,B=new Array(H);O<H;O++)B[O]=j[O];return B}U.exports=function(j){var H=function $(j,H){return function(O){if(Array.isArray(O))return O}(j)||function(O,B){var Z=O&&(typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"]);if(null!=Z){var it,lt,ct=[],qe=!0,i=!1;try{for(Z=Z.call(O);!(qe=(it=Z.next()).done)&&(ct.push(it.value),!B||ct.length!==B);qe=!0);}catch(Ct){i=!0,lt=Ct}finally{try{qe||null==Z.return||Z.return()}finally{if(i)throw lt}}return ct}}(j,H)||function(O,B){if(O){if("string"==typeof O)return S(O,B);var Z=Object.prototype.toString.call(O).slice(8,-1);if("Object"===Z&&O.constructor&&(Z=O.constructor.name),"Map"===Z||"Set"===Z)return Array.from(O);if("Arguments"===Z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return S(O,B)}}(j,H)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(j,4),O=H[1],B=H[3];if(!B)return O;if("function"==typeof btoa){var Z=btoa(unescape(encodeURIComponent(JSON.stringify(B)))),it="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(Z),lt="/*# ".concat(it," */"),ct=B.sources.map(function(qe){return"/*# sourceURL=".concat(B.sourceRoot||"").concat(qe," */")});return[O].concat(ct).concat([lt]).join("\n")}return[O].join("\n")}},6062:(U,$,S)=>{var j,ht,O=(ht={},function(At){if(void 0===ht[At]){var M=document.querySelector(At);if(window.HTMLIFrameElement&&M instanceof window.HTMLIFrameElement)try{M=M.contentDocument.head}catch{M=null}ht[At]=M}return ht[At]}),B=[];function Z(ht){for(var At=-1,M=0;M<B.length;M++)if(B[M].identifier===ht){At=M;break}return At}function it(ht,At){for(var M={},bt=[],se=0;se<ht.length;se++){var ce=ht[se],re=At.base?ce[0]+At.base:ce[0],vn=M[re]||0,$i="".concat(re," ").concat(vn);M[re]=vn+1;var hi=Z($i),fo={css:ce[1],media:ce[2],sourceMap:ce[3]};-1!==hi?(B[hi].references++,B[hi].updater(fo)):B.push({identifier:$i,updater:Vi(fo,At),references:1}),bt.push($i)}return bt}function lt(ht){var At=document.createElement("style"),M=ht.attributes||{};if(void 0===M.nonce){var bt=S.nc;bt&&(M.nonce=bt)}if(Object.keys(M).forEach(function(ce){At.setAttribute(ce,M[ce])}),"function"==typeof ht.insert)ht.insert(At);else{var se=O(ht.insert||"head");if(!se)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");se.appendChild(At)}return At}var ct,qe=(ct=[],function(ht,At){return ct[ht]=At,ct.filter(Boolean).join("\n")});function i(ht,At,M,bt){var se=M?"":bt.media?"@media ".concat(bt.media," {").concat(bt.css,"}"):bt.css;if(ht.styleSheet)ht.styleSheet.cssText=qe(At,se);else{var ce=document.createTextNode(se),re=ht.childNodes;re[At]&&ht.removeChild(re[At]),re.length?ht.insertBefore(ce,re[At]):ht.appendChild(ce)}}function Ct(ht,At,M){var bt=M.css,se=M.media,ce=M.sourceMap;if(se?ht.setAttribute("media",se):ht.removeAttribute("media"),ce&&typeof btoa<"u"&&(bt+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(ce))))," */")),ht.styleSheet)ht.styleSheet.cssText=bt;else{for(;ht.firstChild;)ht.removeChild(ht.firstChild);ht.appendChild(document.createTextNode(bt))}}var Dt=null,Ie=0;function Vi(ht,At){var M,bt,se;if(At.singleton){var ce=Ie++;M=Dt||(Dt=lt(At)),bt=i.bind(null,M,ce,!1),se=i.bind(null,M,ce,!0)}else M=lt(At),bt=Ct.bind(null,M,At),se=function(){!function(re){if(null===re.parentNode)return!1;re.parentNode.removeChild(re)}(M)};return bt(ht),function(re){if(re){if(re.css===ht.css&&re.media===ht.media&&re.sourceMap===ht.sourceMap)return;bt(ht=re)}else se()}}U.exports=function(ht,At){(At=At||{}).singleton||"boolean"==typeof At.singleton||(At.singleton=(void 0===j&&(j=Boolean(window&&document&&document.all&&!window.atob)),j));var M=it(ht=ht||[],At);return function(bt){if(bt=bt||[],"[object Array]"===Object.prototype.toString.call(bt)){for(var se=0;se<M.length;se++){var ce=Z(M[se]);B[ce].references--}for(var re=it(bt,At),vn=0;vn<M.length;vn++){var $i=Z(M[vn]);0===B[$i].references&&(B[$i].updater(),B.splice($i,1))}M=re}}}}},at={};function Y(U){var $=at[U];if(void 0!==$)return $.exports;var S=at[U]={id:U,exports:{}};return wt[U](S,S.exports,Y),S.exports}Y.n=U=>{var $=U&&U.__esModule?()=>U.default:()=>U;return Y.d($,{a:$}),$},Y.d=(U,$)=>{for(var S in $)Y.o($,S)&&!Y.o(U,S)&&Object.defineProperty(U,S,{enumerable:!0,get:$[S]})},Y.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),Y.o=(U,$)=>Object.prototype.hasOwnProperty.call(U,$),Y.nc=void 0;var Qt={};return(()=>{function U({emitter:s,activator:t,callback:e,contextElements:n}){s.listenTo(document,"mousedown",(o,l)=>{if(!t())return;const d="function"==typeof l.composedPath?l.composedPath():[],h="function"==typeof n?n():n;for(const m of h)if(m.contains(l.target)||d.includes(m))return;e()})}function $(s){const t=s;t.set("_isCssTransitionsDisabled",!1),t.disableCssTransitions=()=>{t._isCssTransitionsDisabled=!0},t.enableCssTransitions=()=>{t._isCssTransitionsDisabled=!1},t.extendTemplate({attributes:{class:[t.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function S({view:s}){s.listenTo(s.element,"submit",(t,e)=>{e.preventDefault(),s.fire("submit")},{useCapture:!0})}Y.d(Qt,{default:()=>gw});const j=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),O_isMac=B(j),O_isGecko=(j.indexOf("windows"),function(s){return!!s.match(/gecko\/\d+/)}(j)),O_isSafari=function(s){return s.indexOf(" applewebkit/")>-1&&-1===s.indexOf("chrome")}(j),O_isAndroid=(function(s){!!s.match(/iphone|ipad/i)||B(s)&&navigator}(j),function(s){return s.indexOf("android")>-1}(j)),O_isBlink=function(s){return s.indexOf("chrome/")>-1&&s.indexOf("edge/")<0}(j);!function(){let s=!1;try{s=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch{}}();function B(s){return s.indexOf("macintosh")>-1}function Z(s,t,e,n){e=e||function(m,g){return m===g};const o=Array.isArray(s)?s:Array.prototype.slice.call(s),l=Array.isArray(t)?t:Array.prototype.slice.call(t),d=function(m,g,b){const k=it(m,g,b);if(-1===k)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const A=it(lt(m,k),lt(g,k),b);return{firstIndex:k,lastIndexOld:m.length-A,lastIndexNew:g.length-A}}(o,l,e);return n?function(m,g){const{firstIndex:b,lastIndexOld:k,lastIndexNew:v}=m;if(-1===b)return Array(g).fill("equal");let w=[];return b>0&&(w=w.concat(Array(b).fill("equal"))),v-b>0&&(w=w.concat(Array(v-b).fill("insert"))),k-b>0&&(w=w.concat(Array(k-b).fill("delete"))),v<g&&(w=w.concat(Array(g-v).fill("equal"))),w}(d,l.length):function(m,g){const b=[],{firstIndex:k,lastIndexOld:v,lastIndexNew:w}=g;return w-k>0&&b.push({index:k,type:"insert",values:m.slice(k,w)}),v-k>0&&b.push({index:k+(w-k),type:"delete",howMany:v-k}),b}(l,d)}function it(s,t,e){for(let n=0;n<Math.max(s.length,t.length);n++)if(void 0===s[n]||void 0===t[n]||!e(s[n],t[n]))return n;return-1}function lt(s,t){return s.slice(t).reverse()}function ct(s,t,e){e=e||function(T,E){return T===E};const n=s.length,o=t.length;if(n>200||o>200||n+o>300)return ct.fastDiff(s,t,e,!0);let l,d;if(o<n){const T=s;s=t,t=T,l="delete",d="insert"}else l="insert",d="delete";const h=s.length,m=t.length,g=m-h,b={},k={};function v(T){const E=(void 0!==k[T-1]?k[T-1]:-1)+1,R=void 0!==k[T+1]?k[T+1]:-1,N=E>R?-1:1;b[T+N]&&(b[T]=b[T+N].slice(0)),b[T]||(b[T]=[]),b[T].push(E>R?l:d);let q=Math.max(E,R),et=q-T;for(;et<h&&q<m&&e(s[et],t[q]);)et++,q++,b[T].push("equal");return q}let w,A=0;do{for(w=-A;w<g;w++)k[w]=v(w);for(w=g+A;w>g;w--)k[w]=v(w);k[g]=v(g),A++}while(k[g]!==m);return b[g].slice(1)}function qe(s,...t){t.forEach(e=>{const n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertySymbols(e);n.concat(o).forEach(l=>{if(l in s.prototype||"function"==typeof e&&("length"==l||"name"==l||"prototype"==l))return;const d=Object.getOwnPropertyDescriptor(e,l);d.enumerable=!1,Object.defineProperty(s.prototype,l,d)})})}ct.fastDiff=Z;class Ct{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=function s(){s.called=!0},this.off=function s(){s.called=!0}}}const Dt=new Array(256).fill("").map((s,t)=>("0"+t.toString(16)).slice(-2));function Ie(){const s=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+Dt[s>>0&255]+Dt[s>>8&255]+Dt[s>>16&255]+Dt[s>>24&255]+Dt[t>>0&255]+Dt[t>>8&255]+Dt[t>>16&255]+Dt[t>>24&255]+Dt[e>>0&255]+Dt[e>>8&255]+Dt[e>>16&255]+Dt[e>>24&255]+Dt[n>>0&255]+Dt[n>>8&255]+Dt[n>>16&255]+Dt[n>>24&255]}const Vi={get(s="normal"){return"number"!=typeof s?this[s]||this.normal:s},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function ht(s,t){const e=Vi.get(t.priority);for(let n=0;n<s.length;n++)if(Vi.get(s[n].priority)<e)return void s.splice(n,0,t);s.push(t)}class M extends Error{constructor(t,e,n){super(function(o,l){const d=new WeakSet;return o+(l?` ${JSON.stringify(l,(b,k)=>{if("object"==typeof k&&null!==k){if(d.has(k))return`[object ${k.constructor.name}]`;d.add(k)}return k})}`:"")+ce(o)}(t,n)),this.name="CKEditorError",this.context=e,this.data=n}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new M(t.message,e);throw n.stack=t.stack,n}}function bt(s,t){console.warn(...re(s,t))}function se(s,t){console.error(...re(s,t))}function ce(s){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${s}`}function re(s,t){const e=ce(s);return t?[s,t,e]:[s,e]}const $i="object"==typeof window?window:Y.g;if($i.CKEDITOR_VERSION)throw new M("ckeditor-duplicated-modules",null);$i.CKEDITOR_VERSION="36.0.1";const hi=Symbol("listeningTo"),fo=Symbol("emitterId"),an=Symbol("delegations"),Kc=ot(Object);function ot(s){return s?class extends s{on(t,e,n){this.listenTo(this,t,e,n)}once(t,e,n){let o=!1;this.listenTo(this,t,(l,...d)=>{o||(o=!0,l.off(),e.call(this,l,...d))},n)}off(t,e){this.stopListening(this,t,e)}listenTo(t,e,n,o={}){let l,d;this[hi]||(this[hi]={});const h=this[hi];Ya(t)||ne(t);const m=Ya(t);var b,k,v,w;(l=h[m])||(l=h[m]={emitter:t,callbacks:{}}),(d=l.callbacks[e])||(d=l.callbacks[e]=[]),d.push(n),k=e,v=n,w=o,(b=t)._addEventListener?b._addEventListener(k,v,w):this._addEventListener.call(b,k,v,w)}stopListening(t,e,n){const o=this[hi];let l=t&&Ya(t);const d=o&&l?o[l]:void 0,h=d&&e?d.callbacks[e]:void 0;if(!(!o||t&&!d||e&&!h))if(n)Ga(this,t,e,n),-1!==h.indexOf(n)&&(1===h.length?delete d.callbacks[e]:Ga(this,t,e,n));else if(h){for(;n=h.pop();)Ga(this,t,e,n);delete d.callbacks[e]}else if(d){for(e in d.callbacks)this.stopListening(t,e);delete o[l]}else{for(l in o)this.stopListening(o[l].emitter);delete this[hi]}}fire(t,...e){try{const n=t instanceof Ct?t:new Ct(this,t),o=n.name;let l=mr(this,o);if(n.path.push(this),l){const h=[n,...e];l=Array.from(l);for(let m=0;m<l.length&&(l[m].callback.apply(this,h),n.off.called&&(delete n.off.called,this._removeEventListener(o,l[m].callback)),!n.stop.called);m++);}const d=this[an];if(d){const h=d.get(o),m=d.get("*");h&&td(h,n,e),m&&td(m,n,e)}return n.return}catch(n){M.rethrowUnexpectedError(n,this)}}delegate(...t){return{to:(e,n)=>{this[an]||(this[an]=new Map),t.forEach(o=>{const l=this[an].get(o);l?l.set(e,n):this[an].set(o,new Map([[e,n]]))})}}}stopDelegating(t,e){if(this[an])if(t)if(e){const n=this[an].get(t);n&&n.delete(e)}else this[an].delete(t);else this[an].clear()}_addEventListener(t,e,n){!function(d,h){const m=Xc(d);if(m[h])return;let g=h,b=null;const k=[];for(;""!==g&&!m[g];)m[g]={callbacks:[],childEvents:[]},k.push(m[g]),b&&m[g].childEvents.push(b),b=g,g=g.substr(0,g.lastIndexOf(":"));if(""!==g){for(const v of k)v.callbacks=m[g].callbacks.slice();m[g].childEvents.push(b)}}(this,t);const o=Ja(this,t),l={callback:e,priority:Vi.get(n.priority)};for(const d of o)ht(d,l)}_removeEventListener(t,e){const n=Ja(this,t);for(const o of n)for(let l=0;l<o.length;l++)o[l].callback==e&&(o.splice(l,1),l--)}}:Kc}function ne(s,t){s[fo]||(s[fo]=t||Ie())}function Ya(s){return s[fo]}function Xc(s){return s._events||Object.defineProperty(s,"_events",{value:{}}),s._events}function Ja(s,t){const e=Xc(s)[t];if(!e)return[];let n=[e.callbacks];for(let o=0;o<e.childEvents.length;o++){const l=Ja(s,e.childEvents[o]);n=n.concat(l)}return n}function mr(s,t){let e;return s._events&&(e=s._events[t])&&e.callbacks.length?e.callbacks:t.indexOf(":")>-1?mr(s,t.substr(0,t.lastIndexOf(":"))):null}function td(s,t,e){for(let[n,o]of s){o?"function"==typeof o&&(o=o(t.name)):o=t.name;const l=new Ct(t.source,o);l.path=[...t.path],n.fire(l,...e)}}function Ga(s,t,e,n){t._removeEventListener?t._removeEventListener(e,n):s._removeEventListener.call(t,e,n)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{ot[s]=Kc.prototype[s]});const oe=function(s){var t=typeof s;return null!=s&&("object"==t||"function"==t)},mi=Symbol("observableProperties"),F=Symbol("boundObservables"),ln=Symbol("boundProperties"),$t=Symbol("decoratedMethods"),ed=Symbol("decoratedOriginal"),id=zt(ot());function zt(s){return s?class extends s{set(t,e){if(oe(t))return void Object.keys(t).forEach(o=>{this.set(o,t[o])},this);st(this);const n=this[mi];if(t in this&&!n.has(t))throw new M("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(o){const l=n.get(t);let d=this.fire(`set:${t}`,t,o,l);void 0===d&&(d=o),l===d&&n.has(t)||(n.set(t,d),this.fire(`change:${t}`,t,d,l))}}),this[t]=e}bind(...t){if(!t.length||!nd(t))throw new M("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new M("observable-bind-duplicate-properties",this);st(this);const e=this[ln];t.forEach(o=>{if(e.has(o))throw new M("observable-bind-rebind",this)});const n=new Map;return t.forEach(o=>{const l={property:o,to:[]};e.set(o,l),n.set(o,l)}),{to:Ui,toMany:$p,_observable:this,_bindProperties:t,_to:[],_bindings:n}}unbind(...t){if(!this[mi])return;const e=this[ln],n=this[F];if(t.length){if(!nd(t))throw new M("observable-unbind-wrong-properties",this);t.forEach(o=>{const l=e.get(o);l&&(l.to.forEach(([d,h])=>{const m=n.get(d),g=m[h];g.delete(l),g.size||delete m[h],Object.keys(m).length||(n.delete(d),this.stopListening(d,"change"))}),e.delete(o))})}else n.forEach((o,l)=>{this.stopListening(l,"change")}),n.clear(),e.clear()}decorate(t){st(this);const e=this[t];if(!e)throw new M("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,(n,o)=>{n.return=e.apply(this,o)}),this[t]=function(...n){return this.fire(t,n)},this[t][ed]=e,this[$t]||(this[$t]=[]),this[$t].push(t)}stopListening(t,e,n){if(!t&&this[$t]){for(const o of this[$t])this[o]=this[o][ed];delete this[$t]}super.stopListening(t,e,n)}}:id}function st(s){s[mi]||(Object.defineProperty(s,mi,{value:new Map}),Object.defineProperty(s,F,{value:new Map}),Object.defineProperty(s,ln,{value:new Map}))}function Ui(...s){const t=function(...l){if(!l.length)throw new M("observable-bind-to-parse-error",null);const d={to:[]};let h;return"function"==typeof l[l.length-1]&&(d.callback=l.pop()),l.forEach(m=>{if("string"==typeof m)h.properties.push(m);else{if("object"!=typeof m)throw new M("observable-bind-to-parse-error",null);h={observable:m,properties:[]},d.to.push(h)}}),d}(...s),e=Array.from(this._bindings.keys()),n=e.length;if(!t.callback&&t.to.length>1)throw new M("observable-bind-to-no-callback",this);if(n>1&&t.callback)throw new M("observable-bind-to-extra-callback",this);var o;t.to.forEach(l=>{if(l.properties.length&&l.properties.length!==n)throw new M("observable-bind-to-properties-length",this);l.properties.length||(l.properties=this._bindProperties)}),this._to=t.to,t.callback&&(this._bindings.get(e[0]).callback=t.callback),o=this._observable,this._to.forEach(l=>{const d=o[F];let h;d.get(l.observable)||o.listenTo(l.observable,"change",(m,g)=>{h=d.get(l.observable)[g],h&&h.forEach(b=>{od(o,b.property)})})}),function(l){let d;l._bindings.forEach((h,m)=>{l._to.forEach(g=>{d=g.properties[h.callback?0:l._bindProperties.indexOf(m)],h.to.push([g.observable,d]),function(b,k,v,w){const A=b[F],T=A.get(v),E=T||{};E[w]||(E[w]=new Set),E[w].add(k),T||A.set(v,E)}(l._observable,h,g.observable,d)})})}(this),this._bindProperties.forEach(l=>{od(this._observable,l)})}function $p(s,t,e){if(this._bindings.size>1)throw new M("observable-bind-to-many-not-one-binding",this);this.to(...function(n,o){const l=n.map(d=>[d,o]);return Array.prototype.concat.apply([],l)}(s,t),e)}function nd(s){return s.every(t=>"string"==typeof t)}function od(s,t){const e=s[ln].get(t);let n;e.callback?n=e.callback.apply(s,e.to.map(o=>o[0][o[1]])):(n=e.to[0],n=n[0][n[1]]),Object.prototype.hasOwnProperty.call(s,t)?s[t]=n:s.set(t,n)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{zt[s]=id.prototype[s]});class Up{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}function Wa(s){let t=0;for(const e of s)t++;return t}function je(s,t){const e=Math.min(s.length,t.length);for(let n=0;n<e;n++)if(s[n]!=t[n])return n;return s.length==t.length?"same":s.length<t.length?"prefix":"extension"}function ti(s){return!(!s||!s[Symbol.iterator])}const sd="object"==typeof global&&global&&global.Object===Object&&global;var Zp="object"==typeof self&&self&&self.Object===Object&&self;const xi=sd||Zp||Function("return this")(),Zi=xi.Symbol;var rd=Object.prototype,Hp=rd.hasOwnProperty,qp=rd.toString,ss=Zi?Zi.toStringTag:void 0,Yp=Object.prototype.toString,ad=Zi?Zi.toStringTag:void 0;const Ti=function(s){return null==s?void 0===s?"[object Undefined]":"[object Null]":ad&&ad in Object(s)?function(s){var t=Hp.call(s,ss),e=s[ss];try{s[ss]=void 0;var n=!0}catch{}var o=qp.call(s);return n&&(t?s[ss]=e:delete s[ss]),o}(s):function(s){return Yp.call(s)}(s)},Ve=Array.isArray,pi=function(s){return null!=s&&"object"==typeof s},ld=function(s){return"string"==typeof s||!Ve(s)&&pi(s)&&"[object String]"==Ti(s)};function cd(s,t,e={},n=[]){const o=e&&e.xmlns,l=o?s.createElementNS(o,t):s.createElement(t);for(const d in e)l.setAttribute(d,e[d]);!ld(n)&&ti(n)||(n=[n]);for(let d of n)ld(d)&&(d=s.createTextNode(d)),l.appendChild(d);return l}const dd=function(s,t){return function(e){return s(t(e))}},Ka=dd(Object.getPrototypeOf,Object);var hd=Function.prototype.toString,eg=Object.prototype.hasOwnProperty,ig=hd.call(Object);const Qe=function(s){if(!pi(s)||"[object Object]"!=Ti(s))return!1;var t=Ka(s);if(null===t)return!0;var e=eg.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&hd.call(e)==ig},rs=function(s,t){return s===t||s!=s&&t!=t},pr=function(s,t){for(var e=s.length;e--;)if(rs(s[e][0],t))return e;return-1};var og=Array.prototype.splice;function bo(s){var t=-1,e=null==s?0:s.length;for(this.clear();++t<e;){var n=s[t];this.set(n[0],n[1])}}bo.prototype.clear=function(){this.__data__=[],this.size=0},bo.prototype.delete=function(s){var t=this.__data__,e=pr(t,s);return!(e<0||(e==t.length-1?t.pop():og.call(t,e,1),--this.size,0))},bo.prototype.get=function(s){var t=this.__data__,e=pr(t,s);return e<0?void 0:t[e][1]},bo.prototype.has=function(s){return pr(this.__data__,s)>-1},bo.prototype.set=function(s,t){var e=this.__data__,n=pr(e,s);return n<0?(++this.size,e.push([s,t])):e[n][1]=t,this};const gr=bo,jn=function(s){if(!oe(s))return!1;var t=Ti(s);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Xa=xi["__core-js_shared__"];var md=function(){var s=/[^.]+$/.exec(Xa&&Xa.keys&&Xa.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),kg=Function.prototype.toString;const Vn=function(s){if(null!=s){try{return kg.call(s)}catch{}try{return s+""}catch{}}return""};var _g=/^\[object .+?Constructor\]$/,Cg=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const rt=function(s,t){var e=function(s,t){return s?.[t]}(s,t);return function(s){return!(!oe(s)||function(s){return!!md&&md in s}(s))&&(jn(s)?Cg:_g).test(Vn(s))}(e)?e:void 0},ke=rt(xi,"Map"),ls=rt(Object,"create");var cs=Object.prototype.hasOwnProperty,Ag=Object.prototype.hasOwnProperty;function ko(s){var t=-1,e=null==s?0:s.length;for(this.clear();++t<e;){var n=s[t];this.set(n[0],n[1])}}ko.prototype.clear=function(){this.__data__=ls?ls(null):{},this.size=0},ko.prototype.delete=function(s){var t=this.has(s)&&delete this.__data__[s];return this.size-=t?1:0,t},ko.prototype.get=function(s){var t=this.__data__;if(ls){var e=t[s];return"__lodash_hash_undefined__"===e?void 0:e}return cs.call(t,s)?t[s]:void 0},ko.prototype.has=function(s){var t=this.__data__;return ls?void 0!==t[s]:Ag.call(t,s)},ko.prototype.set=function(s,t){var e=this.__data__;return this.size+=this.has(s)?0:1,e[s]=ls&&void 0===t?"__lodash_hash_undefined__":t,this};const kd=ko,fr=function(s,t){var e=s.__data__;return function(s){var t=typeof s;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==s:null===s}(t)?e["string"==typeof t?"string":"hash"]:e.map};function _o(s){var t=-1,e=null==s?0:s.length;for(this.clear();++t<e;){var n=s[t];this.set(n[0],n[1])}}_o.prototype.clear=function(){this.size=0,this.__data__={hash:new kd,map:new(ke||gr),string:new kd}},_o.prototype.delete=function(s){var t=fr(this,s).delete(s);return this.size-=t?1:0,t},_o.prototype.get=function(s){return fr(this,s).get(s)},_o.prototype.has=function(s){return fr(this,s).has(s)},_o.prototype.set=function(s,t){var e=fr(this,s),n=e.size;return e.set(s,t),this.size+=e.size==n?0:1,this};const br=_o;function vo(s){var t=this.__data__=new gr(s);this.size=t.size}vo.prototype.clear=function(){this.__data__=new gr,this.size=0},vo.prototype.delete=function(s){var t=this.__data__,e=t.delete(s);return this.size=t.size,e},vo.prototype.get=function(s){return this.__data__.get(s)},vo.prototype.has=function(s){return this.__data__.has(s)},vo.prototype.set=function(s,t){var e=this.__data__;if(e instanceof gr){var n=e.__data__;if(!ke||n.length<199)return n.push([s,t]),this.size=++e.size,this;e=this.__data__=new br(n)}return e.set(s,t),this.size=e.size,this};const ds=vo,kr=function(){try{var s=rt(Object,"defineProperty");return s({},"",{}),s}catch{}}(),tl=function(s,t,e){"__proto__"==t&&kr?kr(s,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):s[t]=e};var us=Object.prototype.hasOwnProperty;const cn=function(s,t,e){var n=s[t];us.call(s,t)&&rs(n,e)&&(void 0!==e||t in s)||tl(s,t,e)},wo=function(s,t,e,n){var o=!e;e||(e={});for(var l=-1,d=t.length;++l<d;){var h=t[l],m=n?n(e[h],s[h],h,e,s):void 0;void 0===m&&(m=s[h]),o?tl(e,h,m):cn(e,h,m)}return e},_d=function(s){return pi(s)&&"[object Arguments]"==Ti(s)};var vd=Object.prototype,Fg=vd.hasOwnProperty,jg=vd.propertyIsEnumerable;const el=_d(function(){return arguments}())?_d:function(s){return pi(s)&&Fg.call(s,"callee")&&!jg.call(s,"callee")};var wd=me&&!me.nodeType&&me,Cd=wd&&ye&&!ye.nodeType&&ye,yd=Cd&&Cd.exports===wd?xi.Buffer:void 0;const hs=(yd?yd.isBuffer:void 0)||function(){return!1};var Ug=/^(?:0|[1-9]\d*)$/;const il=function(s,t){var e=typeof s;return!!(t=t??9007199254740991)&&("number"==e||"symbol"!=e&&Ug.test(s))&&s>-1&&s%1==0&&s<t},Ad=function(s){return"number"==typeof s&&s>-1&&s%1==0&&s<=9007199254740991};var Xt={};Xt["[object Float32Array]"]=Xt["[object Float64Array]"]=Xt["[object Int8Array]"]=Xt["[object Int16Array]"]=Xt["[object Int32Array]"]=Xt["[object Uint8Array]"]=Xt["[object Uint8ClampedArray]"]=Xt["[object Uint16Array]"]=Xt["[object Uint32Array]"]=!0,Xt["[object Arguments]"]=Xt["[object Array]"]=Xt["[object ArrayBuffer]"]=Xt["[object Boolean]"]=Xt["[object DataView]"]=Xt["[object Date]"]=Xt["[object Error]"]=Xt["[object Function]"]=Xt["[object Map]"]=Xt["[object Number]"]=Xt["[object Object]"]=Xt["[object RegExp]"]=Xt["[object Set]"]=Xt["[object String]"]=Xt["[object WeakMap]"]=!1;const nl=function(s){return function(t){return s(t)}};var xd=me&&!me.nodeType&&me,ms=xd&&ye&&!ye.nodeType&&ye,ol=ms&&ms.exports===xd&&sd.process;const Co=function(){try{return ms&&ms.require&&ms.require("util").types||ol&&ol.binding&&ol.binding("util")}catch{}}();var Td=Co&&Co.isTypedArray;const sl=Td?nl(Td):function(s){return pi(s)&&Ad(s.length)&&!!Xt[Ti(s)]};var qg=Object.prototype.hasOwnProperty;const Dd=function(s,t){var e=Ve(s),n=!e&&el(s),o=!e&&!n&&hs(s),l=!e&&!n&&!o&&sl(s),d=e||n||o||l,h=d?function(s,t){for(var e=-1,n=Array(s);++e<s;)n[e]=t(e);return n}(s.length,String):[],m=h.length;for(var g in s)!t&&!qg.call(s,g)||d&&("length"==g||o&&("offset"==g||"parent"==g)||l&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||il(g,m))||h.push(g);return h};var Qg=Object.prototype;const rl=function(s){var t=s&&s.constructor;return s===("function"==typeof t&&t.prototype||Qg)},Yg=dd(Object.keys,Object);var Jg=Object.prototype.hasOwnProperty;const $n=function(s){return null!=s&&Ad(s.length)&&!jn(s)},al=function(s){return $n(s)?Dd(s):function(s){if(!rl(s))return Yg(s);var t=[];for(var e in Object(s))Jg.call(s,e)&&"constructor"!=e&&t.push(e);return t}(s)};var Xg=Object.prototype.hasOwnProperty;const wn=function(s){return $n(s)?Dd(s,!0):function(s){if(!oe(s))return function(s){var t=[];if(null!=s)for(var e in Object(s))t.push(e);return t}(s);var t=rl(s),e=[];for(var n in s)("constructor"!=n||!t&&Xg.call(s,n))&&e.push(n);return e}(s)};var _r=me&&!me.nodeType&&me,vr=_r&&ye&&!ye.nodeType&&ye,cl=vr&&vr.exports===_r?xi.Buffer:void 0,Ed=cl?cl.allocUnsafe:void 0;const Id=function(s,t){if(t)return s.slice();var e=s.length,n=Ed?Ed(e):new s.constructor(e);return s.copy(n),n},Md=function(s,t){var e=-1,n=s.length;for(t||(t=Array(n));++e<n;)t[e]=s[e];return t},Pd=function(){return[]};var ef=Object.prototype.propertyIsEnumerable,Rd=Object.getOwnPropertySymbols;const dl=Rd?function(s){return null==s?[]:(s=Object(s),function(s,t){for(var e=-1,n=null==s?0:s.length,o=0,l=[];++e<n;){var d=s[e];t(d)&&(l[o++]=d)}return l}(Rd(s),function(t){return ef.call(s,t)}))}:Pd,ul=function(s,t){for(var e=-1,n=t.length,o=s.length;++e<n;)s[o+e]=t[e];return s},Nd=Object.getOwnPropertySymbols?function(s){for(var t=[];s;)ul(t,dl(s)),s=Ka(s);return t}:Pd,Ld=function(s,t,e){var n=t(s);return Ve(s)?n:ul(n,e(s))},hl=function(s){return Ld(s,al,dl)},sf=function(s){return Ld(s,wn,Nd)},ml=rt(xi,"DataView"),wr=rt(xi,"Promise"),pl=rt(xi,"Set"),gl=rt(xi,"WeakMap");var Bd="[object Map]",Od="[object Promise]",fl="[object Set]",zd="[object WeakMap]",Fd="[object DataView]",rf=Vn(ml),af=Vn(ke),lf=Vn(wr),cf=Vn(pl),df=Vn(gl),Un=Ti;(ml&&Un(new ml(new ArrayBuffer(1)))!=Fd||ke&&Un(new ke)!=Bd||wr&&Un(wr.resolve())!=Od||pl&&Un(new pl)!=fl||gl&&Un(new gl)!=zd)&&(Un=function(s){var t=Ti(s),e="[object Object]"==t?s.constructor:void 0,n=e?Vn(e):"";if(n)switch(n){case rf:return Fd;case af:return Bd;case lf:return Od;case cf:return fl;case df:return zd}return t});const ps=Un;var uf=Object.prototype.hasOwnProperty;const Cr=xi.Uint8Array,bl=function(s){var t=new s.constructor(s.byteLength);return new Cr(t).set(new Cr(s)),t};var pf=/\w*$/,jd=Zi?Zi.prototype:void 0,Vd=jd?jd.valueOf:void 0;const $d=function(s,t){var e=t?bl(s.buffer):s.buffer;return new s.constructor(e,s.byteOffset,s.length)};var Ud=Object.create;const Of=function(){function s(){}return function(t){if(!oe(t))return{};if(Ud)return Ud(t);s.prototype=t;var e=new s;return s.prototype=void 0,e}}(),Zd=function(s){return"function"!=typeof s.constructor||rl(s)?{}:Of(Ka(s))};var Hd=Co&&Co.isMap;const ge=Hd?nl(Hd):function(s){return pi(s)&&"[object Map]"==ps(s)};var Zn=Co&&Co.isSet;const Ff=Zn?nl(Zn):function(s){return pi(s)&&"[object Set]"==ps(s)};var qd="[object Arguments]",Qd="[object Function]",Yd="[object Object]",Wt={};Wt[qd]=Wt["[object Array]"]=Wt["[object ArrayBuffer]"]=Wt["[object DataView]"]=Wt["[object Boolean]"]=Wt["[object Date]"]=Wt["[object Float32Array]"]=Wt["[object Float64Array]"]=Wt["[object Int8Array]"]=Wt["[object Int16Array]"]=Wt["[object Int32Array]"]=Wt["[object Map]"]=Wt["[object Number]"]=Wt[Yd]=Wt["[object RegExp]"]=Wt["[object Set]"]=Wt["[object String]"]=Wt["[object Symbol]"]=Wt["[object Uint8Array]"]=Wt["[object Uint8ClampedArray]"]=Wt["[object Uint16Array]"]=Wt["[object Uint32Array]"]=!0,Wt["[object Error]"]=Wt[Qd]=Wt["[object WeakMap]"]=!1;const yr=function s(t,e,n,o,l,d){var h,m=1&e,g=2&e,b=4&e;if(n&&(h=l?n(t,o,l,d):n(t)),void 0!==h)return h;if(!oe(t))return t;var k=Ve(t);if(k){if(h=function(s){var t=s.length,e=new s.constructor(t);return t&&"string"==typeof s[0]&&uf.call(s,"index")&&(e.index=s.index,e.input=s.input),e}(t),!m)return Md(t,h)}else{var v=ps(t),w=v==Qd||"[object GeneratorFunction]"==v;if(hs(t))return Id(t,m);if(v==Yd||v==qd||w&&!l){if(h=g||w?{}:Zd(t),!m)return g?function(s,t){return wo(s,Nd(s),t)}(t,function(s,t){return s&&wo(t,wn(t),s)}(h,t)):function(s,t){return wo(s,dl(s),t)}(t,function(s,t){return s&&wo(t,al(t),s)}(h,t))}else{if(!Wt[v])return l?t:{};h=function(s,t,e){var n=s.constructor;switch(t){case"[object ArrayBuffer]":return bl(s);case"[object Boolean]":case"[object Date]":return new n(+s);case"[object DataView]":return function(s,t){var e=t?bl(s.buffer):s.buffer;return new s.constructor(e,s.byteOffset,s.byteLength)}(s,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return $d(s,e);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(s);case"[object RegExp]":return function(s){var t=new s.constructor(s.source,pf.exec(s));return t.lastIndex=s.lastIndex,t}(s);case"[object Symbol]":return function(s){return Vd?Object(Vd.call(s)):{}}(s)}}(t,v,m)}}d||(d=new ds);var A=d.get(t);if(A)return A;d.set(t,h),Ff(t)?t.forEach(function(E){h.add(s(E,e,n,E,t,d))}):ge(t)&&t.forEach(function(E,R){h.set(R,s(E,e,n,R,t,d))});var T=k?void 0:(b?g?sf:hl:g?wn:al)(t);return function(s,t){for(var e=-1,n=null==s?0:s.length;++e<n&&!1!==t(s[e],e););}(T||t,function(E,R){T&&(E=t[R=E]),cn(h,R,s(E,e,n,R,t,d))}),h},_l=function(s,t){return yr(s,5,t="function"==typeof t?t:void 0)},Hn=function(s){return pi(s)&&1===s.nodeType&&!Qe(s)};class Gd{constructor(t,e){this._config={},e&&this.define(Wd(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,o=!1){if(Qe(e))return void this._setObjectToTarget(t,e,o);const l=e.split(".");e=l.pop();for(const d of l)Qe(t[d])||(t[d]={}),t=t[d];if(Qe(n))return Qe(t[e])||(t[e]={}),void this._setObjectToTarget(t=t[e],n,o);o&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const o of n){if(!Qe(t[o])){t=null;break}t=t[o]}return t?Wd(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(o=>{this._setToTarget(t,o,e[o],n)})}}function Wd(s){return _l(s,Uf)}function Uf(s){return Hn(s)?s:void 0}function Cn(s){if(s){if(s.defaultView)return s instanceof s.defaultView.Document;if(s.ownerDocument&&s.ownerDocument.defaultView)return s instanceof s.ownerDocument.defaultView.Node}return!1}function Ar(s){const t=Object.prototype.toString.apply(s);return"[object Window]"==t||"[object global]"==t}const Kd=qn(ot());function qn(s){return s?class extends s{listenTo(t,e,n,o={}){if(Cn(t)||Ar(t)){const l={capture:!!o.useCapture,passive:!!o.usePassive},d=this._getProxyEmitter(t,l)||new Zf(t,l);this.listenTo(d,e,n,o)}else super.listenTo(t,e,n,o)}stopListening(t,e,n){if(Cn(t)||Ar(t)){const o=this._getAllProxyEmitters(t);for(const l of o)this.stopListening(l,e,n)}else super.stopListening(t,e,n)}_getProxyEmitter(t,e){return function(n,o){const l=n[hi];return l&&l[o]?l[o].emitter:null}(this,Xd(t,e))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(e=>this._getProxyEmitter(t,e)).filter(e=>!!e)}}:Kd}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(s=>{qn[s]=Kd.prototype[s]});class Zf extends(ot()){constructor(t,e){super(),ne(this,Xd(t,e)),this._domNode=t,this._options=e}attach(t){if(this._domListeners&&this._domListeners[t])return;const e=this._createDomListener(t);this._domNode.addEventListener(t,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=e}detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,e,n){this.attach(t),ot().prototype._addEventListener.call(this,t,e,n)}_removeEventListener(t,e){ot().prototype._removeEventListener.call(this,t,e),this.detach(t)}_createDomListener(t){const e=n=>{this.fire(t,n)};return e.removeListener=()=>{this._domNode.removeEventListener(t,e,this._options),delete this._domListeners[t]},e}}function Xd(s,t){let e=(n=s)["data-ck-expando"]||(n["data-ck-expando"]=Ie());var n;for(const n of Object.keys(t).sort())t[n]&&(e+="-"+n);return e}let vl;try{vl={window,document}}catch{vl={window:{},document:{}}}const St=vl;function tu(s){const t=[];let e=s;for(;e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}function de(s){return"[object Text]"==Object.prototype.toString.call(s)}function xr(s){return"[object Range]"==Object.prototype.toString.apply(s)}function eu(s){const t=s.ownerDocument.defaultView.getComputedStyle(s);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}const wl=["top","right","bottom","left","width","height"];class ue{constructor(t){const e=xr(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),nu(t)||e)if(e){const n=ue.getDomRangeRects(t);Tr(this,ue.getBoundingRect(n))}else Tr(this,t.getBoundingClientRect());else if(Ar(t)){const{innerWidth:n,innerHeight:o}=t;Tr(this,{top:0,right:n,bottom:o,left:0,width:n,height:o})}else Tr(this,t)}clone(){return new ue(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new ue(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!iu(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!iu(n);){const o=new ue(n),l=e.getIntersection(o);if(!l)return null;l.getArea()<e.getArea()&&(e=l),n=n.parentNode}}return e}isEqual(t){for(const e of wl)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n,o;if(Ar(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,o=t.getComputedStyle(t.document.documentElement).direction;else{const l=eu(t);e=t.offsetWidth-t.clientWidth-l.left-l.right,n=t.offsetHeight-t.clientHeight-l.top-l.bottom,o=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=l.left,this.top+=l.top,this.right-=l.right,this.bottom-=l.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===o?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const o of n)e.push(new ue(o));else{let o=t.startContainer;de(o)&&(o=o.parentNode);const l=new ue(o.getBoundingClientRect());l.right=l.left,l.width=0,e.push(l)}return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const o of t)n++,e.left=Math.min(e.left,o.left),e.top=Math.min(e.top,o.top),e.right=Math.max(e.right,o.right),e.bottom=Math.max(e.bottom,o.bottom);return 0==n?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new ue(e))}}function Tr(s,t){for(const e of wl)s[e]=t[e]}function iu(s){return!!nu(s)&&s===s.ownerDocument.body}function nu(s){return null!==s&&"object"==typeof s&&1===s.nodeType&&"function"==typeof s.getBoundingClientRect}class te{constructor(t,e){te._observerInstance||te._createObserver(),this._element=t,this._callback=e,te._addElementCallback(t,e),te._observerInstance.observe(t)}destroy(){te._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){te._elementCallbacks||(te._elementCallbacks=new Map);let n=te._elementCallbacks.get(t);n||(n=new Set,te._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=te._getElementCallbacks(t);n&&(n.delete(e),n.size||(te._elementCallbacks.delete(t),te._observerInstance.unobserve(t))),te._elementCallbacks&&!te._elementCallbacks.size&&(te._observerInstance=null,te._elementCallbacks=null)}static _getElementCallbacks(t){return te._elementCallbacks?te._elementCallbacks.get(t):null}static _createObserver(){te._observerInstance=new St.window.ResizeObserver(t=>{for(const e of t){const n=te._getElementCallbacks(e.target);if(n)for(const o of n)o(e)}})}}function yo(s){return t=>t+s}function _e(s){let t=0;for(;s.previousSibling;)s=s.previousSibling,t++;return t}function ou(s,t,e){s.insertBefore(e,s.childNodes[t]||null)}function Ao(s){return s&&s.nodeType===Node.COMMENT_NODE}function Qn(s){return!!(s&&s.getClientRects&&s.getClientRects().length)}function su({element:s,target:t,positions:e,limiter:n,fitInViewport:o,viewportOffsetConfig:l}){jn(t)&&(t=t()),jn(n)&&(n=n());const d=(v=s)&&v.parentNode?v.offsetParent===St.document.body?null:v.offsetParent:null,h=new ue(s),m=new ue(t);var v;let g;const b=o&&function(v){v=Object.assign({top:0,bottom:0,left:0,right:0},v);const w=new ue(St.window);return w.top+=v.top,w.height-=v.top,w.bottom-=v.bottom,w.height-=v.bottom,w}(l)||null,k={targetRect:m,elementRect:h,positionedElementAncestor:d,viewportRect:b};if(n||o){const v=n&&new ue(n).getVisible();Object.assign(k,{limiterRect:v,viewportRect:b}),g=function(w,A){const{elementRect:T}=A,E=T.getArea(),R=w.map(et=>new Cl(et,A)).filter(et=>!!et.name);let N=0,q=null;for(const et of R){const{limiterIntersectionArea:yt,viewportIntersectionArea:Ot}=et;if(yt===E)return et;const Vt=Ot**2+yt**2;Vt>N&&(N=Vt,q=et)}return q}(e,k)||new Cl(e[0],k)}else g=new Cl(e[0],k);return g}function ru(s){const{scrollX:t,scrollY:e}=St.window;return s.clone().moveBy(t,e)}te._observerInstance=null,te._elementCallbacks=null;class Cl{constructor(t,e){const n=t(e.targetRect,e.elementRect,e.viewportRect);if(!n)return;const{left:o,top:l,name:d,config:h}=n;this.name=d,this.config=h,this._positioningFunctionCorrdinates={left:o,top:l},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;if(t){const e=this._options.viewportRect;if(!e)return t.getIntersectionArea(this._rect);{const n=t.getIntersection(e);if(n)return n.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const t=this._options.viewportRect;return t?t.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=ru(this._rect),this._options.positionedElementAncestor&&function(t,e){const n=ru(new ue(e)),o=eu(e);let l=0,d=0;l-=n.left,d-=n.top,l+=e.scrollLeft,d+=e.scrollTop,l-=o.left,d-=o.top,t.moveBy(l,d)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function au(s){const t=s.parentNode;t&&t.removeChild(s)}function Hf(s,t,e){const n=t.clone().moveBy(0,e),o=t.clone().moveBy(0,-e),l=new ue(s).excludeScrollbarsAndBorders();if(![o,n].every(d=>l.contains(d))){let{scrollX:d,scrollY:h}=s;lu(o,l)?h-=l.top-t.top+e:fs(n,l)&&(h+=t.bottom-l.bottom+e),cu(t,l)?d-=l.left-t.left+e:Dr(t,l)&&(d+=t.right-l.right+e),s.scrollTo(d,h)}}function qf(s,t){const e=yl(s);let n,o;for(;s!=e.document.body;)o=t(),n=new ue(s).excludeScrollbarsAndBorders(),n.contains(o)||(lu(o,n)?s.scrollTop-=n.top-o.top:fs(o,n)&&(s.scrollTop+=o.bottom-n.bottom),cu(o,n)?s.scrollLeft-=n.left-o.left:Dr(o,n)&&(s.scrollLeft+=o.right-n.right)),s=s.parentNode}function fs(s,t){return s.bottom>t.bottom}function lu(s,t){return s.top<t.top}function cu(s,t){return s.left<t.left}function Dr(s,t){return s.right>t.right}function yl(s){return xr(s)?s.startContainer.ownerDocument.defaultView:s.ownerDocument.defaultView}function Qf(s){if(xr(s)){let t=s.commonAncestorContainer;return de(t)&&(t=t.parentNode),t}return s.parentNode}function du(s,t){const e=yl(s),n=new ue(s);if(e===t)return n;{let o=e;for(;o!=t;){const d=new ue(o.frameElement).excludeScrollbarsAndBorders();n.moveBy(d.left,d.top),o=o.parent}}return n}const Yf={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},Jf={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Rt=function(){const s={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++)s[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)s[t-48]=t;for(let t=112;t<=123;t++)s["f"+(t-111)]=t;for(const t of"`-=[];',./\\")s[t]=t.charCodeAt(0);return s}(),Gf=Object.fromEntries(Object.entries(Rt).map(([s,t])=>[t,s.charAt(0).toUpperCase()+s.slice(1)]));function Yn(s){let t;if("string"==typeof s){if(t=Rt[s.toLowerCase()],!t)throw new M("keyboard-unknown-key",null,{key:s})}else t=s.keyCode+(s.altKey?Rt.alt:0)+(s.ctrlKey?Rt.ctrl:0)+(s.shiftKey?Rt.shift:0)+(s.metaKey?Rt.cmd:0);return t}function Al(s){return"string"==typeof s&&(s=s.split("+").map(e=>e.trim())),s.map(t=>"string"==typeof t?function(e){if(e.endsWith("!"))return Yn(e.slice(0,-1));const n=Yn(e);return O_isMac&&n==Rt.ctrl?Rt.cmd:n}(t):t).reduce((t,e)=>e+t,0)}function uu(s){let t=Al(s);return Object.entries(O_isMac?Yf:Jf).reduce((e,[n,o])=>(0!=(t&Rt[n])&&(t&=~Rt[n],e+=o),e),"")+(t?Gf[t]:"")}function xl(s,t){const e="ltr"===t;switch(s){case Rt.arrowleft:return e?"left":"right";case Rt.arrowright:return e?"right":"left";case Rt.arrowup:return"up";case Rt.arrowdown:return"down"}}function xe(s){return Array.isArray(s)?s:[s]}St.window.CKEDITOR_TRANSLATIONS||(St.window.CKEDITOR_TRANSLATIONS={});const Kf=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function hu(s){return Kf.includes(s)?"rtl":"ltr"}class Xf{constructor({uiLanguage:t="en",contentLanguage:e}={}){this.uiLanguage=t,this.contentLanguage=e||this.uiLanguage,this.uiLanguageDirection=hu(this.uiLanguage),this.contentLanguageDirection=hu(this.contentLanguage),this.t=(n,o)=>this._t(n,o)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e=[]){return e=xe(e),"string"==typeof t&&(t={string:t}),o=function Wf(s,t,e=1){if("number"!=typeof e)throw new M("translation-service-quantity-not-a-number",null,{quantity:e});const n=Object.keys(St.window.CKEDITOR_TRANSLATIONS).length;1===n&&(s=Object.keys(St.window.CKEDITOR_TRANSLATIONS)[0]);const o=t.id||t.string;if(0===n||(!St.window.CKEDITOR_TRANSLATIONS[m=s]||!St.window.CKEDITOR_TRANSLATIONS[m].dictionary[o]))return 1!==e?t.plural:t.string;var m;const d=St.window.CKEDITOR_TRANSLATIONS[s].getPluralForm||(m=>1===m?0:1),h=St.window.CKEDITOR_TRANSLATIONS[s].dictionary[o];return"string"==typeof h?h:h[Number(d(e))]}(this.uiLanguage,t,t.plural?e[0]:1),l=e,o.replace(/%(\d+)/g,(d,h)=>h<l.length?l[h]:d);var o,l}}class Di extends(ot()){constructor(t={},e={}){super();const n=ti(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const o of t)this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new M("collection-add-item-invalid-index",this);let n=0;for(const o of t){const l=this._getItemIdBeforeAdding(o),d=e+n;this._items.splice(d,0,o),this._itemMap.set(l,o),this.fire("add",o,d),n++}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new M("collection-get-invalid-arg",this);e=this._items[t]}return e||null}has(t){if("string"==typeof t)return this._itemMap.has(t);{const e=t[this._idProperty];return e&&this._itemMap.has(e)}}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,e?this._items.indexOf(e):-1}remove(t){const[e,n]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:n}),e}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new M("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:e=>{this._setUpBindToBinding(n=>new e(n))},using:e=>{this._setUpBindToBinding("function"==typeof e?e:n=>n[e])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(o,l,d)=>{const h=e._bindToCollection==this,m=e._bindToInternalToExternalMap.get(l);if(h&&m)this._bindToExternalToInternalMap.set(l,m),this._bindToInternalToExternalMap.set(m,l);else{const g=t(l);if(!g)return void this._skippedIndexesFromExternal.push(d);let b=d;for(const k of this._skippedIndexesFromExternal)d>k&&b--;for(const k of e._skippedIndexesFromExternal)b>=k&&b++;this._bindToExternalToInternalMap.set(l,g),this._bindToInternalToExternalMap.set(g,l),this.add(g,b);for(let k=0;k<e._skippedIndexesFromExternal.length;k++)b<=e._skippedIndexesFromExternal[k]&&e._skippedIndexesFromExternal[k]++}};for(const o of e)n(0,o,e.getIndex(o));this.listenTo(e,"add",n),this.listenTo(e,"remove",(o,l,d)=>{const h=this._bindToExternalToInternalMap.get(l);h&&this.remove(h),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((m,g)=>(d<g&&m.push(g-1),d>g&&m.push(g),m),[])})}_getItemIdBeforeAdding(t){const e=this._idProperty;let n;if(e in t){if(n=t[e],"string"!=typeof n)throw new M("collection-add-invalid-id",this);if(this.get(n))throw new M("collection-add-item-already-exists",this)}else t[e]=n=Ie();return n}_remove(t){let e,n,o,l=!1;const d=this._idProperty;if("string"==typeof t?(n=t,o=this._itemMap.get(n),l=!o,o&&(e=this._items.indexOf(o))):"number"==typeof t?(e=t,o=this._items[e],l=!o,o&&(n=o[d])):(o=t,n=o[d],e=this._items.indexOf(o),l=-1==e||!this._itemMap.get(n)),l)throw new M("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);const h=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(h),this.fire("remove",o,e),[o,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function fe(s){const t=s.next();return t.done?null:t.value}class fi extends(qn(zt())){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new M("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class qi{constructor(){this._listener=new(qn())}listenTo(t){this._listener.listenTo(t,"keydown",(e,n)=>{this._listener.fire("_keydown:"+Yn(n),n)})}set(t,e,n={}){const o=Al(t);this._listener.listenTo(this._listener,"_keydown:"+o,(d,h)=>{e(h,()=>{h.preventDefault(),h.stopPropagation(),d.stop()}),d.return=!0},{priority:n.priority})}press(t){return!!this._listener.fire("_keydown:"+Yn(t),t)}destroy(){this._listener.stopListening()}}function Qi(s){return ti(s)?new Map(s):function(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}(s)}function mu(s,t){return!!(e=s.charAt(t-1))&&1==e.length&&/[\ud800-\udbff]/.test(e)&&!!(n=s.charAt(t))&&1==n.length&&/[\udc00-\udfff]/.test(n);var n,e}function pu(s,t){return!!(e=s.charAt(t))&&1==e.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e);var e}const eb=function(){const s=/\p{Regional_Indicator}{2}/u.source,t="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(e=>e.source).join("|")+")";return new RegExp(`${s}|${t}(?:\u200d${t})*`,"ug")}();function ib(s,t){const e=String(s).matchAll(eb);return Array.from(e).some(n=>n.index<t&&t<n.index+n[0].length)}class yn extends Di{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",(e,n,o)=>{this._renderViewIntoCollectionParent(n,o)}),this.on("remove",(e,n)=>{n.element&&this._parentElement&&n.element.remove()}),this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t;for(const e of this)this._renderViewIntoCollectionParent(e)}delegate(...t){if(!t.length||!t.every(e=>"string"==typeof e))throw new M("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const o of t)n.delegate(o).to(e);this.on("add",(n,o)=>{for(const l of t)o.delegate(l).to(e)}),this.on("remove",(n,o)=>{for(const l of t)o.stopDelegating(l,e)})}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}}var nb=Y(6062),mt=Y.n(nb),gu=Y(4793);mt()(gu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class It extends(qn(zt())){constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Di,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,n)=>{n.locale=t,n.t=t&&t.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Si.bind(this,this)}createCollection(t){const e=new yn(t);return this._viewCollections.add(e),e}registerChild(t){ti(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){ti(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new Si(t)}extendTemplate(t){Si.extend(this.template,t)}render(){if(this.isRendered)throw new M("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Si extends(ot()){constructor(t){super(),Object.assign(this,_u(ku(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new M("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)Ir(n)?yield n:Tl(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,o)=>new fu({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:o}),if:(n,o,l)=>new bu({observable:t,emitter:e,attribute:n,valueIfTrue:o,callback:l})}}static extend(t,e){if(t._isRendered)throw new M("template-extend-render",[this,t]);wu(t,_u(ku(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new M("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Sr(this.text)?this._bindToObservable({schema:this.text,updater:rb(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){if(!this.attributes)return;const e=t.node,n=t.revertData;for(const o in this.attributes){const l=e.getAttribute(o),d=this.attributes[o];n&&(n.attributes[o]=l);const h=Sl(d)?d[0].ns:null;if(Sr(d)){const m=Sl(d)?d[0].value:d;n&&Cu(o)&&m.unshift(l),this._bindToObservable({schema:m,updater:ab(e,o,h),data:t})}else if("style"==o&&"string"!=typeof d[0])this._renderStyleAttribute(d[0],t);else{n&&l&&Cu(o)&&d.unshift(l);const m=d.map(g=>g&&g.value||g).reduce((g,b)=>g.concat(b),[]).reduce(vu,"");xo(m)||e.setAttributeNS(h,o,m)}}}_renderStyleAttribute(t,e){const n=e.node;for(const o in t){const l=t[o];Sr(l)?this._bindToObservable({schema:[l],updater:lb(n,o),data:e}):n.style[o]=l}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,o=t.isApplying;let l=0;for(const d of this.children)if(Dl(d)){if(!o){d.setParent(e);for(const h of d)n.appendChild(h.element)}}else if(Ir(d))o||(d.isRendered||d.render(),n.appendChild(d.element));else if(Cn(d))n.appendChild(d);else if(o){const h={children:[],bindings:[],attributes:{}};t.revertData.children.push(h),d._renderNode({intoFragment:!1,node:n.childNodes[l++],isApplying:!0,revertData:h})}else n.appendChild(d.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(o=>{const[l,d]=e.split("@");return o.activateDomEventListener(l,d,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const o=n.revertData;sb(t,e,n);const l=t.filter(d=>!xo(d)).filter(d=>d.observable).map(d=>d.activateAttributeListener(t,e,n));o&&o.bindings.push(l)}_revertTemplateFromNode(t,e){for(const o of e.bindings)for(const l of o)l();if(e.text)return void(t.textContent=e.text);const n=t;for(const o in e.attributes){const l=e.attributes[o];null===l?n.removeAttribute(o):n.setAttribute(o,l)}for(let o=0;o<e.children.length;++o)this._revertTemplateFromNode(n.childNodes[o],e.children[o])}}class bs{constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const o=()=>sb(t,e,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,o),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,o)}}}class fu extends bs{constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,e,n){const o=(l,d)=>{e&&!d.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(d):this.observable.fire(this.eventNameOrFunction,d))};return this.emitter.listenTo(n.node,t,o),()=>{this.emitter.stopListening(n.node,t,o)}}}class bu extends bs{constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){return!xo(super.getValue(t))&&(this.valueIfTrue||!0)}}function Sr(s){return!!s&&(s.value&&(s=s.value),Array.isArray(s)?s.some(Sr):s instanceof bs)}function sb(s,t,{node:e}){const n=(d=e,s.map(h=>h instanceof bs?h.getValue(d):h));var d;let o;o=1==s.length&&s[0]instanceof bu?n[0]:n.reduce(vu,""),xo(o)?t.remove():t.set(o)}function rb(s){return{set(t){s.textContent=t},remove(){s.textContent=""}}}function ab(s,t,e){return{set(n){s.setAttributeNS(e,t,n)},remove(){s.removeAttributeNS(e,t)}}}function lb(s,t){return{set(e){s.style[t]=e},remove(){s.style[t]=null}}}function ku(s){return _l(s,t=>{if(t&&(t instanceof bs||Tl(t)||Ir(t)||Dl(t)))return t})}function _u(s){if("string"==typeof s?s={text:[s]}:s.text&&function(t){t.text=xe(t.text)}(s),s.on&&(s.eventListeners=function(t){for(const e in t)Me(t,e);return t}(s.on),delete s.on),!s.text){s.attributes&&function(e){for(const n in e)e[n].value&&(e[n].value=xe(e[n].value)),Me(e,n)}(s.attributes);const t=[];if(s.children)if(Dl(s.children))t.push(s.children);else for(const e of s.children)Tl(e)||Ir(e)||Cn(e)?t.push(e):t.push(new Si(e));s.children=t}return s}function Me(s,t){s[t]=xe(s[t])}function vu(s,t){return xo(t)?s:xo(s)?t:`${s} ${t}`}function Er(s,t){for(const e in t)s[e]?s[e].push(...t[e]):s[e]=t[e]}function wu(s,t){if(t.attributes&&(s.attributes||(s.attributes={}),Er(s.attributes,t.attributes)),t.eventListeners&&(s.eventListeners||(s.eventListeners={}),Er(s.eventListeners,t.eventListeners)),t.text&&s.text.push(...t.text),t.children&&t.children.length){if(s.children.length!=t.children.length)throw new M("ui-template-extend-children-mismatch",s);let e=0;for(const n of t.children)wu(s.children[e++],n)}}function xo(s){return!s&&0!==s}function Ir(s){return s instanceof It}function Tl(s){return s instanceof Si}function Dl(s){return s instanceof yn}function Sl(s){return oe(s[0])&&s[0].ns}function Cu(s){return"class"==s||"style"==s}class cb extends yn{constructor(t,e=[]){super(e),this.locale=t}attachToDom(){this._bodyCollectionContainer=new Si({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=cd(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}var yu=Y(6574);mt()(yu.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});let Mr=(()=>{class s extends It{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=e.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:o,value:l}of Array.from(e.attributes))s.presentationalAttributeNames.includes(o)&&this.element.setAttribute(o,l);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}return s.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"],s})();var P=Y(4906);mt()(P.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class qt extends It{constructor(t){super(t);const e=this.bindTemplate,n=Ie();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(n),this.iconView=new Mr,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const o={tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",l=>!l),e.if("isVisible","ck-hidden",l=>!l),e.to("isOn",l=>l?"ck-on":"ck-off"),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",l=>l||"button"),tabindex:e.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":e.if("isEnabled",!0,l=>!l),"aria-pressed":e.to("isOn",l=>!!this.isToggleable&&String(!!l)),"data-cke-tooltip-text":e.to("_tooltipString"),"data-cke-tooltip-position":e.to("tooltipPosition")},children:this.children,on:{click:e.to(l=>{this.isEnabled?this.fire("execute"):l.preventDefault()})}};O_isSafari&&(o.on.mousedown=e.to(l=>{this.focus(),l.preventDefault()})),this.setTemplate(o)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(t){const e=new It;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:`ck-editor__aria-label_${t}`},children:[{text:this.bindTemplate.to("label")}]}),e}_createKeystrokeView(){const t=new It;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",e=>uu(e))}]}),t}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=uu(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}var Jn=Y(5332);mt()(Jn.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class un extends qt{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new It;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}var El=Y(6781);mt()(El.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class xu{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){this._components.set(To(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new M("componentfactory-item-missing",this,{name:t});return this._components.get(To(t)).callback(this.editor.locale)}has(t){return this._components.has(To(t))}}function To(s){return String(s).toLowerCase()}var Pr=Y(5485);mt()(Pr.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class An extends It{constructor(t,e,n){super(t);const o=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new qi,this.focusTracker=new fi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",l=>!l)],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":o.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(e,n,o)=>{o&&(this.panelView.position="auto"===this.panelPosition?An._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element);const t=(e,n)=>{this.isOpen&&(this.isOpen=!1,n())};this.keystrokes.set("arrowdown",(e,n)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,n())}),this.keystrokes.set("arrowright",(e,n)=>{this.isOpen&&n()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:n,southWest:o,northEast:l,northWest:d,southMiddleEast:h,southMiddleWest:m,northMiddleEast:g,northMiddleWest:b}=An.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[n,o,h,m,t,l,d,g,b,e]:[o,n,m,h,t,d,l,b,g,e]}}An.defaultPanelPositions={south:(s,t)=>({top:s.bottom,left:s.left-(t.width-s.width)/2,name:"s"}),southEast:s=>({top:s.bottom,left:s.left,name:"se"}),southWest:(s,t)=>({top:s.bottom,left:s.left-t.width+s.width,name:"sw"}),southMiddleEast:(s,t)=>({top:s.bottom,left:s.left-(t.width-s.width)/4,name:"sme"}),southMiddleWest:(s,t)=>({top:s.bottom,left:s.left-3*(t.width-s.width)/4,name:"smw"}),north:(s,t)=>({top:s.top-t.height,left:s.left-(t.width-s.width)/2,name:"n"}),northEast:(s,t)=>({top:s.top-t.height,left:s.left,name:"ne"}),northWest:(s,t)=>({top:s.top-t.height,left:s.left-t.width+s.width,name:"nw"}),northMiddleEast:(s,t)=>({top:s.top-t.height,left:s.left-(t.width-s.width)/4,name:"nme"}),northMiddleWest:(s,t)=>({top:s.top-t.height,left:s.left-3*(t.width-s.width)/4,name:"nmw"})},An._getOptimalPosition=su;const Rr='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class Nr extends qt{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",e=>String(e))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Mr;return t.content=Rr,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}var bi=Y(7686);mt()(bi.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Yt extends It{constructor(t){super(t);const e=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new qi,this.focusTracker=new fi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",e.to("class"),e.if("isVisible","ck-hidden",n=>!n),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(t,e)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),e())}),this.keystrokes.set("arrowleft",(t,e)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),e())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const t=new qt;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const t=new qt,e=t.bindTemplate;return t.icon=Rr,t.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":e.to("isOn"),"aria-haspopup":!0,"aria-expanded":e.to("isOn",n=>String(n))}}),t.bind("isEnabled").to(this),t.bind("label").to(this),t.bind("tooltip").to(this),t.delegate("execute").to(this,"open"),t}}class _w extends It{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",n=>`ck-dropdown__panel_${n}`),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(n=>n.preventDefault())}})}focus(){if(this.children.length){const t=this.children.first;"function"==typeof t.focus?t.focus():bt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}class vt{constructor(t){if(this.focusables=t.focusables,this.focusTracker=t.focusTracker,this.keystrokeHandler=t.keystrokeHandler,this.actions=t.actions,t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const o of n)t.keystrokeHandler.set(o,(l,d)=>{this[e](),d()})}}get first(){return this.focusables.find(Ei)||null}get last(){return this.focusables.filter(Ei).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,n)=>{const o=e.element===this.focusTracker.focusedElement;return o&&(t=n),o}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];let o=(e+n+t)%n;do{const l=this.focusables.get(o);if(Ei(l))return l;o=(o+n+t)%n}while(o!==e);return null}}function Ei(s){return!(!s.focus||!Qn(s.element))}class Tu extends It{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class hb extends It{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Du(s){return Array.isArray(s)?{items:s,removeItems:[]}:s?Object.assign({items:[],removeItems:[]},s):{items:[],removeItems:[]}}class W extends(zt()){constructor(t){super(),this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",Lr,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",Lr),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Lr(s){s.return=!1,s.stop()}class Tt extends(zt()){constructor(t){super(),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",e=>{this.isEnabled||e.stop()},{priority:"high"}),this.listenTo(t,"change:isReadOnly",(e,n,o)=>{o&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(t){this._affectsData=t}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",Su,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",Su),this.refresh())}execute(...t){}destroy(){this.stopListening()}}function Su(s){s.return=!1,s.stop()}class Eu extends Tt{constructor(t){super(t),this._childCommandsDefinitions=[]}refresh(){}execute(...t){const e=this._getFirstEnabledCommand();return!!e&&e.execute(t)}registerChildCommand(t,e={}){ht(this._childCommandsDefinitions,{command:t,priority:e.priority||"normal"}),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const t=this._childCommandsDefinitions.find(({command:e})=>e.isEnabled);return t&&t.command}}class Il extends(ot()){constructor(t,e=[],n=[]){super(),this._context=t,this._plugins=new Map,this._availablePlugins=new Map;for(const o of e)o.pluginName&&this._availablePlugins.set(o.pluginName,o);this._contextPlugins=new Map;for(const[o,l]of n)this._contextPlugins.set(o,l),this._contextPlugins.set(l,o),o.pluginName&&this._availablePlugins.set(o.pluginName,o)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let n=t;throw"function"==typeof t&&(n=t.pluginName||t.name),new M("plugincollection-plugin-not-loaded",this._context,{plugin:n})}return e}has(t){return this._plugins.has(t)}init(t,e=[],n=[]){const o=this,l=this._context;(function A(T,E=new Set){T.forEach(R=>{m(R)&&(E.has(R)||(E.add(R),R.pluginName&&!o._availablePlugins.has(R.pluginName)&&o._availablePlugins.set(R.pluginName,R),R.requires&&A(R.requires,E)))})})(t),v(t);const d=[...function A(T,E=new Set){return T.map(R=>m(R)?R:o._availablePlugins.get(R)).reduce((R,N)=>E.has(N)?R:(E.add(N),N.requires&&(v(N.requires,N),A(N.requires,E).forEach(q=>R.add(q))),R.add(N)),new Set)}(t.filter(A=>!b(A,e)))];!function(A,T){for(const E of T){if("function"!=typeof E)throw new M("plugincollection-replace-plugin-invalid-type",null,{pluginItem:E});const R=E.pluginName;if(!R)throw new M("plugincollection-replace-plugin-missing-name",null,{pluginItem:E});if(E.requires&&E.requires.length)throw new M("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:R});const N=o._availablePlugins.get(R);if(!N)throw new M("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:R});const q=A.indexOf(N);if(-1===q){if(o._contextPlugins.has(N))return;throw new M("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:R})}if(N.requires&&N.requires.length)throw new M("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:R});A.splice(q,1,E),o._availablePlugins.set(R,E)}}(d,n);const h=d.map(T=>{let E=o._contextPlugins.get(T);return E=E||new T(l),o._add(T,E),E});return w(h,"init").then(()=>w(h,"afterInit")).then(()=>h);function m(A){return"function"==typeof A}function g(A){return m(A)&&A.isContextPlugin}function b(A,T){return T.some(E=>E===A||k(A)===E||k(E)===A)}function k(A){return m(A)?A.pluginName||A.name:A}function v(A,T=null){A.map(E=>m(E)?E:o._availablePlugins.get(E)||E).forEach(E=>{(function(R,N){if(!m(R))throw N?new M("plugincollection-soft-required",l,{missingPlugin:R,requiredBy:k(N)}):new M("plugincollection-plugin-not-found",l,{plugin:R})})(E,T),function(R,N){if(g(N)&&!g(R))throw new M("plugincollection-context-required",l,{plugin:k(R),requiredBy:k(N)})}(E,T),function(R,N){if(N&&b(R,e))throw new M("plugincollection-required",l,{plugin:k(R),requiredBy:k(N)})}(E,T)})}function w(A,T){return A.reduce((E,R)=>R[T]?o._contextPlugins.has(R)?E:E.then(R[T].bind(R)):E,Promise.resolve())}}destroy(){const t=[];for(const[,e]of this)"function"!=typeof e.destroy||this._contextPlugins.has(e)||t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;if(n){if(this._plugins.has(n))throw new M("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}class Iu{constructor(t){this.config=new Gd(t,this.constructor.defaultConfig);const e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new Il(this,e);const n=this.config.get("language")||{};this.locale=new Xf({uiLanguage:"string"==typeof n?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Di,this._contextOwner=null}initPlugins(){const t=this.config.get("plugins")||[],e=this.config.get("substitutePlugins")||[];for(const n of t.concat(e)){if("function"!=typeof n)throw new M("context-initplugins-constructor-only",null,{Plugin:n});if(!0!==n.isContextPlugin)throw new M("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(t,[],e)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new M("context-addeditor-private-context");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const n=new this(t);e(n.initPlugins().then(()=>n))})}}class ks extends(zt()){constructor(t){super(),this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var Br=Y(4717);mt()(Br.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Gn=new WeakMap;function Do(s){const{view:t,element:e,text:n,isDirectHost:o=!0,keepOnFocus:l=!1}=s,d=t.document;Gn.has(d)||(Gn.set(d,new Map),d.registerPostFixer(h=>zr(d,h)),d.on("change:isComposing",()=>{t.change(h=>zr(d,h))},{priority:"high"})),Gn.get(d).set(e,{text:n,isDirectHost:o,keepOnFocus:l,hostElement:o?e:null}),t.change(h=>zr(d,h))}function zr(s,t){const e=Gn.get(s),n=[];let o=!1;for(const[l,d]of e)d.isDirectHost&&(n.push(l),Ii(t,l,d)&&(o=!0));for(const[l,d]of e){if(d.isDirectHost)continue;const h=pb(l);h&&(n.includes(h)||(d.hostElement=h,Ii(t,l,d)&&(o=!0)))}return o}function Ii(s,t,e){const{text:n,isDirectHost:o,hostElement:l}=e;let d=!1;return l.getAttribute("data-placeholder")!==n&&(s.setAttribute("data-placeholder",n,l),d=!0),(o||1==t.childCount)&&function(h,m){if(!h.isAttached()||Array.from(h.getChildren()).some(v=>!v.is("uiElement")))return!1;const b=h.document,k=b.selection.anchor;return!(b.isComposing&&k&&k.parent===h||!m&&b.isFocused&&(!k||k.parent===h))}(l,e.keepOnFocus)?(h=s,!(m=l).hasClass("ck-placeholder")&&(h.addClass("ck-placeholder",m),!0)&&(d=!0)):function mb(s,t){return!!t.hasClass("ck-placeholder")&&(s.removeClass("ck-placeholder",t),!0)}(s,l)&&(d=!0),d;var h,m}function pb(s){if(s.childCount){const t=s.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}class Wn{is(){throw new Error("is() method is abstract")}}const Ml=function(s){return yr(s,4)};class hn extends(ot(Wn)){constructor(t){super(),this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new M("view-node-not-found-in-parent",this);return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),o=t.getAncestors(e);let l=0;for(;n[l]==o[l]&&n[l];)l++;return 0===l?null:n[l-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),o=je(e,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return e[o]<n[o]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire(`change:${t}`,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=Ml(this);return delete t.parent,t}}hn.prototype.is=function(s){return"node"===s||"view:node"===s};class Ft extends hn{constructor(t,e){super(t),this._textData=e}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof Ft&&(this===t||this.data===t.data)}_clone(){return new Ft(this.document,this.data)}}Ft.prototype.is=function(s){return"$text"===s||"view:$text"===s||"text"===s||"view:text"===s||"node"===s||"view:node"===s};class Mi extends Wn{constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.data.length)throw new M("view-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.data.length)throw new M("view-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(t={}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}Mi.prototype.is=function(s){return"$textProxy"===s||"view:$textProxy"===s||"textProxy"===s||"view:textProxy"===s};class ki{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),this._patterns.push(e)}match(...t){for(const e of t)for(const n of this._patterns){const o=Mu(e,n);if(o)return{element:e,pattern:n,match:o}}return null}matchAll(...t){const e=[];for(const n of t)for(const o of this._patterns){const l=Mu(n,o);l&&e.push({element:n,pattern:o,match:l})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function Mu(s,t){if("function"==typeof t)return t(s);const e={};return t.name&&(e.name=(o=s.name,(n=t.name)instanceof RegExp?!!o.match(n):n===o),!e.name)||t.attributes&&(e.attributes=function(n,o){const l=new Set(o.getAttributeKeys());return Qe(n)?(void 0!==n.style&&bt("matcher-pattern-deprecated-attributes-style-key",n),void 0!==n.class&&bt("matcher-pattern-deprecated-attributes-class-key",n)):(l.delete("style"),l.delete("class")),Fr(n,l,d=>o.getAttribute(d))}(t.attributes,s),!e.attributes)||t.classes&&(e.classes=function(n,o){return Fr(n,o.getClassNames(),()=>{})}(t.classes,s),!e.classes)||t.styles&&(e.styles=function(n,o){return Fr(n,o.getStyleNames(!0),l=>o.getStyle(l))}(t.styles,s),!e.styles)?null:e;var n,o}function Fr(s,t,e){const n=(d=s,Array.isArray(d)?d.map(h=>Qe(h)?(void 0!==h.key&&void 0!==h.value||bt("matcher-pattern-missing-key-or-value",h),[h.key,h.value]):[h,!0]):Qe(d)?Object.entries(d):[[d,!0]]),o=Array.from(t),l=[];var d;if(n.forEach(([d,h])=>{o.forEach(m=>{var g,b;b=m,(!0===(g=d)||g===b||g instanceof RegExp&&b.match(g))&&function(g,b,k){if(!0===g)return!0;const v=k(b);return g===v||g instanceof RegExp&&!!String(v).match(g)}(h,m,e)&&l.push(m)})}),n.length&&!(l.length<n.length))return l}const Pl=function(s){return"symbol"==typeof s||pi(s)&&"[object Symbol]"==Ti(s)};var Pu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fb=/^\w*$/;function _s(s,t){if("function"!=typeof s||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var e=function(){var n=arguments,o=t?t.apply(this,n):n[0],l=e.cache;if(l.has(o))return l.get(o);var d=s.apply(this,n);return e.cache=l.set(o,d)||l,d};return e.cache=new(_s.Cache||br),e}_s.Cache=br;var t,e,Eo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rl=/\\(\\)?/g,_b=(t=_s(function(s){var t=[];return 46===s.charCodeAt(0)&&t.push(""),s.replace(Eo,function(e,n,o,l){t.push(o?l.replace(Rl,"$1"):n||e)}),t},function(n){return 500===e.size&&e.clear(),n}),e=t.cache,t);const Ru=_b;var Nl=Zi?Zi.prototype:void 0,Nu=Nl?Nl.toString:void 0;const Lu=function s(t){if("string"==typeof t)return t;if(Ve(t))return function(s,t){for(var e=-1,n=null==s?0:s.length,o=Array(n);++e<n;)o[e]=t(s[e],e,s);return o}(t,s)+"";if(Pl(t))return Nu?Nu.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},jr=function(s){return null==s?"":Lu(s)},Io=function(s,t){return Ve(s)?s:function(s,t){if(Ve(s))return!1;var e=typeof s;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=s&&!Pl(s))||fb.test(s)||!Pu.test(s)||null!=t&&s in Object(t)}(s,t)?[s]:Ru(jr(s))},Vr=function(s){if("string"==typeof s||Pl(s))return s;var t=s+"";return"0"==t&&1/s==-1/0?"-0":t},Ou=function(s,t){for(var e=0,n=(t=Io(t,s)).length;null!=s&&e<n;)s=s[Vr(t[e++])];return e&&e==n?s:void 0},ws=function(s,t,e){var n=-1,o=s.length;t<0&&(t=-t>o?0:o+t),(e=e>o?o:e)<0&&(e+=o),o=t>e?0:e-t>>>0,t>>>=0;for(var l=Array(o);++n<o;)l[n]=s[n+t];return l},Cs=function(s,t,e){var n=null==s?void 0:Ou(s,t);return void 0===n?e:n},ii=function(s,t,e){(void 0!==e&&!rs(s[t],e)||void 0===e&&!(t in s))&&tl(s,t,e)},$r=function(s,t){if(("constructor"!==t||"function"!=typeof s[t])&&"__proto__"!=t)return s[t]},yb=function s(t,e,n,o,l){t!==e&&function(t,e,n){for(var o=-1,l=Object(t),d=n(t),h=d.length;h--;){var m=d[++o];if(!1===e(l[m],m,l))break}}(e,function(d,h){if(l||(l=new ds),oe(d))!function(s,t,e,n,o,l,d){var h=$r(s,e),m=$r(t,e),g=d.get(m);if(g)ii(s,e,g);else{var b=l?l(h,m,e+"",s,t,d):void 0,k=void 0===b;if(k){var v=Ve(m),w=!v&&hs(m),A=!v&&!w&&sl(m);b=m,v||w||A?Ve(h)?b=h:function(s){return pi(s)&&$n(s)}(h)?b=Md(h):w?(k=!1,b=Id(m,!0)):A?(k=!1,b=$d(m,!0)):b=[]:Qe(m)||el(m)?(b=h,el(h)?b=function(s){return wo(s,wn(s))}(h):oe(h)&&!jn(h)||(b=Zd(m))):k=!1}k&&(d.set(m,b),o(b,m,n,l,d),d.delete(m)),ii(s,e,b)}}(t,e,h,n,s,o,l);else{var m=o?o($r(t,h),d,h+"",t,e,l):void 0;void 0===m&&(m=d),ii(t,h,m)}},wn)},ee=function(s){return s},X=function(s,t,e){switch(e.length){case 0:return s.call(t);case 1:return s.call(t,e[0]);case 2:return s.call(t,e[0],e[1]);case 3:return s.call(t,e[0],e[1],e[2])}return s.apply(t,e)};var Ur=Math.max;const Zr=function(s){return function(){return s}},Ab=kr?function(s,t){return kr(s,"toString",{configurable:!0,enumerable:!1,value:Zr(t),writable:!0})}:ee;var Tb=Date.now;const Sb=function(s){var t=0,e=0;return function(){var n=Tb(),o=16-(n-e);if(e=n,o>0){if(++t>=800)return arguments[0]}else t=0;return s.apply(void 0,arguments)}}(Ab),Ol=function(s){return function(s,t){return Sb(function(s,t,e){return t=Ur(void 0===t?s.length-1:t,0),function(){for(var n=arguments,o=-1,l=Ur(n.length-t,0),d=Array(l);++o<l;)d[o]=n[t+o];o=-1;for(var h=Array(t+1);++o<t;)h[o]=n[o];return h[t]=e(d),X(s,this,h)}}(s,t,ee),s+"")}(function(t,e){var n=-1,o=e.length,l=o>1?e[o-1]:void 0,d=o>2?e[2]:void 0;for(l=s.length>3&&"function"==typeof l?(o--,l):void 0,d&&function(s,t,e){if(!oe(e))return!1;var n=typeof t;return!!("number"==n?$n(e)&&il(t,e.length):"string"==n&&t in e)&&rs(e[t],s)}(e[0],e[1],d)&&(l=o<3?void 0:l,o=1),t=Object(t);++n<o;){var h=e[n];h&&s(t,h,n,l)}return t})},Kn=Ol(function(s,t,e){yb(s,t,e)});class Eb{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=Array.from(function(n){let o=null,l=0,d=0,h=null;const m=new Map;if(""===n)return m;";"!=n.charAt(n.length-1)&&(n+=";");for(let g=0;g<n.length;g++){const b=n.charAt(g);if(null===o)switch(b){case":":h||(h=n.substr(l,g-l),d=g+1);break;case'"':case"'":o=b;break;case";":{const k=n.substr(d,g-d);h&&m.set(h.trim(),k.trim()),h=null,l=g+1;break}}else b===o&&(o=null)}return m}(t).entries());for(const[n,o]of e)this._styleProcessor.toNormalizedForm(n,o,this._styles)}has(t){if(this.isEmpty)return!1;const e=this._styleProcessor.getReducedForm(t,this._styles).find(([n])=>n===t);return Array.isArray(e)}set(t,e){if(oe(t))for(const[n,o]of Object.entries(t))this._styleProcessor.toNormalizedForm(n,o,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e=ys(t);(function(s,t){null==s||function(s,t){null==(s=function(s,t){return t.length<2?s:Ou(s,ws(t,0,-1))}(s,t=Io(t,s)))||delete s[Vr(function(s){var t=null==s?0:s.length;return t?s[t-1]:void 0}(t))]}(s,t)})(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!oe(this._styles[t]))return this._styles[t];const e=this._styleProcessor.getReducedForm(t,this._styles).find(([n])=>n===t);return Array.isArray(e)?e[1]:void 0}getStyleNames(t=!1){return this.isEmpty?[]:t?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([e])=>e)}clear(){this._styles={}}_getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const n of e)t.push(...this._styleProcessor.getReducedForm(n,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const n=e.splice(0,e.length-1).join("."),o=Cs(this._styles,n);!o||!Array.from(Object.keys(o)).length&&this.remove(n)}}class zl{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,n){if(oe(e))Fl(n,ys(t),e);else if(this._normalizers.has(t)){const o=this._normalizers.get(t),{path:l,value:d}=o(e);Fl(n,l,d)}else Fl(n,t,e)}getNormalized(t,e){if(!t)return Kn({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){const n=this._extractors.get(t);if("string"==typeof n)return Cs(e,n);const o=n(t,e);if(o)return o}return Cs(e,ys(t))}getReducedForm(t,e){const n=this.getNormalized(t,e);return void 0===n?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}getStyleNames(t){const e=Array.from(this._consumables.keys()).filter(o=>{const l=this.getNormalized(o,t);return l&&"object"==typeof l?Object.keys(l).length:l}),n=new Set([...e,...Object.keys(t)]);return Array.from(n.values())}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const n of e)this._mapStyleNames(n,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function ys(s){return s.replace("-",".")}function Fl(s,t,e){let n=e;oe(e)&&(n=Kn({},Cs(s,t),e)),function(s,t,e){null==s||function(s,t,e,n){if(!oe(s))return s;for(var o=-1,l=(t=Io(t,s)).length,d=l-1,h=s;null!=h&&++o<l;){var m=Vr(t[o]),g=e;if("__proto__"===m||"constructor"===m||"prototype"===m)return s;if(o!=d){var b=h[m];void 0===(g=void 0)&&(g=oe(b)?b:il(t[o+1])?[]:{})}cn(h,m,g),h=h[m]}}(s,t,e)}(s,t,n)}class ni extends hn{constructor(t,e,n,o){if(super(t),this.name=e,this._attrs=function(l){const d=Qi(l);for(const[h,m]of d)null===m?d.delete(h):"string"!=typeof m&&d.set(h,String(m));return d}(n),this._children=[],o&&this._insertChild(0,o),this._classes=new Set,this._attrs.has("class")){const l=this._attrs.get("class");qu(this._classes,l),this._attrs.delete("class")}this._styles=new Eb(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==t){const e=this._styles.toString();return""==e?void 0:e}return this._attrs.get(t)}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof ni))return!1;if(this===t)return!0;if(this.name!=t.name||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(t){return this._styles.getStyleNames(t)}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new ki(...t);let n=this.parent;for(;n&&!n.is("documentFragment");){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map(o=>`${o[0]}="${o[1]}"`).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(e?` style="${e}"`:"")+(""==n?"":` ${n}`)}shouldRenderUnsafeAttribute(t){return this._unsafeAttributesToRender.includes(t)}_clone(t=!1){const e=[];if(t)for(const o of this.getChildren())e.push(o._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const o=(l=this.document,"string"==typeof(d=e)?[new Ft(l,d)]:(ti(d)||(d=[d]),Array.from(d).map(h=>"string"==typeof h?new Ft(l,h):h instanceof Mi?new Ft(l,h.data):h)));var l,d;for(const l of o)null!==l.parent&&l._remove(),l.parent=this,l.document=this.document,this._children.splice(t,0,l),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){const n=String(e);this._fireChange("attributes",this),"class"==t?qu(this._classes,n):"style"==t?this._styles.setTo(n):this._attrs.set(t,n)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this);for(const e of xe(t))this._classes.add(e)}_removeClass(t){this._fireChange("attributes",this);for(const e of xe(t))this._classes.delete(e)}_setStyle(t,e){this._fireChange("attributes",this),Qe(t)?this._styles.set(t):this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this);for(const e of xe(t))this._styles.remove(e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function qu(s,t){const e=t.split(/\s+/);s.clear(),e.forEach(n=>s.add(n))}ni.prototype.is=function(s,t){return t?t===this.name&&("element"===s||"view:element"===s):"element"===s||"view:element"===s||"node"===s||"view:node"===s};class Xn extends ni{constructor(...t){super(...t),this.getFillerOffset=Hr}}function Hr(){const s=[...this.getChildren()],t=s[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const e of s)if(!e.is("uiElement"))return null;return this.childCount}Xn.prototype.is=function(s,t){return t?t===this.name&&("containerElement"===s||"view:containerElement"===s||"element"===s||"view:element"===s):"containerElement"===s||"view:containerElement"===s||"element"===s||"view:element"===s||"node"===s||"view:node"===s};class As extends(zt(Xn)){constructor(...t){super(...t);const e=t[0];this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",n=>n&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}As.prototype.is=function(s,t){return t?t===this.name&&("editableElement"===s||"view:editableElement"===s||"containerElement"===s||"view:containerElement"===s||"element"===s||"view:element"===s):"editableElement"===s||"view:editableElement"===s||"containerElement"===s||"view:containerElement"===s||"element"===s||"view:element"===s||"node"===s||"view:node"===s};const jl=Symbol("rootName");class Qu extends As{constructor(t,e){super(t,e),this.rootName="main"}get rootName(){return this.getCustomProperty(jl)}set rootName(t){this._setCustomProperty(jl,t)}set _name(t){this.name=t}}Qu.prototype.is=function(s,t){return t?t===this.name&&("rootElement"===s||"view:rootElement"===s||"editableElement"===s||"view:editableElement"===s||"containerElement"===s||"view:containerElement"===s||"element"===s||"view:element"===s):"rootElement"===s||"view:rootElement"===s||"editableElement"===s||"view:editableElement"===s||"containerElement"===s||"view:containerElement"===s||"element"===s||"view:element"===s||"node"===s||"view:node"===s};class xn{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new M("view-tree-walker-no-start-position",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new M("view-tree-walker-unknown-direction",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,this.position=tt._createAt(t.startPosition?t.startPosition:t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,o;do{o=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=o)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let o;if(n instanceof Ft){if(t.isAtEnd)return this.position=tt._createAfter(n),this._next();o=n.data[t.offset]}else o=n.getChild(t.offset);if(o instanceof ni)return this.shallow?t.offset++:t=new tt(o,0),this.position=t,this._formatReturnValue("elementStart",o,e,t,1);if(o instanceof Ft){if(this.singleCharacters)return t=new tt(o,0),this.position=t,this._next();{let l,d=o.data.length;return o==this._boundaryEndParent?(d=this.boundaries.end.offset,l=new Mi(o,0,d),t=tt._createAfter(l)):(l=new Mi(o,0,o.data.length),t.offset++),this.position=t,this._formatReturnValue("text",l,e,t,d)}}if("string"==typeof o){let l;l=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset;const d=new Mi(n,t.offset,l);return t.offset+=l,this.position=t,this._formatReturnValue("text",d,e,t,l)}return t=tt._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let o;if(n instanceof Ft){if(t.isAtStart)return this.position=tt._createBefore(n),this._previous();o=n.data[t.offset-1]}else o=n.getChild(t.offset-1);if(o instanceof ni)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",o,e,t,1)):(t=new tt(o,o.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,e,t));if(o instanceof Ft){if(this.singleCharacters)return t=new tt(o,o.data.length),this.position=t,this._previous();{let l,d=o.data.length;if(o==this._boundaryStartParent){const h=this.boundaries.start.offset;l=new Mi(o,h,o.data.length-h),d=l.data.length,t=tt._createBefore(l)}else l=new Mi(o,0,o.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",l,e,t,d)}}if("string"==typeof o){let l;l=this.singleCharacters?1:t.offset-(n===this._boundaryStartParent?this.boundaries.start.offset:0),t.offset-=l;const d=new Mi(n,t.offset,l);return this.position=t,this._formatReturnValue("text",d,e,t,l)}return t=tt._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,o,l){return e instanceof Mi&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=tt._createAfter(e.textNode):(o=tt._createAfter(e.textNode),this.position=o)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=tt._createBefore(e.textNode):(o=tt._createBefore(e.textNode),this.position=o))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:o,length:l}}}}class tt extends Wn{constructor(t,e){super(),this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof As);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=tt._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new xn(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let o=0;for(;e[o]==n[o]&&e[o];)o++;return 0===o?null:e[o-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const o=je(e,n);switch(o){case"prefix":return"before";case"extension":return"after";default:return e[o]<n[o]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new xn(t)}clone(){return new tt(this.parent,this.offset)}static _createAt(t,e){if(t instanceof tt)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("$text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new M("view-createpositionat-offset-required",n)}return new tt(n,e)}}static _createAfter(t){if(t.is("$textProxy"))return new tt(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new M("view-position-after-root",t,{root:t});return new tt(t.parent,t.index+1)}static _createBefore(t){if(t.is("$textProxy"))return new tt(t.textNode,t.offsetInText);if(!t.parent)throw new M("view-position-before-root",t,{root:t});return new tt(t.parent,t.index)}}tt.prototype.is=function(s){return"position"===s||"view:position"===s};class J extends Wn{constructor(t,e=null){super(),this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new xn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Vl,{direction:"backward"}),e=this.end.getLastMatchingPosition(Vl);return t.parent.is("$text")&&t.isAtStart&&(t=tt._createBefore(t.parent)),e.parent.is("$text")&&e.isAtEnd&&(e=tt._createAfter(e.parent)),new J(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(Vl);if(t.isAfter(this.end)||t.isEqual(this.end))return new J(t,t);let e=this.end.getLastMatchingPosition(Vl,{direction:"backward"});const n=t.nodeAfter,o=e.nodeBefore;return n&&n.is("$text")&&(t=new tt(n,0)),o&&o.is("$text")&&(e=new tt(o,o.data.length)),new J(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&o}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new J(this.start,t.start)),this.containsPosition(t.end)&&e.push(new J(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new J(e,n)}return null}getWalker(t={}){return t.boundaries=this,new xn(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new J(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new xn(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new xn(t);yield e.position;for(const n of e)yield n.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,o){return new this(new tt(t,e),new tt(n,o))}static _createFromPositionAndShift(t,e){const n=t,o=t.getShiftedBy(e);return e>0?new this(n,o):new this(o,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("$textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(tt._createBefore(t),e)}}function Vl(s){return!(!s.item.is("attributeElement")&&!s.item.is("uiElement"))}J.prototype.is=function(s){return"range"===s||"view:range"===s};class dt extends(ot(Wn)){constructor(...t){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",t.length&&this.setTo(...t)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake||this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel||this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const o of t._ranges)if(e.isEqual(o)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=Wa(this.getRanges());if(e!=Wa(t.getRanges()))return!1;if(0==e)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let o=!1;for(let l of t.getRanges())if(l=l.getTrimmed(),n.start.isEqual(l.start)&&n.end.isEqual(l.end)){o=!0;break}if(!o)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(...t){let[e,n,o]=t;if("object"==typeof n&&(o=n,n=void 0),null===e)this._setRanges([]),this._setFakeOptions(o);else if(e instanceof dt||e instanceof $l)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof J)this._setRanges([e],o&&o.backward),this._setFakeOptions(o);else if(e instanceof tt)this._setRanges([new J(e)]),this._setFakeOptions(o);else if(e instanceof hn){const l=!!o&&!!o.backward;let d;if(void 0===n)throw new M("view-selection-setto-required-second-parameter",this);d="in"==n?J._createIn(e):"on"==n?J._createOn(e):new J(tt._createAt(e,n)),this._setRanges([d],l),this._setFakeOptions(o)}else{if(!ti(e))throw new M("view-selection-setto-not-selectable",this);this._setRanges(e,o&&o.backward),this._setFakeOptions(o)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new M("view-selection-setfocus-no-ranges",this);const n=tt._createAt(t,e);if("same"==n.compareWith(this.focus))return;const o=this.anchor;this._ranges.pop(),"before"==n.compareWith(o)?this._addRange(new J(n,o),!0):this._addRange(new J(o,n)),this.fire("change")}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const n of t)this._addRange(n);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof J))throw new M("view-selection-add-range-not-range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new M("view-selection-range-intersects",this,{addedRange:t,intersectingRange:e});this._ranges.push(new J(t.start,t.end))}}dt.prototype.is=function(s){return"selection"===s||"view:selection"===s};class $l extends(ot(Wn)){constructor(...t){super(),this._selection=new dt,this._selection.delegate("change").to(this),t.length&&this._selection.setTo(...t)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(...t){this._selection.setTo(...t)}_setFocus(t,e){this._selection.setFocus(t,e)}}$l.prototype.is=function(s){return"selection"===s||"documentSelection"==s||"view:selection"==s||"view:documentSelection"==s};class Po extends Ct{constructor(t,e,n){super(t,e),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Ul=Symbol("bubbling contexts");function Zl(s){return class extends s{fire(t,...e){try{const n=t instanceof Ct?t:new Ct(this,t),o=Ju(this);if(!o.size)return;if(xs(n,"capturing",this),to(o,"$capture",n,...e))return n.return;const l=n.startRange||this.selection.getFirstRange(),d=l?l.getContainedElement():null,h=!!d&&Boolean(Yu(o,d));let m=d||function(g){if(!g)return null;const b=g.start.parent,k=g.end.parent,v=b.getPath(),w=k.getPath();return v.length>w.length?b:k}(l);if(xs(n,"atTarget",m),!h){if(to(o,"$text",n,...e))return n.return;xs(n,"bubbling",m)}for(;m;){if(m.is("rootElement")){if(to(o,"$root",n,...e))return n.return}else if(m.is("element")&&to(o,m.name,n,...e))return n.return;if(to(o,m,n,...e))return n.return;m=m.parent,xs(n,"bubbling",m)}return xs(n,"bubbling",this),to(o,"$document",n,...e),n.return}catch(n){M.rethrowUnexpectedError(n,this)}}_addEventListener(t,e,n){const o=xe(n.context||"$document"),l=Ju(this);for(const d of o){let h=l.get(d);h||(h=new(ot()),l.set(d,h)),this.listenTo(h,t,e,n)}}_removeEventListener(t,e){const n=Ju(this);for(const o of n.values())this.stopListening(o,t,e)}}}{const s=Zl(Object);["fire","_addEventListener","_removeEventListener"].forEach(t=>{Zl[t]=s.prototype[t]})}function xs(s,t,e){s instanceof Po&&(s._eventPhase=t,s._currentTarget=e)}function to(s,t,e,...n){const o="string"==typeof t?s.get(t):Yu(s,t);return!!o&&(o.fire(e,...n),e.stop.called)}function Yu(s,t){for(const[e,n]of s)if("function"==typeof e&&e(t))return n;return null}function Ju(s){return s[Ul]||(s[Ul]=new Map),s[Ul]}class qr extends(Zl(zt())){constructor(t){super(),this.selection=new $l,this.roots=new Di({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t),e)break}while(e)}}class Ro extends ni{constructor(...t){super(...t),this.getFillerOffset=ww,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new M("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t=!1){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function ww(){if(Gu(this))return null;let s=this.parent;for(;s&&s.is("attributeElement");){if(Gu(s)>1)return null;s=s.parent}return!s||Gu(s)>1?null:this.childCount}function Gu(s){return Array.from(s.getChildren()).filter(t=>!t.is("uiElement")).length}Ro.DEFAULT_PRIORITY=10,Ro.prototype.is=function(s,t){return t?t===this.name&&("attributeElement"===s||"view:attributeElement"===s||"element"===s||"view:element"===s):"attributeElement"===s||"view:attributeElement"===s||"element"===s||"view:element"===s||"node"===s||"view:node"===s};class Wu extends ni{constructor(t,e,n,o){super(t,e,n,o),this.getFillerOffset=Ku}_insertChild(t,e){if(e&&(e instanceof hn||Array.from(e).length>0))throw new M("view-emptyelement-cannot-add",[this,e]);return 0}}function Ku(){return null}Wu.prototype.is=function(s,t){return t?t===this.name&&("emptyElement"===s||"view:emptyElement"===s||"element"===s||"view:element"===s):"emptyElement"===s||"view:emptyElement"===s||"element"===s||"view:element"===s||"node"===s||"view:node"===s};class Qr extends ni{constructor(...t){super(...t),this.getFillerOffset=Cw}_insertChild(t,e){if(e&&(e instanceof hn||Array.from(e).length>0))throw new M("view-uielement-cannot-add",[this,e]);return 0}render(t,e){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const n of this.getAttributeKeys())e.setAttribute(n,this.getAttribute(n));return e}}function Cw(){return null}Qr.prototype.is=function(s,t){return t?t===this.name&&("uiElement"===s||"view:uiElement"===s||"element"===s||"view:element"===s):"uiElement"===s||"view:uiElement"===s||"element"===s||"view:element"===s||"node"===s||"view:node"===s};class Yr extends ni{constructor(...t){super(...t),this.getFillerOffset=Hl}_insertChild(t,e){if(e&&(e instanceof hn||Array.from(e).length>0))throw new M("view-rawelement-cannot-add",[this,e]);return 0}render(){}}function Hl(){return null}Yr.prototype.is=function(s,t){return t?t===this.name&&("rawElement"===s||"view:rawElement"===s||"element"===s||"view:element"===s):"rawElement"===s||"view:rawElement"===s||s===this.name||s==="view:"+this.name||"element"===s||"view:element"===s||"node"===s||"view:node"===s};class be extends(ot(Wn)){constructor(t,e){super(),this.document=t,this._children=[],e&&this._insertChild(0,e),this._customProperties=new Map}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const o=(l=this.document,"string"==typeof(d=e)?[new Ft(l,d)]:(ti(d)||(d=[d]),Array.from(d).map(h=>"string"==typeof h?new Ft(l,h):h instanceof Mi?new Ft(l,h.data):h)));var l,d;for(const l of o)null!==l.parent&&l._remove(),l.parent=this,this._children.splice(t,0,l),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}be.prototype.is=function(s){return"documentFragment"===s||"view:documentFragment"===s};class Ib{constructor(t){this.document=t,this._cloneGroups=new Map,this._slotFactory=null}setSelection(...t){this.document.selection._setTo(...t)}setSelectionFocus(...t){this.document.selection._setFocus(...t)}createDocumentFragment(t){return new be(this.document,t)}createText(t){return new Ft(this.document,t)}createAttributeElement(t,e,n={}){const o=new Ro(this.document,t,e);return"number"==typeof n.priority&&(o._priority=n.priority),n.id&&(o._id=n.id),n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createContainerElement(t,e,n={},o={}){let l=null;Qe(n)?o=n:l=n;const d=new Xn(this.document,t,e,l);return o.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),d}createEditableElement(t,e,n={}){const o=new As(this.document,t,e);return n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createEmptyElement(t,e,n={}){const o=new Wu(this.document,t,e);return n.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),o}createUIElement(t,e,n){const o=new Qr(this.document,t,e);return n&&(o.render=n),o}createRawElement(t,e,n,o={}){const l=new Yr(this.document,t,e);return n&&(l.render=n),o.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),l}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){Qe(t)&&void 0===n?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof tt?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new M("view-writer-break-non-container-element",this.document);if(!e.parent)throw new M("view-writer-break-root",this.document);if(t.isAtStart)return tt._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(tt._createAfter(e),n);const o=new J(t,tt._createAt(e,"end")),l=new tt(n,0);this.move(o,l)}return tt._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("$text"))return t;if(n.is("attributeElement")&&0===n.childCount){const d=n.parent,h=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new tt(d,h))}const o=n.getChild(e-1),l=n.getChild(e);if(!o||!l)return t;if(o.is("$text")&&l.is("$text"))return Ds(o,l);if(o.is("attributeElement")&&l.is("attributeElement")&&o.isSimilar(l)){const d=o.childCount;return o._appendChild(l.getChildren()),l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new tt(o,d))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new M("view-writer-merge-containers-invalid-position",this.document);const o=e.getChild(e.childCount-1),l=tt._createAt(o instanceof Ft?o:e,"end");return this.move(J._createIn(n),tt._createAt(e,"end")),this.remove(J._createOn(n)),l}insert(t,e){Mb(e=ti(e)?[...e]:[e],this.document);const n=e.reduce((d,h)=>{const m=d[d.length-1],g=!h.is("uiElement");return m&&m.breakAttributes==g?m.nodes.push(h):d.push({breakAttributes:g,nodes:[h]}),d},[]);let o=null,l=t;for(const{nodes:d,breakAttributes:h}of n){const m=this._insertNodes(l,d,h);o||(o=m.start),l=m.end}return o?new J(o,l):new J(t)}remove(t){const e=t instanceof J?t:J._createOn(t);if(No(e,this.document),e.isCollapsed)return new be(this.document);const{start:n,end:o}=this._breakAttributesRange(e,!0),h=n.parent._removeChildren(n.offset,o.offset-n.offset);for(const g of h)this._removeFromClonedElementsGroup(g);const m=this.mergeAttributes(n);return e.start=m,e.end=m.clone(),new be(this.document,h)}clear(t,e){No(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const o of n){const l=o.item;let d;if(l.is("element")&&e.isSimilar(l))d=J._createOn(l);else if(!o.nextPosition.isAfter(t.start)&&l.is("$textProxy")){const h=l.getAncestors().find(m=>m.is("element")&&e.isSimilar(m));h&&(d=J._createIn(h))}d&&(d.end.isAfter(t.end)&&(d.end=t.end),d.start.isBefore(t.start)&&(d.start=t.start),this.remove(d))}}move(t,e){let n;if(e.isAfter(t.end)){const o=(e=this._breakAttributes(e,!0)).parent,l=o.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=o.childCount-l}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof Ro))throw new M("view-writer-wrap-invalid-attribute",this.document);if(No(t,this.document),t.isCollapsed){let o=t.start;o.parent.is("element")&&!Array.from(o.parent.getChildren()).some(d=>!d.is("uiElement"))&&(o=o.getLastMatchingPosition(d=>d.item.is("uiElement"))),o=this._wrapPosition(o,e);const l=this.document.selection;return l.isCollapsed&&l.getFirstPosition().isEqual(t.start)&&this.setSelection(o),new J(o)}return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof Ro))throw new M("view-writer-unwrap-invalid-attribute",this.document);if(No(t,this.document),t.isCollapsed)return t;const{start:n,end:o}=this._breakAttributesRange(t,!0),d=this._unwrapChildren(n.parent,n.offset,o.offset,e),h=this.mergeAttributes(d.start);h.isEqual(d.start)||d.end.offset--;const m=this.mergeAttributes(d.end);return new J(h,m)}rename(t,e){const n=new Xn(this.document,t,e.getAttributes());return this.insert(tt._createAfter(e),n),this.move(J._createIn(e),tt._createAt(n,0)),this.remove(J._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return tt._createAt(t,e)}createPositionAfter(t){return tt._createAfter(t)}createPositionBefore(t){return tt._createBefore(t)}createRange(...t){return new J(...t)}createRangeOn(t){return J._createOn(t)}createRangeIn(t){return J._createIn(t)}createSelection(...t){return new dt(...t)}createSlot(t){if(!this._slotFactory)throw new M("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,t)}_registerSlotFactory(t){this._slotFactory=t}_clearSlotFactory(){this._slotFactory=null}_insertNodes(t,e,n){let o,l;if(o=n?Jr(t):t.parent.is("$text")?t.parent.parent:t.parent,!o)throw new M("view-writer-invalid-position-container",this.document);l=n?this._breakAttributes(t,!0):t.parent.is("$text")?Ts(t):t;const d=o._insertChild(l.offset,e);for(const b of e)this._addToClonedElementsGroup(b);const h=l.getShiftedBy(d),m=this.mergeAttributes(l);m.isEqual(l)||h.offset--;const g=this.mergeAttributes(h);return new J(m,g)}_wrapChildren(t,e,n,o){let l=e;const d=[];for(;l<n;){const m=t.getChild(l),g=m.is("$text"),b=m.is("attributeElement");if(b&&this._wrapAttributeElement(o,m))d.push(new tt(t,l));else if(g||!b||th(o,m)){const k=o._clone();m._remove(),k._appendChild(m),t._insertChild(l,k),this._addToClonedElementsGroup(k),d.push(new tt(t,l))}else this._wrapChildren(m,0,m.childCount,o);l++}let h=0;for(const m of d)m.offset-=h,m.offset!=e&&(this.mergeAttributes(m).isEqual(m)||(h++,n--));return J._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,o){let l=e;const d=[];for(;l<n;){const m=t.getChild(l);if(m.is("attributeElement"))if(m.isSimilar(o)){const g=m.getChildren(),b=m.childCount;m._remove(),t._insertChild(l,g),this._removeFromClonedElementsGroup(m),d.push(new tt(t,l),new tt(t,l+b)),l+=b,n+=b-1}else this._unwrapAttributeElement(o,m)?(d.push(new tt(t,l),new tt(t,l+1)),l++):(this._unwrapChildren(m,0,m.childCount,o),l++);else l++}let h=0;for(const m of d)m.offset-=h,m.offset!=e&&m.offset!=n&&(this.mergeAttributes(m).isEqual(m)||(h++,n--));return J._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:o}=this._breakAttributesRange(t,!0),d=this._wrapChildren(n.parent,n.offset,o.offset,e),h=this.mergeAttributes(d.start);h.isEqual(d.start)||d.end.offset--;const m=this.mergeAttributes(d.end);return new J(h,m)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return Ji(t.clone());t.parent.is("$text")&&(t=Ts(t));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const o=new J(t,t.getShiftedBy(1));this.wrap(o,e);const l=new tt(n.parent,n.index);n._remove();const d=l.nodeBefore,h=l.nodeAfter;return d instanceof Ft&&h instanceof Ft?Ds(d,h):Ji(l)}_wrapAttributeElement(t,e){if(!ih(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!ih(t,e)||t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,o=t.end;if(No(t,this.document),t.isCollapsed){const m=this._breakAttributes(t.start,e);return new J(m,m)}const l=this._breakAttributes(o,e),d=l.parent.childCount,h=this._breakAttributes(n,e);return l.offset+=l.parent.childCount-d,new J(h,l)}_breakAttributes(t,e=!1){const n=t.offset,o=t.parent;if(t.parent.is("emptyElement"))throw new M("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new M("view-writer-cannot-break-ui-element",this.document);if(t.parent.is("rawElement"))throw new M("view-writer-cannot-break-raw-element",this.document);if(!e&&o.is("$text")&&eh(o.parent)||eh(o))return t.clone();if(o.is("$text"))return this._breakAttributes(Ts(t),e);if(n==o.childCount){const l=new tt(o.parent,o.index+1);return this._breakAttributes(l,e)}if(0===n){const l=new tt(o.parent,o.index);return this._breakAttributes(l,e)}{const l=o.index+1,d=o._clone();o.parent._insertChild(l,d),this._addToClonedElementsGroup(d);const m=o._removeChildren(n,o.childCount-n);d._appendChild(m);const g=new tt(o.parent,l);return this._breakAttributes(g,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const o of t.getChildren())this._addToClonedElementsGroup(o);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const o of t.getChildren())this._removeFromClonedElementsGroup(o);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function Jr(s){let t=s.parent;for(;!eh(t);){if(!t)return;t=t.parent}return t}function th(s,t){return s.priority<t.priority||!(s.priority>t.priority)&&s.getIdentity()<t.getIdentity()}function Ji(s){const t=s.nodeBefore;if(t&&t.is("$text"))return new tt(t,t.data.length);const e=s.nodeAfter;return e&&e.is("$text")?new tt(e,0):s}function Ts(s){if(s.offset==s.parent.data.length)return new tt(s.parent.parent,s.parent.index+1);if(0===s.offset)return new tt(s.parent.parent,s.parent.index);const t=s.parent.data.slice(s.offset);return s.parent._data=s.parent.data.slice(0,s.offset),s.parent.parent._insertChild(s.parent.index+1,new Ft(s.root.document,t)),new tt(s.parent.parent,s.parent.index+1)}function Ds(s,t){const e=s.data.length;return s._data+=t.data,t._remove(),new tt(s,e)}const Ss=[Ft,Ro,Xn,Wu,Yr,Qr];function Mb(s,t){for(const e of s){if(!Ss.some(n=>e instanceof n))throw new M("view-writer-insert-invalid-node-type",t);e.is("$text")||Mb(e.getChildren(),t)}}function eh(s){return s&&(s.is("containerElement")||s.is("documentFragment"))}function No(s,t){const e=Jr(s.start),n=Jr(s.end);if(!e||!n||e!==n)throw new M("view-writer-invalid-range-container",t)}function ih(s,t){return null===s.id&&null===t.id}const Lo=s=>s.createTextNode("\xa0"),ql=s=>{const t=s.createElement("span");return t.dataset.ckeFiller="true",t.innerText="\xa0",t},Gr=s=>{const t=s.createElement("br");return t.dataset.ckeFiller="true",t},Bo="\u2060".repeat(7);function oi(s){return de(s)&&s.data.substr(0,7)===Bo}function Oo(s){return 7==s.data.length&&oi(s)}function Ql(s){return oi(s)?s.data.slice(7):s.data}function Wr(s,t){if(t.keyCode==Rt.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(1==e.rangeCount&&e.getRangeAt(0).collapsed){const n=e.getRangeAt(0).startContainer,o=e.getRangeAt(0).startOffset;oi(n)&&o<=7&&e.collapse(n,0)}}}var zo=Y(9315);mt()(zo.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ye extends(zt()){constructor(t,e){super(),this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.set("isFocused",!1),this.set("isSelecting",!1),O_isBlink&&!O_isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new M("view-renderer-unknown-type",this);this.markedChildren.add(e)}}}render(){if(this.isComposing&&!O_isAndroid)return;let t=null;const e=!(O_isBlink&&!O_isAndroid&&this.isSelecting);for(const n of this.markedChildren)this._updateChildrenMappings(n);e?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(t=this.domConverter.domPositionToView(this._inlineFiller),t&&t.parent.is("$text")&&(t=tt._createBefore(t.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:t});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:t});if(e)if(t){const n=this.domConverter.viewPositionToDom(t),o=n.parent.ownerDocument;this._inlineFiller=oi(n.parent)?n.parent:Rb(o,n.parent,n.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){if(!this.domConverter.mapViewToDom(t))return;const e=Array.from(this.domConverter.mapViewToDom(t).childNodes),n=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren:!1})),o=this._diffNodeLists(e,n),l=this._findReplaceActions(o,e,n);if(-1!==l.indexOf("replace")){const d={equal:0,insert:0,delete:0};for(const h of l)if("replace"===h){const m=d.equal+d.insert,g=d.equal+d.delete,b=t.getChild(m);!b||b.is("uiElement")||b.is("rawElement")||this._updateElementMappings(b,e[g]),au(n[m]),d.equal++}else d[h]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("$text")?tt._createBefore(t.parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&de(e.parent)&&oi(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!oi(t))throw new M("view-renderer-filler-was-lost",this);Oo(t)?t.remove():t.data=t.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root)||!e.is("element")||!function(d){if("false"==d.getAttribute("contenteditable"))return!1;const h=d.findAncestor(m=>m.hasAttribute("contenteditable"));return!h||"true"==h.getAttribute("contenteditable")}(e)||n===e.getFillerOffset())return!1;const o=t.nodeBefore,l=t.nodeAfter;return!(o instanceof Ft||l instanceof Ft||O_isAndroid&&(o||l))}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t);let o=this.domConverter.viewToDom(t).data;const l=e.inlineFillerPosition;l&&l.parent==t.parent&&l.offset==t.index&&(o=Bo+o),_i(n,o)}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(l=>l.name),o=t.getAttributeKeys();for(const l of o)this.domConverter.setDomElementAttribute(e,l,t.getAttribute(l),t);for(const l of n)t.hasAttribute(l)||this.domConverter.removeDomElementAttribute(e,l)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;if(O_isAndroid){let k=null;for(const v of Array.from(n.childNodes)){if(k&&de(k)&&de(v)){n.normalize();break}k=v}}const o=e.inlineFillerPosition,l=n.childNodes,d=Array.from(this.domConverter.viewChildrenToDom(t,{bind:!0}));o&&o.parent===t&&Rb(n.ownerDocument,d,o.offset);const h=this._diffNodeLists(l,d),m=O_isAndroid?this._findReplaceActions(h,l,d,{replaceText:!0}):h;let g=0;const b=new Set;for(const k of m)"delete"===k?(b.add(l[g]),au(l[g])):"equal"!==k&&"replace"!==k||g++;g=0;for(const k of m)"insert"===k?(ou(n,g,d[g]),g++):"replace"===k?(_i(l[g],d[g].data),g++):"equal"===k&&(this._markDescendantTextToSync(this.domConverter.domToView(d[g])),g++);for(const k of b)k.parentNode||this.domConverter.unbindDomElement(k)}_diffNodeLists(t,e){return ct(t=function(n,o){const l=Array.from(n);return 0==l.length||!o||l[l.length-1]==o&&l.pop(),l}(t,this._fakeSelectionContainer),e,Yl.bind(null,this.domConverter))}_findReplaceActions(t,e,n,o={}){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let l=[],d=[],h=[];const m={equal:0,insert:0,delete:0};for(const g of t)"insert"===g?h.push(n[m.equal+m.insert]):"delete"===g?d.push(e[m.equal+m.delete]):(l=l.concat(ct(d,h,o.replaceText?nh:Kt).map(b=>"equal"===b?"replace":b)),l.push("equal"),d=[],h=[]),m[g]++;return l.concat(ct(d,h,o.replaceText?nh:Kt).map(g=>"equal"===g?"replace":g))}_markDescendantTextToSync(t){if(t)if(t.is("$text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(O_isBlink&&!O_isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(t)):this.isComposing&&O_isAndroid||this._updateDomSelection(t))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(d){const h=d.createElement("div");return h.className="ck-fake-selection-container",Object.assign(h.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),h.textContent="\xa0",h}(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";const o=e.getSelection(),l=e.createRange();o.removeAllRanges(),l.selectNodeContents(n),o.addRange(l)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);e.collapse(n.parent,n.offset),e.extend(o.parent,o.offset),O_isGecko&&function(l,d){const h=l.parent;if(h.nodeType!=Node.ELEMENT_NODE||l.offset!=h.childNodes.length-1)return;const m=h.childNodes[l.offset];m&&"BR"==m.tagName&&d.addRange(d.getRangeAt(0))}(o,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return!(e&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments){const e=t.getSelection();if(e.rangeCount){const n=t.activeElement,o=this.domConverter.mapDomToView(n);n&&o&&e.removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function Rb(s,t,e){const n=t instanceof Array?t:t.childNodes,o=n[e];if(de(o))return o.data=Bo+o.data,o;{const l=s.createTextNode(Bo);return Array.isArray(t)?n.splice(e,0,l):ou(t,e,l),l}}function Kt(s,t){return Cn(s)&&Cn(t)&&!de(s)&&!de(t)&&!Ao(s)&&!Ao(t)&&s.tagName.toLowerCase()===t.tagName.toLowerCase()}function nh(s,t){return Cn(s)&&Cn(t)&&de(s)&&de(t)}function Yl(s,t,e){return t===e||(de(t)&&de(e)?t.data===e.data:!(!s.isBlockFiller(t)||!s.isBlockFiller(e)))}function _i(s,t){const e=s.data;if(e==t)return;const n=Z(e,t);for(const o of n)"insert"===o.type?s.insertData(o.index,o.values.join("")):s.deleteData(o.index,o.howMany)}const mn=Gr(St.document),nt=Lo(St.document),Je=ql(St.document),Tn="data-ck-unsafe-attribute-",Es="data-ck-unsafe-element";class vi{constructor(t,e={}){this.document=t,this.renderingMode=e.renderingMode||"editing",this.blockFillerMode=e.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?St.document:St.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ki,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new dt(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const n of Array.from(t.children))this.unbindDomElement(n)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}shouldRenderAttribute(t,e,n){return"data"===this.renderingMode||!(t=t.toLowerCase()).startsWith("on")&&("srcdoc"!==t||!e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===n&&("src"===t||"srcset"===t)||"source"===n&&"srcset"===t||!e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(t,e){if("data"===this.renderingMode)return void(t.innerHTML=e);const n=(new DOMParser).parseFromString(e,"text/html"),o=n.createDocumentFragment(),l=n.body.childNodes;for(;l.length>0;)o.appendChild(l[0]);const d=n.createTreeWalker(o,NodeFilter.SHOW_ELEMENT),h=[];let m;for(;m=d.nextNode();)h.push(m);for(const g of h){for(const k of g.getAttributeNames())this.setDomElementAttribute(g,k,g.getAttribute(k));const b=g.tagName.toLowerCase();this._shouldRenameElement(b)&&(Kr(b),g.replaceWith(this._createReplacementDomElement(b,g)))}for(;t.firstChild;)t.firstChild.remove();t.append(o)}viewToDom(t,e={}){if(t.is("$text")){const n=this._processDataFromViewText(t);return this._domDocument.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let n;if(t.is("documentFragment"))n=this._domDocument.createDocumentFragment(),e.bind&&this.bindDocumentFragments(n,t);else{if(t.is("uiElement"))return n="$comment"===t.name?this._domDocument.createComment(t.getCustomProperty("$rawContent")):t.render(this._domDocument,this),e.bind&&this.bindElements(n,t),n;this._shouldRenameElement(t.name)?(Kr(t.name),n=this._createReplacementDomElement(t.name)):n=t.hasAttribute("xmlns")?this._domDocument.createElementNS(t.getAttribute("xmlns"),t.name):this._domDocument.createElement(t.name),t.is("rawElement")&&t.render(n,this),e.bind&&this.bindElements(n,t);for(const o of t.getAttributeKeys())this.setDomElementAttribute(n,o,t.getAttribute(o),t)}if(!1!==e.withChildren)for(const o of this.viewChildrenToDom(t,e))n.appendChild(o);return n}}setDomElementAttribute(t,e,n,o){const l=this.shouldRenderAttribute(e,n,t.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(e);l||bt("domconverter-unsafe-attribute-detected",{domElement:t,key:e,value:n}),t.hasAttribute(e)&&!l?t.removeAttribute(e):t.hasAttribute(Tn+e)&&l&&t.removeAttribute(Tn+e),t.setAttribute(l?e:Tn+e,n)}removeDomElementAttribute(t,e){e!=Es&&(t.removeAttribute(e),t.removeAttribute(Tn+e))}*viewChildrenToDom(t,e={}){const n=t.getFillerOffset&&t.getFillerOffset();let o=0;for(const l of t.getChildren()){n===o&&(yield this._getBlockFiller());const d=l.is("element")&&!!l.getCustomProperty("dataPipeline:transparentRendering")&&!fe(l.getAttributes());d&&"data"==this.renderingMode?yield*this.viewChildrenToDom(l,e):(d&&bt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:l}),yield this.viewToDom(l,e)),o++}n===o&&(yield this._getBlockFiller())}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),o=this._domDocument.createRange();return o.setStart(e.parent,e.offset),o.setEnd(n.parent,n.offset),o}viewPositionToDom(t){const e=t.parent;if(e.is("$text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let o=t.offset;return oi(n)&&(o+=7),{parent:n,offset:o}}{let n,o,l;if(0===t.offset){if(n=this.mapViewToDom(e),!n)return null;l=n.childNodes[0]}else{const d=t.nodeBefore;if(o=d.is("$text")?this.findCorrespondingDomText(d):this.mapViewToDom(d),!o)return null;n=o.parentNode,l=o.nextSibling}return de(l)&&oi(l)?{parent:l,offset:7}:{parent:n,offset:o?_e(o)+1:0}}}domToView(t,e={}){if(this.isBlockFiller(t))return null;const n=this.getHostViewElement(t);if(n)return n;if(Ao(t)&&e.skipComments)return null;if(de(t)){if(Oo(t))return null;{const o=this._processDataFromDomText(t);return""===o?null:new Ft(this.document,o)}}{if(this.mapDomToView(t))return this.mapDomToView(t);let o;if(this.isDocumentFragment(t))o=new be(this.document),e.bind&&this.bindDocumentFragments(t,o);else{o=this._createViewElement(t,e),e.bind&&this.bindElements(t,o);const l=t.attributes;if(l)for(let d=l.length,h=0;h<d;h++)o._setAttribute(l[h].name,l[h].value);if(this._isViewElementWithRawContent(o,e)||Ao(t)){const d=Ao(t)?t.data:t.innerHTML;return o._setCustomProperty("$rawContent",d),this._encounteredRawContentDomNodes.add(t),o}}if(!1!==e.withChildren)for(const l of this.domChildrenToView(t,e))o._appendChild(l);return o}}*domChildrenToView(t,e){for(let n=0;n<t.childNodes.length;n++){const l=this.domToView(t.childNodes[n],e);null!==l&&(yield l)}}domSelectionToView(t){if(1===t.rangeCount){let o=t.getRangeAt(0).startContainer;de(o)&&(o=o.parentNode);const l=this.fakeSelectionToView(o);if(l)return l}const e=this.isDomSelectionBackward(t),n=[];for(let o=0;o<t.rangeCount;o++){const l=t.getRangeAt(o),d=this.domRangeToView(l);d&&n.push(d)}return new dt(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new J(e,n):null}domPositionToView(t,e=0){if(this.isBlockFiller(t))return this.domPositionToView(t.parentNode,_e(t));const n=this.mapDomToView(t);if(n&&(n.is("uiElement")||n.is("rawElement")))return tt._createBefore(n);if(de(t)){if(Oo(t))return this.domPositionToView(t.parentNode,_e(t));const o=this.findCorrespondingViewText(t);let l=e;return o?(oi(t)&&(l-=7,l=l<0?0:l),new tt(o,l)):null}if(0===e){const o=this.mapDomToView(t);if(o)return new tt(o,0)}else{const o=t.childNodes[e-1];if(de(o)&&Oo(o))return this.domPositionToView(o.parentNode,_e(o));const l=de(o)?this.findCorrespondingViewText(o):this.mapDomToView(o);if(l&&l.parent)return new tt(l.parent,l.index+1)}return null}mapDomToView(t){return this.getHostViewElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Oo(t))return null;const e=this.getHostViewElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const o=this.mapDomToView(n);if(o){const l=o.nextSibling;return l instanceof Ft?l:null}}else{const o=this.mapDomToView(t.parentNode);if(o){const l=o.getChild(0);return l instanceof Ft?l:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:n,scrollY:o}=St.window,l=[];Pe(e,d=>{const{scrollLeft:h,scrollTop:m}=d;l.push([h,m])}),e.focus(),Pe(e,d=>{const[h,m]=l.shift();d.scrollLeft=h,d.scrollTop=m}),St.window.scrollTo(n,o)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(t){return"br"==this.blockFillerMode?t.isEqualNode(mn):!("BR"!==t.tagName||!oh(t,this.blockElements)||1!==t.parentNode.childNodes.length)||t.isEqualNode(Je)||function(e,n){return e.isEqualNode(nt)&&oh(e,n)&&1===e.parentNode.childNodes.length}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=this._domDocument.createRange();try{e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset)}catch{return!1}const n=e.collapsed;return e.detach(),n}getHostViewElement(t){const e=tu(t);for(e.pop();e.length;){const n=e.pop(),o=this._domToViewMapping.get(n);if(o&&(o.is("uiElement")||o.is("rawElement")))return o}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}registerRawContentMatcher(t){this._rawContentElementMatcher.add(t)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return Lo(this._domDocument);case"markedNbsp":return ql(this._domDocument);case"br":return Gr(this._domDocument)}}_isDomSelectionPositionCorrect(t,e){if(de(t)&&oi(t)&&e<7||this.isElement(t)&&oi(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")&&!n.is("rawElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(n=>this.preElements.includes(n.name)))return e;if(" "==e.charAt(0)){const n=this._getTouchingInlineViewNode(t,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(e="\xa0"+e.substr(1))}if(" "==e.charAt(e.length-1)){const n=this._getTouchingInlineViewNode(t,!0),o=n&&n.is("$textProxy")&&" "==n.data.charAt(0);" "!=e.charAt(e.length-2)&&n&&!o||(e=e.substr(0,e.length-1)+"\xa0")}return e.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(t){if(t.getAncestors().some(n=>this.preElements.includes(n.name)))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(b=this.preElements,tu(t).some(v=>v.tagName&&b.includes(v.tagName.toLowerCase())))return Ql(t);var b;e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),o=this._getTouchingInlineDomNode(t,!0),l=this._checkShouldLeftTrimDomText(t,n),d=this._checkShouldRightTrimDomText(t,o);l&&(e=e.replace(/^ /,"")),d&&(e=e.replace(/ $/,"")),e=Ql(new Text(e)),e=e.replace(/ \u00A0/g,"  ");const h=o&&this.isElement(o)&&"BR"!=o.tagName,m=o&&de(o)&&" "==o.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(e)||!o||h||m)&&(e=e.replace(/\u00A0$/," ")),(l||n&&this.isElement(n)&&"BR"!=n.tagName)&&(e=e.replace(/^\u00A0/," ")),e}_checkShouldLeftTrimDomText(t,e){return!e||(this.isElement(e)?"BR"===e.tagName:!this._encounteredRawContentDomNodes.has(t.previousSibling)&&/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1)))}_checkShouldRightTrimDomText(t,e){return!e&&!oi(t)}_getTouchingInlineViewNode(t,e){const n=new xn({startPosition:e?tt._createAfter(t):tt._createBefore(t),direction:e?"forward":"backward"});for(const o of n){if(o.item.is("element")&&this.inlineObjectElements.includes(o.item.name))return o.item;if(o.item.is("containerElement")||o.item.is("element","br"))return null;if(o.item.is("$textProxy"))return o.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"firstChild":"lastChild",o=e?"nextSibling":"previousSibling";let l=!0,d=t;do{if(!l&&d[n]?d=d[n]:d[o]?(d=d[o],l=!1):(d=d.parentNode,l=!0),!d||this._isBlockElement(d))return null}while(!de(d)&&"BR"!=d.tagName&&!this._isInlineObjectElement(d));return d}_isBlockElement(t){return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase())}_isInlineObjectElement(t){return this.isElement(t)&&this.inlineObjectElements.includes(t.tagName.toLowerCase())}_createViewElement(t,e){if(Ao(t))return new Qr(this.document,"$comment");const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();return new ni(this.document,n)}_isViewElementWithRawContent(t,e){return!1!==e.withChildren&&!!this._rawContentElementMatcher.match(t)}_shouldRenameElement(t){const e=t.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(e)}_createReplacementDomElement(t,e){const n=this._domDocument.createElement("span");if(n.setAttribute(Es,t),e){for(;e.firstChild;)n.appendChild(e.firstChild);for(const o of e.getAttributeNames())n.setAttribute(o,e.getAttribute(o))}return n}}function Pe(s,t){let e=s;for(;e;)t(e),e=e.parentElement}function oh(s,t){const e=s.parentNode;return!!e&&!!e.tagName&&t.includes(e.tagName.toLowerCase())}function Kr(s){"script"===s&&bt("domconverter-unsafe-script-element-detected"),"style"===s&&bt("domconverter-unsafe-style-element-detected")}class si extends(qn()){constructor(t){super(),this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(t){return t&&3===t.nodeType&&(t=t.parentNode),!(!t||1!==t.nodeType)&&t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Is=Ol(function(s,t){wo(t,wn(t),s)});class pn{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Is(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ri extends si{constructor(t){super(t),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(n,o)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(o.target)&&this.onDomEvent(o)},{useCapture:this.useCapture})})}fire(t,e,n){this.isEnabled&&this.document.fire(t,new pn(this.view,e,n))}}class Ge extends ri{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey,get keystroke(){return Yn(this)}})}}const Xr=function(){return xi.Date.now()};var Nb=/\s/,wi=/^\s+/;var Ms=/^[-+]0x[0-9a-f]+$/i,Fo=/^0b[01]+$/i,Lb=/^0o[0-7]+$/i,rh=parseInt;const ah=function(s){if("number"==typeof s)return s;if(Pl(s))return NaN;if(oe(s)){var t="function"==typeof s.valueOf?s.valueOf():s;s=oe(t)?t+"":t}if("string"!=typeof s)return 0===s?s:+s;s=function(s){return s&&s.slice(0,function(s){for(var t=s.length;t--&&Nb.test(s.charAt(t)););return t}(s)+1).replace(wi,"")}(s);var e=Fo.test(s);return e||Lb.test(s)?rh(s.slice(2),e?2:8):Ms.test(s)?NaN:+s};var We=Math.max,Te=Math.min;const Ps=function(s,t,e){var n,o,l,d,h,m,g=0,b=!1,k=!1,v=!0;if("function"!=typeof s)throw new TypeError("Expected a function");function w(N){var q=n,et=o;return n=o=void 0,g=N,d=s.apply(et,q)}function A(N){var q=N-m;return void 0===m||q>=t||q<0||k&&N-g>=l}function T(){var q,et,N=Xr();if(A(N))return E(N);h=setTimeout(T,(et=t-((q=N)-m),k?Te(et,l-(q-g)):et))}function E(N){return h=void 0,v&&n?w(N):(n=o=void 0,d)}function R(){var et,N=Xr(),q=A(N);if(n=arguments,o=this,m=N,q){if(void 0===h)return g=et=m,h=setTimeout(T,t),b?w(et):d;if(k)return clearTimeout(h),h=setTimeout(T,t),w(m)}return void 0===h&&(h=setTimeout(T,t)),d}return t=ah(t)||0,oe(e)&&(b=!!e.leading,l=(k="maxWait"in e)?We(ah(e.maxWait)||0,t):l,v="trailing"in e?!!e.trailing:v),R.cancel=function(){void 0!==h&&clearTimeout(h),g=0,n=m=o=h=void 0},R.flush=function(){return void 0===h?d:E(Xr())},R};class Jl extends si{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=Ps(e=>{this.document.fire("selectionChangeDone",e)},200)}observe(){const t=this.document;t.on("arrowKey",(e,n)=>{t.selection.isFake&&this.isEnabled&&n.preventDefault()},{context:"$capture"}),t.on("arrowKey",(e,n)=>{t.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new dt(e.getRanges(),{backward:e.isBackward,fake:!1});t!=Rt.arrowleft&&t!=Rt.arrowup||n.setTo(n.getFirstPosition()),t!=Rt.arrowright&&t!=Rt.arrowdown||n.setTo(n.getLastPosition());const o={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}function Rs(s){var t=-1,e=null==s?0:s.length;for(this.__data__=new br;++t<e;)this.add(s[t])}Rs.prototype.add=Rs.prototype.push=function(s){return this.__data__.set(s,"__lodash_hash_undefined__"),this},Rs.prototype.has=function(s){return this.__data__.has(s)};const lh=Rs,ch=function(s,t){for(var e=-1,n=null==s?0:s.length;++e<n;)if(t(s[e],e,s))return!0;return!1},jo=function(s,t){return s.has(t)},dh=function(s,t,e,n,o,l){var d=1&e,h=s.length,m=t.length;if(h!=m&&!(d&&m>h))return!1;var g=l.get(s),b=l.get(t);if(g&&b)return g==t&&b==s;var k=-1,v=!0,w=2&e?new lh:void 0;for(l.set(s,t),l.set(t,s);++k<h;){var A=s[k],T=t[k];if(n)var E=d?n(T,A,k,t,s,l):n(A,T,k,s,t,l);if(void 0!==E){if(E)continue;v=!1;break}if(w){if(!ch(t,function(R,N){if(!jo(w,N)&&(A===R||o(A,R,e,n,l)))return w.push(N)})){v=!1;break}}else if(A!==T&&!o(A,T,e,n,l)){v=!1;break}}return l.delete(s),l.delete(t),v},Ki=function(s){var t=-1,e=Array(s.size);return s.forEach(function(n,o){e[++t]=[o,n]}),e},uh=function(s){var t=-1,e=Array(s.size);return s.forEach(function(n){e[++t]=n}),e};var Hb=Zi?Zi.prototype:void 0,io=Hb?Hb.valueOf:void 0,Kl=Object.prototype.hasOwnProperty,Xl="[object Arguments]",no="[object Array]",ea="[object Object]",bh=Object.prototype.hasOwnProperty;const tc=function s(t,e,n,o,l){return t===e||(null==t||null==e||!pi(t)&&!pi(e)?t!=t&&e!=e:function(s,t,e,n,o,l){var d=Ve(s),h=Ve(t),m=d?no:ps(s),g=h?no:ps(t),b=(m=m==Xl?ea:m)==ea,k=(g=g==Xl?ea:g)==ea,v=m==g;if(v&&hs(s)){if(!hs(t))return!1;d=!0,b=!1}if(v&&!b)return l||(l=new ds),d||sl(s)?dh(s,t,e,n,o,l):function(s,t,e,n,o,l,d){switch(e){case"[object DataView]":if(s.byteLength!=t.byteLength||s.byteOffset!=t.byteOffset)return!1;s=s.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(s.byteLength!=t.byteLength||!l(new Cr(s),new Cr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rs(+s,+t);case"[object Error]":return s.name==t.name&&s.message==t.message;case"[object RegExp]":case"[object String]":return s==t+"";case"[object Map]":var h=Ki;case"[object Set]":if(h||(h=uh),s.size!=t.size&&!(1&n))return!1;var g=d.get(s);if(g)return g==t;n|=2,d.set(s,t);var b=dh(h(s),h(t),n,o,l,d);return d.delete(s),b;case"[object Symbol]":if(io)return io.call(s)==io.call(t)}return!1}(s,t,m,e,n,o,l);if(!(1&e)){var w=b&&bh.call(s,"__wrapped__"),A=k&&bh.call(t,"__wrapped__");if(w||A){var T=w?s.value():s,E=A?t.value():t;return l||(l=new ds),o(T,E,e,n,l)}}return!!v&&(l||(l=new ds),function(s,t,e,n,o,l){var d=1&e,h=hl(s),m=h.length;if(m!=hl(t).length&&!d)return!1;for(var g=m;g--;){var b=h[g];if(!(d?b in t:Kl.call(t,b)))return!1}var k=l.get(s),v=l.get(t);if(k&&v)return k==t&&v==s;var w=!0;l.set(s,t),l.set(t,s);for(var A=d;++g<m;){var T=s[b=h[g]],E=t[b];if(n)var R=d?n(E,T,b,t,s,l):n(T,E,b,s,t,l);if(!(void 0===R?T===E||o(T,E,e,n,l):R)){w=!1;break}A||(A="constructor"==b)}if(w&&!A){var N=s.constructor,q=t.constructor;N==q||!("constructor"in s)||!("constructor"in t)||"function"==typeof N&&N instanceof N&&"function"==typeof q&&q instanceof q||(w=!1)}return l.delete(s),l.delete(t),w}(s,t,e,n,o,l))}(t,e,n,o,s,l))},_h=function(s,t,e){var n=(e="function"==typeof e?e:void 0)?e(s,t):void 0;return void 0===n?tc(s,t,void 0,e):!!n};class vh extends si{constructor(t){super(t),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Set,o=new Set;for(const d of t){const h=e.mapDomToView(d.target);h&&(h.is("uiElement")||h.is("rawElement")||"childList"!==d.type||this._isBogusBrMutation(d)||o.add(h))}for(const d of t){const h=e.mapDomToView(d.target);if((!h||!h.is("uiElement")&&!h.is("rawElement"))&&"characterData"===d.type){const m=e.findCorrespondingViewText(d.target);m&&!o.has(m.parent)?n.add(m):!m&&oi(d.target)&&o.add(e.mapDomToView(d.target.parentNode))}}let l=!1;for(const d of n)l=!0,this.renderer.markToSync("text",d);for(const d of o){const h=e.mapViewToDom(d),m=Array.from(d.getChildren()),g=Array.from(e.domChildrenToView(h,{withChildren:!1}));_h(m,g,wh)||(l=!0,this.renderer.markToSync("children",d))}l&&this.view.forceRender()}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}function wh(s,t){if(!Array.isArray(s))return s===t||!(!s.is("$text")||!t.is("$text"))&&s.data===t.data}class ec extends ri{constructor(t){super(t),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),t.change(()=>{})},50)}),e.on("blur",(n,o)=>{const l=e.selection.editableElement;null!==l&&l!==o.target||(e.isFocused=!1,this._isFocusChanging=!1,t.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Dn extends si{constructor(t){super(t),this.mutationObserver=t.getObserver(vh),this.focusObserver=t.getObserver(ec),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Ps(e=>{this.document.fire("selectionChangeDone",e)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Ps(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,e),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(t,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(t,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(e)||(this.listenTo(e,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"selectionchange",(o,l)=>{this.document.isComposing&&!O_isAndroid||(this._handleSelectionChange(l,e),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(t,e){if(!this.isEnabled)return;const n=e.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const o=this.domConverter.domSelectionToView(n);if(0!=o.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(n)||++this._loopbackCounter>60))if(this.focusObserver.flush(),this.selection.isSimilar(o))this.view.forceRender();else{const l={oldSelection:this.selection,newSelection:o,domSelection:n};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Ch extends ri{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0},{priority:"low"}),e.on("compositionend",()=>{e.isComposing=!1},{priority:"low"})}onDomEvent(t){this.fire(t.type,t,{data:t.data})}}class yh{constructor(t,e={}){this._files=e.cacheFiles?Ah(t):null,this._native=t}get files(){return this._files||(this._files=Ah(this._native)),this._files}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}set effectAllowed(t){this._native.effectAllowed=t}get effectAllowed(){return this._native.effectAllowed}set dropEffect(t){this._native.dropEffect=t}get dropEffect(){return this._native.dropEffect}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}function Ah(s){const t=Array.from(s.files||[]),e=Array.from(s.items||[]);return t.length?t:e.filter(n=>"file"===n.kind).map(n=>n.getAsFile())}class Yb extends ri{constructor(t){super(t),this.domEventType=["beforeinput"]}onDomEvent(t){const e=t.getTargetRanges(),n=this.view,o=n.document;let l=null,d=null,h=[];if(t.dataTransfer&&(l=new yh(t.dataTransfer)),null!==t.data?d=t.data:l&&(d=l.getData("text/plain")),o.selection.isFake)h=Array.from(o.selection.getRanges());else if(e.length)h=e.map(m=>n.domConverter.domRangeToView(m));else if(O_isAndroid){const m=t.target.ownerDocument.defaultView.getSelection();h=Array.from(n.domConverter.domSelectionToView(m).getRanges())}if(O_isAndroid&&"insertCompositionText"==t.inputType&&d&&d.endsWith("\n"))this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:[n.createRange(h[0].end)]});else if("insertText"==t.inputType&&d&&d.includes("\n")){const m=d.split(/\n{1,2}/g);let g=h;for(let b=0;b<m.length;b++){const k=m[b];""!=k&&(this.fire(t.type,t,{data:k,dataTransfer:l,targetRanges:g,inputType:t.inputType,isComposing:t.isComposing}),g=[o.selection.getFirstRange()]),b+1<m.length&&(this.fire(t.type,t,{inputType:"insertParagraph",targetRanges:g}),g=[o.selection.getFirstRange()])}}else this.fire(t.type,t,{data:d,dataTransfer:l,targetRanges:h,inputType:t.inputType,isComposing:t.isComposing})}}class Jb extends si{constructor(t){super(t),this.document.on("keydown",(e,n)=>{if(this.isEnabled&&((o=n.keyCode)==Rt.arrowright||o==Rt.arrowleft||o==Rt.arrowup||o==Rt.arrowdown)){const l=new Po(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(l,n),l.stop.called&&e.stop()}var o})}observe(){}}class ia extends si{constructor(t){super(t);const e=this.document;e.on("keydown",(n,o)=>{if(!this.isEnabled||o.keyCode!=Rt.tab||o.ctrlKey)return;const l=new Po(e,"tab",e.selection.getFirstRange());e.fire(l,o),l.stop.called&&n.stop()})}observe(){}}class na extends(zt()){constructor(t){super(),this.document=new qr(t),this.domConverter=new vi(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Ye(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Ib(this.document),this.addObserver(vh),this.addObserver(ec),this.addObserver(Dn),this.addObserver(Ge),this.addObserver(Jl),this.addObserver(Ch),this.addObserver(Jb),this.addObserver(Yb),this.addObserver(ia),this.document.on("arrowKey",Wr,{priority:"low"}),function Xu(s){s.document.on("arrowKey",(t,e)=>function(n,o,l){if(o.keyCode==Rt.arrowright){const d=o.domTarget.ownerDocument.defaultView.getSelection(),h=1==d.rangeCount&&d.getRangeAt(0).collapsed;if(h||o.shiftKey){const b=l.domPositionToView(d.focusNode,d.focusOffset);if(null===b)return;let k=!1;const v=b.getLastMatchingPosition(w=>(w.item.is("uiElement")&&(k=!0),!(!w.item.is("uiElement")&&!w.item.is("attributeElement"))));if(k){const w=l.viewPositionToDom(v);h?d.collapse(w.parent,w.offset):d.extend(w.parent,w.offset)}}}}(0,e,s.domConverter),{priority:"low"})}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const o={};for(const{name:d,value:h}of Array.from(t.attributes))o[d]=h,"class"===d?this._writer.addClass(h.split(" "),n):this._writer.setAttribute(d,h,n);this._initialDomRootAttributes.set(t,o);const l=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};l(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(d,h)=>this._renderer.markToSync("children",h)),n.on("change:attributes",(d,h)=>this._renderer.markToSync("attributes",h)),n.on("change:text",(d,h)=>this._renderer.markToSync("text",h)),n.on("change:isReadOnly",()=>this.change(l)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const d of this._observers.values())d.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach(({name:o})=>e.removeAttribute(o));const n=this._initialDomRootAttributes.get(e);for(const o in n)e.setAttribute(o,n[o]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[n,o]of this.domRoots)e.observe(o,n);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&function({target:e,viewportOffset:n=0}){const o=yl(e);let l=o,d=null;for(;l;){let h;h=Qf(l==o?e:d),qf(h,()=>du(e,l));const m=du(e,l);if(Hf(l,m,n),l.parent!=l){if(d=l.frameElement,l=l.parent,!d)return}else l=null}}({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new M("cannot-change-view-tree",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(e){M.rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(ec).flush(),this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return tt._createAt(t,e)}createPositionAfter(t){return tt._createAfter(t)}createPositionBefore(t){return tt._createBefore(t)}createRange(...t){return new J(...t)}createRangeOn(t){return J._createOn(t)}createRangeIn(t){return J._createIn(t)}createSelection(...t){return new dt(...t)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Pi{is(){throw new Error("is() method is abstract")}}class Xi extends Pi{constructor(t){super(),this.parent=null,this._attrs=Qi(t)}get document(){return null}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new M("model-node-not-found-in-parent",this);return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new M("model-node-not-found-in-parent",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),o=t.getAncestors(e);let l=0;for(;n[l]==o[l]&&n[l];)l++;return 0===l?null:n[l-1]}isBefore(t){if(this==t||this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),o=je(e,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return e[o]<n[o]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((e,n)=>(e[n[0]]=n[1],e),{})),t}_clone(t){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Qi(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}Xi.prototype.is=function(s){return"node"===s||"model:node"===s};class Ls{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((n,o)=>n+o.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new M("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new M("model-nodelist-offset-out-of-bounds",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const n of e)if(!(n instanceof Xi))throw new M("model-nodelist-insertnodes-not-node",this);this._nodes=function(n,o,l,d){if(Math.max(o.length,n.length)>1e4)return n.slice(0,l).concat(o).concat(n.slice(l+0,n.length));{const h=Array.from(n);return h.splice(l,0,...o),h}}(this._nodes,Array.from(e),t)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class Ut extends Xi{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Ut(this.data,this.getAttributes())}static fromJSON(t){return new Ut(t.data,t.attributes)}}Ut.prototype.is=function(s){return"$text"===s||"model:$text"===s||"text"===s||"model:text"===s||"node"===s||"model:node"===s};class Ri extends Pi{constructor(t,e,n){if(super(),this.textNode=t,e<0||e>t.offsetSize)throw new M("model-textproxy-wrong-offsetintext",this);if(n<0||e+n>t.offsetSize)throw new M("model-textproxy-wrong-length",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Ri.prototype.is=function(s){return"$textProxy"===s||"model:$textProxy"===s||"textProxy"===s||"model:textProxy"===s};class Zt extends Xi{constructor(t,e,n){super(e),this._children=new Ls,this.name=t,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}findAncestor(t,e={}){let n=e.includeSelf?this:this.parent;for(;n;){if(n.name===t)return n;n=n.parent}return null}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(n=>n._clone(!0)):void 0;return new Zt(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n="string"==typeof(o=e)?[new Ut(o)]:(ti(o)||(o=[o]),Array.from(o).map(l=>"string"==typeof l?new Ut(l):l instanceof Ri?new Ut(l.data,l.getAttributes()):l));var o;for(const o of n)null!==o.parent&&o._remove(),o.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const o of n)o.parent=null;return n}static fromJSON(t){let e;if(t.children){e=[];for(const n of t.children)e.push(n.name?Zt.fromJSON(n):Ut.fromJSON(n))}return new Zt(t.name,t.attributes,e)}}Zt.prototype.is=function(s,t){return t?t===this.name&&("element"===s||"model:element"===s):"element"===s||"model:element"===s||"node"===s||"model:node"===s};class tn{constructor(t){if(!t||!t.boundaries&&!t.startPosition)throw new M("model-tree-walker-no-start-position",null);const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new M("model-tree-walker-unknown-direction",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,this.position=t.startPosition?t.startPosition.clone():Q._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,o,l;do{o=this.position,l=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=o,this._visitedParent=l)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const o=Bs(e,n),l=o||xh(e,n,o);if(l instanceof Zt)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=l),this.position=e,oo("elementStart",l,t,e,1);if(l instanceof Ut){let d;if(this.singleCharacters)d=1;else{let g=l.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<g&&(g=this.boundaries.end.offset),d=g-e.offset}const m=new Ri(l,e.offset-l.startOffset,d);return e.offset+=d,this.position=e,oo("text",m,t,e,d)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():oo("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const o=e.parent,l=Bs(e,o),d=l||oa(e,o,l);if(d instanceof Zt)return e.offset--,this.shallow?(this.position=e,oo("elementStart",d,t,e,1)):(e.path.push(d.maxOffset),this.position=e,this._visitedParent=d,this.ignoreElementEnd?this._previous():oo("elementEnd",d,t,e));if(d instanceof Ut){let h;if(this.singleCharacters)h=1;else{let b=d.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>b&&(b=this.boundaries.start.offset),h=e.offset-b}const g=new Ri(d,e.offset-d.startOffset-h,h);return e.offset-=h,this.position=e,oo("text",g,t,e,h)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,oo("elementStart",n,t,e,1)}}function oo(s,t,e,n,o){return{done:!1,value:{type:s,item:t,previousPosition:e,nextPosition:n,length:o}}}class Q extends Pi{constructor(t,e,n="toNone"){if(super(),!t.is("element")&&!t.is("documentFragment"))throw new M("model-position-root-invalid",t);if(!(e instanceof Array)||0===e.length)throw new M("model-position-path-incorrect-format",t,{path:e});t.is("rootElement")?e=e.slice():(e=[...t.getPath(),...e],t=t.root),this.root=t,this.path=e,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(t=t.getChild(t.offsetToIndex(this.path[e])),!t)throw new M("model-position-path-incorrect",this,{position:this});if(t.is("$text"))throw new M("model-position-path-incorrect",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Bs(this,this.parent)}get nodeAfter(){const t=this.parent;return xh(this,t,Bs(this,t))}get nodeBefore(){const t=this.parent;return oa(this,t,Bs(this,t))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=je(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new tn(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const t=this.parent;return t.is("documentFragment")?[t]:t.getAncestors({includeSelf:!0})}findAncestor(t){const e=this.parent;return e.is("element")?e.findAncestor(t,{includeSelf:!0}):null}getCommonPath(t){if(this.root!=t.root)return[];const e=je(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let o=0;for(;e[o]==n[o]&&e[o];)o++;return 0===o?null:e[o-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){if(this.root!==t.root)return!1;const e=Math.min(this.path.length,t.path.length);for(let n=0;n<e;n++){const o=this.path[n]-t.path[n];if(o<-1||o>1)return!1;if(1===o)return Th(t,this,n);if(-1===o)return Th(this,t,n)}return this.path.length===t.path.length||ic(this.path.length>t.path.length?this.path:t.path,e)}hasSameParentAs(t){return this.root===t.root&&"same"==je(this.getParentPath(),t.getParentPath())}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=Q._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?Q._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=Q._createAt(this);if(this.root!=t.root)return n;if("same"==je(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==je(t.getParentPath(),this.getParentPath())){const o=t.path.length-1;if(t.offset<=this.path[o]){if(t.offset+e>this.path[o])return null;n.path[o]-=e}}return n}_getTransformedByInsertion(t,e){const n=Q._createAt(this);if(this.root!=t.root)return n;if("same"==je(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==je(t.getParentPath(),this.getParentPath())){const o=t.path.length-1;t.offset<=this.path[o]&&(n.path[o]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return Q._createAt(this);const o=this._getTransformedByDeletion(t,n);return null===o||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):o._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,o=Q._createAt(e);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[n]-t.offset,o.path=[...o.path,...this.path.slice(n+1)],o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof Q)return new Q(t.root,t.path,t.stickiness);{const o=t;if("end"==e)e=o.maxOffset;else{if("before"==e)return this._createBefore(o,n);if("after"==e)return this._createAfter(o,n);if(0!==e&&!e)throw new M("model-createpositionat-offset-required",[this,t])}if(!o.is("element")&&!o.is("documentFragment"))throw new M("model-position-parent-incorrect",[this,t]);const l=o.getPath();return l.push(e),new this(o.root,l,n)}}static _createAfter(t,e){if(!t.parent)throw new M("model-position-after-root",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new M("model-position-before-root",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new Q(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new M("model-position-fromjson-no-root",e,{rootName:t.root});return new Q(e.getRoot(t.root),t.path,t.stickiness)}}function Bs(s,t){const e=t.getChild(t.offsetToIndex(s.offset));return e&&e.is("$text")&&e.startOffset<s.offset?e:null}function xh(s,t,e){return null!==e?null:t.getChild(t.offsetToIndex(s.offset))}function oa(s,t,e){return null!==e?null:t.getChild(t.offsetToIndex(s.offset)-1)}function Th(s,t,e){return e+1!==s.path.length&&!!ic(t.path,e+1)&&!!function(n,o){let l=n.parent,d=n.path.length-1,h=0;for(;d>=o;){if(n.path[d]+h!==l.maxOffset)return!1;h=1,d--,l=l.parent}return!0}(s,e+1)}function ic(s,t){for(;t<s.length;){if(0!==s[t])return!1;t++}return!0}Q.prototype.is=function(s){return"position"===s||"model:position"===s};class V extends Pi{constructor(t,e){super(),this.start=Q._createAt(t),this.end=Q._createAt(e||t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new tn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==je(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&o}containsItem(t){const e=Q._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new V(this.start,t.start)),this.containsPosition(t.end)&&e.push(new V(t.end,this.end))):e.push(new V(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new V(e,n)}return null}getJoined(t,e=!1){let n=this.isIntersecting(t);if(n||(n=this.start.isBefore(t.start)?e?this.end.isTouching(t.start):this.end.isEqual(t.start):e?t.end.isTouching(this.start):t.end.isEqual(this.start)),!n)return null;let o=this.start,l=this.end;return t.start.isBefore(o)&&(o=t.start),t.end.isAfter(l)&&(l=t.end),new V(o,l)}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=Q._createAt(this.start);let o=n.parent;for(;n.path.length>e+1;){const l=o.maxOffset-n.offset;0!==l&&t.push(new V(n,n.getShiftedBy(l))),n.path=n.path.slice(0,-1),n.offset++,o=o.parent}for(;n.path.length<=this.end.path.length;){const l=this.end.path[n.path.length-1],d=l-n.offset;0!==d&&t.push(new V(n,n.getShiftedBy(d))),n.offset=l,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new tn(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new tn(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new tn(t);yield e.position;for(const n of e)yield n.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new V(this.start,this.end)]}getTransformedByOperations(t){const e=[new V(this.start,this.end)];for(const n of t)for(let o=0;o<e.length;o++){const l=e[o].getTransformedByOperation(n);e.splice(o,1,...l),o+=l.length-1}for(let n=0;n<e.length;n++){const o=e[n];for(let l=n+1;l<e.length;l++){const d=e[l];(o.containsRange(d)||d.containsRange(o)||o.isEqual(d))&&e.splice(l,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new V(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new V(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=Q._createAt(n),e.offset=0):(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new V(e,n)):new V(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new V(this.start,t),new V(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const o=new V(this.start,this.end);return o.start=o.start._getTransformedByInsertion(t,e),o.end=o.end._getTransformedByInsertion(t,e),[o]}}_getTransformedByMove(t,e,n,o=!1){if(this.isCollapsed){const k=this.start._getTransformedByMove(t,e,n);return[new V(k)]}const l=V._createFromPositionAndShift(t,n),d=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!o&&(l.containsPosition(this.start)||l.containsPosition(this.end))){const k=this.start._getTransformedByMove(t,e,n),v=this.end._getTransformedByMove(t,e,n);return[new V(k,v)]}let h;const m=this.getDifference(l);let g=null;const b=this.getIntersection(l);if(1==m.length?g=new V(m[0].start._getTransformedByDeletion(t,n),m[0].end._getTransformedByDeletion(t,n)):2==m.length&&(g=new V(this.start,this.end._getTransformedByDeletion(t,n))),h=g?g._getTransformedByInsertion(d,n,null!==b||o):[],b){const k=new V(b.start._getCombined(l.start,d),b.end._getCombined(l.start,d));2==h.length?h.splice(1,0,k):h.push(k)}return h}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),o=this.end._getTransformedByDeletion(t,e);return null==n&&null==o?null:(null==n&&(n=t),null==o&&(o=t),new V(n,o))}static _createFromPositionAndShift(t,e){const n=t,o=t.getShiftedBy(e);return e>0?new this(n,o):new this(o,n)}static _createIn(t){return new this(Q._createAt(t,0),Q._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(Q._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new M("range-create-from-ranges-empty-array",null);if(1==t.length)return t[0].clone();const e=t[0];t.sort((l,d)=>l.start.isAfter(d.start)?1:-1);const n=t.indexOf(e),o=new this(e.start,e.end);if(n>0)for(let l=n-1;t[l].end.isEqual(o.start);l++)o.start=Q._createAt(t[l].start);for(let l=n+1;l<t.length&&t[l].start.isEqual(o.end);l++)o.end=Q._createAt(t[l].end);return o}static fromJSON(t,e){return new this(Q.fromJSON(t.start,e),Q.fromJSON(t.end,e))}}V.prototype.is=function(s){return"range"===s||"model:range"===s};class Dh extends(ot()){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);if(!n)throw new M("mapping-model-position-view-parent-not-found",this,{modelPosition:e.modelPosition});e.viewPosition=this.findPositionIn(n,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),o=this._viewToModelMapping.get(n),l=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=Q._createAt(o,l)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t,e={}){const n=this.toModelElement(t);if(this._elementToMarkerNames.has(t))for(const o of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(o);e.defer?this._deferredBindingRemovals.set(t,t.root):(this._viewToModelMapping.delete(t),this._modelToViewMapping.get(n)==t&&this._modelToViewMapping.delete(n))}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const o=this._elementToMarkerNames.get(t)||new Set;o.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,o)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));const o=this._elementToMarkerNames.get(t);o&&(o.delete(e),0==o.size&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}flushDeferredBindings(){for(const[t,e]of this._deferredBindingRemovals)t.root==e&&this.unbindViewElement(t);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new V(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new J(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const o of e)if(o.is("attributeElement"))for(const l of o.getElementsWithSameId())n.add(l);else n.add(o);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("$text"))return e;let o=0;for(let l=0;l<e;l++)o+=this.getModelLength(t.getChild(l));return o}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("$text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}findPositionIn(t,e){let n,o=0,l=0,d=0;if(t.is("$text"))return new tt(t,e);for(;l<e;)n=t.getChild(d),o=this.getModelLength(n),l+=o,d++;return l==e?this._moveViewPositionToTextNode(new tt(t,d)):this.findPositionIn(n,e-(l-o))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof Ft?new tt(e,e.data.length):n instanceof Ft?new tt(n,0):t}}class Gb{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=sa(e),t instanceof Ri&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=sa(e),t instanceof Ri&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=sa(e),t instanceof Ri&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const o=n.get(e);return void 0===o?null:o}revert(t,e){e=sa(e),t instanceof Ri&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}verifyAllConsumed(t){const e=[];for(const[n,o]of this._consumable)for(const[l,d]of o){const h=l.split(":")[0];d&&t==h&&e.push({event:l,item:n.name||n.description})}if(e.length)throw new M("conversion-model-consumable-not-consumed",null,{items:e})}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const o=n.get(t.endOffset);o&&(e=o.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t)),e}_addSymbolForTextProxy(t){const e=t.startOffset,n=t.endOffset,o=t.parent,l=Symbol("$textProxy:"+t.data);let d,h;return d=this._textProxyRegistry.get(e),d||(d=new Map,this._textProxyRegistry.set(e,d)),h=d.get(n),h||(h=new Map,d.set(n,h)),h.set(o,l),l}}function sa(s){const t=s.split(":");return"insert"==t[0]?t[0]:"addMarker"==t[0]||"removeMarker"==t[0]?s:t.length>1?t[0]+":"+t[1]:t[0]}class Sh extends(ot()){constructor(t){super(),this._conversionApi={dispatcher:this,...t},this._firedEventsMap=new WeakMap}convertChanges(t,e,n){const o=this._createConversionApi(n,t.getRefreshedItems());for(const d of t.getMarkersToRemove())this._convertMarkerRemove(d.name,d.range,o);const l=this._reduceChanges(t.getChanges());for(const d of l)"insert"===d.type?this._convertInsert(V._createFromPositionAndShift(d.position,d.length),o):"reinsert"===d.type?this._convertReinsert(V._createFromPositionAndShift(d.position,d.length),o):"remove"===d.type?this._convertRemove(d.position,d.length,d.name,o):this._convertAttribute(d.range,d.attributeKey,d.attributeOldValue,d.attributeNewValue,o);for(const d of o.mapper.flushUnboundMarkerNames()){const h=e.get(d).getRange();this._convertMarkerRemove(d,h,o),this._convertMarkerAdd(d,h,o)}for(const d of t.getMarkersToAdd())this._convertMarkerAdd(d.name,d.range,o);o.mapper.flushDeferredBindings(),o.consumable.verifyAllConsumed("insert")}convert(t,e,n,o={}){const l=this._createConversionApi(n,void 0,o);this._convertInsert(t,l);for(const[d,h]of e)this._convertMarkerAdd(d,h,l);l.consumable.verifyAllConsumed("insert")}convertSelection(t,e,n){const o=Array.from(e.getMarkersAtPosition(t.getFirstPosition())),l=this._createConversionApi(n);if(this._addConsumablesForSelection(l.consumable,t,o),this.fire("selection",{selection:t},l),t.isCollapsed){for(const d of o){const h=d.getRange();if(!Wb(t.getFirstPosition(),d,l.mapper))continue;const m={item:t,markerName:d.name,markerRange:h};l.consumable.test(t,"addMarker:"+d.name)&&this.fire(`addMarker:${d.name}`,m,l)}for(const d of t.getAttributeKeys()){const h={item:t,range:t.getFirstRange(),attributeKey:d,attributeOldValue:null,attributeNewValue:t.getAttribute(d)};l.consumable.test(t,"attribute:"+h.attributeKey)&&this.fire(`attribute:${h.attributeKey}:$text`,h,l)}}}_convertInsert(t,e,n={}){n.doNotAddConsumables||this._addConsumablesForInsert(e.consumable,Array.from(t));for(const o of Array.from(t.getWalker({shallow:!0})).map(so))this._testAndFire("insert",o,e)}_convertRemove(t,e,n,o){this.fire(`remove:${n}`,{position:t,length:e},o)}_convertAttribute(t,e,n,o,l){this._addConsumablesForRange(l.consumable,t,`attribute:${e}`);for(const d of t){const h={item:d.item,range:V._createFromPositionAndShift(d.previousPosition,d.length),attributeKey:e,attributeOldValue:n,attributeNewValue:o};this._testAndFire(`attribute:${e}`,h,l)}}_convertReinsert(t,e){const n=Array.from(t.getWalker({shallow:!0}));this._addConsumablesForInsert(e.consumable,n);for(const o of n.map(so))this._testAndFire("insert",{...o,reconversion:!0},e)}_convertMarkerAdd(t,e,n){if("$graveyard"==e.root.rootName)return;const o=`addMarker:${t}`;if(n.consumable.add(e,o),this.fire(o,{markerName:t,markerRange:e},n),n.consumable.consume(e,o)){this._addConsumablesForRange(n.consumable,e,o);for(const l of e.getItems()){if(!n.consumable.test(l,o))continue;const d={item:l,range:V._createOn(l),markerName:t,markerRange:e};this.fire(o,d,n)}}}_convertMarkerRemove(t,e,n){"$graveyard"!=e.root.rootName&&this.fire(`removeMarker:${t}`,{markerName:t,markerRange:e},n)}_reduceChanges(t){const e={changes:t};return this.fire("reduceChanges",e),e.changes}_addConsumablesForInsert(t,e){for(const n of e){const o=n.item;if(null===t.test(o,"insert")){t.add(o,"insert");for(const l of o.getAttributeKeys())t.add(o,"attribute:"+l)}}return t}_addConsumablesForRange(t,e,n){for(const o of e.getItems())t.add(o,n);return t}_addConsumablesForSelection(t,e,n){t.add(e,"selection");for(const o of n)t.add(e,"addMarker:"+o.name);for(const o of e.getAttributeKeys())t.add(e,"attribute:"+o);return t}_testAndFire(t,e,n){const o=`${t}:${(g=e).item.is("element")?g.item.name:"$text"}`,l=e.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(e.item):e.item,d=this._firedEventsMap.get(n),h=d.get(l);var g;if(h){if(h.has(o))return;h.add(o)}else d.set(l,new Set([o]));this.fire(o,e,n)}_testAndFireAddAttributes(t,e){const n={item:t,range:V._createOn(t)};for(const o of n.item.getAttributeKeys())n.attributeKey=o,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(o),this._testAndFire(`attribute:${o}`,n,e)}_createConversionApi(t,e=new Set,n={}){const o={...this._conversionApi,consumable:new Gb,writer:t,options:n,convertItem:l=>this._convertInsert(V._createOn(l),o),convertChildren:l=>this._convertInsert(V._createIn(l),o,{doNotAddConsumables:!0}),convertAttributes:l=>this._testAndFireAddAttributes(l,o),canReuseView:l=>!e.has(o.mapper.toModelElement(l))};return this._firedEventsMap.set(o,new Map),o}}function Wb(s,t,e){const n=t.getRange(),o=Array.from(s.getAncestors());return o.shift(),o.reverse(),!o.some(l=>{if(n.containsItem(l))return!!e.toViewElement(l).getCustomProperty("addHighlight")})}function so(s){return{item:s.item,range:V._createFromPositionAndShift(s.previousPosition,s.length)}}class ai extends(ot(Pi)){constructor(...t){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],t.length&&this.setTo(...t)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const o of t._ranges)if(e.isEqual(o)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new V(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new V(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new V(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(...t){let[e,n,o]=t;if("object"==typeof n&&(o=n,n=void 0),null===e)this._setRanges([]);else if(e instanceof ai)this._setRanges(e.getRanges(),e.isBackward);else if(e&&"function"==typeof e.getRanges)this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof V)this._setRanges([e],!!o&&!!o.backward);else if(e instanceof Q)this._setRanges([new V(e)]);else if(e instanceof Xi){const l=!!o&&!!o.backward;let d;if("in"==n)d=V._createIn(e);else if("on"==n)d=V._createOn(e);else{if(void 0===n)throw new M("model-selection-setto-required-second-parameter",[this,e]);d=new V(Q._createAt(e,n))}this._setRanges([d],l)}else{if(!ti(e))throw new M("model-selection-setto-not-selectable",[this,e]);this._setRanges(e,o&&!!o.backward)}}_setRanges(t,e=!1){const n=Array.from(t),o=n.some(l=>{if(!(l instanceof V))throw new M("model-selection-set-ranges-not-range",[this,t]);return this._ranges.every(d=>!d.isEqual(l))});(n.length!==this._ranges.length||o)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0}))}setFocus(t,e){if(null===this.anchor)throw new M("model-selection-setfocus-no-ranges",[this,t]);const n=Q._createAt(t,e);if("same"==n.compareWith(this.focus))return;const o=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(o)?(this._pushRange(new V(n,o)),this._lastRangeBackward=!0):(this._pushRange(new V(o,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=Ih(e.start,t);n&&Os(n,e)&&(yield n);for(const l of e.getWalker()){const d=l.item;"elementEnd"==l.type&&Kb(d,t,e)&&(yield d)}const o=Ih(e.end,t);o&&!e.end.isTouching(Q._createAt(o,0))&&Os(o,e)&&(yield o)}}containsEntireContent(t=this.anchor.root){const e=Q._createAt(t,0),n=Q._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new V(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new M("model-selection-range-intersects",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_replaceAllRanges(t){this._removeAllRanges();for(const e of t)this._pushRange(e)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Eh(s,t){return!t.has(s)&&(t.add(s),s.root.document.model.schema.isBlock(s)&&!!s.parent)}function Kb(s,t,e){return Eh(s,t)&&Os(s,e)}function Ih(s,t){const e=s.parent.root.document.model.schema,n=s.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const l=n.find(d=>!o&&(o=e.isLimit(d),!o&&Eh(d,t)));return n.forEach(d=>t.add(d)),l}function Os(s,t){const e=function(n){const o=n.root.document.model.schema;let l=n.parent;for(;l;){if(o.isBlock(l))return l;l=l.parent}}(s);return!e||!t.containsRange(V._createOn(e),!0)}ai.prototype.is=function(s){return"selection"===s||"model:selection"===s};class li extends(ot(V)){constructor(t,e){super(t,e),$e.call(this)}detach(){this.stopListening()}toRange(){return new V(this.start,this.end)}static fromRange(t){return new li(t.start,t.end)}}function $e(){this.listenTo(this.root.document.model,"applyOperation",(s,t)=>{const e=t[0];e.isDocumentOperation&&ra.call(this,e)},{priority:"low"})}function ra(s){const t=this.getTransformedByOperation(s),e=V._createFromRanges(t),n=!e.isEqual(this),o=function(d,h){switch(h.type){case"insert":return d.containsPosition(h.position);case"move":case"remove":case"reinsert":case"merge":return d.containsPosition(h.sourcePosition)||d.start.isEqual(h.sourcePosition)||d.containsPosition(h.targetPosition);case"split":return d.containsPosition(h.splitPosition)||d.containsPosition(h.insertionPosition)}return!1}(this,s);let l=null;if(n){"$graveyard"==e.root.rootName&&(l="remove"==s.type?s.sourcePosition:s.deletionPosition);const d=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",d,{deletionPosition:l})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:l})}li.prototype.is=function(s){return"liveRange"===s||"model:liveRange"===s||"range"==s||"model:range"===s};const en="selection:";class Ci extends(ot(Pi)){constructor(t){super(),this._selection=new nc(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(t){this._selection.observeMarkers(t)}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(...t){this._selection.setTo(...t)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return en+t}static _isStoreAttributeKey(t){return t.startsWith(en)}}Ci.prototype.is=function(s){return"selection"===s||"model:selection"==s||"documentSelection"==s||"model:documentSelection"==s};class nc extends ai{constructor(t){super(),this.markers=new Di({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=t.model,this._document=t,this.listenTo(this._model,"applyOperation",(e,n)=>{const o=n[0];o.isDocumentOperation&&"marker"!=o.type&&"rename"!=o.type&&"noop"!=o.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(e,n,o,l)=>{this._updateMarker(n,l)}),this.listenTo(this._document,"change",(e,n)=>{!function(o,l){const d=o.document.differ;for(const h of d.getChanges()){if("insert"!=h.type)continue;const m=h.position.parent;h.length===m.maxOffset&&o.enqueueChange(l,g=>{const b=Array.from(m.getAttributeKeys()).filter(k=>k.startsWith(en));for(const k of b)g.removeAttribute(k,m)})}}(this._model,n)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...t){super.setTo(...t),this._updateAttributes(!0),this.updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this.updateMarkers()}setAttribute(t,e){this._setAttribute(t,e)&&this.fire("change:attribute",{attributeKeys:[t],directChange:!0})}removeAttribute(t){this._removeAttribute(t)&&this.fire("change:attribute",{attributeKeys:[t],directChange:!0})}overrideGravity(){const t=Ie();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new M("document-selection-gravity-wrong-restore",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(t){this._observedMarkers.add(t),this.updateMarkers()}_replaceAllRanges(t){this._validateSelectionRanges(t),super._replaceAllRanges(t)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_validateSelectionRanges(t){for(const e of t)if(!this._document._validateSelectionRange(e))throw new M("document-selection-wrong-position",this,{range:e})}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=li.fromRange(t);return e.on("change:range",(n,o,l)=>{if(this._hasChangedRange=!0,e.root==this._document.graveyard){this._selectionRestorePosition=l.deletionPosition;const d=this._ranges.indexOf(e);this._ranges.splice(d,1),e.detach()}}),e}updateMarkers(){if(!this._observedMarkers.size)return;const t=[];let e=!1;for(const o of this._model.markers){const l=o.name.split(":",1)[0];if(!this._observedMarkers.has(l))continue;const d=o.getRange();for(const h of this.getRanges())d.containsRange(h,!h.isCollapsed)&&t.push(o)}const n=Array.from(this.markers);for(const o of t)this.markers.has(o)||(this.markers.add(o),e=!0);for(const o of Array.from(this.markers))t.includes(o)||(this.markers.remove(o),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(t,e){const n=t.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let o=!1;const l=Array.from(this.markers),d=this.markers.has(t);if(e){let h=!1;for(const m of this.getRanges())if(e.containsRange(m,!m.isCollapsed)){h=!0;break}h&&!d?(this.markers.add(t),o=!0):!h&&d&&(this.markers.remove(t),o=!0)}else d&&(this.markers.remove(t),o=!0);o&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}_updateAttributes(t){const e=Qi(this._getSurroundingAttributes()),n=Qi(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[l,d]of this._attributePriority)"low"==d&&(this._attrs.delete(l),this._attributePriority.delete(l));this._setAttributesTo(e);const o=[];for(const[l,d]of this.getAttributes())n.has(l)&&n.get(l)===d||o.push(l);for(const[l]of n)this.hasAttribute(l)||o.push(l);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(t,e,n=!0){const o=n?"normal":"low";return("low"!=o||"normal"!=this._attributePriority.get(t))&&super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,o),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return!("low"==n&&"normal"==this._attributePriority.get(t)||(this._attributePriority.set(t,n),!super.hasAttribute(t)||(this._attrs.delete(t),0)))}_setAttributesTo(t){const e=new Set;for(const[n,o]of this.getAttributes())t.get(n)!==o&&this._removeAttribute(n,!1);for(const[n,o]of t)this._setAttribute(n,o,!1)&&e.add(n);return e}*getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())e.startsWith(en)&&(yield[e.substr(en.length),t.getAttribute(e)])}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const o=t.textNode?t.textNode:t.nodeBefore,l=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=aa(o)),n||(n=aa(l)),!this.isGravityOverridden&&!n){let d=o;for(;d&&!e.isInline(d)&&!n;)d=d.previousSibling,n=aa(d)}if(!n){let d=l;for(;d&&!e.isInline(d)&&!n;)d=d.nextSibling,n=aa(d)}n||(n=this.getStoredAttributes())}else{const o=this.getFirstRange();for(const l of o){if(l.item.is("element")&&e.isObject(l.item))break;if("text"==l.type){n=l.item.getAttributes();break}}}return n}_fixGraveyardSelection(t){const e=this._model.schema.getNearestSelectionRange(t);e&&this._pushRange(e)}}function aa(s){return s instanceof Ri||s instanceof Ut?s.getAttributes():null}class Mh{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}const ro=function(s){return yr(s,5)};class Ph extends Mh{elementToElement(t){return this.add(function(e){const n=sc(e.model),o=zs(e.view,"container");return n.attributes.length&&(n.children=!0),l=>{l.on(`insert:${n.name}`,function(d,h=ik){return(m,g,b)=>{if(!h(g.item,b.consumable,{preflight:!0}))return;const k=d(g.item,b,g);if(!k)return;h(g.item,b.consumable);const v=b.mapper.toViewPosition(g.range.start);b.mapper.bindElements(g.item,k),b.writer.insert(v,k),b.convertAttributes(g.item),ac(k,g.item.getChildren(),b,{reconversion:g.reconversion})}}(o,rc(n)),{priority:e.converterPriority||"normal"}),(n.children||n.attributes.length)&&l.on("reduceChanges",Bh(n),{priority:"low"})}}(t))}elementToStructure(t){return this.add(function(e){const n=sc(e.model),o=zs(e.view,"container");return n.children=!0,l=>{if(l._conversionApi.schema.checkChild(n.name,"$text"))throw new M("conversion-element-to-structure-disallowed-text",l,{elementName:n.name});var d,h;l.on(`insert:${n.name}`,(d=o,h=rc(n),(m,g,b)=>{if(!h(g.item,b.consumable,{preflight:!0}))return;const k=new Map;var A,T,E;b.writer._registerSlotFactory((A=g.item,T=k,E=b,(R,N="children")=>{const q=R.createContainerElement("$slot");let et=null;if("children"===N)et=Array.from(A.getChildren());else{if("function"!=typeof N)throw new M("conversion-slot-mode-unknown",E.dispatcher,{modeOrFilter:N});et=Array.from(A.getChildren()).filter(yt=>N(yt))}return T.set(q,et),q}));const v=d(g.item,b,g);if(b.writer._clearSlotFactory(),!v)return;(function(A,T,E){const R=Array.from(T.values()).flat(),N=new Set(R);if(N.size!=R.length)throw new M("conversion-slot-filter-overlap",E.dispatcher,{element:A});if(N.size!=A.childCount)throw new M("conversion-slot-filter-incomplete",E.dispatcher,{element:A})})(g.item,k,b),h(g.item,b.consumable);const w=b.mapper.toViewPosition(g.range.start);b.mapper.bindElements(g.item,v),b.writer.insert(w,v),b.convertAttributes(g.item),function(A,T,E,R){E.mapper.on("modelToViewPosition",et,{priority:"highest"});let N=null,q=null;for([N,q]of T)ac(A,q,E,R),E.writer.move(E.writer.createRangeIn(N),E.writer.createPositionBefore(N)),E.writer.remove(N);function et(yt,Ot){const Le=q.indexOf(Ot.modelPosition.nodeAfter);Le<0||(Ot.viewPosition=Ot.mapper.findPositionIn(N,Le))}E.mapper.off("modelToViewPosition",et)}(v,k,b,{reconversion:g.reconversion})}),{priority:e.converterPriority||"normal"}),l.on("reduceChanges",Bh(n),{priority:"low"})}}(t))}attributeToElement(t){return this.add(function(e){let n=(e=ro(e)).model;"string"==typeof n&&(n={key:n});let o=`attribute:${n.key}`;if(n.name&&(o+=":"+n.name),n.values)for(const d of n.values)e.view[d]=zs(e.view[d],"attribute");else e.view=zs(e.view,"attribute");const l=Nh(e);return d=>{var h;d.on(o,(h=l,(m,g,b)=>{if(!b.consumable.test(g.item,m.name))return;const k=h(g.attributeOldValue,b,g),v=h(g.attributeNewValue,b,g);if(!k&&!v)return;b.consumable.consume(g.item,m.name);const w=b.writer;if(g.item instanceof ai||g.item instanceof Ci)w.wrap(w.document.selection.getFirstRange(),v);else{let T=b.mapper.toViewRange(g.range);null!==g.attributeOldValue&&k&&(T=w.unwrap(T,k)),null!==g.attributeNewValue&&v&&w.wrap(T,v)}}),{priority:e.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(e){let n=(e=ro(e)).model;"string"==typeof n&&(n={key:n});let o=`attribute:${n.key}`;if(n.name&&(o+=":"+n.name),n.values)for(const d of n.values)e.view[d]=Lh(e.view[d]);else e.view=Lh(e.view);const l=Nh(e);return d=>{var h;d.on(o,(h=l,(m,g,b)=>{if(!b.consumable.test(g.item,m.name))return;const k=h(g.attributeOldValue,b,g),v=h(g.attributeNewValue,b,g);if(!k&&!v)return;b.consumable.consume(g.item,m.name);const w=b.mapper.toViewElement(g.item),A=b.writer;if(!w)throw new M("conversion-attribute-to-attribute-on-text",b.dispatcher,g);if(null!==g.attributeOldValue&&k)if("class"==k.key){const T=xe(k.value);for(const E of T)A.removeClass(E,w)}else if("style"==k.key){const T=Object.keys(k.value);for(const E of T)A.removeStyle(E,w)}else A.removeAttribute(k.key,w);if(null!==g.attributeNewValue&&v)if("class"==v.key){const T=xe(v.value);for(const E of T)A.addClass(E,w)}else if("style"==v.key){const T=Object.keys(v.value);for(const E of T)A.setStyle(E,v.value[E],w)}else A.setAttribute(v.key,v.value,w)}),{priority:e.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(e){const n=zs(e.view,"ui");return o=>{var l;o.on(`addMarker:${e.model}`,(l=n,(d,h,m)=>{h.isOpening=!0;const g=l(h,m);h.isOpening=!1;const b=l(h,m);if(!g||!b)return;const k=h.markerRange;if(k.isCollapsed&&!m.consumable.consume(k,d.name))return;for(const A of k)if(!m.consumable.consume(A.item,d.name))return;const v=m.mapper,w=m.writer;w.insert(v.toViewPosition(k.start),g),m.mapper.bindElementToMarker(g,h.markerName),k.isCollapsed||(w.insert(v.toViewPosition(k.end),b),m.mapper.bindElementToMarker(b,h.markerName)),d.stop()}),{priority:e.converterPriority||"normal"}),o.on(`removeMarker:${e.model}`,(d,h,m)=>{const g=m.mapper.markerNameToElements(h.markerName);if(g){for(const b of g)m.mapper.unbindElementFromMarkerName(b,h.markerName),m.writer.clear(m.writer.createRangeOn(b),b);m.writer.clearClonedElementsGroup(h.markerName),d.stop()}},{priority:e.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(e){return n=>{var o,l;n.on(`addMarker:${e.model}`,(o=e.view,(l,d,h)=>{if(!d.item||!(d.item instanceof ai||d.item instanceof Ci||d.item.is("$textProxy")))return;const m=Fs(o,d,h);if(!m||!h.consumable.consume(d.item,l.name))return;const g=h.writer,b=oc(g,m);if(d.item instanceof ai||d.item instanceof Ci)g.wrap(g.document.selection.getFirstRange(),b);else{const v=h.mapper.toViewRange(d.range),w=g.wrap(v,b);for(const A of w.getItems())if(A.is("attributeElement")&&A.isSimilar(b)){h.mapper.bindElementToMarker(A,d.markerName);break}}}),{priority:e.converterPriority||"normal"}),n.on(`addMarker:${e.model}`,(l=e.view,(d,h,m)=>{if(!(h.item&&h.item instanceof Zt))return;const g=Fs(l,h,m);if(!g||!m.consumable.test(h.item,d.name))return;const b=m.mapper.toViewElement(h.item);if(b&&b.getCustomProperty("addHighlight")){m.consumable.consume(h.item,d.name);for(const k of V._createIn(h.item))m.consumable.consume(k.item,d.name);b.getCustomProperty("addHighlight")(b,g,m.writer),m.mapper.bindElementToMarker(b,h.markerName)}}),{priority:e.converterPriority||"normal"}),n.on(`removeMarker:${e.model}`,function(l){return(d,h,m)=>{if(h.markerRange.isCollapsed)return;const g=Fs(l,h,m);if(!g)return;const b=oc(m.writer,g),k=m.mapper.markerNameToElements(h.markerName);if(k){for(const v of k)m.mapper.unbindElementFromMarkerName(v,h.markerName),v.is("attributeElement")?m.writer.unwrap(m.writer.createRangeOn(v),b):v.getCustomProperty("removeHighlight")(v,g.id,m.writer);m.writer.clearClonedElementsGroup(h.markerName),d.stop()}}}(e.view),{priority:e.converterPriority||"normal"})}}(t))}markerToData(t){return this.add(function(e){const n=(e=ro(e)).model;let o=e.view;return o||(o=l=>({group:n,name:l.substr(e.model.length+1)})),l=>{var d,h;l.on(`addMarker:${n}`,(d=o,(h,m,g)=>{const b=d(m.markerName,g);if(!b)return;const k=m.markerRange;g.consumable.consume(k,h.name)&&(Rh(k,!1,g,m,b),Rh(k,!0,g,m,b),h.stop())}),{priority:e.converterPriority||"normal"}),l.on(`removeMarker:${n}`,(h=o,(m,g,b)=>{const k=h(g.markerName,b);if(!k)return;const v=b.mapper.markerNameToElements(g.markerName);if(v){for(const A of v)b.mapper.unbindElementFromMarkerName(A,g.markerName),A.is("containerElement")?(w(`data-${k.group}-start-before`,A),w(`data-${k.group}-start-after`,A),w(`data-${k.group}-end-before`,A),w(`data-${k.group}-end-after`,A)):b.writer.clear(b.writer.createRangeOn(A),A);b.writer.clearClonedElementsGroup(g.markerName),m.stop()}function w(A,T){if(T.hasAttribute(A)){const E=new Set(T.getAttribute(A).split(","));E.delete(k.name),0==E.size?b.writer.removeAttribute(A,T):b.writer.setAttribute(A,Array.from(E).join(","),T)}}}),{priority:e.converterPriority||"normal"})}}(t))}}function oc(s,t){const e=s.createAttributeElement("span",t.attributes);return t.classes&&e._addClass(t.classes),"number"==typeof t.priority&&(e._priority=t.priority),e._id=t.id,e}function Rh(s,t,e,n,o){const l=t?s.start:s.end,d=l.nodeAfter&&l.nodeAfter.is("element")?l.nodeAfter:null,h=l.nodeBefore&&l.nodeBefore.is("element")?l.nodeBefore:null;if(d||h){let m,g;t&&d||!t&&!h?(m=d,g=!0):(m=h,g=!1);const b=e.mapper.toViewElement(m);if(b)return void function(k,v,w,A,T,E){const R=`data-${E.group}-${v?"start":"end"}-${w?"before":"after"}`,N=k.hasAttribute(R)?k.getAttribute(R).split(","):[];N.unshift(E.name),A.writer.setAttribute(R,N.join(","),k),A.mapper.bindElementToMarker(k,T.markerName)}(b,t,g,e,n,o)}!function(m,g,b,k,v){const T=b.writer.createUIElement(`${v.group}-${g?"start":"end"}`,v.name?{name:v.name}:null);b.writer.insert(m,T),b.mapper.bindElementToMarker(T,k.markerName)}(e.mapper.toViewPosition(l),t,e,n,o)}function sc(s){return"string"==typeof s&&(s={name:s}),s.attributes?Array.isArray(s.attributes)||(s.attributes=[s.attributes]):s.attributes=[],s.children=!!s.children,s}function zs(s,t){return"function"==typeof s?s:(e,n)=>function(o,l,d){let h;"string"==typeof o&&(o={name:o});const m=l.writer,g=Object.assign({},o.attributes);if(h="container"==d?m.createContainerElement(o.name,g):"attribute"==d?m.createAttributeElement(o.name,g,{priority:o.priority||Ro.DEFAULT_PRIORITY}):m.createUIElement(o.name,g),o.styles){const b=Object.keys(o.styles);for(const k of b)m.setStyle(k,o.styles[k],h)}if(o.classes){const b=o.classes;if("string"==typeof b)m.addClass(b,h);else for(const k of b)m.addClass(k,h)}return h}(s,n,t)}function Nh(s){return s.model.values?(t,e,n)=>{const o=s.view[t];return o?o(t,e,n):null}:s.view}function Lh(s){return"string"==typeof s?t=>({key:s,value:t}):"object"==typeof s?s.value?()=>s:t=>({key:s.key,value:t}):s}function Fs(s,t,e){const n="function"==typeof s?s(t,e):s;return n?(n.priority||(n.priority=10),n.id||(n.id=t.markerName),n):null}function Bh(s){const t=function(e){return(n,o)=>{if(!n.is("element",e.name))return!1;if("attribute"==o.type){if(e.attributes.includes(o.attributeKey))return!0}else if(e.children)return!0;return!1}}(s);return(e,n)=>{const o=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const l of n.changes){const d="attribute"==l.type?l.range.start.nodeAfter:l.position.parent;if(d&&t(d,l)){if(!n.reconvertedElements.has(d)){n.reconvertedElements.add(d);const h=Q._createBefore(d);o.push({type:"remove",name:d.name,position:h,length:1},{type:"reinsert",name:d.name,position:h,length:1})}}else o.push(l)}n.changes=o}}function rc(s){return(t,e,n={})=>{const o=["insert"];for(const l of s.attributes)t.hasAttribute(l)&&o.push(`attribute:${l}`);return!!o.every(l=>e.test(t,l))&&(n.preflight||o.forEach(l=>e.consume(t,l)),!0)}}function ac(s,t,e,n){for(const o of t)ek(s.root,o,e,n)||e.convertItem(o)}function ek(s,t,e,n){const{writer:o,mapper:l}=e;if(!n.reconversion)return!1;const d=l.toViewElement(t);return!(!d||d.root==s||!e.canReuseView(d)||(o.move(o.createRangeOn(d),l.toViewPosition(Q._createBefore(t))),0))}function ik(s,t,{preflight:e}={}){return e?t.test(s,"insert"):t.consume(s,"insert")}function Oh(s){const{schema:t,document:e}=s.model;for(const n of e.getRootNames()){const o=e.getRoot(n);if(o.isEmpty&&!t.checkChild(o,"$text")&&t.checkChild(o,"paragraph"))return s.insertElement("paragraph",o),!0}return!1}function lc(s,t,e){const n=e.createContext(s);return!!e.checkChild(n,"paragraph")&&!!e.checkChild(n.push("paragraph"),t)}function zh(s,t){const e=t.createElement("paragraph");return t.insert(e,s),t.createPositionAt(e,0)}class nk extends Mh{elementToElement(t){return this.add(Fh(t))}elementToAttribute(t){return this.add(function(e){js(e=ro(e));const n=jh(e,!1),o=Sn(e.view),l=o?`element:${o}`:"element";return d=>{d.on(l,n,{priority:e.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(e){let n=null;("string"==typeof(e=ro(e)).view||e.view.key)&&(n=function(l){"string"==typeof l.view&&(l.view={key:l.view});const d=l.view.key;let h;return h="class"==d||"style"==d?{["class"==d?"classes":"styles"]:l.view.value}:{attributes:{[d]:void 0===l.view.value?/[\s\S]*/:l.view.value}},l.view.name&&(h.name=l.view.name),l.view=h,d}(e)),js(e,n);const o=jh(e,!0);return l=>{l.on("element",o,{priority:e.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(e){const n=(o=e.model,(l,d)=>{const h="string"==typeof o?o:o(l,d);return d.writer.createElement("$marker",{"data-name":h})});var o;return Fh({...e,model:n})}(t))}dataToMarker(t){return this.add(function(e){(e=ro(e)).model||(e.model=d=>d?e.view+":"+d:e.view);const n={view:e.view,model:e.model},o=la(Ue(n,"start")),l=la(Ue(n,"end"));return d=>{d.on(`element:${e.view}-start`,o,{priority:e.converterPriority||"normal"}),d.on(`element:${e.view}-end`,l,{priority:e.converterPriority||"normal"});const h=Vi.get("low"),m=Vi.get("highest"),g=Vi.get(e.converterPriority)/m;var b;d.on("element",(b=n,(k,v,w)=>{const A=`data-${b.view}`;function T(E,R){for(const N of R){const q=b.model(N,w),et=w.writer.createElement("$marker",{"data-name":q});w.writer.insert(et,E),v.modelCursor=v.modelCursor.isEqual(E)?v.modelCursor.getShiftedBy(1):v.modelCursor._getTransformedByInsertion(E,1),v.modelRange=v.modelRange._getTransformedByInsertion(E,1)[0]}}(w.consumable.test(v.viewItem,{attributes:A+"-end-after"})||w.consumable.test(v.viewItem,{attributes:A+"-start-after"})||w.consumable.test(v.viewItem,{attributes:A+"-end-before"})||w.consumable.test(v.viewItem,{attributes:A+"-start-before"}))&&(v.modelRange||Object.assign(v,w.convertChildren(v.viewItem,v.modelCursor)),w.consumable.consume(v.viewItem,{attributes:A+"-end-after"})&&T(v.modelRange.end,v.viewItem.getAttribute(A+"-end-after").split(",")),w.consumable.consume(v.viewItem,{attributes:A+"-start-after"})&&T(v.modelRange.end,v.viewItem.getAttribute(A+"-start-after").split(",")),w.consumable.consume(v.viewItem,{attributes:A+"-end-before"})&&T(v.modelRange.start,v.viewItem.getAttribute(A+"-end-before").split(",")),w.consumable.consume(v.viewItem,{attributes:A+"-start-before"})&&T(v.modelRange.start,v.viewItem.getAttribute(A+"-start-before").split(",")))}),{priority:h+g})}}(t))}}function Fh(s){const t=la(s=ro(s)),e=Sn(s.view),n=e?`element:${e}`:"element";return o=>{o.on(n,t,{priority:s.converterPriority||"normal"})}}function Sn(s){return"string"==typeof s?s:"object"==typeof s&&"string"==typeof s.name?s.name:null}function la(s){const t=new ki(s.view);return(e,n,o)=>{const l=t.match(n.viewItem);if(!l)return;const d=l.match;if(d.name=!0,!o.consumable.test(n.viewItem,d))return;const h=(b=o,(m=s.model)instanceof Function?m(n.viewItem,b):b.writer.createElement(m));var m,b;h&&o.safeInsert(h,n.modelCursor)&&(o.consumable.consume(n.viewItem,d),o.convertChildren(n.viewItem,h),o.updateConversionResult(h,n))}}function js(s,t=null){s.model={key:"object"!=typeof s.model?s.model:s.model.key,value:"object"!=typeof s.model||void 0===s.model.value?null===t||(l=>l.getAttribute(t)):s.model.value}}function jh(s,t){const e=new ki(s.view);return(n,o,l)=>{if(!o.modelRange&&t)return;const d=e.match(o.viewItem);if(!d||(function(b,k){const v="function"==typeof b?b(k):b;return!("object"==typeof v&&!Sn(v)||v.classes||v.attributes||v.styles)}(s.view,o.viewItem)?d.match.name=!0:delete d.match.name,!l.consumable.test(o.viewItem,d.match)))return;const h=s.model.key,m="function"==typeof s.model.value?s.model.value(o.viewItem,l):s.model.value;null!==m&&(o.modelRange||Object.assign(o,l.convertChildren(o.viewItem,o.modelCursor)),function(b,k,v,w){let A=!1;for(const T of Array.from(b.getItems({shallow:v})))w.schema.checkAttribute(T,k.key)&&(A=!0,T.hasAttribute(k.key)||w.writer.setAttribute(k.key,k.value,T));return A}(o.modelRange,{key:h,value:m},t,l)&&(l.consumable.test(o.viewItem,{name:!0})&&(d.match.name=!0),l.consumable.consume(o.viewItem,d.match)))}}function Ue(s,t){return{view:`${s.view}-${t}`,model:(e,n)=>{const o=e.getAttribute("name"),l=s.model(o,n);return n.writer.createElement("$marker",{"data-name":l})}}}class cc extends(zt()){constructor(t,e){super(),this.model=t,this.view=new na(e),this.mapper=new Dh,this.downcastDispatcher=new Sh({mapper:this.mapper,schema:t.schema});const n=this.model.document,o=n.selection,l=this.model.markers;var d,h;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(d=>{this.downcastDispatcher.convertChanges(n.differ,l,d),this.downcastDispatcher.convertSelection(o,l,d)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(d=this.model,h=this.mapper,(m,g)=>{const b=g.newSelection,k=[];for(const w of b.getRanges())k.push(h.toModelRange(w));const v=d.createSelection(k,{backward:b.isBackward});v.isEqual(d.document.selection)||d.change(w=>{w.setSelection(v)})})),this.downcastDispatcher.on("insert:$text",(d,h,m)=>{if(!m.consumable.consume(h.item,d.name))return;const g=m.writer,b=m.mapper.toViewPosition(h.range.start),k=g.createText(h.item.data);g.insert(b,k)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(d,h,m)=>{m.convertAttributes(h.item),h.reconversion||!h.item.is("element")||h.item.isEmpty||m.convertChildren(h.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(d,h,m)=>{const g=m.mapper.toViewPosition(h.position),b=h.position.getShiftedBy(h.length),k=m.mapper.toViewPosition(b,{isPhantom:!0}),v=m.writer.createRange(g,k),w=m.writer.remove(v.getTrimmed());for(const A of m.writer.createRangeIn(w).getItems())m.mapper.unbindViewElement(A,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(d,h,m)=>{const g=m.writer,b=g.document.selection;for(const k of b.getRanges())k.isCollapsed&&k.end.parent.isAttached()&&m.writer.mergeAttributes(k.start);g.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(d,h,m)=>{const g=h.selection;if(g.isCollapsed||!m.consumable.consume(g,"selection"))return;const b=[];for(const k of g.getRanges())b.push(m.mapper.toViewRange(k));m.writer.setSelection(b,{backward:g.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(d,h,m)=>{const g=h.selection;if(!g.isCollapsed||!m.consumable.consume(g,"selection"))return;const b=m.writer,k=g.getFirstPosition(),v=m.mapper.toViewPosition(k),w=b.breakAttributes(v);b.setSelection(w)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(d=>{if("$graveyard"==d.rootName)return null;const h=new Qu(this.view.document,d.name);return h.rootName=d.rootName,this.mapper.bindElements(d,h),h})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(t){const e="string"==typeof t?t:t.name,n=this.model.markers.get(e);if(!n)throw new M("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:e});this.model.change(()=>{this.model.markers._refresh(n)})}reconvertItem(t){this.model.change(()=>{this.model.document.differ._refreshItem(t)})}}class Vs{constructor(){this._consumables=new Map}add(t,e){let n;t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new nn(t),this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("$text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("$text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const d of n)"style"!=d&&"class"!=d&&e.attributes.push(d);const o=t.getClassNames();for(const d of o)e.classes.push(d);const l=t.getStyleNames();for(const d of l)e.styles.push(d);return e}static createFrom(t,e){if(e||(e=new Vs),t.is("$text"))return e.add(t),e;t.is("element")&&e.add(t,Vs.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=Vs.createFrom(n,e);return e}}const ca=["attributes","classes","styles"];class nn{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e of ca)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e of ca)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e of ca)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e of ca)e in t&&this._revert(e,t[e])}_add(t,e){const n=Ve(e)?e:[e],o=this._consumables[t];for(const l of n){if("attributes"===t&&("class"===l||"style"===l))throw new M("viewconsumable-invalid-attribute",this);if(o.set(l,!0),"styles"===t)for(const d of this.element.document.stylesProcessor.getRelatedStyles(l))o.set(d,!0)}}_test(t,e){const n=Ve(e)?e:[e],o=this._consumables[t];for(const l of n)if("attributes"!==t||"class"!==l&&"style"!==l){const d=o.get(l);if(void 0===d)return null;if(!d)return!1}else{const d="class"==l?"classes":"styles",h=this._test(d,[...this._consumables[d].keys()]);if(!0!==h)return h}return!0}_consume(t,e){const n=Ve(e)?e:[e],o=this._consumables[t];for(const l of n)if("attributes"!==t||"class"!==l&&"style"!==l){if(o.set(l,!1),"styles"==t)for(const d of this.element.document.stylesProcessor.getRelatedStyles(l))o.set(d,!1)}else{const d="class"==l?"classes":"styles";this._consume(d,[...this._consumables[d].keys()])}}_revert(t,e){const n=Ve(e)?e:[e],o=this._consumables[t];for(const l of n)if("attributes"!==t||"class"!==l&&"style"!==l)!1===o.get(l)&&o.set(l,!0);else{const d="class"==l?"classes":"styles";this._revert(d,[...this._consumables[d].keys()])}}}class ok extends(zt()){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new ao(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new ao(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new M("schema-cannot-register-item-twice",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new M("schema-cannot-extend-missing-item",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:"is"in t&&(t.is("$text")||t.is("$textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!(!e||!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!!e&&!!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}isSelectable(t){const e=this.getDefinition(t);return!(!e||!e.isSelectable&&!e.isObject)}isContent(t){const e=this.getDefinition(t);return!(!e||!e.isContent&&!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e){if(t instanceof Q){const n=t.nodeBefore,o=t.nodeAfter;if(!(n instanceof Zt))throw new M("schema-check-merge-no-element-before",this);if(!(o instanceof Zt))throw new M("schema-check-merge-no-element-after",this);return this.checkMerge(n,o)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",(e,[n,o])=>{if(!o)return;const l=t(n,o);"boolean"==typeof l&&(e.stop(),e.return=l)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[n,o])=>{const l=t(n,o);"boolean"==typeof l&&(e.stop(),e.return=l)},{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;for(e=t instanceof Q?t.parent:(t instanceof V?[t]:Array.from(t.getRanges())).reduce((n,o)=>{const l=o.getCommonAncestor();return n?n.getCommonAncestor(l,{includeSelf:!0}):l},null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new Ut("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const o of n)for(const l of o)if(this.checkAttribute(l.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(n){for(const o of n)yield*o.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new V(t);let n,o;const l=t.getAncestors().reverse().find(d=>this.isLimit(d))||t.root;"both"!=e&&"backward"!=e||(n=new tn({boundaries:V._createIn(l),startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(o=new tn({boundaries:V._createIn(l),startPosition:t}));for(const d of function*(h,m){let g=!1;for(;!g;){if(g=!0,h){const b=h.next();b.done||(g=!1,yield{walker:h,value:b.value})}if(m){const b=m.next();b.done||(g=!1,yield{walker:m,value:b.value})}}}(n,o)){const m=d.value;if(m.type==(d.walker==n?"elementEnd":"elementStart")&&this.isObject(m.item))return V._createOn(m.item);if(this.checkChild(m.nextPosition,"$text"))return new V(m.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(t,e,n){const o=n.model;for(const[l,d]of Object.entries(e))o.schema.checkAttribute(t,l)&&n.setAttribute(l,d,t)}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("$text"))hc(this,n,e);else{const o=V._createIn(n).getPositions();for(const l of o)hc(this,l.nodeBefore||l.parent,e)}}getAttributesWithProperty(t,e,n){const o={};for(const[l,d]of t.getAttributes()){const h=this.getAttributeProperties(l);void 0!==h[e]&&(void 0!==n&&n!==h[e]||(o[l]=d))}return o}createContext(t){return new ao(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const o of n)t[o]=dc(e[o],o);for(const o of n)sk(t,o);for(const o of n)rk(t,o);for(const o of n)ak(t,o);for(const o of n)lk(t,o),uc(t,o);for(const o of n)ck(t,o),dk(t,o),uk(t,o);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const o=e.getItem(n);if(t.allowIn.includes(o.name)){if(0==n)return!0;{const l=this.getDefinition(o);return this._checkContextMatch(l,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,o=t.start;for(const l of t.getItems({shallow:!0}))l.is("element")&&(yield*this._getValidRangesForRange(V._createIn(l),e)),this.checkAttribute(l,e)||(n.isEqual(o)||(yield new V(n,o)),n=Q._createAfter(l)),o=Q._createAfter(l);n.isEqual(o)||(yield new V(n,o))}}class ao{constructor(t){if(t instanceof ao)return t;let e;e="string"==typeof t?[t]:Array.isArray(t)?t:t.getAncestors({includeSelf:!0}),this._items=e.map(mk)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new ao([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function dc(s,t){const e={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(n,o){for(const l of n){const d=Object.keys(l).filter(h=>h.startsWith("is"));for(const h of d)o[h]=!!l[h]}}(s,e),gn(s,e,"allowIn"),gn(s,e,"allowContentOf"),gn(s,e,"allowWhere"),gn(s,e,"allowAttributes"),gn(s,e,"allowAttributesOf"),gn(s,e,"allowChildren"),gn(s,e,"inheritTypesFrom"),function(n,o){for(const l of n){const d=l.inheritAllFrom;d&&(o.allowContentOf.push(d),o.allowWhere.push(d),o.allowAttributesOf.push(d),o.inheritTypesFrom.push(d))}}(s,e),e}function sk(s,t){const e=s[t];for(const n of e.allowChildren){const o=s[n];o&&o.allowIn.push(t)}e.allowChildren.length=0}function rk(s,t){for(const e of s[t].allowContentOf)s[e]&&hk(s,e).forEach(n=>{n.allowIn.push(t)});delete s[t].allowContentOf}function ak(s,t){for(const e of s[t].allowWhere){const n=s[e];n&&s[t].allowIn.push(...n.allowIn)}delete s[t].allowWhere}function lk(s,t){for(const e of s[t].allowAttributesOf){const n=s[e];n&&s[t].allowAttributes.push(...n.allowAttributes)}delete s[t].allowAttributesOf}function uc(s,t){const e=s[t];for(const n of e.inheritTypesFrom){const o=s[n];if(o){const l=Object.keys(o).filter(d=>d.startsWith("is"));for(const d of l)d in e||(e[d]=o[d])}}delete e.inheritTypesFrom}function ck(s,t){const e=s[t],n=e.allowIn.filter(o=>s[o]);e.allowIn=Array.from(new Set(n))}function dk(s,t){const e=s[t];for(const n of e.allowIn)s[n].allowChildren.push(t)}function uk(s,t){const e=s[t];e.allowAttributes=Array.from(new Set(e.allowAttributes))}function gn(s,t,e){for(const n of s){const o=n[e];"string"==typeof o?t[e].push(o):Array.isArray(o)&&t[e].push(...o)}}function hk(s,t){const e=s[t];return(n=s,Object.keys(n).map(o=>n[o])).filter(o=>o.allowIn.includes(e.name));var n}function mk(s){return"string"==typeof s||s.is("documentFragment")?{name:"string"==typeof s?s:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:s.is("element")?s.name:"$text",*getAttributeKeys(){yield*s.getAttributeKeys()},getAttribute:t=>s.getAttribute(t)}}function hc(s,t,e){for(const n of t.getAttributeKeys())s.checkAttribute(t,n)||e.removeAttribute(n,t)}class da extends(ot()){constructor(t){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...t,consumable:null,writer:null,store:null,convertItem:(e,n)=>this._convertItem(e,n),convertChildren:(e,n)=>this._convertChildren(e,n),safeInsert:(e,n)=>this._safeInsert(e,n),updateConversionResult:(e,n)=>this._updateConversionResult(e,n),splitToAllowedParent:(e,n)=>this._splitToAllowedParent(e,n),getSplitParts:e=>this._getSplitParts(e),keepEmptyElement:e=>this._keepEmptyElement(e)}}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(d,h){let m;for(const g of new ao(d)){const b={};for(const v of g.getAttributeKeys())b[v]=g.getAttribute(v);const k=h.createElement(g.name,b);m&&h.insert(k,m),m=Q._createAt(k,0)}return m}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=Vs.createFrom(t),this.conversionApi.store={};const{modelRange:o}=this._convertItem(t,this._modelCursor),l=e.createDocumentFragment();if(o){this._removeEmptyElements();for(const d of Array.from(this._modelCursor.parent.getChildren()))e.append(d,l);l.markers=function(d,h){const m=new Set,g=new Map,b=V._createIn(d).getItems();for(const k of b)k.is("element","$marker")&&m.add(k);for(const k of m){const v=k.getAttribute("data-name"),w=h.createPositionBefore(k);g.has(v)?g.get(v).end=w.clone():g.set(v,new V(w.clone())),h.remove(k)}return g}(l,e)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,l}_convertItem(t,e){const n={viewItem:t,modelCursor:e,modelRange:null};if(t.is("element")?this.fire(`element:${t.name}`,n,this.conversionApi):t.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof V))throw new M("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){let n=e.is("position")?e:Q._createAt(e,0);const o=new V(n);for(const l of Array.from(t.getChildren())){const d=this._convertItem(l,n);d.modelRange instanceof V&&(o.end=d.modelRange.end,n=d.modelCursor)}return{modelRange:o,modelCursor:n}}_safeInsert(t,e){const n=this._splitToAllowedParent(t,e);return!!n&&(this.conversionApi.writer.insert(t,n.position),!0)}_updateConversionResult(t,e){const n=this._getSplitParts(t),o=this.conversionApi.writer;e.modelRange||(e.modelRange=o.createRange(o.createPositionBefore(t),o.createPositionAfter(n[n.length-1])));const l=this._cursorParents.get(t);e.modelCursor=l?o.createPositionAt(l,0):e.modelRange.end}_splitToAllowedParent(t,e){const{schema:n,writer:o}=this.conversionApi;let l=n.findAllowedParent(e,t);if(l){if(l===e.parent)return{position:e};this._modelCursor.parent.getAncestors().includes(l)&&(l=null)}if(!l)return lc(e,t,n)?{position:zh(e,o)}:null;const d=this.conversionApi.writer.split(e,l),h=[];for(const g of d.range.getWalker())if("elementEnd"==g.type)h.push(g.item);else{const b=h.pop();this._registerSplitPair(b,g.item)}const m=d.range.end.parent;return this._cursorParents.set(t,m),{position:d.position,cursorParent:m}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t],e}_keepEmptyElement(t){this._emptyElementsToKeep.add(t)}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&!this._emptyElementsToKeep.has(e)&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}class pk{getHtml(t){const e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class gk{constructor(t){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new vi(t,{renderingMode:"data"}),this.htmlWriter=new pk}toData(t){const e=this.domConverter.viewToDom(t);return this.htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this.domConverter.domToView(e,{skipComments:this.skipComments})}registerRawContentMatcher(t){this.domConverter.registerRawContentMatcher(t)}useFillerType(t){this.domConverter.blockFillerMode="marked"==t?"markedNbsp":"nbsp"}_toDom(t){t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(t=`<body>${t}</body>`);const e=this.domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),o=e.body.childNodes;for(;o.length>0;)n.appendChild(o[0]);return n}}class fk extends(ot()){constructor(t,e){super(),this.model=t,this.mapper=new Dh,this.downcastDispatcher=new Sh({mapper:this.mapper,schema:t.schema}),this.downcastDispatcher.on("insert:$text",(n,o,l)=>{if(!l.consumable.consume(o.item,n.name))return;const d=l.writer,h=l.mapper.toViewPosition(o.range.start),m=d.createText(o.item.data);d.insert(h,m)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(n,o,l)=>{l.convertAttributes(o.item),o.reconversion||!o.item.is("element")||o.item.isEmpty||l.convertChildren(o.item)},{priority:"lowest"}),this.upcastDispatcher=new da({schema:t.schema}),this.viewDocument=new qr(e),this.stylesProcessor=e,this.htmlProcessor=new gk(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Ib(this.viewDocument),this.upcastDispatcher.on("text",(n,o,{schema:l,consumable:d,writer:h})=>{let m=o.modelCursor;if(!d.test(o.viewItem))return;if(!l.checkChild(m,"$text")){if(!lc(m,"$text",l)||0==o.viewItem.data.trim().length)return;const b=m.nodeBefore;m=zh(m,h),b&&b.is("element","$marker")&&(h.move(h.createRangeOn(b),m),m=h.createPositionAfter(b))}d.consume(o.viewItem);const g=h.createText(o.viewItem.data);h.insert(g,m),o.modelRange=h.createRange(m,m.getShiftedBy(g.offsetSize)),o.modelCursor=o.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(n,o,l)=>{if(!o.modelRange&&l.consumable.consume(o.viewItem,{name:!0})){const{modelRange:d,modelCursor:h}=l.convertChildren(o.viewItem,o.modelCursor);o.modelRange=d,o.modelCursor=h}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(n,o,l)=>{if(!o.modelRange&&l.consumable.consume(o.viewItem,{name:!0})){const{modelRange:d,modelCursor:h}=l.convertChildren(o.viewItem,o.modelCursor);o.modelRange=d,o.modelCursor=h}},{priority:"lowest"}),zt().prototype.decorate.call(this,"init"),zt().prototype.decorate.call(this,"set"),zt().prototype.decorate.call(this,"get"),zt().prototype.decorate.call(this,"toView"),zt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Oh)},{priority:"lowest"})}get(t={}){const{rootName:e="main",trim:n="empty"}=t;if(!this._checkIfRootsExists([e]))throw new M("datacontroller-get-non-existent-root",this);const o=this.model.document.getRoot(e);return"empty"!==n||this.model.hasContent(o,{ignoreWhitespaces:!0})?this.stringify(o,t):""}stringify(t,e={}){const n=this.toView(t,e);return this.processor.toData(n)}toView(t,e={}){const n=this.viewDocument,o=this._viewWriter;this.mapper.clearBindings();const l=V._createIn(t),d=new be(n);this.mapper.bindElements(t,d);const h=t.is("documentFragment")?t.markers:function(m){const g=[],b=m.root.document;if(!b)return new Map;const k=V._createIn(m);for(const v of b.model.markers){const w=v.getRange(),A=w.isCollapsed,T=w.start.isEqual(k.start)||w.end.isEqual(k.end);if(A&&T)g.push([v.name,w]);else{const E=k.getIntersection(w);E&&g.push([v.name,E])}}return g.sort(([v,w],[A,T])=>{if("after"!==w.end.compareWith(T.start))return 1;if("before"!==w.start.compareWith(T.end))return-1;switch(w.start.compareWith(T.start)){case"before":return 1;case"after":return-1;default:switch(w.end.compareWith(T.end)){case"before":return 1;case"after":return-1;default:return A.localeCompare(v)}}}),new Map(g)}(t);return this.downcastDispatcher.convert(l,h,o,e),d}init(t){if(this.model.document.version)throw new M("datacontroller-init-document-not-empty",this);let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new M("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},n=>{for(const o of Object.keys(e)){const l=this.model.document.getRoot(o);n.insert(this.parse(e[o],l),l,0)}}),Promise.resolve()}set(t,e={}){let n={};if("string"==typeof t?n.main=t:n=t,!this._checkIfRootsExists(Object.keys(n)))throw new M("datacontroller-set-non-existent-root",this);this.model.enqueueChange(e.batchType||{},o=>{o.setSelection(null),o.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const l of Object.keys(n)){const d=this.model.document.getRoot(l);o.remove(o.createRangeIn(d)),o.insert(this.parse(n[l],d),d,0)}})}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change(n=>this.upcastDispatcher.convert(t,n,e))}addStyleProcessorRules(t){t(this.stylesProcessor)}registerRawContentMatcher(t){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(t),this.htmlProcessor.registerRawContentMatcher(t)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRootNames().includes(e))return!1;return!0}}class ci{constructor(t,e){this._helpers=new Map,this._downcast=xe(t),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=xe(e),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new M("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new M("conversion-for-unknown-group",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of ua(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of ua(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of ua(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new M("conversion-group-exists",this);const o=n?new Ph(e):new nk(e);this._helpers.set(t,o)}}function*ua(s){if(s.model.values)for(const t of s.model.values){const e={key:s.model.key,value:t},n=s.view[t],o=s.upcastAlso?s.upcastAlso[t]:void 0;yield*mc(e,n,o)}else yield*mc(s.model,s.view,s.upcastAlso)}function*mc(s,t,e){if(yield{model:s,view:t},e)for(const n of xe(e))yield{model:s,view:n}}class di{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t,e){return new this(t.baseVersion)}}function Oe(s,t){const e=pc(t),n=e.reduce((d,h)=>d+h.offsetSize,0),o=s.parent;Vo(s);const l=s.index;return o._insertChild(l,e),fn(o,l+e.length),fn(o,l),new V(s,s.getShiftedBy(n))}function ui(s){if(!s.isFlat)throw new M("operation-utils-remove-range-not-flat",this);const t=s.start.parent;Vo(s.start),Vo(s.end);const e=t._removeChildren(s.start.index,s.end.index-s.start.index);return fn(t,s.start.index),e}function Ni(s,t){if(!s.isFlat)throw new M("operation-utils-move-range-not-flat",this);const e=ui(s);return Oe(t=t._getTransformedByDeletion(s.start,s.end.offset-s.start.offset),e)}function pc(s){const t=[];!function e(n){if("string"==typeof n)t.push(new Ut(n));else if(n instanceof Ri)t.push(new Ut(n.data,n.getAttributes()));else if(n instanceof Xi)t.push(n);else if(ti(n))for(const o of n)e(o)}(s);for(let e=1;e<t.length;e++){const n=t[e],o=t[e-1];n instanceof Ut&&o instanceof Ut&&gc(n,o)&&(t.splice(e-1,2,new Ut(o.data+n.data,o.getAttributes())),e--)}return t}function fn(s,t){const e=s.getChild(t-1),n=s.getChild(t);if(e&&n&&e.is("$text")&&n.is("$text")&&gc(e,n)){const o=new Ut(e.data+n.data,e.getAttributes());s._removeChildren(t-1,2),s._insertChild(t-1,o)}}function Vo(s){const t=s.textNode,e=s.parent;if(t){const n=s.offset-t.startOffset,o=t.index;e._removeChildren(o,1);const l=new Ut(t.data.substr(0,n),t.getAttributes()),d=new Ut(t.data.substr(n),t.getAttributes());e._insertChild(o,[l,d])}}function gc(s,t){const e=s.getAttributes(),n=t.getAttributes();for(const o of e){if(o[1]!==t.getAttribute(o[0]))return!1;n.next()}return n.next().done}class Bt extends di{constructor(t,e,n,o){super(o),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new Bt(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Bt(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,o=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new M("move-operation-nodes-do-not-exist",this);if(t===e&&n<o&&o<n+this.howMany)throw new M("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==je(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const l=this.sourcePosition.path.length-1;if(this.targetPosition.path[l]>=n&&this.targetPosition.path[l]<n+this.howMany)throw new M("move-operation-node-into-itself",this)}}_execute(){Ni(V._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=Q.fromJSON(t.sourcePosition,e),o=Q.fromJSON(t.targetPosition,e);return new this(n,t.howMany,o,t.baseVersion)}}class De extends di{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new Ls(pc(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new Ls([...this.nodes].map(n=>n._clone(!0))),e=new De(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const e=new Q(this.position.root.document.graveyard,[0]);return new Bt(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new M("insert-operation-position-invalid",this)}_execute(){const t=this.nodes;this.nodes=new Ls([...t].map(e=>e._clone(!0))),Oe(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const l of t.nodes)n.push(l.name?Zt.fromJSON(l):Ut.fromJSON(l));const o=new De(Q.fromJSON(t.position,e),n,t.baseVersion);return o.shouldReceiveAttributes=t.shouldReceiveAttributes,o}}class Ke extends di{constructor(t,e,n,o,l,d){super(d),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=l,this._markers=o}get type(){return"marker"}clone(){return new Ke(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ke(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new Ke(t.name,t.oldRange?V.fromJSON(t.oldRange,e):null,t.newRange?V.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}const Vh=function(s,t){return tc(s,t)};class Mt extends di{constructor(t,e,n,o,l){super(l),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===o?null:o}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new Mt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Mt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new M("attribute-operation-range-not-flat",this);for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!Vh(t.getAttribute(this.key),this.oldValue))throw new M("attribute-operation-wrong-old-value",this,{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new M("attribute-operation-attribute-exists",this,{node:t,key:this.key})}}_execute(){Vh(this.oldValue,this.newValue)||function(t,e,n){Vo(t.start),Vo(t.end);for(const o of t.getItems({shallow:!0})){const l=o.is("$textProxy")?o.textNode:o;null!==n?l._setAttribute(e,n):l._removeAttribute(e),fn(l.parent,l.index)}fn(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new Mt(V.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class Se extends di{get type(){return"noop"}clone(){return new Se(this.baseVersion)}getReversed(){return new Se(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Xe extends di{constructor(t,e,n,o){super(o),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new Xe(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Xe(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof Zt))throw new M("rename-operation-wrong-position",this);if(t.name!==this.oldName)throw new M("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new Xe(Q.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class bn extends di{constructor(t,e,n,o,l){super(l),this.root=t,this.key=e,this.oldValue=n,this.newValue=o}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new bn(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new bn(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new M("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new M("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new M("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new M("rootattribute-operation-fromjson-no-root",this,{rootName:t.root});return new bn(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class he extends di{constructor(t,e,n,o,l){super(l),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=o.clone()}get type(){return"merge"}get deletionPosition(){return new Q(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new V(this.sourcePosition,t)}clone(){return new he(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new Q(this.sourcePosition.root,e)._getTransformedByMergeOperation(this);return new Et(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new M("merge-operation-source-position-invalid",this);if(!e.parent)throw new M("merge-operation-target-position-invalid",this);if(this.howMany!=t.maxOffset)throw new M("merge-operation-how-many-invalid",this)}_execute(){const t=this.sourcePosition.parent;Ni(V._createIn(t),this.targetPosition),Ni(V._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=Q.fromJSON(t.sourcePosition,e),o=Q.fromJSON(t.targetPosition,e),l=Q.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,o,l,t.baseVersion)}}class Et extends di{constructor(t,e,n,o,l){super(l),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=n,this.graveyardPosition=o?o.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new Q(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new V(this.splitPosition,t)}clone(){return new Et(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=new Q(this.splitPosition.root.document.graveyard,[0]);return new he(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent;if(!t||t.maxOffset<this.splitPosition.offset)throw new M("split-operation-position-invalid",this);if(!t.parent)throw new M("split-operation-split-in-root",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new M("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new M("split-operation-graveyard-position-invalid",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)Ni(V._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();Oe(this.insertionPosition,e)}Ni(new V(Q._createAt(t,this.splitPosition.offset),Q._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new Q(t.root,e,"toPrevious")}static fromJSON(t,e){const n=Q.fromJSON(t.splitPosition,e),o=Q.fromJSON(t.insertionPosition,e),l=t.graveyardPosition?Q.fromJSON(t.graveyardPosition,e):null;return new this(n,t.howMany,o,l,t.baseVersion)}}const Li={};Li[Mt.className]=Mt,Li[De.className]=De,Li[Ke.className]=Ke,Li[Bt.className]=Bt,Li[Se.className]=Se,Li[di.className]=di,Li[Xe.className]=Xe,Li[bn.className]=bn,Li[Et.className]=Et,Li[he.className]=he;const $s=new Map;function Pt(s,t,e){let n=$s.get(s);n||(n=new Map,$s.set(s,n)),n.set(t,e)}function bk(s){return[s]}function Uh(s,t,e={}){const n=function(o,l){const d=$s.get(o);return d&&d.has(l)?d.get(l):bk}(s.constructor,t.constructor);try{return n(s=s.clone(),t,e)}catch(o){throw o}}function kk(s,t,e){s=s.slice(),t=t.slice();const n=new _k(e.document,e.useRelations,e.forceWeakRemove);n.setOriginalOperations(s),n.setOriginalOperations(t);const o=n.originalOperations;if(0==s.length||0==t.length)return{operationsA:s,operationsB:t,originalOperations:o};const l=new WeakMap;for(const m of s)l.set(m,0);const d={nextBaseVersionA:s[s.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:s.length,originalOperationsBCount:t.length};let h=0;for(;h<s.length;){const m=s[h],g=l.get(m);if(g==t.length){h++;continue}const b=t[g],k=Uh(m,b,n.getContext(m,b,!0)),v=Uh(b,m,n.getContext(b,m,!1));n.updateRelation(m,b),n.setOriginalOperations(k,m),n.setOriginalOperations(v,b);for(const w of k)l.set(w,g+v.length);s.splice(h,1,...k),t.splice(g,1,...v)}if(e.padWithNoOps){const m=s.length-d.originalOperationsACount,g=t.length-d.originalOperationsBCount;ha(s,g-m),ha(t,m-g)}return Zh(s,d.nextBaseVersionB),Zh(t,d.nextBaseVersionA),{operationsA:s,operationsB:t,originalOperations:o}}class _k{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const o of t)this.originalOperations.set(o,n||o)}updateRelation(t,e){if(t instanceof Bt)e instanceof he?t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter"):e instanceof Bt&&(t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter"));else if(t instanceof Et){if(e instanceof he)t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");else if(e instanceof Bt)if(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))this._setRelation(t,e,"splitBefore");else{const n=V._createFromPositionAndShift(e.sourcePosition,e.howMany);t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)&&this._setRelation(t,e,{howMany:n.end.offset-t.splitPosition.offset,offset:t.splitPosition.offset-n.start.offset})}}else if(t instanceof he)e instanceof he?(t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")):e instanceof Et&&t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource");else if(t instanceof Ke){const n=t.newRange;if(!n)return;if(e instanceof Bt){const o=V._createFromPositionAndShift(e.sourcePosition,e.howMany),l=o.containsPosition(n.start)||o.start.isEqual(n.start),d=o.containsPosition(n.end)||o.end.isEqual(n.end);!l&&!d||o.containsRange(n)||this._setRelation(t,e,{side:l?"left":"right",path:l?n.start.path.slice():n.end.path.slice()})}else if(e instanceof he){const o=n.start.isEqual(e.targetPosition),l=n.start.isEqual(e.deletionPosition),d=n.end.isEqual(e.deletionPosition),h=n.end.isEqual(e.sourcePosition);(o||l||d||h)&&this._setRelation(t,e,{wasInLeftElement:o,wasStartBeforeMergedElement:l,wasEndBeforeMergedElement:d,wasInRightElement:h})}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),o=this._history.getUndoneOperation(n);if(!o)return null;const l=this.originalOperations.get(t),d=this._relations.get(l);return d&&d.get(o)||null}_setRelation(t,e,n){const o=this.originalOperations.get(t),l=this.originalOperations.get(e);let d=this._relations.get(o);d||(d=new Map,this._relations.set(o,d)),d.set(l,n)}}function Zh(s,t){for(const e of s)e.baseVersion=t++}function ha(s,t){for(let e=0;e<t;e++)s.push(new Se(0))}function Hh(s,t,e){const n=s.nodes.getNode(0).getAttribute(t);if(n==e)return null;const o=new V(s.position,s.position.getShiftedBy(s.howMany));return new Mt(o,t,n,e,0)}function qh(s,t){return null===s.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function lo(s,t){const e=[];for(let n=0;n<s.length;n++){const o=s[n],l=new Bt(o.start,o.end.offset-o.start.offset,t,0);e.push(l);for(let d=n+1;d<s.length;d++)s[d]=s[d]._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)[0];t=t._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany)}return e}Pt(Mt,Mt,(s,t,e)=>{if(s.key===t.key&&s.range.start.hasSameParentAs(t.range.start)){const n=s.range.getDifference(t.range).map(l=>new Mt(l,s.key,s.oldValue,s.newValue,0)),o=s.range.getIntersection(t.range);return o&&e.aIsStrong&&n.push(new Mt(o,t.key,t.newValue,s.newValue,0)),0==n.length?[new Se(0)]:n}return[s]}),Pt(Mt,De,(s,t)=>{if(s.range.start.hasSameParentAs(t.position)&&s.range.containsPosition(t.position)){const e=s.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map(n=>new Mt(n,s.key,s.oldValue,s.newValue,s.baseVersion));if(t.shouldReceiveAttributes){const n=Hh(t,s.key,s.oldValue);n&&e.unshift(n)}return e}return s.range=s.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[s]}),Pt(Mt,he,(s,t)=>{const e=[];s.range.start.hasSameParentAs(t.deletionPosition)&&(s.range.containsPosition(t.deletionPosition)||s.range.start.isEqual(t.deletionPosition))&&e.push(V._createFromPositionAndShift(t.graveyardPosition,1));const n=s.range._getTransformedByMergeOperation(t);return n.isCollapsed||e.push(n),e.map(o=>new Mt(o,s.key,s.oldValue,s.newValue,s.baseVersion))}),Pt(Mt,Bt,(s,t)=>function(n,o){const l=V._createFromPositionAndShift(o.sourcePosition,o.howMany);let d=null,h=[];l.containsRange(n,!0)?d=n:n.start.hasSameParentAs(l.start)?(h=n.getDifference(l),d=n.getIntersection(l)):h=[n];const m=[];for(let g of h){g=g._getTransformedByDeletion(o.sourcePosition,o.howMany);const b=o.getMovedRangeStart(),k=g.start.hasSameParentAs(b),v=g._getTransformedByInsertion(b,o.howMany,k);m.push(...v)}return d&&m.push(d._getTransformedByMove(o.sourcePosition,o.targetPosition,o.howMany,!1)[0]),m}(s.range,t).map(n=>new Mt(n,s.key,s.oldValue,s.newValue,s.baseVersion))),Pt(Mt,Et,(s,t)=>{if(s.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||s.range.end.offset++,[s];if(s.range.start.hasSameParentAs(t.splitPosition)&&s.range.containsPosition(t.splitPosition)){const e=s.clone();return e.range=new V(t.moveTargetPosition.clone(),s.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),s.range.end=t.splitPosition.clone(),s.range.end.stickiness="toPrevious",[s,e]}return s.range=s.range._getTransformedBySplitOperation(t),[s]}),Pt(De,Mt,(s,t)=>{const e=[s];if(s.shouldReceiveAttributes&&s.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(s.position)){const n=Hh(s,t.key,t.newValue);n&&e.push(n)}return e}),Pt(De,De,(s,t,e)=>(s.position.isEqual(t.position)&&e.aIsStrong||(s.position=s.position._getTransformedByInsertOperation(t)),[s])),Pt(De,Bt,(s,t)=>(s.position=s.position._getTransformedByMoveOperation(t),[s])),Pt(De,Et,(s,t)=>(s.position=s.position._getTransformedBySplitOperation(t),[s])),Pt(De,he,(s,t)=>(s.position=s.position._getTransformedByMergeOperation(t),[s])),Pt(Ke,De,(s,t)=>(s.oldRange&&(s.oldRange=s.oldRange._getTransformedByInsertOperation(t)[0]),s.newRange&&(s.newRange=s.newRange._getTransformedByInsertOperation(t)[0]),[s])),Pt(Ke,Ke,(s,t,e)=>{if(s.name==t.name){if(!e.aIsStrong)return[new Se(0)];s.oldRange=t.newRange?t.newRange.clone():null}return[s]}),Pt(Ke,he,(s,t)=>(s.oldRange&&(s.oldRange=s.oldRange._getTransformedByMergeOperation(t)),s.newRange&&(s.newRange=s.newRange._getTransformedByMergeOperation(t)),[s])),Pt(Ke,Bt,(s,t,e)=>{if(s.oldRange&&(s.oldRange=V._createFromRanges(s.oldRange._getTransformedByMoveOperation(t))),s.newRange){if(e.abRelation){const n=V._createFromRanges(s.newRange._getTransformedByMoveOperation(t));if("left"==e.abRelation.side&&t.targetPosition.isEqual(s.newRange.start))return s.newRange.end=n.end,s.newRange.start.path=e.abRelation.path,[s];if("right"==e.abRelation.side&&t.targetPosition.isEqual(s.newRange.end))return s.newRange.start=n.start,s.newRange.end.path=e.abRelation.path,[s]}s.newRange=V._createFromRanges(s.newRange._getTransformedByMoveOperation(t))}return[s]}),Pt(Ke,Et,(s,t,e)=>{if(s.oldRange&&(s.oldRange=s.oldRange._getTransformedBySplitOperation(t)),s.newRange){if(e.abRelation){const n=s.newRange._getTransformedBySplitOperation(t);return s.newRange.start.isEqual(t.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?s.newRange.start=Q._createAt(t.insertionPosition):s.newRange.start.isEqual(t.splitPosition)&&!e.abRelation.wasInLeftElement&&(s.newRange.start=Q._createAt(t.moveTargetPosition)),s.newRange.end=s.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasInRightElement?Q._createAt(t.moveTargetPosition):s.newRange.end.isEqual(t.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?Q._createAt(t.insertionPosition):n.end,[s]}s.newRange=s.newRange._getTransformedBySplitOperation(t)}return[s]}),Pt(he,De,(s,t)=>(s.sourcePosition.hasSameParentAs(t.position)&&(s.howMany+=t.howMany),s.sourcePosition=s.sourcePosition._getTransformedByInsertOperation(t),s.targetPosition=s.targetPosition._getTransformedByInsertOperation(t),[s])),Pt(he,he,(s,t,e)=>{if(s.sourcePosition.isEqual(t.sourcePosition)&&s.targetPosition.isEqual(t.targetPosition)){if(e.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),s.sourcePosition=new Q(t.graveyardPosition.root,n),s.howMany=0,[s]}return[new Se(0)]}if(s.sourcePosition.isEqual(t.sourcePosition)&&!s.targetPosition.isEqual(t.targetPosition)&&!e.bWasUndone&&"splitAtSource"!=e.abRelation){const n="$graveyard"==s.targetPosition.root.rootName,o="$graveyard"==t.targetPosition.root.rootName;if(o&&!n||(!n||o)&&e.aIsStrong){const l=t.targetPosition._getTransformedByMergeOperation(t),d=s.targetPosition._getTransformedByMergeOperation(t);return[new Bt(l,s.howMany,d,0)]}return[new Se(0)]}return s.sourcePosition.hasSameParentAs(t.targetPosition)&&(s.howMany+=t.howMany),s.sourcePosition=s.sourcePosition._getTransformedByMergeOperation(t),s.targetPosition=s.targetPosition._getTransformedByMergeOperation(t),s.graveyardPosition.isEqual(t.graveyardPosition)&&e.aIsStrong||(s.graveyardPosition=s.graveyardPosition._getTransformedByMergeOperation(t)),[s]}),Pt(he,Bt,(s,t,e)=>{const n=V._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!e.bWasUndone&&!e.forceWeakRemove&&s.deletionPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(s.sourcePosition)?[new Se(0)]:(s.sourcePosition.hasSameParentAs(t.targetPosition)&&(s.howMany+=t.howMany),s.sourcePosition.hasSameParentAs(t.sourcePosition)&&(s.howMany-=t.howMany),s.sourcePosition=s.sourcePosition._getTransformedByMoveOperation(t),s.targetPosition=s.targetPosition._getTransformedByMoveOperation(t),s.graveyardPosition.isEqual(t.targetPosition)||(s.graveyardPosition=s.graveyardPosition._getTransformedByMoveOperation(t)),[s])}),Pt(he,Et,(s,t,e)=>{if(t.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),s.deletionPosition.isEqual(t.graveyardPosition)&&(s.howMany=t.howMany)),s.targetPosition.isEqual(t.splitPosition)){const n=0!=t.howMany,o=t.graveyardPosition&&s.deletionPosition.isEqual(t.graveyardPosition);if(n||o||"mergeTargetNotMoved"==e.abRelation)return s.sourcePosition=s.sourcePosition._getTransformedBySplitOperation(t),[s]}if(s.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==e.abRelation)return s.howMany=0,s.targetPosition=s.targetPosition._getTransformedBySplitOperation(t),[s];if("mergeSameElement"==e.abRelation||s.sourcePosition.offset>0)return s.sourcePosition=t.moveTargetPosition.clone(),s.targetPosition=s.targetPosition._getTransformedBySplitOperation(t),[s]}return s.sourcePosition.hasSameParentAs(t.splitPosition)&&(s.howMany=t.splitPosition.offset),s.sourcePosition=s.sourcePosition._getTransformedBySplitOperation(t),s.targetPosition=s.targetPosition._getTransformedBySplitOperation(t),[s]}),Pt(Bt,De,(s,t)=>{const e=V._createFromPositionAndShift(s.sourcePosition,s.howMany)._getTransformedByInsertOperation(t,!1)[0];return s.sourcePosition=e.start,s.howMany=e.end.offset-e.start.offset,s.targetPosition.isEqual(t.position)||(s.targetPosition=s.targetPosition._getTransformedByInsertOperation(t)),[s]}),Pt(Bt,Bt,(s,t,e)=>{const n=V._createFromPositionAndShift(s.sourcePosition,s.howMany),o=V._createFromPositionAndShift(t.sourcePosition,t.howMany);let l,d=e.aIsStrong,h=!e.aIsStrong;if("insertBefore"==e.abRelation||"insertAfter"==e.baRelation?h=!0:"insertAfter"!=e.abRelation&&"insertBefore"!=e.baRelation||(h=!1),l=s.targetPosition.isEqual(t.targetPosition)&&h?s.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):s.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),qh(s,t)&&qh(t,s))return[t.getReversed()];if(n.containsPosition(t.targetPosition)&&n.containsRange(o,!0))return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),lo([n],l);if(o.containsPosition(s.targetPosition)&&o.containsRange(n,!0))return n.start=n.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),n.end=n.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),lo([n],l);const m=je(s.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==m||"extension"==m)return n.start=n.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),n.end=n.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),lo([n],l);"remove"!=s.type||"remove"==t.type||e.aWasUndone||e.forceWeakRemove?"remove"==s.type||"remove"!=t.type||e.bWasUndone||e.forceWeakRemove||(d=!1):d=!0;const g=[],b=n.getDifference(o);for(const v of b){v.start=v.start._getTransformedByDeletion(t.sourcePosition,t.howMany),v.end=v.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const w="same"==je(v.start.getParentPath(),t.getMovedRangeStart().getParentPath()),A=v._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,w);g.push(...A)}const k=n.getIntersection(o);return null!==k&&d&&(k.start=k.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),k.end=k.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===g.length?g.push(k):1==g.length?o.start.isBefore(n.start)||o.start.isEqual(n.start)?g.unshift(k):g.push(k):g.splice(1,0,k)),0===g.length?[new Se(s.baseVersion)]:lo(g,l)}),Pt(Bt,Et,(s,t,e)=>{let n=s.targetPosition.clone();s.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=e.abRelation||(n=s.targetPosition._getTransformedBySplitOperation(t));const o=V._createFromPositionAndShift(s.sourcePosition,s.howMany);if(o.end.isEqual(t.insertionPosition))return t.graveyardPosition||s.howMany++,s.targetPosition=n,[s];if(o.start.hasSameParentAs(t.splitPosition)&&o.containsPosition(t.splitPosition)){let d=new V(t.splitPosition,o.end);return d=d._getTransformedBySplitOperation(t),lo([new V(o.start,t.splitPosition),d],n)}s.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==e.abRelation&&(n=t.moveTargetPosition),s.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==e.abRelation&&(n=s.targetPosition);const l=[o._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const d=o.start.isEqual(t.graveyardPosition)||o.containsPosition(t.graveyardPosition);s.howMany>1&&d&&!e.aWasUndone&&l.push(V._createFromPositionAndShift(t.insertionPosition,1))}return lo(l,n)}),Pt(Bt,he,(s,t,e)=>{const n=V._createFromPositionAndShift(s.sourcePosition,s.howMany);if(t.deletionPosition.hasSameParentAs(s.sourcePosition)&&n.containsPosition(t.sourcePosition))if("remove"!=s.type||e.forceWeakRemove){if(1==s.howMany)return e.bWasUndone?(s.sourcePosition=t.graveyardPosition.clone(),s.targetPosition=s.targetPosition._getTransformedByMergeOperation(t),[s]):[new Se(0)]}else if(!e.aWasUndone){const l=[];let d=t.graveyardPosition.clone(),h=t.targetPosition._getTransformedByMergeOperation(t);s.howMany>1&&(l.push(new Bt(s.sourcePosition,s.howMany-1,s.targetPosition,0)),d=d._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany-1),h=h._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany-1));const m=t.deletionPosition._getCombined(s.sourcePosition,s.targetPosition),g=new Bt(d,1,m,0),b=g.getMovedRangeStart().path.slice();b.push(0);const k=new Q(g.targetPosition.root,b);h=h._getTransformedByMove(d,m,1);const v=new Bt(h,t.howMany,k,0);return l.push(g),l.push(v),l}const o=V._createFromPositionAndShift(s.sourcePosition,s.howMany)._getTransformedByMergeOperation(t);return s.sourcePosition=o.start,s.howMany=o.end.offset-o.start.offset,s.targetPosition=s.targetPosition._getTransformedByMergeOperation(t),[s]}),Pt(Xe,De,(s,t)=>(s.position=s.position._getTransformedByInsertOperation(t),[s])),Pt(Xe,he,(s,t)=>s.position.isEqual(t.deletionPosition)?(s.position=t.graveyardPosition.clone(),s.position.stickiness="toNext",[s]):(s.position=s.position._getTransformedByMergeOperation(t),[s])),Pt(Xe,Bt,(s,t)=>(s.position=s.position._getTransformedByMoveOperation(t),[s])),Pt(Xe,Xe,(s,t,e)=>{if(s.position.isEqual(t.position)){if(!e.aIsStrong)return[new Se(0)];s.oldName=t.newName}return[s]}),Pt(Xe,Et,(s,t)=>{if("same"==je(s.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){const e=new Xe(s.position.getShiftedBy(1),s.oldName,s.newName,0);return[s,e]}return s.position=s.position._getTransformedBySplitOperation(t),[s]}),Pt(bn,bn,(s,t,e)=>{if(s.root===t.root&&s.key===t.key){if(!e.aIsStrong||s.newValue===t.newValue)return[new Se(0)];s.oldValue=t.newValue}return[s]}),Pt(Et,De,(s,t)=>(s.splitPosition.hasSameParentAs(t.position)&&s.splitPosition.offset<t.position.offset&&(s.howMany+=t.howMany),s.splitPosition=s.splitPosition._getTransformedByInsertOperation(t),s.insertionPosition=s.insertionPosition._getTransformedByInsertOperation(t),[s])),Pt(Et,he,(s,t,e)=>{if(!s.graveyardPosition&&!e.bWasUndone&&s.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const o=new Q(t.graveyardPosition.root,n),l=Et.getInsertionPosition(new Q(t.graveyardPosition.root,n)),d=new Et(o,0,l,null,0);return s.splitPosition=s.splitPosition._getTransformedByMergeOperation(t),s.insertionPosition=Et.getInsertionPosition(s.splitPosition),s.graveyardPosition=d.insertionPosition.clone(),s.graveyardPosition.stickiness="toNext",[d,s]}return s.splitPosition.hasSameParentAs(t.deletionPosition)&&!s.splitPosition.isAfter(t.deletionPosition)&&s.howMany--,s.splitPosition.hasSameParentAs(t.targetPosition)&&(s.howMany+=t.howMany),s.splitPosition=s.splitPosition._getTransformedByMergeOperation(t),s.insertionPosition=Et.getInsertionPosition(s.splitPosition),s.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedByMergeOperation(t)),[s]}),Pt(Et,Bt,(s,t,e)=>{const n=V._createFromPositionAndShift(t.sourcePosition,t.howMany);if(s.graveyardPosition){const l=n.start.isEqual(s.graveyardPosition)||n.containsPosition(s.graveyardPosition);if(!e.bWasUndone&&l){const d=s.splitPosition._getTransformedByMoveOperation(t),h=s.graveyardPosition._getTransformedByMoveOperation(t),m=h.path.slice();m.push(0);const g=new Q(h.root,m);return[new Bt(d,s.howMany,g,0)]}s.graveyardPosition=s.graveyardPosition._getTransformedByMoveOperation(t)}const o=s.splitPosition.isEqual(t.targetPosition);if(o&&("insertAtSource"==e.baRelation||"splitBefore"==e.abRelation))return s.howMany+=t.howMany,s.splitPosition=s.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),s.insertionPosition=Et.getInsertionPosition(s.splitPosition),[s];if(o&&e.abRelation&&e.abRelation.howMany){const{howMany:l,offset:d}=e.abRelation;return s.howMany+=l,s.splitPosition=s.splitPosition.getShiftedBy(d),[s]}return s.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(s.splitPosition)?(s.howMany-=t.howMany-(s.splitPosition.offset-t.sourcePosition.offset),s.splitPosition.hasSameParentAs(t.targetPosition)&&s.splitPosition.offset<t.targetPosition.offset&&(s.howMany+=t.howMany),s.splitPosition=t.sourcePosition.clone(),s.insertionPosition=Et.getInsertionPosition(s.splitPosition),[s]):(t.sourcePosition.isEqual(t.targetPosition)||(s.splitPosition.hasSameParentAs(t.sourcePosition)&&s.splitPosition.offset<=t.sourcePosition.offset&&(s.howMany-=t.howMany),s.splitPosition.hasSameParentAs(t.targetPosition)&&s.splitPosition.offset<t.targetPosition.offset&&(s.howMany+=t.howMany)),s.splitPosition.stickiness="toNone",s.splitPosition=s.splitPosition._getTransformedByMoveOperation(t),s.splitPosition.stickiness="toNext",s.insertionPosition=s.graveyardPosition?s.insertionPosition._getTransformedByMoveOperation(t):Et.getInsertionPosition(s.splitPosition),[s])}),Pt(Et,Et,(s,t,e)=>{if(s.splitPosition.isEqual(t.splitPosition)){if(!s.graveyardPosition&&!t.graveyardPosition)return[new Se(0)];if(s.graveyardPosition&&t.graveyardPosition&&s.graveyardPosition.isEqual(t.graveyardPosition))return[new Se(0)];if("splitBefore"==e.abRelation)return s.howMany=0,s.graveyardPosition=s.graveyardPosition._getTransformedBySplitOperation(t),[s]}if(s.graveyardPosition&&t.graveyardPosition&&s.graveyardPosition.isEqual(t.graveyardPosition)){const n="$graveyard"==s.splitPosition.root.rootName,o="$graveyard"==t.splitPosition.root.rootName;if(o&&!n||(!n||o)&&e.aIsStrong){const l=[];return t.howMany&&l.push(new Bt(t.moveTargetPosition,t.howMany,t.splitPosition,0)),s.howMany&&l.push(new Bt(s.splitPosition,s.howMany,s.moveTargetPosition,0)),l}return[new Se(0)]}if(s.graveyardPosition&&(s.graveyardPosition=s.graveyardPosition._getTransformedBySplitOperation(t)),s.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==e.abRelation)return s.howMany++,[s];if(t.splitPosition.isEqual(s.insertionPosition)&&"splitBefore"==e.baRelation){const n=t.insertionPosition.path.slice();n.push(0);const o=new Q(t.insertionPosition.root,n);return[s,new Bt(s.insertionPosition,1,o,0)]}return s.splitPosition.hasSameParentAs(t.splitPosition)&&s.splitPosition.offset<t.splitPosition.offset&&(s.howMany-=t.howMany),s.splitPosition=s.splitPosition._getTransformedBySplitOperation(t),s.insertionPosition=Et.getInsertionPosition(s.splitPosition),[s]});class Re extends(ot(Q)){constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new M("model-liveposition-root-not-rootelement",t);vk.call(this)}detach(){this.stopListening()}toPosition(){return new Q(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function vk(){this.listenTo(this.root.document.model,"applyOperation",(s,t)=>{const e=t[0];e.isDocumentOperation&&wk.call(this,e)},{priority:"low"})}function wk(s){const t=this.getTransformedByOperation(s);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}Re.prototype.is=function(s){return"livePosition"===s||"model:livePosition"===s||"position"==s||"model:position"===s};class $o{constructor(t={}){"string"==typeof t&&(t="transparent"===t?{isUndoable:!1}:{},bt("batch-constructor-deprecated-string-type"));const{isUndoable:e=!0,isLocal:n=!0,isUndo:o=!1,isTyping:l=!1}=t;this.operations=[],this.isUndoable=e,this.isLocal=n,this.isUndo=o,this.isTyping=l}get type(){return bt("batch-type-deprecated"),"default"}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class Ck{constructor(t){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=t}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(t){const e=t;switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const n of e.range.getItems({shallow:!0}))this._isInInsertedElement(n.parent)||this._markAttribute(n);break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;const n=this._isInInsertedElement(e.sourcePosition.parent),o=this._isInInsertedElement(e.targetPosition.parent);n||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),o||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);const n=V._createFromPositionAndShift(e.position,1);for(const o of this._markerCollection.getMarkersIntersectingRange(n)){const l=o.getData();this.bufferMarkerChange(o.name,l,l)}break}case"split":{const n=e.splitPosition.parent;this._isInInsertedElement(n)||this._markRemove(n,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{const n=e.sourcePosition.parent;this._isInInsertedElement(n.parent)||this._markRemove(n.parent,n.startOffset,1),this._markInsert(e.graveyardPosition.parent,e.graveyardPosition.offset,1);const l=e.targetPosition.parent;this._isInInsertedElement(l)||this._markInsert(l,e.targetPosition.offset,n.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n){const o=this._changedMarkers.get(t);o?(o.newMarkerData=n,null==o.oldMarkerData.range&&null==n.range&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{newMarkerData:n,oldMarkerData:e})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldMarkerData.range&&t.push({name:e,range:n.oldMarkerData.range});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newMarkerData.range&&t.push({name:e,range:n.newMarkerData.range});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(([t,e])=>({name:t,data:{oldRange:e.oldMarkerData.range,newRange:e.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:t,oldMarkerData:e}of this._changedMarkers.values()){if(t.affectsData!==e.affectsData)return!0;if(t.affectsData){const n=t.range&&!e.range,o=!t.range&&e.range,l=t.range&&e.range&&!t.range.isEqual(e.range);if(n||o||l)return!0}}return!1}getChanges(t={}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let e=[];for(const n of this._changesInElement.keys()){const o=this._changesInElement.get(n).sort((b,k)=>b.offset===k.offset?b.type!=k.type?"remove"==b.type?-1:1:0:b.offset<k.offset?-1:1),l=this._elementSnapshots.get(n),d=Qh(n.getChildren()),h=yk(l.length,o);let m=0,g=0;for(const b of h)if("i"===b)e.push(this._getInsertDiff(n,m,d[m])),m++;else if("r"===b)e.push(this._getRemoveDiff(n,m,l[g])),g++;else if("a"===b){const k=d[m].attributes,v=l[g].attributes;let w;if("$text"==d[m].name)w=new V(Q._createAt(n,m),Q._createAt(n,m+1));else{const A=n.offsetToIndex(m);w=new V(Q._createAt(n,m),Q._createAt(n.getChild(A),0))}e.push(...this._getAttributesDiff(w,v,k)),m++,g++}else m++,g++}e.sort((n,o)=>n.position.root!=o.position.root?n.position.root.rootName<o.position.root.rootName?-1:1:n.position.isEqual(o.position)?n.changeCount-o.changeCount:n.position.isBefore(o.position)?-1:1);for(let n=1,o=0;n<e.length;n++){const l=e[o],d=e[n],h="remove"==l.type&&"remove"==d.type&&"$text"==l.name&&"$text"==d.name&&l.position.isEqual(d.position),m="insert"==l.type&&"insert"==d.type&&"$text"==l.name&&"$text"==d.name&&l.position.parent==d.position.parent&&l.position.offset+l.length==d.position.offset,g="attribute"==l.type&&"attribute"==d.type&&l.position.parent==d.position.parent&&l.range.isFlat&&d.range.isFlat&&l.position.offset+l.length==d.position.offset&&l.attributeKey==d.attributeKey&&l.attributeOldValue==d.attributeOldValue&&l.attributeNewValue==d.attributeNewValue;h||m||g?(l.length++,g&&(l.range.end=l.range.end.getShiftedBy(1)),e[n]=null):o=n}e=e.filter(n=>n);for(const n of e)delete n.changeCount,"attribute"==n.type&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e,this._cachedChanges=e.filter(Ak),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize),this._refreshedItems.add(t);const e=V._createOn(t);for(const n of this._markerCollection.getMarkersIntersectingRange(e)){const o=n.getData();this.bufferMarkerChange(n.name,o,o)}this._cachedChanges=null}_markInsert(t,e,n){const o={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,o)}_markRemove(t,e,n){const o={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,o),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let o=0;o<n.length;o++)n[o].howMany<1&&(n.splice(o,1),o--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,Qh(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const o=t.offset+t.howMany,l=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<l&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<l){const d=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:o,howMany:d-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(o<=n.offset)n.offset-=t.howMany;else if(o<=l)if(t.offset<n.offset){const d=o-n.offset;n.offset=t.offset,n.howMany-=d,t.nodesToHandle-=d}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<l){const d=l-t.offset;n.howMany-=d,t.nodesToHandle-=d}if("remove"==n.type&&(o<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(o<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const d=o-n.offset;n.offset=t.offset,n.howMany-=d}else if(t.offset<l)if(o<=l){const d=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:t.offset,howMany:d-n.howMany-t.nodesToHandle,count:this._changeCount++})}else n.howMany-=l-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&o>n.offset){if(o>l){const d={type:"attribute",offset:l,howMany:o-l,count:this._changeCount++};this._handleChange(d,e),e.push(d)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<l&&(o>l?(t.nodesToHandle=o-l,t.offset=l):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&o>n.offset){const d={type:"attribute",offset:n.offset,howMany:o-n.offset,count:this._changeCount++};this._handleChange(d,e),e.push(d),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&o<=l?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&o>=l&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:Q._createAt(t,e),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:Q._createAt(t,e),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const o=[];n=new Map(n);for(const[l,d]of e){const h=n.has(l)?n.get(l):null;h!==d&&o.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:l,attributeOldValue:d,attributeNewValue:h,changeCount:this._changeCount++}),n.delete(l)}for(const[l,d]of n)o.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:l,attributeOldValue:null,attributeNewValue:d,changeCount:this._changeCount++});return o}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),o=t.startOffset;if(n)for(const l of n)if("insert"==l.type&&o>=l.offset&&o<l.offset+l.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const o=new V(Q._createAt(t,e),Q._createAt(t,e+n));for(const l of o.getItems({shallow:!0}))l.is("element")&&(this._elementSnapshots.delete(l),this._changesInElement.delete(l),this._removeAllNestedChanges(l,0,l.maxOffset))}}function Qh(s){const t=[];for(const e of s)if(e.is("$text"))for(let n=0;n<e.data.length;n++)t.push({name:"$text",attributes:new Map(e.getAttributes())});else t.push({name:e.name,attributes:new Map(e.getAttributes())});return t}function yk(s,t){const e=[];let n=0,o=0;for(const l of t){if(l.offset>n){for(let d=0;d<l.offset-n;d++)e.push("e");o+=l.offset-n}if("insert"==l.type){for(let d=0;d<l.howMany;d++)e.push("i");n=l.offset+l.howMany}else if("remove"==l.type){for(let d=0;d<l.howMany;d++)e.push("r");n=l.offset,o+=l.howMany}else e.push(..."a".repeat(l.howMany).split("")),n=l.offset+l.howMany,o+=l.howMany}if(o<s)for(let l=0;l<s-o-n;l++)e.push("e");return e}function Ak(s){return!("position"in s&&"$graveyard"==s.position.root.rootName||"range"in s&&"$graveyard"==s.range.root.rootName)}class xk{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(t){this._operations.length&&t>this._version+1&&this._gaps.set(this._version,t),this._version=t}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(t){if(t.baseVersion!==this.version)throw new M("model-document-history-addoperation-incorrect-version",this,{operation:t,historyVersion:this.version});this._operations.push(t),this._version++,this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1)}getOperations(t,e=this.version){if(!this._operations.length)return[];const n=this._operations[0];void 0===t&&(t=n.baseVersion);let o=e-1;for(const[h,m]of this._gaps)t>h&&t<m&&(t=m),o>h&&o<m&&(o=h-1);if(o<n.baseVersion||t>this.lastOperation.baseVersion)return[];let l=this._baseVersionToOperationIndex.get(t);void 0===l&&(l=0);let d=this._baseVersionToOperationIndex.get(o);return void 0===d&&(d=this._operations.length-1),this._operations.slice(l,d+1)}getOperation(t){const e=this._baseVersionToOperationIndex.get(t);if(void 0!==e)return this._operations[e]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class ma extends Zt{constructor(t,e,n="main"){super(e),this._document=t,this.rootName=n}get document(){return this._document}toJSON(){return this.rootName}}ma.prototype.is=function(s,t){return t?t===this.name&&("rootElement"===s||"model:rootElement"===s||"element"===s||"model:element"===s):"rootElement"===s||"model:rootElement"===s||"element"===s||"model:element"===s||"node"===s||"model:node"===s};const fc="$graveyard";class Us extends(ot()){constructor(t){super(),this.model=t,this.history=new xk,this.selection=new Ci(this),this.roots=new Di({idProperty:"rootName"}),this.differ=new Ck(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",fc),this.listenTo(t,"applyOperation",(e,n)=>{const o=n[0];o.isDocumentOperation&&this.differ.bufferOperation(o)},{priority:"high"}),this.listenTo(t,"applyOperation",(e,n)=>{const o=n[0];o.isDocumentOperation&&this.history.addOperation(o)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(e,n,o,l,d)=>{const h={...n.getData(),range:l};this.differ.bufferMarkerChange(n.name,d,h),null===o&&n.on("change",(m,g)=>{const b=n.getData();this.differ.bufferMarkerChange(n.name,{...b,range:g},b)})})}get version(){return this.history.version}set version(t){this.history.version=t}get graveyard(){return this.getRoot(fc)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new M("model-document-createroot-name-exists",this,{name:e});const n=new ma(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>t!=fc)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Ml(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,o=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(o)||e.createRange(o)}_validateSelectionRange(t){return Yh(t.start)&&Yh(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),e=n(t),e)break}while(e)}}function Yh(s){const t=s.textNode;if(t){const e=t.data,n=s.offset-t.startOffset;return!mu(e,n)&&!pu(e,n)}return!0}class Tk extends(ot()){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t instanceof En?t.name:t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,o=!1){const l=t instanceof En?t.name:t;if(l.includes(","))throw new M("markercollection-incorrect-marker-name",this);const d=this._markers.get(l);if(d){const g=d.getData(),b=d.getRange();let k=!1;return b.isEqual(e)||(d._attachLiveRange(li.fromRange(e)),k=!0),n!=d.managedUsingOperations&&(d._managedUsingOperations=n,k=!0),"boolean"==typeof o&&o!=d.affectsData&&(d._affectsData=o,k=!0),k&&this.fire(`update:${l}`,d,b,e,g),d}const h=li.fromRange(e),m=new En(l,h,n,o);return this._markers.set(l,m),this.fire(`update:${l}`,m,null,e,{...m.getData(),range:null}),m}_remove(t){const e=t instanceof En?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire(`update:${e}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof En?t.name:t,n=this._markers.get(e);if(!n)throw new M("markercollection-refresh-marker-not-exists",this);const o=n.getRange();this.fire(`update:${e}`,n,o,o,n.getData())}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}class En extends(ot(Pi)){constructor(t,e,n,o){super(),this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new M("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}En.prototype.is=function(s){return"marker"===s||"model:marker"===s};class Dk extends di{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new M("detach-operation-on-document-node",this)}_execute(){ui(V._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class kn extends Pi{constructor(t){super(),this.markers=new Map,this._children=new Ls,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}getAncestors(){return[]}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)e.push(n.name?Zt.fromJSON(n):Ut.fromJSON(n));return new kn(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n="string"==typeof(o=e)?[new Ut(o)]:(ti(o)||(o=[o]),Array.from(o).map(l=>"string"==typeof l?new Ut(l):l instanceof Ri?new Ut(l.data,l.getAttributes()):l));var o;for(const o of n)null!==o.parent&&o._remove(),o.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const o of n)o.parent=null;return n}}kn.prototype.is=function(s){return"documentFragment"===s||"model:documentFragment"===s};class Sk{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new Ut(t,e)}createElement(t,e){return new Zt(t,e)}createDocumentFragment(){return new kn}cloneElement(t,e=!0){return t._clone(e)}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof Ut&&""==t.data)return;const o=Q._createAt(e,n);if(t.parent){if(Wh(t.root,o.root))return void this.move(V._createOn(t),o);if(t.root.document)throw new M("model-writer-insert-forbidden-move",this);this.remove(t)}const d=new De(o,t,o.root.document?o.root.document.version:null);if(t instanceof Ut&&(d.shouldReceiveAttributes=!0),this.batch.addOperation(d),this.model.applyOperation(d),t instanceof kn)for(const[h,m]of t.markers){const g=Q._createAt(m.root,0),b={range:new V(m.start._getCombined(g,o),m.end._getCombined(g,o)),usingOperation:!0,affectsData:!0};this.model.markers.has(h)?this.updateMarker(h,b):this.addMarker(h,b)}}insertText(t,e,n,o){e instanceof kn||e instanceof Zt||e instanceof Q?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,o)}insertElement(t,e,n,o){e instanceof kn||e instanceof Zt||e instanceof Q?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,o)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof kn||e instanceof Zt?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof kn||e instanceof Zt?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof V){const o=n.getMinimalFlatRanges();for(const l of o)Jh(this,t,e,l)}else Gh(this,t,e,n)}setAttributes(t,e){for(const[n,o]of Qi(t))this.setAttribute(n,o,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof V){const n=e.getMinimalFlatRanges();for(const o of n)Jh(this,t,null,o)}else Gh(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=n=>{for(const o of n.getAttributeKeys())this.removeAttribute(o,n)};if(t instanceof V)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof V))throw new M("writer-move-invalid-range",this);if(!t.isFlat)throw new M("writer-move-range-not-flat",this);const o=Q._createAt(e,n);if(o.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!Wh(t.root,o.root))throw new M("writer-move-different-document",this);const d=new Bt(t.start,t.end.offset-t.start.offset,o,t.root.document?t.root.document.version:null);this.batch.addOperation(d),this.model.applyOperation(d)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof V?t:V._createOn(t)).getMinimalFlatRanges().reverse();for(const n of e)this._addOperationForAffectedMarkers("move",n),Ek(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof Zt))throw new M("writer-merge-no-element-before",this);if(!(n instanceof Zt))throw new M("writer-merge-no-element-after",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(...t){return this.model.createSelection(...t)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(V._createIn(n),Q._createAt(e,"end")),this.remove(n)}_merge(t){const e=Q._createAt(t.nodeBefore,"end"),n=Q._createAt(t.nodeAfter,0),l=new Q(t.root.document.graveyard,[0]),h=new he(n,t.nodeAfter.maxOffset,e,l,t.root.document.version);this.batch.addOperation(h),this.model.applyOperation(h)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof Zt))throw new M("writer-rename-not-element-instance",this);const n=t.root.document?t.root.document.version:null,o=new Xe(Q._createBefore(t),t.name,e,n);this.batch.addOperation(o),this.model.applyOperation(o)}split(t,e){this._assertWriterUsedCorrectly();let n,o,l=t.parent;if(!l.parent)throw new M("writer-split-element-no-parent",this);if(e||(e=l.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new M("writer-split-invalid-limit-element",this);do{const d=l.root.document?l.root.document.version:null,h=l.maxOffset-t.offset,m=Et.getInsertionPosition(t),g=new Et(t,h,m,null,d);this.batch.addOperation(g),this.model.applyOperation(g),n||o||(n=l,o=t.parent.nextSibling),l=(t=this.createPositionAfter(t.parent)).parent}while(l!==e);return{position:t,range:new V(Q._createAt(n,"end"),Q._createAt(o,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new M("writer-wrap-range-not-flat",this);const n=e instanceof Zt?e:new Zt(e);if(n.childCount>0)throw new M("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new M("writer-wrap-element-attached",this);this.insert(n,t.start);const o=new V(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(o,Q._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new M("writer-unwrap-element-no-parent",this);this.move(V._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new M("writer-addmarker-no-usingoperation",this);const n=e.usingOperation,o=e.range,l=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new M("writer-addmarker-marker-exists",this);if(!o)throw new M("writer-addmarker-no-range",this);return n?(Zs(this,t,null,o,l),this.model.markers.get(t)):this.model.markers._set(t,o,n,l)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,o=this.model.markers.get(n);if(!o)throw new M("writer-updatemarker-marker-not-exists",this);if(!e)return bt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(o);const l="boolean"==typeof e.usingOperation,d="boolean"==typeof e.affectsData,h=d?e.affectsData:o.affectsData;if(!l&&!e.range&&!d)throw new M("writer-updatemarker-wrong-options",this);const m=o.getRange(),g=e.range?e.range:m;l&&e.usingOperation!==o.managedUsingOperations?e.usingOperation?Zs(this,n,null,g,h):(Zs(this,n,m,null,h),this.model.markers._set(n,g,void 0,h)):o.managedUsingOperations?Zs(this,n,m,g,h):this.model.markers._set(n,g,void 0,h)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new M("writer-removemarker-no-marker",this);const n=this.model.markers.get(e);n.managedUsingOperations?Zs(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}setSelection(...t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...t)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[n,o]of Qi(t))this._setSelectionAttribute(n,o)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const o=Ci._getStoreAttributeKey(t);this.setAttribute(o,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=Ci._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new M("writer-incorrect-use",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const o=n.getRange();let l=!1;if("move"===t){const d=e;l=d.containsPosition(o.start)||d.start.isEqual(o.start)||d.containsPosition(o.end)||d.end.isEqual(o.end)}else{const m=e.nodeAfter,b=o.end.parent==m&&0==o.end.offset,k=o.end.nodeAfter==m,v=o.start.nodeAfter==m;l=o.start.parent==e.nodeBefore&&o.start.isAtEnd||b||k||v}l&&this.updateMarker(n.name,{range:o})}}}function Jh(s,t,e,n){const o=s.model,l=o.document;let d,h,m,g=n.start;for(const k of n.getWalker({shallow:!0}))m=k.item.getAttribute(t),d&&h!=m&&(h!=e&&b(),g=d),d=k.nextPosition,h=m;function b(){const k=new V(g,d),w=new Mt(k,t,h,e,k.root.document?l.version:null);s.batch.addOperation(w),o.applyOperation(w)}d instanceof Q&&d!=g&&h!=e&&b()}function Gh(s,t,e,n){const o=s.model,l=o.document,d=n.getAttribute(t);let h,m;d!=e&&(n.root===n?m=new bn(n,t,d,e,n.document?l.version:null):(h=new V(Q._createBefore(n),s.createPositionAfter(n)),m=new Mt(h,t,d,e,h.root.document?l.version:null)),s.batch.addOperation(m),o.applyOperation(m))}function Zs(s,t,e,n,o){const l=s.model,h=new Ke(t,e,n,l.markers,!!o,l.document.version);s.batch.addOperation(h),l.applyOperation(h)}function Ek(s,t,e,n){let o;if(s.root.document){const l=n.document,d=new Q(l.graveyard,[0]);o=new Bt(s,t,d,l.version)}else o=new Dk(s,t);e.addOperation(o),n.applyOperation(o)}function Wh(s,t){return s===t||s instanceof ma&&t instanceof ma}function bc(s,t){return s.isCollapsed?function(e,n){const o=e.start,l=n.getNearestSelectionRange(o);if(!l){const h=o.getAncestors().reverse().find(m=>n.isObject(m));return h?V._createOn(h):null}if(!l.isCollapsed)return l;const d=l.start;return o.isEqual(d)?null:new V(d)}(s,t):function(e,n){const{start:o,end:l}=e,d=n.checkChild(o,"$text"),h=n.checkChild(l,"$text"),m=n.getLimitElement(o),g=n.getLimitElement(l);if(m===g){if(d&&h)return null;if(function(v,w,A){const T=v.nodeAfter&&!A.isLimit(v.nodeAfter)||A.checkChild(v,"$text"),E=w.nodeBefore&&!A.isLimit(w.nodeBefore)||A.checkChild(w,"$text");return T||E}(o,l,n)){const v=o.nodeAfter&&n.isSelectable(o.nodeAfter)?null:n.getNearestSelectionRange(o,"forward"),w=l.nodeBefore&&n.isSelectable(l.nodeBefore)?null:n.getNearestSelectionRange(l,"backward");return new V(v?v.start:o,w?w.end:l)}}const b=m&&!m.is("rootElement"),k=g&&!g.is("rootElement");if(b||k){const v=o.nodeAfter&&l.nodeBefore&&o.nodeAfter.parent===l.nodeBefore.parent,w=b&&(!v||!Xh(o.nodeAfter,n)),A=k&&(!v||!Xh(l.nodeBefore,n));let T=o,E=l;return w&&(T=Q._createBefore(Kh(m,n))),A&&(E=Q._createAfter(Kh(g,n))),new V(T,E)}return null}(s,t)}function Kh(s,t){let e=s,n=e;for(;t.isLimit(n)&&n.parent;)e=n,n=n.parent;return e}function Xh(s,t){return s&&t.isSelectable(s)}function Mk(s,t,e={}){if(t.isCollapsed)return;const n=t.getFirstRange();if("$graveyard"==n.root.rootName)return;const o=s.schema;s.change(l=>{if(!e.doNotResetEntireContent&&function(g,b){const k=g.getLimitElement(b);if(!b.containsEntireContent(k))return!1;const v=b.getFirstRange();return v.start.parent!=v.end.parent&&g.checkChild(k,"paragraph")}(o,t))return void function(g,b){const k=g.model.schema.getLimitElement(b);g.remove(g.createRangeIn(k)),em(g,g.createPositionAt(k,0),b)}(l,t);const d={};if(!e.doNotAutoparagraph){const g=t.getSelectedElement();g&&Object.assign(d,o.getAttributesWithProperty(g,"copyOnReplace",!0))}const[h,m]=function(g){const b=g.root.document.model,k=g.start;let v=g.end;if(b.hasContent(g,{ignoreMarkers:!0})){const w=function(A){const T=A.parent,E=T.root.document.model.schema,R=T.getAncestors({parentFirst:!0,includeSelf:!0});for(const N of R){if(E.isLimit(N))return null;if(E.isBlock(N))return N}}(v);if(w&&v.isTouching(b.createPositionAt(w,0))){const A=b.createSelection(g);b.modifySelection(A,{direction:"backward"});const T=A.getLastPosition(),E=b.createRange(T,v);b.hasContent(E,{ignoreMarkers:!0})||(v=T)}}return[Re.fromPosition(k,"toPrevious"),Re.fromPosition(v,"toNext")]}(n);h.isTouching(m)||l.remove(l.createRange(h,m)),e.leaveUnmerged||(function(g,b,k){const v=g.model;if(!kc(g.model.schema,b,k))return;const[w,A]=function(T,E){const R=T.getAncestors(),N=E.getAncestors();let q=0;for(;R[q]&&R[q]==N[q];)q++;return[R[q],N[q]]}(b,k);!w||!A||(!v.hasContent(w,{ignoreMarkers:!0})&&v.hasContent(A,{ignoreMarkers:!0})?tm(g,b,k,w.parent):Uo(g,b,k,w.parent))}(l,h,m),o.removeDisallowedAttributes(h.parent.getChildren(),l)),Ht(l,t,h),!e.doNotAutoparagraph&&function(g,b){const k=g.checkChild(b,"$text"),v=g.checkChild(b,"paragraph");return!k&&v}(o,h)&&em(l,h,t,d),h.detach(),m.detach()})}function Uo(s,t,e,n){const o=t.parent,l=e.parent;if(o!=n&&l!=n){for(t=s.createPositionAfter(o),(e=s.createPositionBefore(l)).isEqual(t)||s.insert(l,t),s.merge(t);e.parent.isEmpty;){const d=e.parent;e=s.createPositionBefore(d),s.remove(d)}kc(s.model.schema,t,e)&&Uo(s,t,e,n)}}function tm(s,t,e,n){const o=t.parent,l=e.parent;if(o!=n&&l!=n){for(t=s.createPositionAfter(o),(e=s.createPositionBefore(l)).isEqual(t)||s.insert(o,e);t.parent.isEmpty;){const d=t.parent;t=s.createPositionBefore(d),s.remove(d)}e=s.createPositionBefore(l),function(d,h){const m=h.nodeBefore,g=h.nodeAfter;m.name!=g.name&&d.rename(m,g.name),d.clearAttributes(m),d.setAttributes(Object.fromEntries(g.getAttributes()),m),d.merge(h)}(s,e),kc(s.model.schema,t,e)&&tm(s,t,e,n)}}function kc(s,t,e){const n=t.parent,o=e.parent;return n!=o&&!s.isLimit(n)&&!s.isLimit(o)&&function(l,d,h){const m=new V(l,d);for(const g of m.getWalker())if(h.isLimit(g.item))return!1;return!0}(t,e,s)}function em(s,t,e,n={}){const o=s.createElement("paragraph");s.model.schema.setAllowedAttributes(o,n,s),s.insert(o,t),Ht(s,e,s.createPositionAt(o,0))}function Ht(s,t,e){t instanceof Ci?s.setSelection(e):t.setTo(e)}function _c(s,t){const e=[];Array.from(s.getItems({direction:"backward"})).map(n=>t.createRangeOn(n)).filter(n=>(n.start.isAfter(s.start)||n.start.isEqual(s.start))&&(n.end.isBefore(s.end)||n.end.isEqual(s.end))).forEach(n=>{e.push(n.start.parent),t.remove(n)}),e.forEach(n=>{let o=n;for(;o.parent&&o.isEmpty;){const l=t.createRangeOn(o);o=o.parent,t.remove(l)}})}class Pk{constructor(t,e,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._documentFragment=e.createDocumentFragment(),this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0)}handleNodes(t){for(const e of Array.from(t))this._handleNode(e);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(t){const e=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(t);if(n.isAfter(e)){if(this._lastNode=t,this.position.parent!=t||!this.position.isAtEnd)throw new M("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?V._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new V(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t){if(this.schema.isObject(t))return void this._handleObject(t);let e=this._checkAndAutoParagraphToAllowedPosition(t);e||(e=this._checkAndSplitToAllowedPosition(t),e)?(this._appendToFragment(t),this._firstNode||(this._firstNode=t),this._lastNode=t):this._handleDisallowedNode(t)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const t=Re.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=t.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=t.toPosition(),t.detach()}_handleObject(t){this._checkAndSplitToAllowedPosition(t)?this._appendToFragment(t):this._tryAutoparagraphing(t)}_handleDisallowedNode(t){t.is("element")?this.handleNodes(t.getChildren()):this._tryAutoparagraphing(t)}_appendToFragment(t){if(!this.schema.checkChild(this.position,t))throw new M("insertcontent-wrong-position",this,{node:t,position:this.position});this.writer.insert(t,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize),this._nodeToSelect=this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?t:null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Re.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Re.fromPosition(t,"toNext"))}_mergeOnLeft(){const t=this._firstNode;if(!(t instanceof Zt&&this._canMergeLeft(t)))return;const e=Re._createBefore(t);e.stickiness="toNext";const n=Re.fromPosition(this.position,"toNext");this._affectedStart.isEqual(e)&&(this._affectedStart.detach(),this._affectedStart=Re._createAt(e.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Re._createAt(e.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_mergeOnRight(){const t=this._lastNode;if(!(t instanceof Zt&&this._canMergeRight(t)))return;const e=Re._createAfter(t);if(e.stickiness="toNext",!this.position.isEqual(e))throw new M("insertcontent-invalid-insertion-position",this);this.position=Q._createAt(e.nodeBefore,"end");const n=Re.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(e)&&(this._affectedEnd.detach(),this._affectedEnd=Re._createAt(e.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=e.nodeBefore,this._lastNode=e.nodeBefore),this.writer.merge(e),e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Re._createAt(e.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),e.detach()}_canMergeLeft(t){const e=t.previousSibling;return e instanceof Zt&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t)}_canMergeRight(t){const e=t.nextSibling;return e instanceof Zt&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e)}_tryAutoparagraphing(t){const e=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)&&(e._appendChild(t),this._handleNode(e))}_checkAndAutoParagraphToAllowedPosition(t){if(this.schema.checkChild(this.position.parent,t))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t))return!1;this._insertPartialFragment();const e=this.writer.createElement("paragraph");return this.writer.insert(e,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=e,this.position=this.writer.createPositionAt(e,0),!0}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(this.position.parent,t);if(!e)return!1;for(e!=this.position.parent&&this._insertPartialFragment();e!=this.position.parent;)if(this.position.isAtStart){const n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===e&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const n=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=n,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(t,e){return this.schema.checkChild(t,e)?t:this.schema.isLimit(t)?null:this._getAllowedIn(t.parent,e)}}function im(s,t,e="auto"){const n=s.getSelectedElement();if(n&&t.schema.isObject(n)&&!t.schema.isInline(n))return"before"==e||"after"==e?t.createRange(t.createPositionAt(n,e)):t.createRangeOn(n);const o=fe(s.getSelectedBlocks());if(!o)return t.createRange(s.focus);if(o.isEmpty)return t.createRange(t.createPositionAt(o,0));const l=t.createPositionAfter(o);return s.focus.isTouching(l)?t.createRange(l):t.createRange(t.createPositionBefore(o))}function Lk(s,t){const{isForward:e,walker:n,unit:o,schema:l,treatEmojiAsSingleUnit:d}=s,{type:h,item:m,nextPosition:g}=t;if("text"==h)return"word"===s.unit?function(b,k){let v=b.position.textNode;for(v||(v=k?b.position.nodeAfter:b.position.nodeBefore);v&&v.is("$text");){const w=b.position.offset-v.startOffset;if(zk(v,w,k))v=k?b.position.nodeAfter:b.position.nodeBefore;else{if(Ok(v.data,w,k))break;b.next()}}return b.position}(n,e):function(b,k,v){const w=b.position.textNode;if(w){const A=w.data;let T=b.position.offset-w.startOffset;for(;mu(A,T)||"character"==k&&pu(A,T)||v&&ib(A,T);)b.next(),T=b.position.offset-w.startOffset}return b.position}(n,o,d);if(h==(e?"elementStart":"elementEnd")){if(l.isSelectable(m))return Q._createAt(m,e?"after":"before");if(l.checkChild(g,"$text"))return g}else{if(l.isLimit(m))return void n.skip(()=>!0);if(l.checkChild(g,"$text"))return g}}function Bk(s,t){const n=Q._createAt(s.root,t?"end":0);return t?new V(s,n):new V(n,s)}function Ok(s,t,e){return' ,.?!:;"-()'.includes(s.charAt(t+(e?0:-1)))}function zk(s,t,e){return t===(e?s.offsetSize:0)}class Hs extends(zt()){constructor(){super(),this.markers=new Tk,this.document=new Us(this),this.schema=new ok,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,e)=>{e[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((t,e)=>{if("$marker"===e.name)return!0}),function Ik(s){s.document.registerPostFixer(t=>function(e,n){const o=n.document.selection,l=n.schema,d=[];let h=!1;for(const m of o.getRanges()){const g=bc(m,l);g&&!g.isEqual(m)?(d.push(g),h=!0):d.push(m)}return h&&e.setSelection(function(m){const g=[...m],b=new Set;let k=1;for(;k<g.length;){const v=g[k],w=g.slice(0,k);for(const[A,T]of w.entries())if(!b.has(A))if(v.isEqual(T))b.add(A);else if(v.isIntersecting(T)){b.add(A),b.add(k);const E=v.getJoined(T);g.push(E)}k++}return g.filter((v,w)=>!b.has(w))}(d),{backward:o.isBackward}),!1}(t,s))}(this),this.document.registerPostFixer(Oh)}change(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new $o,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(e){M.rethrowUnexpectedError(e,this)}}enqueueChange(t,e){try{t?"function"==typeof t?(e=t,t=new $o):t instanceof $o||(t=new $o(t)):t=new $o,this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(n){M.rethrowUnexpectedError(n,this)}}applyOperation(t){t._execute()}insertContent(t,e,n){return l=t,d=e,h=n,(o=this).change(m=>{let g;g=d?d instanceof ai||d instanceof Ci?d:m.createSelection(d,h):o.document.selection,g.isCollapsed||o.deleteContent(g,{doNotAutoparagraph:!0});const b=new Pk(o,m,g.anchor),k=[];let v;if(l.is("documentFragment")){if(l.markers.size){const T=[];for(const[E,R]of l.markers){const{start:N,end:q}=R,et=N.isEqual(q);T.push({position:N,name:E,isCollapsed:et},{position:q,name:E,isCollapsed:et})}T.sort(({position:E},{position:R})=>E.isBefore(R)?1:-1);for(const{position:E,name:R,isCollapsed:N}of T){let q=null,et=null;const yt=E.parent===l&&E.isAtStart,Ot=E.parent===l&&E.isAtEnd;yt||Ot?N&&(et=yt?"start":"end"):(q=m.createElement("$marker"),m.insert(q,E)),k.push({name:R,element:q,collapsed:et})}}v=l.getChildren()}else v=[l];b.handleNodes(v);let w=b.getSelectionRange();if(l.is("documentFragment")&&k.length){const T=w?li.fromRange(w):null,E={};for(let R=k.length-1;R>=0;R--){const{name:N,element:q,collapsed:et}=k[R],yt=!E[N];if(yt&&(E[N]=[]),q){const Ot=m.createPositionAt(q,"before");E[N].push(Ot),m.remove(q)}else{const Ot=b.getAffectedRange();if(!Ot){et&&E[N].push(b.position);continue}E[N].push(et?Ot[et]:yt?Ot.start:Ot.end)}}for(const[R,[N,q]]of Object.entries(E))N&&q&&N.root===q.root&&m.addMarker(R,{usingOperation:!0,affectsData:!0,range:new V(N,q)});T&&(w=T.toRange(),T.detach())}w&&(g instanceof Ci?m.setSelection(w):g.setTo(w));const A=b.getAffectedRange()||o.createRange(g.anchor);return b.destroy(),A});var o,l,d,h}insertObject(t,e,n,o){return function Rk(s,t,e,n,o={}){if(!s.schema.isObject(t))throw new M("insertobject-element-not-an-object",s,{object:t});let l;l=e?e instanceof ai||e instanceof Ci?e:s.createSelection(e,n):s.document.selection;let d=l;o.findOptimalPosition&&s.schema.isBlock(t)&&(d=s.createSelection(im(l,s,o.findOptimalPosition)));const h=fe(l.getSelectedBlocks()),m={};return h&&Object.assign(m,s.schema.getAttributesWithProperty(h,"copyOnReplace",!0)),s.change(g=>{d.isCollapsed||s.deleteContent(d,{doNotAutoparagraph:!0});let b=t;const k=d.anchor.parent;!s.schema.checkChild(k,t)&&s.schema.checkChild(k,"paragraph")&&s.schema.checkChild("paragraph",t)&&(b=g.createElement("paragraph"),g.insert(t,b)),s.schema.setAllowedAttributes(b,m,g);const v=s.insertContent(b,d);return v.isCollapsed||o.setSelection&&function(w,A,T,E){const R=w.model;if("on"==T)return void w.setSelection(A,"on");if("after"!=T)throw new M("insertobject-invalid-place-parameter-value",R);let N=A.nextSibling;R.schema.isInline(A)?w.setSelection(A,"after"):(!(N&&R.schema.checkChild(N,"$text"))&&R.schema.checkChild(A.parent,"paragraph")&&(N=w.createElement("paragraph"),R.schema.setAllowedAttributes(N,E,w),R.insertContent(N,w.createPositionAfter(A))),N&&w.setSelection(N,0))}(g,t,o.setSelection,m),v})}(this,t,e,n,o)}deleteContent(t,e){Mk(this,t,e)}modifySelection(t,e){!function(n,o,l={}){const d=n.schema,h="backward"!=l.direction,m=l.unit?l.unit:"character",g=!!l.treatEmojiAsSingleUnit,k=new tn({boundaries:Bk(o.focus,h),singleCharacters:!0,direction:h?"forward":"backward"}),v={walker:k,schema:d,isForward:h,unit:m,treatEmojiAsSingleUnit:g};let w;for(;w=k.next();){if(w.done)return;const A=Lk(v,w.value);if(A)return void(o instanceof Ci?n.change(T=>{T.setSelectionFocus(A)}):o.setFocus(A))}}(this,t,e)}getSelectedContent(t){return function(e,n){return e.change(o=>{const l=o.createDocumentFragment(),d=n.getFirstRange();if(!d||d.isCollapsed)return l;const h=d.start.root,m=d.start.getCommonPath(d.end),g=h.getNodeByPath(m);let b;b=d.start.parent==d.end.parent?d:o.createRange(o.createPositionAt(g,d.start.path[m.length]),o.createPositionAt(g,d.end.path[m.length]+1));const k=b.end.offset-b.start.offset;for(const v of b.getItems({shallow:!0}))v.is("$textProxy")?o.appendText(v.data,v.getAttributes(),l):o.append(o.cloneElement(v,!0),l);if(b!=d){const v=d._getTransformedByMove(b.start,o.createPositionAt(l,0),k)[0],w=o.createRange(o.createPositionAt(l,0),v.start);_c(o.createRange(v.end,o.createPositionAt(l,"end")),o),_c(w,o)}return l})}(this,t)}hasContent(t,e={}){const n=t instanceof V?t:V._createIn(t);if(n.isCollapsed)return!1;const{ignoreWhitespaces:o=!1,ignoreMarkers:l=!1}=e;if(!l)for(const d of this.markers.getMarkersIntersectingRange(n))if(d.affectsData)return!0;for(const d of n.getItems())if(this.schema.isContent(d)&&(!d.is("$textProxy")||!o||-1!==d.data.search(/\S/)))return!0;return!1}createPositionFromPath(t,e,n){return new Q(t,e,n)}createPositionAt(t,e){return Q._createAt(t,e)}createPositionAfter(t){return Q._createAfter(t)}createPositionBefore(t){return Q._createBefore(t)}createRange(t,e){return new V(t,e)}createRangeIn(t){return V._createIn(t)}createRangeOn(t){return V._createOn(t)}createSelection(...t){return new ai(...t)}createBatch(t){return new $o(t)}createOperationFromJSON(t){return class $h{static fromJSON(t,e){return Li[t.__className].fromJSON(t,e)}}.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){this._currentWriter=new Sk(this,this._pendingChanges[0].batch);const n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return t}}class Fk extends ri{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}class vc extends ri{constructor(t){super(t),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(t){this.fire(t.type,t)}}class Zo{constructor(t){this.document=t}createDocumentFragment(t){return new be(this.document,t)}createElement(t,e,n){return new ni(this.document,t,e,n)}createText(t){return new Ft(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const o=n.getChildIndex(t);return this.removeChildren(o,1,n),this.insertChild(o,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new ni(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){Qe(t)&&void 0===n?e._setStyle(t):n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return tt._createAt(t,e)}createPositionAfter(t){return tt._createAfter(t)}createPositionBefore(t){return tt._createBefore(t)}createRange(t,e){return new J(t,e)}createRangeOn(t){return J._createOn(t)}createRangeIn(t){return J._createIn(t)}createSelection(...t){return new dt(...t)}}class jk{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new M("commandcollection-command-not-found",this,{commandName:t});return n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class Vk extends qi{constructor(t){super(),this.editor=t}set(t,e,n={}){if("string"==typeof e){const o=e;e=(l,d)=>{this.editor.execute(o),d()}}super.set(t,e,n)}}class nm extends(zt()){constructor(t={}){super();const e=this.constructor;this._context=t.context||new Iu({language:t.language||e.defaultConfig&&e.defaultConfig.language}),this._context._addEditor(this,!t.context);const o=Array.from(e.builtinPlugins||[]);this.config=new Gd(t,e.defaultConfig),this.config.define("plugins",o),this.config.define(this._context._getEditorConfig()),this.plugins=new Il(this,o,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new jk,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new Hs;const l=new zl;this.data=new fk(this.model,l),this.editing=new cc(this.model,l),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ci([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Vk(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(t){throw new M("editor-isreadonly-has-no-setter")}enableReadOnlyMode(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new M("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)||(this._readOnlyLocks.add(t),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(t){if("string"!=typeof t&&"symbol"!=typeof t)throw new M("editor-read-only-lock-id-invalid",null,{lockId:t});this._readOnlyLocks.has(t)&&(this._readOnlyLocks.delete(t),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],o=t.get("extraPlugins")||[],l=t.get("substitutePlugins")||[];return this.plugins.init(e.concat(o),n,l)}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise(e=>this.once("ready",e))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(t,...e){try{return this.commands.execute(t,...e)}catch(n){M.rethrowUnexpectedError(n,this)}}focus(){this.editing.view.focus()}}function pa(s){return class extends s{setData(t){this.data.set(t)}getData(t){return this.data.get(t)}}}{const s=pa(Object);pa.setData=s.prototype.setData,pa.getData=s.prototype.getData}function wc(s){return class extends s{updateSourceElement(t=this.data.get()){if(!this.sourceElement)throw new M("editor-missing-sourceelement",this);const e=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;!function fw(s,t){s instanceof HTMLTextAreaElement&&(s.value=t),s.innerHTML=t}(this.sourceElement,e||n?t:"")}}}wc.updateSourceElement=wc(Object).prototype.updateSourceElement;class Cc extends ks{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Di({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!=typeof t)throw new M("pendingactions-add-invalid-message",this);const e=new(zt());return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const ae={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var om=Y(5542);mt()(om.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const{threeVerticalDots:sm}=ae,Uk={alignLeft:ae.alignLeft,bold:ae.bold,importExport:ae.importExport,paragraph:ae.paragraph,plus:ae.plus,text:ae.text,threeVerticalDots:ae.threeVerticalDots};class yc extends It{constructor(t,e){super(t);const n=this.bindTemplate,o=this.t;this.options=e||{},this.set("ariaLabel",o("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new fi,this.keystrokes=new qi,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Zk(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const l="rtl"===t.uiLanguageDirection;this._focusCycler=new vt({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[l?"arrowright":"arrowleft","arrowup"],focusNext:[l?"arrowleft":"arrowright","arrowdown"]}});const d=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var h;this.options.shouldGroupWhenFull&&this.options.isFloating&&d.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:d,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:(h=this,h.bindTemplate.to(m=>{m.target===h.element&&m.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new Ac(this):new Hk(this)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e,n){this.items.addMany(this._buildItemsFromConfig(t,e,n))}_buildItemsFromConfig(t,e,n){const o=Du(t),l=n||o.removeItems;return this._cleanItemsConfiguration(o.items,e,l).map(d=>oe(d)?this._createNestedToolbarDropdown(d,e,l):"|"===d?new Tu:"-"===d?new hb:e.create(d)).filter(d=>!!d)}_cleanItemsConfiguration(t,e,n){const o=t.filter((l,d,h)=>"|"===l||-1===n.indexOf(l)&&("-"===l?!this.options.shouldGroupWhenFull||(bt("toolbarview-line-break-ignored-when-grouping-items",h),!1):!(!oe(l)&&!e.has(l)&&(bt("toolbarview-item-unavailable",{item:l}),1))));return this._cleanSeparatorsAndLineBreaks(o)}_cleanSeparatorsAndLineBreaks(t){const e=d=>"-"!==d&&"|"!==d,n=t.length,o=t.findIndex(e);if(-1===o)return[];const l=n-t.slice().reverse().findIndex(e);return t.slice(o,l).filter((d,h,m)=>!!e(d)||!(h>0&&m[h-1]===d))}_createNestedToolbarDropdown(t,e,n){let{label:o,icon:l,items:d,tooltip:h=!0,withText:m=!1}=t;if(d=this._cleanItemsConfiguration(d,e,n),!d.length)return null;const g=In(this.locale);return o||bt("toolbarview-nested-toolbar-dropdown-missing-label",t),g.class="ck-toolbar__nested-toolbar-dropdown",g.buttonView.set({label:o,tooltip:h,withText:!!m}),!1!==l?g.buttonView.icon=Uk[l]||l||sm:g.buttonView.withText=!0,Dc(g,()=>g.toolbarView._buildItemsFromConfig(d,e,n)),g}}class Zk extends It{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Hk{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(n=>n),t.focusables.bindTo(t.items).using(n=>n),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class Ac{constructor(t){this.view=t,this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,t.itemsView.children.bindTo(this.ungroupedItems).using(e=>e),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),t.children.on("change",this._updateFocusCycleableItems.bind(this)),t.items.on("change",(e,n)=>{const o=n.index,l=Array.from(n.added);for(const d of n.removed)o>=this.ungroupedItems.length?this.groupedItems.remove(d):this.ungroupedItems.remove(d);for(let d=o;d<o+l.length;d++){const h=l[d-o];d>this.ungroupedItems.length?this.groupedItems.add(h,d-this.ungroupedItems.length):this.ungroupedItems.add(h,d)}this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Qn(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const t=this.groupedItems.length;let e;for(;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==t&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new ue(t.lastChild),o=new ue(t);if(!this.cachedPadding){const l=St.window.getComputedStyle(t);this.cachedPadding=Number.parseInt(l["ltr"===e?"paddingRight":"paddingLeft"])}return"ltr"===e?n.right>o.right-this.cachedPadding:n.left<o.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new te(this.viewElement,e=>{t&&t===e.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Tu),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=In(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",Dc(n,this.groupedItems),n.buttonView.set({label:e("Show more items"),tooltip:!0,tooltipPosition:"rtl"===t.uiLanguageDirection?"se":"sw",icon:sm}),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var xc=Y(1046);mt()(xc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Qk extends It{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new fi,this.keystrokes=new qi,this._focusCycler=new vt({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":e.to("ariaLabel")},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class rm extends It{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",e.if("isVisible","ck-hidden",n=>!n)]},children:this.children})}focus(){this.children.first.focus()}}class Yk extends It{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var am=Y(7339);mt()(am.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Tc=Y(3949);function In(s,t=Nr){const e=new t(s),n=new _w(s),o=new An(s,e,n);return e.bind("isEnabled").to(o),e instanceof Yt?e.arrowView.bind("isOn").to(o,"isOpen"):e.bind("isOn").to(o,"isOpen"),(d=l=o).on("render",()=>{U({emitter:d,activator:()=>d.isOpen,callback:()=>{d.isOpen=!1},contextElements:[d.element]})}),function(d){d.on("execute",h=>{h.source instanceof un||(d.isOpen=!1)})}(l),function(d){d.focusTracker.on("change:isFocused",(h,m,g)=>{d.isOpen&&!g&&(d.isOpen=!1)})}(l),function(d){d.keystrokes.set("arrowdown",(h,m)=>{d.isOpen&&(d.panelView.focus(),m())}),d.keystrokes.set("arrowup",(h,m)=>{d.isOpen&&(d.panelView.focusLast(),m())})}(l),function(d){d.on("change:isOpen",(h,m,g)=>{if(g)return;const b=d.panelView.element;b&&b.contains(St.document.activeElement)&&d.buttonView.focus()})}(l),function(d){d.on("change:isOpen",(h,m,g)=>{g&&d.panelView.focus()},{priority:"low"})}(l),o;var l,d}function Dc(s,t,e={}){s.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),s.isOpen?lm(s,t,e):s.once("change:isOpen",()=>lm(s,t,e),{priority:"highest"}),e.enableActiveItemFocusOnDropdownOpen&&dm(s,()=>s.toolbarView.items.find(n=>n.isOn))}function lm(s,t,e){const n=s.locale,o=n.t,l=s.toolbarView=new yc(n),d="function"==typeof t?t():t;l.ariaLabel=e.ariaLabel||o("Dropdown toolbar"),e.maxWidth&&(l.maxWidth=e.maxWidth),e.class&&(l.class=e.class),e.isCompact&&(l.isCompact=e.isCompact),e.isVertical&&(l.isVertical=!0),d instanceof yn?l.items.bindTo(d).using(h=>h):l.items.addMany(d),s.panelView.children.add(l),l.items.delegate("execute").to(s)}function cm(s,t,e={}){s.isOpen?qs(s,t,e):s.once("change:isOpen",()=>qs(s,t,e),{priority:"highest"}),dm(s,()=>s.listView.items.find(n=>n instanceof rm&&n.children.first.isOn))}function qs(s,t,e){const n=s.locale,o=s.listView=new Qk(n),l="function"==typeof t?t():t;o.ariaLabel=e.ariaLabel,o.items.bindTo(l).using(d=>{if("separator"===d.type)return new Yk(n);if("button"===d.type||"switchbutton"===d.type){const h=new rm(n);let m;return m="button"===d.type?new qt(n):new un(n),m.bind(...Object.keys(d.model)).to(d.model),m.delegate("execute").to(h),h.children.add(m),h}return null}),s.panelView.children.add(o),o.items.delegate("execute").to(s)}function dm(s,t){s.on("change:isOpen",()=>{if(!s.isOpen)return;const e=t();e&&("function"==typeof e.focus?e.focus():bt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:e}))},{priority:Vi.low-10})}mt()(Tc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var yi=Y(8793);mt()(yi.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const um=yo("px"),hm=St.document.body;class Ze extends It{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",n=>`ck-balloon-panel_${n}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",um),left:e.to("left",um)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=Ze.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:hm,fitInViewport:!0},t),o=Ze._getOptimalPosition(n),l=parseInt(o.left),d=parseInt(o.top),h=o.name,m=o.config||{},{withArrow:g=!0}=m;this.top=d,this.left=l,this.position=h,this.withArrow=g}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=Ec(t.target),n=t.limiter?Ec(t.limiter):hm;this.listenTo(St.document,"scroll",(o,l)=>{const d=l.target,h=e&&d.contains(e),m=n&&d.contains(n);!h&&!m&&e&&n||this.attachTo(t)},{useCapture:!0}),this.listenTo(St.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(St.document,"scroll"),this.stopListening(St.window,"resize")}}function Ec(s){return Hn(s)?s:xr(s)?s.commonAncestorContainer:"function"==typeof s?Ec(s()):null}function Ic(s={}){const{sideOffset:t=Ze.arrowSideOffset,heightOffset:e=Ze.arrowHeightOffset,stickyVerticalOffset:n=Ze.stickyVerticalOffset,config:o}=s;return{northWestArrowSouthWest:(h,m)=>({top:l(h,m),left:h.left-t,name:"arrow_sw",...o&&{config:o}}),northWestArrowSouthMiddleWest:(h,m)=>({top:l(h,m),left:h.left-.25*m.width-t,name:"arrow_smw",...o&&{config:o}}),northWestArrowSouth:(h,m)=>({top:l(h,m),left:h.left-m.width/2,name:"arrow_s",...o&&{config:o}}),northWestArrowSouthMiddleEast:(h,m)=>({top:l(h,m),left:h.left-.75*m.width+t,name:"arrow_sme",...o&&{config:o}}),northWestArrowSouthEast:(h,m)=>({top:l(h,m),left:h.left-m.width+t,name:"arrow_se",...o&&{config:o}}),northArrowSouthWest:(h,m)=>({top:l(h,m),left:h.left+h.width/2-t,name:"arrow_sw",...o&&{config:o}}),northArrowSouthMiddleWest:(h,m)=>({top:l(h,m),left:h.left+h.width/2-.25*m.width-t,name:"arrow_smw",...o&&{config:o}}),northArrowSouth:(h,m)=>({top:l(h,m),left:h.left+h.width/2-m.width/2,name:"arrow_s",...o&&{config:o}}),northArrowSouthMiddleEast:(h,m)=>({top:l(h,m),left:h.left+h.width/2-.75*m.width+t,name:"arrow_sme",...o&&{config:o}}),northArrowSouthEast:(h,m)=>({top:l(h,m),left:h.left+h.width/2-m.width+t,name:"arrow_se",...o&&{config:o}}),northEastArrowSouthWest:(h,m)=>({top:l(h,m),left:h.right-t,name:"arrow_sw",...o&&{config:o}}),northEastArrowSouthMiddleWest:(h,m)=>({top:l(h,m),left:h.right-.25*m.width-t,name:"arrow_smw",...o&&{config:o}}),northEastArrowSouth:(h,m)=>({top:l(h,m),left:h.right-m.width/2,name:"arrow_s",...o&&{config:o}}),northEastArrowSouthMiddleEast:(h,m)=>({top:l(h,m),left:h.right-.75*m.width+t,name:"arrow_sme",...o&&{config:o}}),northEastArrowSouthEast:(h,m)=>({top:l(h,m),left:h.right-m.width+t,name:"arrow_se",...o&&{config:o}}),southWestArrowNorthWest:h=>({top:d(h),left:h.left-t,name:"arrow_nw",...o&&{config:o}}),southWestArrowNorthMiddleWest:(h,m)=>({top:d(h),left:h.left-.25*m.width-t,name:"arrow_nmw",...o&&{config:o}}),southWestArrowNorth:(h,m)=>({top:d(h),left:h.left-m.width/2,name:"arrow_n",...o&&{config:o}}),southWestArrowNorthMiddleEast:(h,m)=>({top:d(h),left:h.left-.75*m.width+t,name:"arrow_nme",...o&&{config:o}}),southWestArrowNorthEast:(h,m)=>({top:d(h),left:h.left-m.width+t,name:"arrow_ne",...o&&{config:o}}),southArrowNorthWest:h=>({top:d(h),left:h.left+h.width/2-t,name:"arrow_nw",...o&&{config:o}}),southArrowNorthMiddleWest:(h,m)=>({top:d(h),left:h.left+h.width/2-.25*m.width-t,name:"arrow_nmw",...o&&{config:o}}),southArrowNorth:(h,m)=>({top:d(h),left:h.left+h.width/2-m.width/2,name:"arrow_n",...o&&{config:o}}),southArrowNorthMiddleEast:(h,m)=>({top:d(h),left:h.left+h.width/2-.75*m.width+t,name:"arrow_nme",...o&&{config:o}}),southArrowNorthEast:(h,m)=>({top:d(h),left:h.left+h.width/2-m.width+t,name:"arrow_ne",...o&&{config:o}}),southEastArrowNorthWest:h=>({top:d(h),left:h.right-t,name:"arrow_nw",...o&&{config:o}}),southEastArrowNorthMiddleWest:(h,m)=>({top:d(h),left:h.right-.25*m.width-t,name:"arrow_nmw",...o&&{config:o}}),southEastArrowNorth:(h,m)=>({top:d(h),left:h.right-m.width/2,name:"arrow_n",...o&&{config:o}}),southEastArrowNorthMiddleEast:(h,m)=>({top:d(h),left:h.right-.75*m.width+t,name:"arrow_nme",...o&&{config:o}}),southEastArrowNorthEast:(h,m)=>({top:d(h),left:h.right-m.width+t,name:"arrow_ne",...o&&{config:o}}),westArrowEast:(h,m)=>({top:h.top+h.height/2-m.height/2,left:h.left-m.width-e,name:"arrow_e",...o&&{config:o}}),eastArrowWest:(h,m)=>({top:h.top+h.height/2-m.height/2,left:h.right+e,name:"arrow_w",...o&&{config:o}}),viewportStickyNorth:(h,m,g)=>h.getIntersection(g)?{top:g.top+n,left:h.left+h.width/2-m.width/2,name:"arrowless",config:{withArrow:!1,...o}}:null};function l(h,m){return h.top-m.height-e}function d(h){return h.bottom+e}}Ze.arrowSideOffset=25,Ze.arrowHeightOffset=10,Ze.stickyVerticalOffset=20,Ze._getOptimalPosition=su,Ze.defaultPositions=Ic();var mm=Y(3332);mt()(mm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const ga="ck-tooltip";class Ee extends(qn()){constructor(t){if(super(),Ee._editors.add(t),Ee._instance)return Ee._instance;Ee._instance=this,this.tooltipTextView=new It(t.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Ze(t.locale),this.balloonPanelView.class=ga,this.balloonPanelView.content.add(this.tooltipTextView),this._resizeObserver=null,this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._pinTooltipDebounced=Ps(this._pinTooltip,600),this.listenTo(St.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(St.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(St.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(St.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(St.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(t){const e=t.ui.view&&t.ui.view.body;Ee._editors.delete(t),this.stopListening(t.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Ee._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Ee._instance=null)}static getPositioningFunctions(t){const e=Ee.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[t]}_onEnterOrFocus(t,{target:e}){const n=fa(e);var o;n&&n!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(n,{text:(o=n).dataset.ckeTooltipText,position:o.dataset.ckeTooltipPosition||"s",cssClass:o.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(t,{target:e,relatedTarget:n}){if("mouseleave"===t.name){if(!Hn(e)||this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const o=fa(e),l=fa(n);o&&o!==l&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(t,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(t,{text:e,position:n,cssClass:o}){const l=fe(Ee._editors.values()).ui.view.body;l.has(this.balloonPanelView)||l.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:t,positions:Ee.getPositioningFunctions(n)}),this._resizeObserver=new te(t,()=>{Qn(t)||this._unpinTooltip()}),this.balloonPanelView.class=[ga,o].filter(d=>d).join(" ");for(const d of Ee._editors)this.listenTo(d.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=t,this._currentTooltipPosition=n}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const t of Ee._editors)this.stopListening(t.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Qn(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Ee.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function fa(s){return Hn(s)?s.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}Ee.defaultBalloonPositions=Ic({heightOffset:5,sideOffset:13}),Ee._editors=new Set,Ee._instance=null;class ba extends(zt()){constructor(t){super(),this.editor=t,this.componentFactory=new xu(t),this.focusTracker=new fi,this.tooltipManager=new Ee(t),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.isReady=!1,this.once("ready",()=>{this.isReady=!0}),this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const t of this._editableElementsMap.values())t.ckeditorInstance=null;this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor),this.focusTracker.add(e);const n=()=>{this.editor.editing.view.getDomRoot(t)||this.editor.keystrokes.listenTo(e)};this.isReady?n():this.once("ready",n)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(t,e={}){t.isRendered?(this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)):t.once("render",()=>{this.focusTracker.add(t.element),this.editor.keystrokes.listenTo(t.element)}),this._focusableToolbarDefinitions.push({toolbarView:t,options:e})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const t=this.editor,e=t.config.get("ui.viewportOffset");if(e)return e;const n=t.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const t=this.editor,e=t.editing.view;let n,o;t.keystrokes.set("Alt+F10",(l,d)=>{const h=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(h)&&!Array.from(e.domRoots.values()).includes(h)&&(n=h);const m=this._getCurrentFocusedToolbarDefinition();m&&o||(o=this._getFocusableCandidateToolbarDefinitions());for(let g=0;g<o.length;g++){const b=o.shift();if(o.push(b),b!==m&&this._focusFocusableCandidateToolbar(b)){m&&m.options.afterBlur&&m.options.afterBlur();break}}d()}),t.keystrokes.set("Esc",(l,d)=>{const h=this._getCurrentFocusedToolbarDefinition();h&&(n?(n.focus(),n=null):t.editing.view.focus(),h.options.afterBlur&&h.options.afterBlur(),d())})}_getFocusableCandidateToolbarDefinitions(){const t=[];for(const e of this._focusableToolbarDefinitions){const{toolbarView:n,options:o}=e;(Qn(n.element)||o.beforeFocus)&&t.push(e)}return t.sort((e,n)=>ka(e)-ka(n)),t}_getCurrentFocusedToolbarDefinition(){for(const t of this._focusableToolbarDefinitions)if(t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement))return t;return null}_focusFocusableCandidateToolbar(t){const{toolbarView:e,options:{beforeFocus:n}}=t;return n&&n(),!!Qn(e.element)&&(e.focus(),!0)}}function ka(s){const{toolbarView:t,options:e}=s;let n=10;return Qn(t.element)&&n--,e.isContextual&&n--,n}var _a=Y(9688);mt()(_a.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class va extends It{constructor(t){super(t),this.body=new cb(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var Qs=Y(3662);mt()(Qs.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ho extends It{constructor(t){super(t),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Ie()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class pm extends va{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new Ho;return e.text=t("Rich Text Editor"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}class gm extends It{constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;function e(n){t.change(o=>{const l=t.document.getRoot(n.name);o.addClass(n.isFocused?"ck-focused":"ck-blurred",l),o.removeClass(n.isFocused?"ck-blurred":"ck-focused",l)})}t.isRenderingInProgress?function n(o){t.once("change:isRenderingInProgress",(l,d,h)=>{h?n(o):e(o)})}(this):e(this)}}class Mc extends gm{constructor(t,e,n,o={}){super(t,e,n);const l=t.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=o.label||(()=>l("Editor editing area: %0",this.name))}render(){super.render();const t=this._editingView;t.change(e=>{const n=t.document.getRoot(this.name);e.setAttribute("aria-label",this._generateLabel(this),n)})}}var Ca=Y(8847);mt()(Ca.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Rc=Y(4879);mt()(Rc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Js extends It{constructor(t){super(t),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new fi,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),inputmode:e.to("inputMode"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to((...n)=>{this.fire("input",...n),this._updateIsEmpty()}),change:e.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(t,e,n)=>{this._setDomElementValue(n),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(t){this.element.value=t||0===t?t:""}}class qo extends Js{constructor(t){super(t),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var Gs=Y(2577);mt()(Gs.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ne extends It{constructor(t,e){super(t);const n=`ck-labeled-field-view-${Ie()}`,o=`ck-labeled-field-view-status-${Ie()}`;this.fieldView=e(this,n,o),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(o),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(d,h)=>d||h);const l=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",l.to("class"),l.if("isEnabled","ck-disabled",d=>!d),l.if("isEmpty","ck-labeled-field-view_empty"),l.if("isFocused","ck-labeled-field-view_focused"),l.if("placeholder","ck-labeled-field-view_placeholder"),l.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(t){const e=new Ho(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createStatusView(t){const e=new It(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",o=>!o)],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}focus(){this.fieldView.focus()}}function ya(s,t,e){const n=new qo(s.locale);return n.set({id:t,ariaDescribedById:e}),n.bind("isReadOnly").to(s,"isEnabled",o=>!o),n.bind("hasError").to(s,"errorText",o=>!!o),n.on("input",()=>{s.errorText=null}),s.bind("isEmpty","isFocused","placeholder").to(n),n}class Qo extends ks{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){this.fire(t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`,{message:t.message,type:t.type,title:t.title||""})}}class Aa extends(zt()){constructor(t,e){super(),e&&Is(this,e),t&&this.set(t)}}var co=Y(4650);mt()(co.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Ws=Y(7676);mt()(Ws.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Mn=yo("px");class uo extends W{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const e=this.editor.editing.view,n=e.document.selection.editableElement;return n?e.domConverter.mapViewToDom(n.root):null},this.set("visibleView",null),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=null,this._fakePanelsView=null}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this._view||this._createPanelView(),this.hasView(t.view))throw new M("contextualballoon-add-view-exist",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new M("contextualballoon-remove-view-not-exist",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new M("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}_createPanelView(){this._view=new Ze(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(e=>e[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new Ta(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(n,o)=>!o&&n>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(n,o)=>{if(o<2)return"";const l=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("%0 of %1",[l,o])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new bm(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(e,n)=>!n&&e>=2?Math.min(e-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:o=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),o&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&(t.limiter||(t=Object.assign({},t,{limiter:this.positionLimiter})),t=Object.assign({},t,{viewportOffsetConfig:this.editor.ui.viewportOffset})),t}}class Ta extends It{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new fi,this.buttonPrevView=this._createButtonView(e("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(e("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",o=>o?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new qt(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class bm extends It{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",o=>o?"":"ck-hidden")],style:{top:n.to("top",Mn),left:n.to("left",Mn),width:n.to("width",Mn),height:n.to("height",Mn)}},children:this.content}),this.on("change:numberOfPanels",(o,l,d,h)=>{d>h?this._addPanels(d-h):this._removePanels(h-d),this.updatePosition()})}_addPanels(t){for(;t--;){const e=new It;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(t){for(;t--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:o}=new ue(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:o})}}}var Da=Y(5868);mt()(Da.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Pn=yo("px");class Ea extends It{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new Si({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",n=>n?"block":"none"),height:e.to("isSticky",n=>n?Pn(this._panelRect.height):null)}}}).render(),this._contentPanel=new Si({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",n=>n?Pn(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:e.to("_hasViewportTopOffset",n=>n?Pn(this.viewportTopOffset):null),bottom:e.to("_isStickyToTheLimiter",n=>n?Pn(this.limiterBottomOffset):null),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(St.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Pn(-St.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}yo("px");var Ks=Y(9695);mt()(Ks.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),yo("px"),yo("px");class Nc extends ba{constructor(t,e){super(t),this.view=e,this._toolbarConfig=Du(t.config.get("toolbar")),this._elementReplacer=new Up}get element(){return this.view.element}init(t){const n=this.view,o=this.editor.editing.view,l=n.editable,d=o.document.getRoot();l.name=d.rootName,n.render();const h=l.element;this.setEditableElement(l.name,h),n.editable.bind("isFocused").to(this.focusTracker),o.attachDomRoot(h),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy()}_initToolbar(){const t=this.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,t.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:e})=>e||0),t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(t.toolbar)}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),o=t.sourceElement,l=t.config.get("placeholder")||o&&"textarea"===o.tagName.toLowerCase()&&o.getAttribute("placeholder");l&&Do({view:e,element:n,text:l,isDirectHost:!1,keepOnFocus:!0})}}var tr=Y(3143);mt()(tr.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ia extends pm{constructor(t,e,n={}){super(t),this.stickyPanel=new Ea(t),this.toolbar=new yc(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new Mc(t,e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Ai extends(pa(wc(nm))){constructor(t,e={}){if(!Jo(t)&&void 0!==e.initialData)throw new M("editor-create-initial-data",null);var l,d;super(e),void 0===this.config.get("initialData")&&this.config.set("initialData",Jo(l=t)?(d=l)instanceof HTMLTextAreaElement?d.value:d.innerHTML:l),Jo(t)&&(this.sourceElement=t),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),o=new Ia(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new Nc(this,o),function(l){if(!jn(l.updateSourceElement))throw new M("attachtoform-missing-elementapi-interface",l);const d=l.sourceElement;if((h=d)&&"textarea"===h.tagName.toLowerCase()&&d.form){let h;const m=d.form,g=()=>l.updateSourceElement();jn(m.submit)&&(h=m.submit,m.submit=()=>{g(),h.apply(m)}),m.addEventListener("submit",g),l.on("destroy",()=>{m.removeEventListener("submit",g),h&&(m.submit=h)})}var h}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise(n=>{const o=new this(t,e);n(o.initPlugins().then(()=>o.ui.init(Jo(t)?t:null)).then(()=>o.data.init(o.config.get("initialData"))).then(()=>o.fire("ready")).then(()=>o))})}}function Jo(s){return Hn(s)}class Go extends ri{constructor(t){super(t);const e=this.document;function n(o){return(l,d)=>{d.preventDefault();const h=d.dropRange?[d.dropRange]:null,m=new Ct(e,o);e.fire(m,{dataTransfer:d.dataTransfer,method:l.name,targetRanges:h,target:d.target}),m.stop.called&&d.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(e,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(e,"dragover",n("dragging"),{priority:"low"})}onDomEvent(t){const o={dataTransfer:new yh("clipboardData"in t?t.clipboardData:t.dataTransfer,{cacheFiles:"drop"==t.type||"paste"==t.type})};"drop"!=t.type&&"dragover"!=t.type||(o.dropRange=function(l,d){const h=d.target.ownerDocument,m=d.clientX,g=d.clientY;let b;return h.caretRangeFromPoint&&h.caretRangeFromPoint(m,g)?b=h.caretRangeFromPoint(m,g):d.rangeParent&&(b=h.createRange(),b.setStart(d.rangeParent,d.rangeOffset),b.collapse(!0)),b?l.domConverter.domRangeToView(b):null}(this.view,t)),this.fire(t.type,t,o)}}const Lc=["figcaption","li"];function er(s){let t="";if(s.is("$text")||s.is("$textProxy"))t=s.data;else if(s.is("element","img")&&s.hasAttribute("alt"))t=s.getAttribute("alt");else if(s.is("element","br"))t="\n";else{let e=null;for(const n of s.getChildren()){const o=er(n);e&&(e.is("containerElement")||n.is("containerElement"))&&(Lc.includes(e.name)||Lc.includes(n.name)?t+="\n":t+="\n\n"),t+=o,e=n}}return t}class zi extends W{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Go),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const t=this.editor,e=t.model,n=t.editing.view,o=n.document;this.listenTo(o,"clipboardInput",l=>{t.isReadOnly&&l.stop()},{priority:"highest"}),this.listenTo(o,"clipboardInput",(l,d)=>{const h=d.dataTransfer;let m;if(d.content)m=d.content;else{let k="";h.getData("text/html")?k=h.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(w,A)=>1==A.length?" ":A).replace(/<!--[\s\S]*?-->/g,""):h.getData("text/plain")&&(((g=(g=h.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||g.includes("<br>"))&&(g=`<p>${g}</p>`),k=g),m=this.editor.data.htmlProcessor.toView(k)}var g;const b=new Ct(this,"inputTransformation");this.fire(b,{content:m,dataTransfer:h,targetRanges:d.targetRanges,method:d.method}),b.stop.called&&l.stop(),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(l,d)=>{if(d.content.isEmpty)return;const h=this.editor.data.toModel(d.content,"$clipboardHolder");0!=h.childCount&&(l.stop(),e.change(()=>{this.fire("contentInsertion",{content:h,method:d.method,dataTransfer:d.dataTransfer,targetRanges:d.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(l,d)=>{d.resultRange=e.insertContent(d.content)},{priority:"low"})}_setupCopyCut(){const t=this.editor,e=t.model.document,n=t.editing.view.document,o=(l,d)=>{const h=d.dataTransfer;d.preventDefault();const m=t.data.toView(t.model.getSelectedContent(e.selection));n.fire("clipboardOutput",{dataTransfer:h,content:m,method:l.name})};this.listenTo(n,"copy",o,{priority:"low"}),this.listenTo(n,"cut",(l,d)=>{t.isReadOnly?d.preventDefault():o(l,d)},{priority:"low"}),this.listenTo(n,"clipboardOutput",(l,d)=>{d.content.isEmpty||(d.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(d.content)),d.dataTransfer.setData("text/plain",er(d.content))),"cut"==d.method&&t.model.deleteContent(e.selection)},{priority:"low"})}}class Wk{constructor(t,e=20){this._batch=null,this.model=t,this._size=0,this.limit=e,this._isLocked=!1,this._changeCallback=(n,o)=>{o.isLocal&&o.isUndoable&&o!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(t){this._size+=t,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t=!1){this.isLocked&&!t||(this._batch=null,this._size=0)}}class kt extends Tt{constructor(t,e){super(t),this._buffer=new Wk(t.model,e)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,o=t.text||"",l=o.length;let d=n.selection;t.selection?d=t.selection:t.range&&(d=e.createSelection(t.range));const h=t.resultRange;e.enqueueChange(this._buffer.batch,m=>{this._buffer.lock(),e.deleteContent(d),o&&e.insertContent(m.createText(o,n.selection.getAttributes()),d),h?m.setSelection(h):d.is("documentSelection")||m.setSelection(d),this._buffer.unlock(),this._buffer.input(l)})}}const pt=["insertText","insertReplacementText"];class z extends si{constructor(t){super(t),O_isAndroid&&pt.push("insertCompositionText");const e=t.document;e.on("beforeinput",(n,o)=>{if(!this.isEnabled)return;const{data:l,targetRanges:d,inputType:h,domEvent:m}=o;if(!pt.includes(h))return;const g=new Ct(e,"insertText");e.fire(g,new pn(t,m,{text:l,selection:t.createSelection(d)})),g.stop.called&&n.stop()}),e.on("compositionend",(n,{data:o,domEvent:l})=>{this.isEnabled&&!O_isAndroid&&o&&e.fire("insertText",new pn(t,l,{text:o,selection:e.selection}))},{priority:"lowest"})}observe(){}}class _m extends W{static get pluginName(){return"Input"}init(){const t=this.editor,e=t.model,n=t.editing.view,o=e.document.selection;n.addObserver(z);const l=new kt(t,t.config.get("typing.undoStep")||20);t.commands.add("insertText",l),t.commands.add("input",l),this.listenTo(n.document,"insertText",(d,h)=>{n.document.isComposing||h.preventDefault();const{text:m,selection:g,resultRange:b}=h,k=Array.from(g.getRanges()).map(A=>t.editing.mapper.toModelRange(A));let v=m;if(O_isAndroid){const A=Array.from(k[0].getItems()).reduce((T,E)=>T+(E.is("$textProxy")?E.data:""),"");A&&(A.length<=v.length?v.startsWith(A)&&(v=v.substring(A.length),k[0].start=k[0].start.getShiftedBy(A.length)):A.startsWith(v)&&(k[0].start=k[0].start.getShiftedBy(v.length),v=""))}const w={text:v,selection:e.createSelection(k)};b&&(w.resultRange=t.editing.mapper.toModelRange(b)),t.execute("insertText",w)}),O_isAndroid?this.listenTo(n.document,"keydown",(d,h)=>{!o.isCollapsed&&229==h.keyCode&&n.document.isComposing&&vm(e,l)}):this.listenTo(n.document,"compositionstart",()=>{o.isCollapsed||vm(e,l)})}}function vm(s,t){if(!t.isEnabled)return;const e=t.buffer;e.lock(),s.enqueueChange(e.batch,()=>{s.deleteContent(s.document.selection)}),e.unlock()}class gt extends Tt{constructor(t,e){super(t),this.direction=e,this._buffer=new Wk(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,o=>{this._buffer.lock();const l=o.createSelection(t.selection||n.selection),d=t.sequence||1,h=l.isCollapsed;if(l.isCollapsed&&e.modifySelection(l,{direction:this.direction,unit:t.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(d))return void this._replaceEntireContentWithParagraph(o);if(this._shouldReplaceFirstBlockWithParagraph(l,d))return void this.editor.execute("paragraph",{selection:l});if(l.isCollapsed)return;let m=0;l.getFirstRange().getMinimalFlatRanges().forEach(g=>{m+=Wa(g.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(l,{doNotResetEntireContent:h,direction:this.direction}),this._buffer.input(m),o.setSelection(l),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,o=e.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(o)||!e.schema.checkChild(o,"paragraph"))return!1;const l=o.getChild(0);return!l||!l.is("element","paragraph")}_replaceEntireContentWithParagraph(t){const e=this.editor.model,o=e.schema.getLimitElement(e.document.selection),l=t.createElement("paragraph");t.remove(t.createRangeIn(o)),t.insert(l,o),t.setSelection(l,0)}_shouldReplaceFirstBlockWithParagraph(t,e){const n=this.editor.model;if(e>1||"backward"!=this.direction||!t.isCollapsed)return!1;const o=t.getFirstPosition(),l=n.schema.getLimitElement(o),d=l.getChild(0);return o.parent==d&&!!t.containsEntireContent(d)&&!!n.schema.checkChild(l,"paragraph")&&"paragraph"!=d.name}}const Rn="selection",Wo="backward",Ma="forward",wm={deleteContent:{unit:Rn,direction:Wo},deleteContentBackward:{unit:"codePoint",direction:Wo},deleteWordBackward:{unit:"word",direction:Wo},deleteHardLineBackward:{unit:Rn,direction:Wo},deleteSoftLineBackward:{unit:Rn,direction:Wo},deleteContentForward:{unit:"character",direction:Ma},deleteWordForward:{unit:"word",direction:Ma},deleteHardLineForward:{unit:Rn,direction:Ma},deleteSoftLineForward:{unit:Rn,direction:Ma}};class Kk extends si{constructor(t){super(t);const e=t.document;let n=0;e.on("keydown",()=>{n++}),e.on("keyup",()=>{n=0}),e.on("beforeinput",(o,l)=>{if(!this.isEnabled)return;const{targetRanges:d,domEvent:h,inputType:m}=l,g=wm[m];if(!g)return;const b={direction:g.direction,unit:g.unit,sequence:n};b.unit==Rn&&(b.selectionToRemove=t.createSelection(d[0])),O_isAndroid&&"deleteContentBackward"===m&&(b.sequence=1,1!=d.length||d[0].start.parent==d[0].end.parent&&d[0].start.offset+1==d[0].end.offset||(b.unit=Rn,b.selectionToRemove=t.createSelection(d)));const k=new Po(e,"delete",d[0]);e.fire(k,new pn(t,h,b)),k.stop.called&&o.stop()}),O_isBlink&&function(o){const l=o.view,d=l.document;let h=null,m=!1;function g(k){return k==Rt.backspace||k==Rt.delete}function b(k){return k==Rt.backspace?Wo:Ma}d.on("keydown",(k,{keyCode:v})=>{h=v,m=!1}),d.on("keyup",(k,{keyCode:v,domEvent:w})=>{const A=d.selection,T=o.isEnabled&&v==h&&g(v)&&!A.isCollapsed&&!m;if(h=null,T){const E=A.getFirstRange(),R=new Po(d,"delete",E),N={unit:Rn,direction:b(v),selectionToRemove:A};d.fire(R,new pn(l,w,N))}}),d.on("beforeinput",(k,{inputType:v})=>{const w=wm[v];g(h)&&w&&w.direction==b(h)&&(m=!0)},{priority:"high"}),d.on("beforeinput",(k,{inputType:v,data:w})=>{h==Rt.delete&&"insertText"==v&&"\x7f"==w&&k.stop()},{priority:"high"})}(this)}observe(){}}class Nn extends W{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document,o=t.model.document;e.addObserver(Kk),this._undoOnBackspace=!1;const l=new gt(t,"forward");t.commands.add("deleteForward",l),t.commands.add("forwardDelete",l),t.commands.add("delete",new gt(t,"backward")),this.listenTo(n,"delete",(d,h)=>{n.isComposing||h.preventDefault();const{direction:m,sequence:g,selectionToRemove:b,unit:k}=h,v="forward"===m?"deleteForward":"delete",w={sequence:g};if("selection"==k){const A=Array.from(b.getRanges()).map(T=>t.editing.mapper.toModelRange(T));w.selection=t.model.createSelection(A)}else w.unit=k;t.execute(v,w),e.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",(d,h)=>{this._undoOnBackspace&&"backward"==h.direction&&1==h.sequence&&"codePoint"==h.unit&&(this._undoOnBackspace=!1,t.execute("undo"),h.preventDefault(),d.stop())},{context:"$capture"}),this.listenTo(o,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class yw extends W{static get requires(){return[_m,Nn]}static get pluginName(){return"Typing"}}function Cm(s,t){let e=s.start;return{text:Array.from(s.getItems()).reduce((n,o)=>o.is("$text")||o.is("$textProxy")?n+o.data:(e=t.createPositionAfter(o),""),""),range:t.createRange(e,s.end)}}class ym extends(zt()){constructor(t,e){super(),this.model=t,this.testCallback=e,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(e,{directChange:n})=>{n&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(t,"change:data",(e,n)=>{!n.isUndo&&n.isLocal&&this._evaluateTextBeforeSelection("data",{batch:n})})}_evaluateTextBeforeSelection(t,e={}){const n=this.model,o=n.document.selection,l=n.createRange(n.createPositionAt(o.focus.parent,0),o.focus),{text:d,range:h}=Cm(l,n),m=this.testCallback(d);if(!m&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!m,m){const g=Object.assign(e,{text:d,range:h});"object"==typeof m&&Object.assign(g,m),this.fire(`matched:${t}`,g)}}}class Am extends W{static get pluginName(){return"TwoStepCaretMovement"}constructor(t){super(t),this.attributes=new Set,this._overrideUid=null}init(){const t=this.editor,o=t.locale,l=t.model.document.selection;this.listenTo(t.editing.view.document,"arrowKey",(d,h)=>{if(!l.isCollapsed||h.shiftKey||h.altKey||h.ctrlKey)return;const m=h.keyCode==Rt.arrowright,g=h.keyCode==Rt.arrowleft;if(!m&&!g)return;const b=o.contentLanguageDirection;let k=!1;k="ltr"===b&&m||"rtl"===b&&g?this._handleForwardMovement(h):this._handleBackwardMovement(h),!0===k&&d.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(l,"change:range",(d,h)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!h.directChange&&Ra(l.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(t){this.attributes.add(t)}_handleForwardMovement(t){const e=this.attributes,n=this.editor.model.document.selection,o=n.getFirstPosition();return!(this._isGravityOverridden||o.isAtStart&&xm(n,e)||!Ra(o,e)||(Pa(t),this._overrideGravity(),0))}_handleBackwardMovement(t){const e=this.attributes,n=this.editor.model,o=n.document.selection,l=o.getFirstPosition();return this._isGravityOverridden?(Pa(t),this._restoreGravity(),Bc(n,e,l),!0):l.isAtStart?!!xm(o,e)&&(Pa(t),Bc(n,e,l),!0):(h=e,!(!Ra(l.getShiftedBy(-1),h)||(l.isAtEnd&&!xm(o,e)&&Ra(l,e)?(Pa(t),Bc(n,e,l),0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),1))));var h}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function xm(s,t){for(const e of t)if(s.hasAttribute(e))return!0;return!1}function Bc(s,t,e){const n=e.nodeBefore;s.change(o=>{n?o.setSelectionAttribute(n.getAttributes()):o.removeSelectionAttribute(t)})}function Pa(s){s.preventDefault()}function Ra(s,t){const{nodeBefore:e,nodeAfter:n}=s;for(const o of t){const l=e?e.getAttribute(o):void 0;if((n?n.getAttribute(o):void 0)!==l)return!0}return!1}var Xk=/[\\^$.*+?()[\]{}|]/g,t_=RegExp(Xk.source);const Tm={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Ko('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:Ko("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Ko("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Ko('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:Ko('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:Ko("'"),to:[null,"\u201a",null,"\u2019"]}},i_={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},n_=["symbols","mathematical","typography","quotes"];function o_(s){return"string"==typeof s?new RegExp(`(${function(s){return(s=jr(s))&&t_.test(s)?s.replace(Xk,"\\$&"):s}(s)})$`):s}function s_(s){return"string"==typeof s?()=>[s]:s instanceof Array?()=>s:s}function Aw(s){return(s.textNode?s.textNode:s.nodeAfter).getAttributes()}function Ko(s){return new RegExp(`(^|\\s)(${s})([^${s}]*)(${s})$`)}function Xo(s,t,e,n){return n.createRange(Dm(s,t,e,!0,n),Dm(s,t,e,!1,n))}function Dm(s,t,e,n,o){let l=s.textNode||(n?s.nodeBefore:s.nodeAfter),d=null;for(;l&&l.getAttribute(t)==e;)d=l,l=n?l.previousSibling:l.nextSibling;return d?o.createPositionAt(d,n?"before":"after"):s}function*r_(s,t){for(const e of t)e&&s.getAttributeProperties(e[0]).copyOnEnter&&(yield e)}class a_ extends Tt{execute(){this.editor.model.change(t=>{this.enterBlock(t),this.fire("afterExecute",{writer:t})})}enterBlock(t){const e=this.editor.model,n=e.document.selection,o=e.schema,l=n.isCollapsed,d=n.getFirstRange(),h=d.start.parent,m=d.end.parent;if(o.isLimit(h)||o.isLimit(m))return l||h!=m||e.deleteContent(n),!1;if(l){const g=r_(t.model.schema,n.getAttributes());return Sm(t,d.start),t.setSelectionAttribute(g),!0}{const g=!(d.start.isAtStart&&d.end.isAtEnd),b=h==m;if(e.deleteContent(n,{leaveUnmerged:g}),g){if(b)return Sm(t,n.focus),!0;t.setSelection(m,0)}}return!1}}function Sm(s,t){s.split(t),s.setSelection(t.parent.nextSibling,0)}const l_={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class c_ extends si{constructor(t){super(t);const e=this.document;e.on("beforeinput",(n,o)=>{if(!this.isEnabled)return;const l=o.domEvent,d=l_[o.inputType];if(!d)return;const h=new Po(e,"enter",o.targetRanges[0]);e.fire(h,new pn(t,l,{isSoft:d.isSoft})),h.stop.called&&n.stop()})}observe(){}}class Na extends W{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(c_),t.commands.add("enter",new a_(t)),this.listenTo(n,"enter",(o,l)=>{n.isComposing||l.preventDefault(),l.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}class d_ extends Tt{execute(){const t=this.editor.model,e=t.document;t.change(n=>{(function(o,l,d){const h=d.isCollapsed,m=d.getFirstRange(),b=m.end.parent,k=m.start.parent==b;if(h){const v=r_(o.schema,d.getAttributes());Em(o,l,m.end),l.removeSelectionAttribute(d.getAttributeKeys()),l.setSelectionAttribute(v)}else{const v=!(m.start.isAtStart&&m.end.isAtEnd);o.deleteContent(d,{leaveUnmerged:v}),k?Em(o,l,d.focus):v&&l.setSelection(b,0)}})(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model;this.isEnabled=function(n,o){if(o.rangeCount>1)return!1;const l=o.anchor;if(!l||!n.checkChild(l,"softBreak"))return!1;const d=o.getFirstRange(),h=d.start.parent,m=d.end.parent;return!((Im(h,n)||Im(m,n))&&h!==m)}(t.schema,t.document.selection)}}function Em(s,t,e){const n=t.createElement("softBreak");s.insertContent(n,e),t.setSelection(n,"after")}function Im(s,t){return!s.is("rootElement")&&(t.isLimit(s)||Im(s.parent,t))}class u_ extends W{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,n=t.conversion,o=t.editing.view,l=o.document;t.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(d,{writer:h})=>h.createEmptyElement("br")}),o.addObserver(c_),t.commands.add("shiftEnter",new d_(t)),this.listenTo(l,"enter",(d,h)=>{l.isComposing||h.preventDefault(),h.isSoft&&(t.execute("shiftEnter"),o.scrollToTheSelection())},{priority:"low"})}}class h_ extends(ot()){constructor(){super(),this._stack=[]}add(t,e){const n=this._stack,o=n[0];this._insertDescriptor(t);const l=n[0];o===l||Oc(o,l)||this.fire("change:top",{oldDescriptor:o,newDescriptor:l,writer:e})}remove(t,e){const n=this._stack,o=n[0];this._removeDescriptor(t);const l=n[0];o===l||Oc(o,l)||this.fire("change:top",{oldDescriptor:o,newDescriptor:l,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex(l=>l.id===t.id);if(Oc(t,e[n]))return;n>-1&&e.splice(n,1);let o=0;for(;e[o]&&xw(e[o],t);)o++;e.splice(o,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex(o=>o.id===t);n>-1&&e.splice(n,1)}}function Oc(s,t){return s&&t&&s.priority==t.priority&&La(s.classes)==La(t.classes)}function xw(s,t){return s.priority>t.priority||!(s.priority<t.priority)&&La(s.classes)>La(t.classes)}function La(s){return Array.isArray(s)?s.sort().join(","):s}const g_="ck-widget_selected";function le(s){return!!s.is("element")&&!!s.getCustomProperty("widget")}function zc(s,t,e={}){if(!s.is("containerElement"))throw new M("widget-to-widget-wrong-element-type",null,{element:s});return t.setAttribute("contenteditable","false",s),t.addClass("ck-widget",s),t.setCustomProperty("widget",!0,s),s.getFillerOffset=Dw,t.setCustomProperty("widgetLabel",[],s),e.label&&(o=e.label,s.getCustomProperty("widgetLabel").push(o)),e.hasSelectionHandle&&function(n,o){const l=o.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(d){const h=this.toDomElement(d),m=new Mr;return m.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),m.render(),h.appendChild(m.element),h});o.insert(o.createPositionAt(n,0),l),o.addClass(["ck-widget_with-selection-handle"],n)}(s,t),Mm(s,t),s;var o}function f_(s,t,e){if(t.classes&&e.addClass(xe(t.classes),s),t.attributes)for(const n in t.attributes)e.setAttribute(n,t.attributes[n],s)}function Tw(s,t,e){if(t.classes&&e.removeClass(xe(t.classes),s),t.attributes)for(const n in t.attributes)e.removeAttribute(n,s)}function Mm(s,t,e=f_,n=Tw){const o=new h_;o.on("change:top",(l,d)=>{d.oldDescriptor&&n(s,d.oldDescriptor,d.writer),d.newDescriptor&&e(s,d.newDescriptor,d.writer)}),t.setCustomProperty("addHighlight",(l,d,h)=>o.add(d,h),s),t.setCustomProperty("removeHighlight",(l,d,h)=>o.remove(d,h),s)}function Pm(s,t,e={}){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],s),t.setAttribute("role","textbox",s),e.label&&t.setAttribute("aria-label",e.label,s),t.setAttribute("contenteditable",s.isReadOnly?"false":"true",s),s.on("change:isReadOnly",(n,o,l)=>{t.setAttribute("contenteditable",l?"false":"true",s)}),s.on("change:isFocused",(n,o,l)=>{l?t.addClass("ck-editor__nested-editable_focused",s):t.removeClass("ck-editor__nested-editable_focused",s)}),Mm(s,t),s}function Rm(s,t){const e=s.getSelectedElement();if(e){const n=Ln(s);if(n)return t.createRange(t.createPositionAt(e,n))}return im(s,t)}function Dw(){return null}const _n="widget-type-around";function mo(s,t,e){return!!s&&le(s)&&!e.isInline(t)}function Ln(s){return s.getAttribute(_n)}var b_=Y(4921);mt()(b_.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const Nm=["before","after"],__=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,v_="ck-widget__type-around_disabled";class w_ extends W{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Na,Nn]}constructor(t){super(t),this._currentFakeCaretModelElement=null}init(){const t=this.editor,e=t.editing.view;this.on("change:isEnabled",(n,o,l)=>{e.change(d=>{for(const h of e.document.roots)l?d.removeClass(v_,h):d.addClass(v_,h)}),l||t.model.change(d=>{d.removeSelectionAttribute(_n)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(t,e){const n=this.editor,o=n.editing.view,l=n.model.schema.getAttributesWithProperty(t,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(t,e),attributes:l}),o.focus(),o.scrollToTheSelection()}_listenToIfEnabled(t,e,n,o){this.listenTo(t,e,(...l)=>{this.isEnabled&&n(...l)},o)}_insertParagraphAccordingToFakeCaretPosition(){const t=this.editor.model.document.selection,e=Ln(t);if(!e)return!1;const n=t.getSelectedElement();return this._insertParagraph(n,e),!0}_enableTypeAroundUIInjection(){const t=this.editor,e=t.model.schema,n=t.locale.t,o={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};t.editing.downcastDispatcher.on("insert",(l,d,h)=>{const m=h.mapper.toViewElement(d.item);m&&mo(m,d.item,e)&&(function(g,b,k){const v=g.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(w){const A=this.toDomElement(w);return function(T,E){for(const R of Nm){const N=new Si({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${R}`],title:E[R],"aria-hidden":"true"},children:[T.ownerDocument.importNode(__,!0)]});T.appendChild(N.render())}}(A,b),function(T){const E=new Si({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});T.appendChild(E.render())}(A),A});g.insert(g.createPositionAt(k,"end"),v)}(h.writer,o,m),m.getCustomProperty("widgetLabel").push(()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const t=this.editor,e=t.model,n=e.document.selection,o=e.schema;function d(h){return`ck-widget_type-around_show-fake-caret_${h}`}this._listenToIfEnabled(t.editing.view.document,"arrowKey",(h,m)=>{this._handleArrowKeyPress(h,m)},{context:[le,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",(h,m)=>{m.directChange&&t.model.change(g=>{g.removeSelectionAttribute(_n)})}),this._listenToIfEnabled(e.document,"change:data",()=>{const h=n.getSelectedElement();h&&mo(t.editing.mapper.toViewElement(h),h,o)||t.model.change(m=>{m.removeSelectionAttribute(_n)})}),this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",(h,m,g)=>{const b=g.writer;if(this._currentFakeCaretModelElement){const A=g.mapper.toViewElement(this._currentFakeCaretModelElement);A&&(b.removeClass(Nm.map(d),A),this._currentFakeCaretModelElement=null)}const k=m.selection.getSelectedElement();if(!k)return;const v=g.mapper.toViewElement(k);if(!mo(v,k,o))return;const w=Ln(m.selection);w&&(b.addClass(d(w),v),this._currentFakeCaretModelElement=k)}),this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",(h,m,g)=>{g||t.model.change(b=>{b.removeSelectionAttribute(_n)})})}_handleArrowKeyPress(t,e){const n=this.editor,o=n.model,l=o.document.selection,d=o.schema,h=n.editing.view,m=function(k,v){const w=xl(k,v);return"down"===w||"right"===w}(e.keyCode,n.locale.contentLanguageDirection),g=h.document.selection.getSelectedElement();let b;mo(g,n.editing.mapper.toModelElement(g),d)?b=this._handleArrowKeyPressOnSelectedWidget(m):l.isCollapsed?b=this._handleArrowKeyPressWhenSelectionNextToAWidget(m):e.shiftKey||(b=this._handleArrowKeyPressWhenNonCollapsedSelection(m)),b&&(e.preventDefault(),t.stop())}_handleArrowKeyPressOnSelectedWidget(t){const e=this.editor.model,n=Ln(e.document.selection);return e.change(o=>n?n!==(t?"after":"before")&&(o.removeSelectionAttribute(_n),!0):(o.setSelectionAttribute(_n,t?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(t){const e=this.editor,n=e.model,o=n.schema,l=e.plugins.get("Widget"),d=l._getObjectElementNextToSelection(t);return!!mo(e.editing.mapper.toViewElement(d),d,o)&&(n.change(h=>{l._setSelectionOverElement(d),h.setSelectionAttribute(_n,t?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(t){const e=this.editor,n=e.model,o=n.schema,l=e.editing.mapper,d=n.document.selection,h=t?d.getLastPosition().nodeBefore:d.getFirstPosition().nodeAfter;return!!mo(l.toViewElement(h),h,o)&&(n.change(m=>{m.setSelection(h,"on"),m.setSelectionAttribute(_n,t?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const t=this.editor,e=t.editing.view;this._listenToIfEnabled(e.document,"mousedown",(n,o)=>{const l=o.domTarget.closest(".ck-widget__type-around__button");if(!l)return;const d=l.classList.contains("ck-widget__type-around__button_before")?"before":"after",h=function(g,b){const k=g.closest(".ck-widget");return b.mapDomToView(k)}(l,e.domConverter),m=t.editing.mapper.toModelElement(h);this._insertParagraph(m,d),o.preventDefault(),n.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const t=this.editor,e=t.model.document.selection;this._listenToIfEnabled(t.editing.view.document,"enter",(o,l)=>{if("atTarget"!=o.eventPhase)return;const d=e.getSelectedElement(),h=t.editing.mapper.toViewElement(d),m=t.model.schema;let g;this._insertParagraphAccordingToFakeCaretPosition()?g=!0:mo(h,d,m)&&(this._insertParagraph(d,l.isSoft?"before":"after"),g=!0),g&&(l.preventDefault(),o.stop())},{context:le})}_enableInsertingParagraphsOnTypingKeystroke(){const t=this.editor.editing.view.document;this._listenToIfEnabled(t,"insertText",(e,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=t.selection)},{priority:"high"}),O_isAndroid?this._listenToIfEnabled(t,"keydown",(e,n)=>{229==n.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(t,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const t=this.editor,n=t.model,o=n.schema;this._listenToIfEnabled(t.editing.view.document,"delete",(l,d)=>{if("atTarget"!=l.eventPhase)return;const h=Ln(n.document.selection);if(!h)return;const m=d.direction,g=n.document.selection.getSelectedElement(),b="forward"==m;if("before"===h===b)t.execute("delete",{selection:n.createSelection(g,"on")});else{const k=o.getNearestSelectionRange(n.createPositionAt(g,h),m);if(k)if(k.isCollapsed){const v=n.createSelection(k.start);if(n.modifySelection(v,{direction:m}),v.focus.isEqual(k.start)){const w=function(A,T){let E=T;for(const R of T.getAncestors({parentFirst:!0})){if(R.childCount>1||A.isLimit(R))break;E=R}return E}(o,k.start.parent);n.deleteContent(n.createSelection(w,"on"),{doNotAutoparagraph:!0})}else n.change(w=>{w.setSelection(k),t.execute(b?"deleteForward":"delete")})}else n.change(v=>{v.setSelection(k),t.execute(b?"deleteForward":"delete")})}d.preventDefault(),l.stop()},{context:le})}_enableInsertContentIntegration(){const e=this.editor.model,n=e.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(o,[l,d])=>{if(d&&!d.is("documentSelection"))return;const h=Ln(n);return h?(o.stop(),e.change(m=>{const g=n.getSelectedElement(),b=e.createPositionAt(g,h),k=m.createSelection(b),v=e.insertContent(l,k);return m.setSelection(k),v})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"insertObject",(n,o)=>{const[,l,,d={}]=o;if(l&&!l.is("documentSelection"))return;const h=Ln(e);h&&(d.findOptimalPosition=h,o[3]=d)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",(n,[o])=>{o&&!o.is("documentSelection")||Ln(e)&&n.stop()},{priority:"high"})}}function Lm(s,t,e){const n=s.schema,o=s.createRangeIn(t.root),l="forward"==e?"elementStart":"elementEnd";for(const{previousPosition:d,item:h,type:m}of o.getWalker({startPosition:t,direction:e})){if(n.isLimit(h)&&!n.isInline(h))return d;if(m==l&&n.isBlock(h))return null}return null}function y_(s,t,e){const n="backward"==e?t.end:t.start;if(s.checkChild(n,"$text"))return n;for(const{nextPosition:o}of t.getWalker({direction:e}))if(s.checkChild(o,"$text"))return o;return null}var Bm=Y(3488);mt()(Bm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ir extends W{static get pluginName(){return"Widget"}static get requires(){return[w_,Nn]}init(){const t=this.editor,e=t.editing.view,n=e.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(o,l,d)=>{const h=d.writer,m=l.selection;if(m.isCollapsed)return;const g=m.getSelectedElement();if(!g)return;const b=t.editing.mapper.toViewElement(g);var k;le(b)&&d.consumable.consume(m,"selection")&&h.setSelection(h.createRangeOn(b),{fake:!0,label:(k=b,k.getCustomProperty("widgetLabel").reduce((v,w)=>"function"==typeof w?v?v+". "+w():w():v?v+". "+w:w,""))})}),this.editor.editing.downcastDispatcher.on("selection",(o,l,d)=>{this._clearPreviouslySelectedWidgets(d.writer);const h=d.writer,m=h.document.selection;let g=null;for(const b of m.getRanges())for(const k of b){const v=k.item;le(v)&&!Sw(v,g)&&(h.addClass(g_,v),this._previouslySelected.add(v),g=v)}},{priority:"low"}),e.addObserver(vc),this.listenTo(n,"mousedown",(...o)=>this._onMousedown(...o)),this.listenTo(n,"arrowKey",(...o)=>{this._handleSelectionChangeOnArrowKeyPress(...o)},{context:[le,"$text"]}),this.listenTo(n,"arrowKey",(...o)=>{this._preventDefaultOnArrowKeyPress(...o)},{context:"$root"}),this.listenTo(n,"arrowKey",function C_(s){const t=s.model;return(e,n)=>{const l=n.keyCode==Rt.arrowdown,d=n.shiftKey,h=t.document.selection;if(n.keyCode!=Rt.arrowup&&!l)return;const m=l;if(d&&!(b=h).isCollapsed&&b.isBackward==m)return;var b;const g=function(b,k,v){const w=b.model;if(v){const A=k.isCollapsed?k.focus:k.getLastPosition(),T=Lm(w,A,"forward");if(!T)return null;const E=w.createRange(A,T),R=y_(w.schema,E,"backward");return R?w.createRange(A,R):null}{const A=k.isCollapsed?k.focus:k.getFirstPosition(),T=Lm(w,A,"backward");if(!T)return null;const E=w.createRange(T,A),R=y_(w.schema,E,"forward");return R?w.createRange(R,A):null}}(s,h,m);if(g){if(g.isCollapsed&&(h.isCollapsed||d))return;(g.isCollapsed||function(b,k,v){const w=b.model,A=b.view.domConverter;if(v){const q=w.createSelection(k.start);w.modifySelection(q),q.focus.isAtEnd||k.start.isEqual(q.focus)||(k=w.createRange(q.focus,k.end))}const T=b.mapper.toViewRange(k),E=A.viewRangeToDom(T),R=ue.getDomRangeRects(E);let N;for(const q of R)if(void 0!==N){if(Math.round(q.top)>=N)return!1;N=Math.max(N,Math.round(q.bottom))}else N=Math.round(q.bottom);return!0}(s,g,m))&&(t.change(b=>{const k=m?g.end:g.start;if(d){const v=t.createSelection(h.anchor);v.setFocus(k),b.setSelection(v)}else b.setSelection(k)}),e.stop(),n.preventDefault(),n.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(n,"delete",(o,l)=>{this._handleDelete("forward"==l.direction)&&(l.preventDefault(),o.stop())},{context:"$root"})}_onMousedown(t,e){const n=this.editor,o=n.editing.view,l=o.document;let d=e.target;if(function(m){let g=m;for(;g;){if(g.is("editableElement")&&!g.is("rootElement"))return!0;if(le(g))return!1;g=g.parent}return!1}(d)){if((O_isSafari||O_isGecko)&&e.domEvent.detail>=3){const m=n.editing.mapper,g=d.is("attributeElement")?d.findAncestor(k=>!k.is("attributeElement")):d,b=m.toModelElement(g);e.preventDefault(),this.editor.model.change(k=>{k.setSelection(b,"in")})}return}if(!le(d)&&(d=d.findAncestor(le),!d))return;O_isAndroid&&e.preventDefault(),l.isFocused||o.focus();const h=n.editing.mapper.toModelElement(d);this._setSelectionOverElement(h)}_handleSelectionChangeOnArrowKeyPress(t,e){const n=e.keyCode,o=this.editor.model,l=o.schema,d=o.document.selection,h=d.getSelectedElement(),m=xl(n,this.editor.locale.contentLanguageDirection),g="down"==m||"right"==m,b="up"==m||"down"==m;if(h&&l.isObject(h)){const v=g?d.getLastPosition():d.getFirstPosition(),w=l.getNearestSelectionRange(v,g?"forward":"backward");return void(w&&(o.change(A=>{A.setSelection(w)}),e.preventDefault(),t.stop()))}if(!d.isCollapsed&&!e.shiftKey){const v=d.getFirstPosition(),w=d.getLastPosition(),A=v.nodeAfter,T=w.nodeBefore;return void((A&&l.isObject(A)||T&&l.isObject(T))&&(o.change(E=>{E.setSelection(g?w:v)}),e.preventDefault(),t.stop()))}if(!d.isCollapsed)return;const k=this._getObjectElementNextToSelection(g);if(k&&l.isObject(k)){if(l.isInline(k)&&b)return;this._setSelectionOverElement(k),e.preventDefault(),t.stop()}}_preventDefaultOnArrowKeyPress(t,e){const n=this.editor.model,o=n.schema,l=n.document.selection.getSelectedElement();l&&o.isObject(l)&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const e=this.editor.model.document.selection;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change(o=>{let l=e.anchor.parent;for(;l.isEmpty;){const d=l;l=d.parent,o.remove(d)}this._setSelectionOverElement(n)}),!0):void 0}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,o=e.document.selection,l=e.createSelection(o);if(e.modifySelection(l,{direction:t?"forward":"backward"}),l.isEqual(o))return null;const d=t?l.focus.nodeBefore:l.focus.nodeAfter;return d&&n.isObject(d)?d:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(g_,e);this._previouslySelected.clear()}}function Sw(s,t){return!!t&&Array.from(s.getAncestors()).includes(t)}class Ba extends W{static get requires(){return[uo]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",n=>{(function(o){const l=o.getSelectedElement();return!(!l||!le(l))})(t.editing.view.document.selection)&&n.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:n,getRelatedElement:o,balloonClassName:l="ck-toolbar-container"}){if(!n.length)return void bt("widget-toolbar-no-items",{toolbarId:t});const d=this.editor,h=d.t,m=new yc(d.locale);if(m.ariaLabel=e||h("Widget toolbar"),this._toolbarDefinitions.has(t))throw new M("widget-toolbar-duplicated",this,{toolbarId:t});const g={view:m,getRelatedElement:o,balloonClassName:l,itemsConfig:n,initialized:!1};d.ui.addToolbar(m,{isContextual:!0,beforeFocus:()=>{const b=o(d.editing.view.document.selection);b&&this._showToolbar(g,b)},afterBlur:()=>{this._hideToolbar(g)}}),this._toolbarDefinitions.set(t,g)}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const o of this._toolbarDefinitions.values()){const l=o.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&l)if(this.editor.ui.focusTracker.isFocused){const d=l.getAncestors().length;d>t&&(t=d,e=l,n=o)}else this._isToolbarVisible(o)&&this._hideToolbar(o);else this._isToolbarInBalloon(o)&&this._hideToolbar(o)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?Om(this.editor,e):this._isToolbarInBalloon(t)||(t.initialized||(t.initialized=!0,t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:t.view,position:zm(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const n of this._toolbarDefinitions.values())if(this._isToolbarVisible(n)){const o=n.getRelatedElement(this.editor.editing.view.document.selection);Om(this.editor,o)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function Om(s,t){const e=s.plugins.get("ContextualBalloon"),n=zm(s,t);e.updatePosition(n)}function zm(s,t){const n=Ze.defaultPositions;return{target:s.editing.view.domConverter.mapViewToDom(t),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}zt(),zt();var Fm=Y(8506);mt()(Fm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var jm=Y(903);mt()(jm.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Mw extends W{static get pluginName(){return"DragDrop"}static get requires(){return[zi,ir]}init(){const t=this.editor,e=t.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=function(s,t,e){var n=!0,o=!0;return oe(e)&&(n="leading"in e?!!e.leading:n,o="trailing"in e?!!e.trailing:o),Ps(s,40,{leading:n,maxWait:40,trailing:o})}(n=>this._updateDropMarker(n)),this._removeDropMarkerDelayed=Um(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=Um(()=>this._clearDraggableAttributes(),40),e.addObserver(Go),e.addObserver(vc),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(t,"change:isReadOnly",(n,o,l)=>{l?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(n,o,l)=>{l||this._finalizeDragging(!1)}),O_isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const t=this.editor,e=t.model,n=e.document,o=t.editing.view,l=o.document;this.listenTo(l,"dragstart",(d,h)=>{const m=n.selection;if(h.target&&h.target.is("editableElement"))return void h.preventDefault();const g=h.target?S_(h.target):null;if(g){const v=t.editing.mapper.toModelElement(g);this._draggedRange=li.fromRange(e.createRangeOn(v)),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!l.selection.isCollapsed){const v=l.selection.getSelectedElement();v&&le(v)||(this._draggedRange=li.fromRange(m.getFirstRange()))}if(!this._draggedRange)return void h.preventDefault();this._draggingUid=Ie(),h.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",h.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const b=e.createSelection(this._draggedRange.toRange()),k=t.data.toView(e.getSelectedContent(b));l.fire("clipboardOutput",{dataTransfer:h.dataTransfer,content:k,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(l,"dragend",(d,h)=>{this._finalizeDragging(!h.dataTransfer.isCanceled&&"move"==h.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(l,"dragenter",()=>{this.isEnabled&&o.focus()}),this.listenTo(l,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(l,"dragging",(d,h)=>{if(!this.isEnabled)return void(h.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const m=Vm(t,h.targetRanges,h.target);this._draggedRange||(h.dataTransfer.dropEffect="copy"),O_isGecko||("copy"==h.dataTransfer.effectAllowed?h.dataTransfer.dropEffect="copy":["all","copyMove"].includes(h.dataTransfer.effectAllowed)&&(h.dataTransfer.dropEffect="move")),m&&this._updateDropMarkerThrottled(m)},{priority:"low"})}_setupClipboardInputIntegration(){const t=this.editor;this.listenTo(t.editing.view.document,"clipboardInput",(n,o)=>{if("drop"!=o.method)return;const l=Vm(t,o.targetRanges,o.target);return this._removeDropMarker(),l?(this._draggedRange&&this._draggingUid!=o.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==$m(o.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(l,!0)?(this._finalizeDragging(!1),void n.stop()):void(o.targetRanges=[t.editing.mapper.toViewRange(l)])):(this._finalizeDragging(!1),void n.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const t=this.editor.plugins.get(zi);t.on("contentInsertion",(e,n)=>{if(!this.isEnabled||"drop"!==n.method)return;const o=n.targetRanges.map(l=>this.editor.editing.mapper.toModelRange(l));this.editor.model.change(l=>l.setSelection(o))},{priority:"high"}),t.on("contentInsertion",(e,n)=>{if(!this.isEnabled||"drop"!==n.method)return;const o="move"==$m(n.dataTransfer);this._finalizeDragging((!n.resultRange||!n.resultRange.isCollapsed)&&o)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const t=this.editor,e=t.editing.view,n=e.document;this.listenTo(n,"mousedown",(o,l)=>{if(O_isAndroid||!l)return;this._clearDraggableAttributesDelayed.cancel();let d=S_(l.target);if(O_isBlink&&!t.isReadOnly&&!d&&!n.selection.isCollapsed){const h=n.selection.getSelectedElement();h&&le(h)||(d=n.selection.editableElement)}d&&(e.change(h=>{h.setAttribute("draggable","true",d)}),this._draggableElement=t.editing.mapper.toModelElement(d))}),this.listenTo(n,"mouseup",()=>{O_isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const t=this.editor.editing;t.view.change(e=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&e.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const t=this.editor;t.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),t.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(e,{writer:n})=>{if(t.model.schema.checkChild(e.markerRange.start,"$text"))return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(o){const l=this.toDomElement(o);return l.append("\u2060",o.createElement("span"),"\u2060"),l})}})}_updateDropMarker(t){const e=this.editor,n=e.model.markers;e.model.change(o=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(t)||o.updateMarker("drop-target",{range:t}):o.addMarker("drop-target",{range:t,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const t=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),t.markers.has("drop-target")&&t.change(e=>{e.removeMarker("drop-target")})}_finalizeDragging(t){const e=this.editor,n=e.model;this._removeDropMarker(),this._clearDraggableAttributes(),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(t&&this.isEnabled&&n.deleteContent(n.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function Vm(s,t,e){const n=s.model,o=s.editing.mapper;let l=null;const d=t?t[0].start:null;if(e.is("uiElement")&&(e=e.parent),l=function(g,b){const k=g.model,v=g.editing.mapper;if(le(b))return k.createRangeOn(v.toModelElement(b));if(!b.is("editableElement")){const w=b.findAncestor(A=>le(A)||A.is("editableElement"));if(le(w))return k.createRangeOn(v.toModelElement(w))}return null}(s,e),l)return l;const h=function(g,b){const k=g.editing.mapper,v=g.editing.view,w=k.toModelElement(b);if(w)return w;const A=v.createPositionBefore(b),T=k.findMappedViewAncestor(A);return k.toModelElement(T)}(s,e),m=d?o.toModelPosition(d):null;return m?(l=function(g,b,k){const v=g.model;if(!v.schema.checkChild(k,"$block"))return null;const w=v.createPositionAt(k,0),A=b.path.slice(0,w.path.length),E=v.createPositionFromPath(b.root,A).nodeAfter;return E&&v.schema.isObject(E)?v.createRangeOn(E):null}(s,m,h),l||(l=n.schema.getNearestSelectionRange(m,O_isGecko?"forward":"backward"),l||function(g,b){const k=g.model;let v=b;for(;v;){if(k.schema.isObject(v))return k.createRangeOn(v);v=v.parent}return null}(s,m.parent))):function(g,b){const k=g.model,v=k.schema,w=k.createPositionAt(b,0);return v.getNearestSelectionRange(w,"forward")}(s,h)}function $m(s){return O_isGecko?s.dropEffect:["all","copyMove"].includes(s.effectAllowed)?"move":"copy"}function Um(s,t){let e;function n(...o){n.cancel(),e=setTimeout(()=>s(...o),t)}return n.cancel=()=>{clearTimeout(e)},n}function S_(s){if(s.is("editableElement"))return null;if(s.hasClass("ck-widget__selection-handle"))return s.findAncestor(le);if(le(s))return s;const t=s.findAncestor(e=>le(e)||e.is("editableElement"));return le(t)?t:null}class E_ extends W{static get pluginName(){return"PastePlainText"}static get requires(){return[zi]}init(){const t=this.editor,e=t.model,n=t.editing.view,o=n.document,l=e.document.selection;let d=!1;n.addObserver(Go),this.listenTo(o,"keydown",(h,m)=>{d=m.shiftKey}),t.plugins.get(zi).on("contentInsertion",(h,m)=>{(d||function(g,b){if(g.childCount>1)return!1;const k=g.getChild(0);return!b.isObject(k)&&0==Array.from(k.getAttributeKeys()).length}(m.content,e.schema))&&e.change(g=>{const b=Array.from(l.getAttributes()).filter(([v])=>e.schema.getAttributeProperties(v).isFormatting);l.isCollapsed||e.deleteContent(l,{doNotAutoparagraph:!0}),b.push(...l.getAttributes());const k=g.createRangeIn(m.content);for(const v of k.getItems())v.is("$textProxy")&&g.setAttributes(b,v)})})}}class Zm extends W{static get pluginName(){return"Clipboard"}static get requires(){return[zi,Mw,E_]}}class I_ extends Tt{constructor(t){super(t),this.affectsData=!1}execute(){const t=this.editor.model,e=t.document.selection;let n=t.schema.getLimitElement(e);if(e.containsEntireContent(n)||!M_(t.schema,n))do{if(n=n.parent,!n)return}while(!M_(t.schema,n));t.change(o=>{o.setSelection(n,"in")})}}function M_(s,t){return s.isLimit(t)&&(s.checkChild(t,"$text")||s.checkChild(t,"paragraph"))}const P_=Al("Ctrl+A");class R_ extends W{static get pluginName(){return"SelectAllEditing"}init(){const t=this.editor,e=t.editing.view.document;t.commands.add("selectAll",new I_(t)),this.listenTo(e,"keydown",(n,o)=>{Yn(o)===P_&&(t.execute("selectAll"),o.preventDefault())})}}class N_ extends W{static get pluginName(){return"SelectAllUI"}init(){const t=this.editor;t.ui.componentFactory.add("selectAll",e=>{const n=t.commands.get("selectAll"),o=new qt(e);return o.set({label:(0,e.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),o.bind("isEnabled").to(n,"isEnabled"),this.listenTo(o,"execute",()=>{t.execute("selectAll"),t.editing.view.focus()}),o})}}class Pw extends W{static get requires(){return[R_,N_]}static get pluginName(){return"SelectAll"}}class Hm extends Tt{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(t.data,"set",(e,n)=>{n[1]={...n[1]};const o=n[1];o.batchType||(o.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(t.data,"set",(e,n)=>{n[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const o=this.editor.model,l=o.document,d=[],h=t.map(g=>g.getTransformedByOperations(n)),m=h.flat();for(const g of h){const b=g.filter(k=>k.root!=l.graveyard).filter(k=>!B_(k,m));b.length&&(L_(b),d.push(b[0]))}d.length&&o.change(g=>{g.setSelection(d,{backward:e})})}_undo(t,e){const n=this.editor.model,o=n.document;this._createdBatches.add(e);const l=t.operations.slice().filter(d=>d.isDocumentOperation);l.reverse();for(const d of l){const m=Array.from(o.history.getOperations(d.baseVersion+1)),g=kk([d.getReversed()],m,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const b of g)e.addOperation(b),n.applyOperation(b),o.history.setOperationAsUndone(d,b)}}}function L_(s){s.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<s.length;t++){const e=s[t-1].getJoined(s[t],!0);e&&(t--,s.splice(t,2,e))}}function B_(s,t){return t.some(e=>e!==s&&e.containsRange(s,!0))}class Rw extends Hm{execute(t=null){const e=t?this._stack.findIndex(l=>l.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],o=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(o,()=>{this._undo(n.batch,o);const l=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,l),this.fire("revert",n.batch,o)}),this.refresh()}}class O_ extends Hm{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(e,()=>{const o=this.editor.model.document.history.getOperations(t.batch.operations[t.batch.operations.length-1].baseVersion+1);this._restoreSelection(t.selection.ranges,t.selection.isBackward,o),this._undo(t.batch,e)}),this.refresh()}}class z_ extends W{static get pluginName(){return"UndoEditing"}constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new Rw(t),this._redoCommand=new O_(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(e,n)=>{const o=n[0];if(!o.isDocumentOperation)return;const l=o.batch,d=this._redoCommand._createdBatches.has(l),h=this._undoCommand._createdBatches.has(l);this._batchRegistry.has(l)||(this._batchRegistry.add(l),l.isUndoable&&(d?this._undoCommand.addBatch(l):h||(this._undoCommand.addBatch(l),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(e,n,o)=>{this._redoCommand.addBatch(o)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}const qm='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',F_='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class j_ extends W{static get pluginName(){return"UndoUI"}init(){const t=this.editor,e=t.locale,n=t.t,o="ltr"==e.uiLanguageDirection?qm:F_,l="ltr"==e.uiLanguageDirection?F_:qm;this._addButton("undo",n("Undo"),"CTRL+Z",o),this._addButton("redo",n("Redo"),"CTRL+Y",l)}_addButton(t,e,n,o){const l=this.editor;l.ui.componentFactory.add(t,d=>{const h=l.commands.get(t),m=new qt(d);return m.set({label:e,icon:o,keystroke:n,tooltip:!0}),m.bind("isEnabled").to(h,"isEnabled"),this.listenTo(m,"execute",()=>{l.execute(t),l.editing.view.focus()}),m})}}class Qm extends W{static get requires(){return[z_,j_]}static get pluginName(){return"Undo"}}class V_ extends(zt()){constructor(){super();const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=e=>{this.loaded=e.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise((n,o)=>{e.onload=()=>{const l=e.result;this._data=l,n(l)},e.onerror=()=>{o("error")},e.onabort=()=>{o("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}class on extends W{static get pluginName(){return"FileRepository"}static get requires(){return[Cc]}init(){this.loaders=new Di,this.loaders.on("change",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return bt("filerepository-no-upload-adapter"),null;const e=new Ym(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then(n=>{this._loadersMap.set(n,e)}).catch(()=>{}),e.on("change:uploaded",()=>{let n=0;for(const o of this.loaders)n+=o.uploaded;this.uploaded=n}),e.on("change:uploadTotal",()=>{let n=0;for(const o of this.loaders)o.uploadTotal&&(n+=o.uploadTotal);this.uploadTotal=n}),e}destroyLoader(t){const e=t instanceof Ym?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((n,o)=>{n===e&&this._loadersMap.delete(o)})}_updatePendingAction(){const t=this.editor.plugins.get(Cc);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=o=>`${e("Upload in progress")} ${parseInt(o)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}class Ym extends(zt()){constructor(t,e){super(),this.id=Ie(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new V_,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,o)=>o?n/o*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new M("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>{if("reading"!==this.status)throw this.status;return this.status="idle",t}).catch(t=>{throw"aborted"===t?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:t)})}upload(){if("idle"!=this.status)throw new M("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{throw"aborted"===this.status?"aborted":(this.status="error",t)})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise((n,o)=>{e.rejecter=o,e.isFulfilled=!1,t.then(l=>{e.isFulfilled=!0,n(l)}).catch(l=>{e.isFulfilled=!0,o(l)})}),e}}class $_ extends It{constructor(t){super(t),this.buttonView=new qt(t),this._fileInputView=new U_(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class U_ extends It{constructor(t){super(t),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const Gm="abcdefghijklmnopqrstuvwxyz0123456789";class Nw{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then(t=>new Promise((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const o=this.xhr,l=this.loader,d=(0,this.t)("Cannot upload file:")+` ${n.name}.`;o.addEventListener("error",()=>e(d)),o.addEventListener("abort",()=>e()),o.addEventListener("load",()=>{const h=o.response;if(!h||!h.uploaded)return e(h&&h.error&&h.error.message?h.error.message:d);t({default:h.url})}),o.upload&&o.upload.addEventListener("progress",h=>{h.lengthComputable&&(l.uploadTotal=h.total,l.uploaded=h.loaded)})}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",function H_(){let s=function(n){n=n.toLowerCase();const o=document.cookie.split(";");for(const l of o){const d=l.split("=");if(decodeURIComponent(d[0].trim().toLowerCase())===n)return decodeURIComponent(d[1])}return null}("ckCsrfToken");var e;return s&&40==s.length||(s=function(n){let o="";const l=new Uint8Array(40);window.crypto.getRandomValues(l);for(let d=0;d<l.length;d++){const h=Gm.charAt(l[d]%Gm.length);o+=Math.random()>.5?h.toUpperCase():h}return o}(),e=s,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(e)+";path=/"),s}()),this.xhr.send(e)}}function Bn(s,t,e,n){let o,l=null;"function"==typeof n?o=n:(l=s.commands.get(n),o=()=>{s.execute(n)}),s.model.document.on("change:data",(d,h)=>{if(l&&!l.isEnabled||!t.isEnabled)return;const m=fe(s.model.document.selection.getRanges());if(!m.isCollapsed||h.isUndo||!h.isLocal)return;const g=Array.from(s.model.document.differ.getChanges()),b=g[0];if(1!=g.length||"insert"!==b.type||"$text"!=b.name||1!=b.length)return;const k=b.position.parent;if(k.is("element","codeBlock")||k.is("element","listItem")&&"function"!=typeof n&&!["numberedList","bulletedList","todoList"].includes(n)||l&&!0===l.value)return;const v=k.getChild(0),w=s.model.createRangeOn(v);if(!w.containsRange(m)&&!m.end.isEqual(w.end))return;const A=e.exec(v.data.substr(0,m.end.offset));A&&s.model.enqueueChange(T=>{const E=T.createPositionAt(k,0),R=T.createPositionAt(k,A[0].length),N=new li(E,R);if(!1!==o({match:A})){T.remove(N);const q=s.model.document.selection.getFirstRange(),et=T.createRangeIn(k);!k.isEmpty||et.isEqual(q)||et.containsRange(q,!0)||T.remove(k)}N.detach(),s.model.enqueueChange(()=>{s.plugins.get("Delete").requestUndoOnBackspace()})})})}function ts(s,t,e,n){let o,l;e instanceof RegExp?o=e:l=e,l=l||(d=>{let h;const m=[],g=[];for(;null!==(h=o.exec(d))&&!(h&&h.length<4);){let{index:b,1:k,2:v,3:w}=h;b+=h[0].length-(k+v+w).length;const E=[b+k.length+v.length,b+k.length+v.length+w.length];m.push([b,b+k.length]),m.push(E),g.push([b+k.length,b+k.length+v.length])}return{remove:m,format:g}}),s.model.document.on("change:data",(d,h)=>{if(h.isUndo||!h.isLocal||!t.isEnabled)return;const m=s.model,g=m.document.selection;if(!g.isCollapsed)return;const b=Array.from(m.document.differ.getChanges()),k=b[0];if(1!=b.length||"insert"!==k.type||"$text"!=k.name||1!=k.length)return;const v=g.focus,w=v.parent,{text:A,range:T}=function(q,et){let yt=q.start;return{text:Array.from(q.getItems()).reduce((Vt,Le)=>!Le.is("$text")&&!Le.is("$textProxy")||Le.getAttribute("code")?(yt=et.createPositionAfter(Le),""):Vt+Le.data,""),range:et.createRange(yt,q.end)}}(m.createRange(m.createPositionAt(w,0),v),m),E=l(A),R=Wm(T.start,E.format,m),N=Wm(T.start,E.remove,m);R.length&&N.length&&m.enqueueChange(q=>{if(!1!==n(q,R)){for(const et of N.reverse())q.remove(et);m.enqueueChange(()=>{s.plugins.get("Delete").requestUndoOnBackspace()})}})})}function Wm(s,t,e){return t.filter(n=>void 0!==n[0]&&void 0!==n[1]).map(n=>e.createRange(s.getShiftedBy(n[0]),s.getShiftedBy(n[1])))}function Fc(s,t){return(e,n)=>{if(!s.commands.get(t).isEnabled)return!1;const o=s.model.schema.getValidRanges(n,t);for(const l of o)e.setAttribute(t,!0,l);e.removeSelectionAttribute(t)}}class Km extends Tt{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,o=void 0===t.forceValue?!this.value:t.forceValue;e.change(l=>{if(n.isCollapsed)o?l.setSelectionAttribute(this.attributeKey,!0):l.removeSelectionAttribute(this.attributeKey);else{const d=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const h of d)o?l.setAttribute(this.attributeKey,o,h):l.removeAttribute(this.attributeKey,h)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const o of n.getRanges())for(const l of o.getItems())if(e.checkAttribute(l,this.attributeKey))return l.hasAttribute(this.attributeKey);return!1}}const es="bold";class q_ extends W{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:es}),t.model.schema.setAttributeProperties(es,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:es,view:"strong",upcastAlso:["b",e=>{const n=e.getStyle("font-weight");return n&&("bold"==n||Number(n)>=600)?{name:!0,styles:["font-weight"]}:null}]}),t.commands.add(es,new Km(t,es)),t.keystrokes.set("CTRL+B",es)}}const Xm="bold";class Q_ extends W{static get pluginName(){return"BoldUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(Xm,n=>{const o=t.commands.get(Xm),l=new qt(n);return l.set({label:e("Bold"),icon:ae.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(l,"execute",()=>{t.execute(Xm),t.editing.view.focus()}),l})}}const is="italic";class Y_ extends W{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:is}),t.model.schema.setAttributeProperties(is,{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:is,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(is,new Km(t,is)),t.keystrokes.set("CTRL+I",is)}}const tp="italic";class J_ extends W{static get pluginName(){return"ItalicUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(tp,n=>{const o=t.commands.get(tp),l=new qt(n);return l.set({label:e("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(l,"execute",()=>{t.execute(tp),t.editing.view.focus()}),l})}}class G_ extends Tt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,l=Array.from(e.document.selection.getSelectedBlocks()),d=void 0===t.forceValue?!this.value:t.forceValue;e.change(h=>{if(d){const m=l.filter(g=>Oa(g)||ep(n,g));this._applyQuote(h,m)}else this._removeQuote(h,l.filter(Oa))})}_getValue(){const t=fe(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!Oa(t))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.schema,n=fe(this.editor.model.document.selection.getSelectedBlocks());return!!n&&ep(e,n)}_removeQuote(t,e){W_(t,e).reverse().forEach(n=>{if(n.start.isAtStart&&n.end.isAtEnd)return void t.unwrap(n.start.parent);if(n.start.isAtStart){const l=t.createPositionBefore(n.start.parent);return void t.move(n,l)}n.end.isAtEnd||t.split(n.end);const o=t.createPositionAfter(n.end.parent);t.move(n,o)})}_applyQuote(t,e){const n=[];W_(t,e).reverse().forEach(o=>{let l=Oa(o.start);l||(l=t.createElement("blockQuote"),t.wrap(o,l)),n.push(l)}),n.reverse().reduce((o,l)=>o.nextSibling==l?(t.merge(t.createPositionAfter(o)),o):l)}}function Oa(s){return"blockQuote"==s.parent.name?s.parent:null}function W_(s,t){let e,n=0;const o=[];for(;n<t.length;){const l=t[n],d=t[n+1];e||(e=s.createPositionBefore(l)),d&&l.nextSibling==d||(o.push(s.createRange(e,s.createPositionAfter(l))),e=null),n++}return o}function ep(s,t){const e=s.checkChild(t.parent,"blockQuote"),n=s.checkChild(["$root","blockQuote"],t);return e&&n}class K_ extends W{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Na,Nn]}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new G_(t)),e.register("blockQuote",{inheritAllFrom:"$container"}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(d=>{const h=t.model.document.differ.getChanges();for(const m of h)if("insert"==m.type){const g=m.position.nodeAfter;if(!g)continue;if(g.is("element","blockQuote")&&g.isEmpty)return d.remove(g),!0;if(g.is("element","blockQuote")&&!e.checkChild(m.position,g))return d.unwrap(g),!0;if(g.is("element")){const b=d.createRangeIn(g);for(const k of b.getItems())if(k.is("element","blockQuote")&&!e.checkChild(d.createPositionBefore(k),k))return d.unwrap(k),!0}}else if("remove"==m.type){const g=m.position.parent;if(g.is("element","blockQuote")&&g.isEmpty)return d.remove(g),!0}return!1});const n=this.editor.editing.view.document,o=t.model.document.selection,l=t.commands.get("blockQuote");this.listenTo(n,"enter",(d,h)=>{!o.isCollapsed||!l.value||o.getLastPosition().parent.isEmpty&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),h.preventDefault(),d.stop())},{context:"blockquote"}),this.listenTo(n,"delete",(d,h)=>{if("backward"!=h.direction||!o.isCollapsed||!l.value)return;const m=o.getLastPosition().parent;m.isEmpty&&!m.previousSibling&&(t.execute("blockQuote"),t.editing.view.scrollToTheSelection(),h.preventDefault(),d.stop())},{context:"blockquote"})}}var ip=Y(3062);mt()(ip.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class X_ extends W{static get pluginName(){return"BlockQuoteUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",n=>{const o=t.commands.get("blockQuote"),l=new qt(n);return l.set({label:e("Block quote"),icon:ae.quote,tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(l,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),l})}}class tv extends W{static get pluginName(){return"CKBoxUI"}afterInit(){const t=this.editor;if(!t.commands.get("ckbox"))return;const e=t.t;t.ui.componentFactory.add("ckbox",n=>{const o=t.commands.get("ckbox"),l=new qt(n);return l.set({label:e("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),l.bind("isOn","isEnabled").to(o,"value","isEnabled"),l.on("execute",()=>{t.execute("ckbox")}),l})}}function np({token:s,id:t,origin:e,width:n,extension:o}){const l=op(s),d=function(m){const b=Math.floor(Math.max(10*m/100,80)),k=[Math.min(m,4e3)];let v=k[0];for(;v-b>=b;)v-=b,k.unshift(v);return k}(n),h="bmp"===(m=o)||"tiff"===m||"jpg"===m?"jpeg":m;var m;return{imageFallbackUrl:nv({environmentId:l,id:t,origin:e,width:n,extension:h}),imageSources:[{srcset:d.map(m=>`${nv({environmentId:l,id:t,origin:e,width:m,extension:"webp"})} ${m}w`).join(","),sizes:`(max-width: ${n}px) 100vw, ${n}px`,type:"image/webp"}]}}function op(s){const[,t]=s.value.split(".");return JSON.parse(atob(t)).aud}function nv({environmentId:s,id:t,origin:e,width:n,extension:o}){return new URL(`${s}/assets/${t}/images/${n}.${o}`,e).toString()}class ov extends Tt{constructor(t){super(t),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return null!==this._wrapper}_checkEnabled(){const t=this.editor.commands.get("insertImage"),e=this.editor.commands.get("link");return!(!t.isEnabled&&!e.isEnabled)}_prepareOptions(){const t=this.editor.config.get("ckbox");return{theme:t.theme,language:t.language,tokenUrl:t.tokenUrl,serviceOrigin:t.serviceOrigin,assetsOrigin:t.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:e=>this.fire("ckbox:choose",e)}}}_initListeners(){const t=this.editor,e=t.model,n=!t.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=cd(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(o,l)=>{if(!this.isEnabled)return;const d=t.commands.get("insertImage"),h=t.commands.get("link"),m=t.plugins.get("CKBoxEditing"),g=function({assets:b,origin:k,token:v,isImageAllowed:w,isLinkAllowed:A}){return b.map(T=>({id:T.data.id,type:sp(T)?"image":"link",attributes:sv(T,v,k)})).filter(T=>"image"===T.type?w:A)}({assets:l,origin:t.config.get("ckbox.assetsOrigin"),token:m.getToken(),isImageAllowed:d.isEnabled,isLinkAllowed:h.isEnabled});0!==g.length&&e.change(b=>{for(const k of g)this._insertAsset(k,k===g[g.length-1],b),n&&(setTimeout(()=>this._chosenAssets.delete(k),1e3),this._chosenAssets.add(k))})}),this.listenTo(t,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(t,e,n){const o=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),"image"===t.type?this._insertImage(t):this._insertLink(t,n),e||n.setSelection(o.getLastPosition())}_insertImage(t){const e=this.editor,{imageFallbackUrl:n,imageSources:o,imageTextAlternative:l}=t.attributes;e.execute("insertImage",{source:{src:n,sources:o,alt:l}})}_insertLink(t,e){const n=this.editor,o=n.model,l=o.document.selection,{linkName:d,linkHref:h}=t.attributes;if(l.isCollapsed){const m=Qi(l.getAttributes()),g=e.createText(d,m),b=o.insertContent(g);e.setSelection(b)}n.execute("link",h)}}function sv(s,t,e){if(sp(s)){const{imageFallbackUrl:n,imageSources:o}=np({token:t,origin:e,id:s.data.id,width:s.data.metadata.width,extension:s.data.extension});return{imageFallbackUrl:n,imageSources:o,imageTextAlternative:s.data.metadata.description||""}}return{linkName:s.data.name,linkHref:Ow(s,t,e)}}function sp(s){const t=s.data.metadata;return!!t&&t.width&&t.height}function Ow(s,t,e){const n=op(t),o=new URL(`${n}/assets/${s.data.id}/file`,e);return o.searchParams.set("download","true"),o.toString()}class rv extends W{static get requires(){return["ImageUploadEditing","ImageUploadProgress",on,ap]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){var t=this;return Nt(function*(){const e=t.editor,n=!!e.config.get("ckbox"),o=!!window.CKBox;if(!n&&!o)return;const l=e.plugins.get(on),d=e.plugins.get(ap);l.createUploadAdapter=g=>new av(g,d.getToken(),e);const h=!e.config.get("ckbox.ignoreDataId"),m=e.plugins.get("ImageUploadEditing");h&&m.on("uploadComplete",(g,{imageElement:b,data:k})=>{e.model.change(v=>{v.setAttribute("ckboxImageId",k.ckboxImageId,b)})})})()}}class av{constructor(t,e,n){this.loader=t,this.token=e,this.editor=n,this.controller=new AbortController,this.serviceOrigin=n.config.get("ckbox.serviceOrigin"),this.assetsOrigin=n.config.get("ckbox.assetsOrigin")}getAvailableCategories(t=0){var e=this;return Nt(function*(){const n=new URL("categories",e.serviceOrigin);return n.searchParams.set("limit",50..toString()),n.searchParams.set("offset",t.toString()),e._sendHttpRequest({url:n}).then(function(){var o=Nt(function*(l){if(l.totalCount-(t+50)>0){const d=yield e.getAvailableCategories(t+50);return[...l.items,...d]}return l.items});return function(l){return o.apply(this,arguments)}}()).catch(()=>{e.controller.signal.throwIfAborted(),se("ckbox-fetch-category-http-error")})})()}getCategoryIdForFile(t){var e=this;return Nt(function*(){const n=rp(t.name),o=yield e.getAvailableCategories();if(!o)return null;const l=e.editor.config.get("ckbox.defaultUploadCategories");if(l){const h=Object.keys(l).find(m=>l[m].includes(n));if(h){const m=o.find(g=>g.id===h||g.name===h);return m?m.id:null}}const d=o.find(h=>h.extensions.includes(n));return d?d.id:null})()}upload(){var t=this;return Nt(function*(){const e=t.editor.t,n=e("Cannot determine a category for the uploaded file."),o=yield t.loader.file,l=yield t.getCategoryIdForFile(o);if(!l)return Promise.reject(n);const d=new URL("assets",t.serviceOrigin),h=new FormData;h.append("categoryId",l),h.append("file",o);const m={method:"POST",url:d,data:h,onUploadProgress:g=>{g.lengthComputable&&(t.loader.uploadTotal=g.total,t.loader.uploaded=g.loaded)}};return t._sendHttpRequest(m).then(function(){var g=Nt(function*(b){const k=yield t._getImageWidth(),v=rp(o.name),w=np({token:t.token,id:b.id,origin:t.assetsOrigin,width:k,extension:v});return{ckboxImageId:b.id,default:w.imageFallbackUrl,sources:w.imageSources}});return function(b){return g.apply(this,arguments)}}()).catch(()=>{const g=e("Cannot upload file:")+` ${o.name}.`;return Promise.reject(g)})})()}abort(){this.controller.abort()}_sendHttpRequest(t){const{url:e,data:n,onUploadProgress:o}=t,l=t.method||"GET",d=this.controller.signal,h=new XMLHttpRequest;h.open(l,e.toString(),!0),h.setRequestHeader("Authorization",this.token.value),h.setRequestHeader("CKBox-Version","CKEditor 5"),h.responseType="json";const m=()=>{h.abort()};return new Promise((g,b)=>{d.addEventListener("abort",m),h.addEventListener("loadstart",()=>{d.addEventListener("abort",m)}),h.addEventListener("loadend",()=>{d.removeEventListener("abort",m)}),h.addEventListener("error",()=>{b()}),h.addEventListener("abort",()=>{b()}),h.addEventListener("load",Nt(function*(){const k=h.response;return!k||k.statusCode>=400?b(k&&k.message):g(k)})),o&&h.upload.addEventListener("progress",k=>{o(k)}),h.send(n)})}_getImageWidth(){return new Promise(t=>{const e=new Image;e.onload=()=>{URL.revokeObjectURL(e.src),t(e.width)},e.src=this.loader.data})}}function rp(s){return s.match(/\.(?<ext>[^.]+)$/).groups.ext}class ap extends W{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",rv]}init(){var t=this;return Nt(function*(){const e=t.editor,n=!!e.config.get("ckbox"),o=!!window.CKBox;if(!n&&!o)return;t._initConfig();const l=e.plugins.get("CloudServicesCore"),d=e.config.get("ckbox.tokenUrl"),h=e.config.get("cloudServices.tokenUrl");t._token=d===h?e.plugins.get("CloudServices").token:yield l.createToken(d).init(),e.config.get("ckbox.ignoreDataId")||(t._initSchema(),t._initConversion(),t._initFixers()),o&&e.commands.add("ckbox",new ov(e))})()}getToken(){return this._token}_initConfig(){const t=this.editor;if(t.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:t.locale.uiLanguage,theme:"default",tokenUrl:t.config.get("cloudServices.tokenUrl")}),!t.config.get("ckbox.tokenUrl"))throw new M("ckbox-plugin-missing-token-url",this);t.plugins.has("ImageBlockEditing")||t.plugins.has("ImageInlineEditing")||se("ckbox-plugin-image-feature-missing",t)}_initSchema(){const t=this.editor.model.schema;t.extend("$text",{allowAttributes:"ckboxLinkId"}),t.isRegistered("imageBlock")&&t.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.isRegistered("imageInline")&&t.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),t.addAttributeCheck((e,n)=>{if(!e.last.getAttribute("linkHref")&&"ckboxLinkId"===n)return!1})}_initConversion(){const t=this.editor;t.conversion.for("downcast").add(e=>{e.on("attribute:ckboxLinkId:imageBlock",(n,o,l)=>{const{writer:d,mapper:h,consumable:m}=l;if(!m.consume(o.item,n.name))return;const g=[...h.toViewElement(o.item).getChildren()].find(b=>"a"===b.name);g&&(o.item.hasAttribute("ckboxLinkId")?d.setAttribute("data-ckbox-resource-id",o.item.getAttribute("ckboxLinkId"),g):d.removeAttribute("data-ckbox-resource-id",g))},{priority:"low"}),e.on("attribute:ckboxLinkId",(n,o,l)=>{const{writer:d,mapper:h,consumable:m}=l;if(m.consume(o.item,n.name)){if(o.attributeOldValue){const g=lp(d,o.attributeOldValue);d.unwrap(h.toViewRange(o.range),g)}if(o.attributeNewValue){const g=lp(d,o.attributeNewValue);o.item.is("selection")?d.wrap(d.document.selection.getFirstRange(),g):d.wrap(h.toViewRange(o.range),g)}}},{priority:"low"})}),t.conversion.for("upcast").add(e=>{e.on("element:a",(n,o,l)=>{const{writer:d,consumable:h}=l;if(!o.viewItem.getAttribute("href")||!h.consume(o.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const m=o.viewItem.getAttribute("data-ckbox-resource-id");if(m)if(o.modelRange)for(let g of o.modelRange.getItems())g.is("$textProxy")&&(g=g.textNode),cv(g)&&d.setAttribute("ckboxLinkId",m,g);else d.setAttribute("ckboxLinkId",m,o.modelCursor.nodeBefore||o.modelCursor.parent)},{priority:"low"})}),t.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),t.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:e=>e.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const t=this.editor,e=t.model,n=e.document.selection;var o;e.document.registerPostFixer((o=t,l=>{let d=!1;const h=o.model,m=o.commands.get("ckbox");if(!m)return d;for(const g of h.document.differ.getChanges()){if("insert"!==g.type&&"attribute"!==g.type)continue;const b="insert"===g.type?new V(g.position,g.position.getShiftedBy(g.length)):g.range,k="attribute"===g.type&&"linkHref"===g.attributeKey&&null===g.attributeNewValue;for(const v of b.getItems()){if(k&&v.hasAttribute("ckboxLinkId")){l.removeAttribute("ckboxLinkId",v),d=!0;continue}const w=lv(v,m._chosenAssets);for(const A of w){const T="image"===A.type?"ckboxImageId":"ckboxLinkId";A.id!==v.getAttribute(T)&&(l.setAttribute(T,A.id,v),d=!0)}}}return d})),e.document.registerPostFixer(function(o){return l=>{!o.hasAttribute("linkHref")&&o.hasAttribute("ckboxLinkId")&&l.removeSelectionAttribute("ckboxLinkId")}}(n))}}function lv(s,t){const e=s.is("element","imageInline")||s.is("element","imageBlock"),n=s.hasAttribute("linkHref");return[...t].filter(o=>"image"===o.type&&e?o.attributes.imageFallbackUrl===s.getAttribute("src"):"link"===o.type&&n?o.attributes.linkHref===s.getAttribute("linkHref"):void 0)}function lp(s,t){const e=s.createAttributeElement("a",{"data-ckbox-resource-id":t},{priority:5});return s.setCustomProperty("link",!0,e),e}function cv(s){return!!s.is("$text")||!(!s.is("element","imageInline")&&!s.is("element","imageBlock"))}class zw extends W{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor,n=t.t;t.ui.componentFactory.add("ckfinder",o=>{const l=t.commands.get("ckfinder"),d=new qt(o);return d.set({label:n("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),d.bind("isEnabled").to(l),d.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),d})}}class dv extends Tt{constructor(t){super(t),this._affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const t=this.editor.commands.get("insertImage"),e=this.editor.commands.get("link");this.isEnabled=t.isEnabled||e.isEnabled}execute(){const t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new M("ckfinder-unknown-openermethod",t);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const o=n.onInit;n.language||(n.language=t.locale.uiLanguage),n.onInit=l=>{o&&o(l),l.on("files:choose",d=>{const h=d.data.files.toArray(),m=h.filter(k=>!k.isImage()),g=h.filter(k=>k.isImage());for(const k of m)t.execute("link",k.getUrl());const b=[];for(const k of g){const v=k.getUrl();b.push(v||l.request("file:getProxyUrl",{file:k}))}b.length&&cp(t,b)}),l.on("file:choose:resizedImage",d=>{const h=d.data.resizedUrl;if(h)cp(t,[h]);else{const m=t.plugins.get("Notification"),g=t.locale.t;m.showWarning(g("Could not obtain resized image URL."),{title:g("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[e](n)}}function cp(s,t){if(s.commands.get("insertImage").isEnabled)s.execute("insertImage",{source:t});else{const e=s.plugins.get("Notification"),n=s.locale.t;e.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class uv extends W{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Qo,"LinkEditing"]}init(){const t=this.editor;if(!t.plugins.has("ImageBlockEditing")&&!t.plugins.has("ImageInlineEditing"))throw new M("ckfinder-missing-image-plugin",t);t.commands.add("ckfinder",new dv(t))}}class Fw extends W{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",on]}init(){const t=this.editor,e=t.plugins.get("CloudServices"),n=e.token,o=e.uploadUrl;n&&(this._uploadGateway=t.plugins.get("CloudServicesCore").createUploadGateway(n,o),t.plugins.get(on).createUploadAdapter=l=>new hv(this._uploadGateway,l))}}class hv{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then(t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",(e,n)=>{this.loader.uploadTotal=n.total,this.loader.uploaded=n.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class mv extends Tt{refresh(){const t=this.editor.model,e=fe(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("element","paragraph"),this.isEnabled=!!e&&dp(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change(o=>{const l=(t.selection||n.selection).getSelectedBlocks();for(const d of l)!d.is("element","paragraph")&&dp(d,e.schema)&&o.rename(d,"paragraph")})}}function dp(s,t){return t.checkChild(s.parent,"paragraph")&&!t.isObject(s)}class jw extends Tt{execute(t){const e=this.editor.model,n=t.attributes;let o=t.position;e.change(l=>{const d=l.createElement("paragraph");if(n&&e.schema.setAllowedAttributes(d,n,l),!e.schema.checkChild(o.parent,d)){const h=e.schema.findAllowedParent(o,d);if(!h)return;o=l.split(o,h).position}e.insertContent(d,o),l.setSelection(d,"in")})}}class nr extends W{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model;t.commands.add("paragraph",new mv(t)),t.commands.add("insertParagraph",new jw(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(n,{writer:o})=>nr.paragraphLikeElements.has(n.name)?n.isEmpty?null:o.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}nr.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class pv extends Tt{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=fe(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>up(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,n=e.document,o=t.value;e.change(l=>{const d=Array.from(n.selection.getSelectedBlocks()).filter(h=>up(h,o,e.schema));for(const h of d)h.is("element",o)||l.rename(h,o)})}}function up(s,t,e){return e.checkChild(s.parent,t)&&!e.isObject(s)}const gv="paragraph";class fv extends W{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[nr]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const o of e)"paragraph"!==o.model&&(t.model.schema.register(o.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(o),n.push(o.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new pv(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(o,l)=>{const d=t.model.document.selection.getFirstPosition().parent;n.some(h=>d.is("element",h.model))&&!d.is("element",gv)&&0===d.childCount&&l.writer.rename(d,gv)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Vi.get("low")+1})}}var hp=Y(8733);mt()(hp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Vw extends W{static get pluginName(){return"HeadingUI"}init(){const t=this.editor,e=t.t,n=function(d){const h=d.t,m={Paragraph:h("Paragraph"),"Heading 1":h("Heading 1"),"Heading 2":h("Heading 2"),"Heading 3":h("Heading 3"),"Heading 4":h("Heading 4"),"Heading 5":h("Heading 5"),"Heading 6":h("Heading 6")};return d.config.get("heading.options").map(g=>{const b=m[g.title];return b&&b!=g.title&&(g.title=b),g})}(t),o=e("Choose heading"),l=e("Heading");t.ui.componentFactory.add("heading",d=>{const h={},m=new Di,g=t.commands.get("heading"),b=t.commands.get("paragraph"),k=[g];for(const w of n){const A={type:"button",model:new Aa({label:w.title,class:w.class,withText:!0})};"paragraph"===w.model?(A.model.bind("isOn").to(b,"value"),A.model.set("commandName","paragraph"),k.push(b)):(A.model.bind("isOn").to(g,"value",T=>T===w.model),A.model.set({commandName:"heading",commandValue:w.model})),m.add(A),h[w.model]=w.title}const v=In(d);return cm(v,m),v.buttonView.set({isOn:!1,withText:!0,tooltip:l}),v.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),v.bind("isEnabled").toMany(k,"isEnabled",(...w)=>w.some(A=>A)),v.buttonView.bind("label").to(g,"value",b,"value",(w,A)=>{const T=w||A&&"paragraph";return"boolean"==typeof T?o:h[T]?h[T]:o}),this.listenTo(v,"execute",w=>{const{commandName:A,commandValue:T}=w.source;t.execute(A,T?{value:T}:void 0),t.editing.view.focus()}),v})}}class kv extends Tt{refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.value=!(!this.isEnabled||!t.hasAttribute("alt"))&&t.getAttribute("alt")}execute(t){const e=this.editor,n=e.plugins.get("ImageUtils"),o=e.model,l=n.getClosestSelectedImageElement(o.document.selection);o.change(d=>{d.setAttribute("alt",t.newValue,l)})}}function mp(s){return s.createContainerElement("figure",{class:"image"},[s.createEmptyElement("img"),s.createSlot()])}function pp(s,t){const e=s.plugins.get("ImageUtils"),n=s.plugins.has("ImageInlineEditing")&&s.plugins.has("ImageBlockEditing");return l=>e.isInlineImageView(l)?n&&("block"==l.getStyle("display")||l.findAncestor(e.isBlockImageView)?"imageBlock":"imageInline")!==t?null:function o(l){const d={name:!0};return l.hasAttribute("src")&&(d.attributes=["src"]),d}(l):null}function gp(s,t){const e=fe(t.getSelectedBlocks());return!e||s.isObject(e)||e.isEmpty&&"listItem"!=e.name?"imageBlock":"imageInline"}class Fi extends W{static get pluginName(){return"ImageUtils"}isImage(t){return this.isInlineImage(t)||this.isBlockImage(t)}isInlineImageView(t){return!!t&&t.is("element","img")}isBlockImageView(t){return!!t&&t.is("element","figure")&&t.hasClass("image")}insertImage(t={},e=null,n=null){const o=this.editor,l=o.model,d=l.document.selection;n=fp(o,e||d,n),t={...Object.fromEntries(d.getAttributes()),...t};for(const h in t)l.schema.checkAttribute(n,h)||delete t[h];return l.change(h=>{const m=h.createElement(n,t);return l.insertObject(m,e,null,{setSelection:"on",findOptimalPosition:!e&&"imageInline"!=n}),m.parent?m:null})}getClosestSelectedImageWidget(t){const e=t.getFirstPosition();if(!e)return null;const n=t.getSelectedElement();if(n&&this.isImageWidget(n))return n;let o=e.parent;for(;o;){if(o.is("element")&&this.isImageWidget(o))return o;o=o.parent}return null}getClosestSelectedImageElement(t){const e=t.getSelectedElement();return this.isImage(e)?e:t.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const t=this.editor.model.document.selection;return function(e,n){if("imageBlock"==fp(e,n)){const l=function(d,h){const g=Rm(d,h).start.parent;return g.isEmpty&&!g.is("element","$root")?g.parent:g}(n,e.model);if(e.model.schema.checkChild(l,"imageBlock"))return!0}else if(e.model.schema.checkChild(n.focus,"imageInline"))return!0;return!1}(this.editor,t)&&function(e){return[...e.focus.getAncestors()].every(n=>!n.is("element","imageBlock"))}(t)}toImageWidget(t,e,n){return e.setCustomProperty("image",!0,t),zc(t,e,{label:()=>{const o=this.findViewImgElement(t).getAttribute("alt");return o?`${o} ${n}`:n}})}isImageWidget(t){return!!t.getCustomProperty("image")&&le(t)}isBlockImage(t){return!!t&&t.is("element","imageBlock")}isInlineImage(t){return!!t&&t.is("element","imageInline")}findViewImgElement(t){if(this.isInlineImageView(t))return t;const e=this.editor.editing.view;for(const{item:n}of e.createRangeIn(t))if(this.isInlineImageView(n))return n}}function fp(s,t,e){const n=s.model.schema,o=s.config.get("image.insert.type");return s.plugins.has("ImageBlockEditing")?s.plugins.has("ImageInlineEditing")?e||("inline"===o?"imageInline":"block"===o?"imageBlock":t.is("selection")?gp(n,t):n.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class _v extends W{static get requires(){return[Fi]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new kv(this.editor))}}var vv=Y(1905);mt()(vv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var bp=Y(6764);mt()(bp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class $w extends It{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new fi,this.keystrokes=new qi,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("Save"),ae.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("Cancel"),ae.cancel,"ck-button-cancel","cancel"),this._focusables=new yn,this._focusCycler=new vt({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),$(this)}render(){super.render(),this.keystrokes.listenTo(this.element),S({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(t,e,n,o){const l=new qt(this.locale);return l.set({label:t,icon:e,tooltip:!0}),l.extendTemplate({attributes:{class:n}}),o&&l.delegate("execute").to(this,o),l}_createLabeledInputView(){const t=this.locale.t,e=new Ne(this.locale,ya);return e.label=t("Text alternative"),e}}function kp(s){const t=s.editing.view,e=Ze.defaultPositions,n=s.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(t.document.selection)),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.viewportStickyNorth]}}class yv extends W{static get requires(){return[uo]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",n=>{const o=t.commands.get("imageTextAlternative"),l=new qt(n);return l.set({label:e("Change image text alternative"),icon:ae.lowVision,tooltip:!0}),l.bind("isEnabled").to(o,"isEnabled"),l.bind("isOn").to(o,"value",d=>!!d),this.listenTo(l,"execute",()=>{this._showForm()}),l})}_createForm(){const t=this.editor,e=t.editing.view.document,n=t.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new $w(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(o,l)=>{this._hideForm(!0),l()}),this.listenTo(t.ui,"update",()=>{n.getClosestSelectedImageWidget(e.selection)?this._isVisible&&function(o){const l=o.plugins.get("ContextualBalloon");if(o.plugins.get("ImageUtils").getClosestSelectedImageWidget(o.editing.view.document.selection)){const d=kp(o);l.updatePosition(d)}}(t):this._hideForm(!0)}),U({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:kp(t)}),n.fieldView.value=n.fieldView.element.value=e.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class _p extends W{static get requires(){return[_v,yv]}static get pluginName(){return"ImageTextAlternative"}}function Av(s,t){return n=>{n.on(`attribute:srcset:${t}`,e)};function e(n,o,l){if(!l.consumable.consume(o.item,n.name))return;const d=l.writer,h=l.mapper.toViewElement(o.item),m=s.findViewImgElement(h);if(null===o.attributeNewValue){const g=o.attributeOldValue;g.data&&(d.removeAttribute("srcset",m),d.removeAttribute("sizes",m),g.width&&d.removeAttribute("width",m))}else{const g=o.attributeNewValue;g.data&&(d.setAttribute("srcset",g.data,m),d.setAttribute("sizes","100vw",m),g.width&&d.setAttribute("width",g.width,m))}}}function za(s,t,e){return o=>{o.on(`attribute:${e}:${t}`,n)};function n(o,l,d){if(!d.consumable.consume(l.item,o.name))return;const h=d.writer,m=d.mapper.toViewElement(l.item),g=s.findViewImgElement(m);h.setAttribute(l.attributeKey,l.attributeNewValue||"",g)}}class xv extends si{observe(t){this.listenTo(t,"load",(e,n)=>{const o=n.target;this.checkShouldIgnoreEventFromTarget(o)||"IMG"==o.tagName&&this._fireEvents(n)},{useCapture:!0})}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class Tv extends Tt{constructor(t){super(t);const e=t.config.get("image.insert.type");t.plugins.has("ImageBlockEditing")||"block"===e&&bt("image-block-plugin-required"),t.plugins.has("ImageInlineEditing")||"inline"===e&&bt("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(t){const e=xe(t.source),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),l=Object.fromEntries(n.getAttributes());e.forEach((d,h)=>{const m=n.getSelectedElement();if("string"==typeof d&&(d={src:d}),h&&m&&o.isImage(m)){const g=this.editor.model.createPositionAfter(m);o.insertImage({...d,...l},g)}else o.insertImage({...d,...l})})}}class Uw extends Tt{refresh(){const t=this.editor.plugins.get("ImageUtils"),e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=t.isImage(e),this.value=this.isEnabled?e.getAttribute("src"):null}execute(t){const e=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(n=>{n.setAttribute("src",t.source,e),n.removeAttribute("srcset",e),n.removeAttribute("sizes",e)})}}class jc extends W{static get requires(){return[Fi]}static get pluginName(){return"ImageEditing"}init(){const t=this.editor,e=t.conversion;t.editing.view.addObserver(xv),e.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:l=>{const d={data:l.getAttribute("srcset")};return l.hasAttribute("width")&&(d.width=l.getAttribute("width")),d}}});const n=new Tv(t),o=new Uw(t);t.commands.add("insertImage",n),t.commands.add("replaceImageSource",o),t.commands.add("imageInsert",n)}}class vp extends Tt{constructor(t,e){super(t),this._modelElementName=e}refresh(){const t=this.editor.plugins.get("ImageUtils"),e=t.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled="imageBlock"===this._modelElementName?t.isInlineImage(e):t.isBlockImage(e)}execute(){const e=this.editor.model,n=this.editor.plugins.get("ImageUtils"),o=n.getClosestSelectedImageElement(e.document.selection),l=Object.fromEntries(o.getAttributes());return l.src||l.uploadId?e.change(d=>{const h=Array.from(e.markers).filter(b=>b.getRange().containsItem(o)),m=n.insertImage(l,e.createSelection(o,"on"),this._modelElementName);if(!m)return null;const g=d.createRangeOn(m);for(const b of h){const k=b.getRange(),v="$graveyard"!=k.root.rootName?k.getJoined(g,!0):g;d.updateMarker(b,{range:v})}return{oldElement:o,newElement:m}}):null}}class wp extends W{static get requires(){return[jc,Fi,zi]}static get pluginName(){return"ImageBlockEditing"}init(){const t=this.editor;t.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),t.plugins.has("ImageInlineEditing")&&(t.commands.add("imageTypeBlock",new vp(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,o=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(l,{writer:d})=>mp(d)}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(l,{writer:d})=>o.toImageWidget(mp(d),d,e("image widget"))}),n.for("downcast").add(za(o,"imageBlock","src")).add(za(o,"imageBlock","alt")).add(Av(o,"imageBlock")),n.for("upcast").elementToElement({view:pp(t,"imageBlock"),model:(l,{writer:d})=>d.createElement("imageBlock",l.hasAttribute("src")?{src:l.getAttribute("src")}:null)}).add(function(l){return h=>{h.on("element:figure",d)};function d(h,m,g){if(!g.consumable.test(m.viewItem,{name:!0,classes:"image"}))return;const b=l.findViewImgElement(m.viewItem);if(!b||!g.consumable.test(b,{name:!0}))return;g.consumable.consume(m.viewItem,{name:!0,classes:"image"});const k=fe(g.convertItem(b,m.modelCursor).modelRange.getItems());k?(g.convertChildren(m.viewItem,k),g.updateConversionResult(k,m)):g.consumable.revert(m.viewItem,{name:!0,classes:"image"})}}(o))}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,o=t.plugins.get("ImageUtils");this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(l,d)=>{const h=Array.from(d.content.getChildren());let m;if(!h.every(o.isInlineImageView))return;m=d.targetRanges?t.editing.mapper.toModelRange(d.targetRanges[0]):e.document.selection.getFirstRange();const g=e.createSelection(m);if("imageBlock"===gp(e.schema,g)){const b=new Zo(n.document),k=h.map(v=>b.createElement("figure",{class:"image"},v));d.content=b.createDocumentFragment(k)}})}}var Dv=Y(3508);mt()(Dv.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ev extends W{static get requires(){return[wp,ir,_p]}static get pluginName(){return"ImageBlock"}}class Iv extends W{static get requires(){return[jc,Fi,zi]}static get pluginName(){return"ImageInlineEditing"}init(){const t=this.editor,e=t.model.schema;e.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),e.addChildCheck((n,o)=>{if(n.endsWith("caption")&&"imageInline"===o.name)return!1}),this._setupConversion(),t.plugins.has("ImageBlockEditing")&&(t.commands.add("imageTypeInline",new vp(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const t=this.editor,e=t.t,n=t.conversion,o=t.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(l,{writer:d})=>d.createEmptyElement("img")}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(l,{writer:d})=>{return o.toImageWidget((h=d).createContainerElement("span",{class:"image-inline"},h.createEmptyElement("img")),d,e("image widget"));var h}}),n.for("downcast").add(za(o,"imageInline","src")).add(za(o,"imageInline","alt")).add(Av(o,"imageInline")),n.for("upcast").elementToElement({view:pp(t,"imageInline"),model:(l,{writer:d})=>d.createElement("imageInline",l.hasAttribute("src")?{src:l.getAttribute("src")}:null)})}_setupClipboardIntegration(){const t=this.editor,e=t.model,n=t.editing.view,o=t.plugins.get("ImageUtils");this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(l,d)=>{const h=Array.from(d.content.getChildren());let m;if(!h.every(o.isBlockImageView))return;m=d.targetRanges?t.editing.mapper.toModelRange(d.targetRanges[0]):e.document.selection.getFirstRange();const g=e.createSelection(m);if("imageInline"===gp(e.schema,g)){const b=new Zo(n.document),k=h.map(v=>1===v.childCount?(Array.from(v.getAttributes()).forEach(w=>b.setAttribute(...w,o.findViewImgElement(v))),v.getChild(0)):v);d.content=b.createDocumentFragment(k)}})}}class Zw extends W{static get requires(){return[Iv,ir,_p]}static get pluginName(){return"ImageInline"}}class Mv extends Tt{refresh(){const t=this.editor,e=t.plugins.get("ImageCaptionUtils");if(!t.plugins.has(wp))return this.isEnabled=!1,void(this.value=!1);const n=t.model.document.selection,o=n.getSelectedElement();if(!o){const l=e.getCaptionFromModelSelection(n);return this.isEnabled=!!l,void(this.value=!!l)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(o),this.value=!!this.isEnabled&&!!e.getCaptionFromImageModelElement(o)}execute(t={}){const{focusCaptionOnShow:e}=t;this.editor.model.change(n=>{this.value?this._hideImageCaption(n):this._showImageCaption(n,e)})}_showImageCaption(t,e){const n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageCaptionEditing");let l=n.getSelectedElement();const d=o._getSavedCaption(l);this.editor.plugins.get("ImageUtils").isInlineImage(l)&&(this.editor.execute("imageTypeBlock"),l=n.getSelectedElement());const h=d||t.createElement("caption");t.append(h,l),e&&t.setSelection(h,"in")}_hideImageCaption(t){const e=this.editor,n=e.model.document.selection,o=e.plugins.get("ImageCaptionEditing"),l=e.plugins.get("ImageCaptionUtils");let d,h=n.getSelectedElement();h?d=l.getCaptionFromImageModelElement(h):(d=l.getCaptionFromModelSelection(n),h=d.parent),o._saveCaption(h,d),t.setSelection(h,"on"),t.remove(d)}}class Pv extends W{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Fi]}getCaptionFromImageModelElement(t){for(const e of t.getChildren())if(e&&e.is("element","caption"))return e;return null}getCaptionFromModelSelection(t){const e=this.editor.plugins.get("ImageUtils"),n=t.getFirstPosition().findAncestor("caption");return n&&e.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(t){const e=this.editor.plugins.get("ImageUtils");return"figcaption"==t.name&&e.isBlockImageView(t.parent)?{name:!0}:null}}class Hw extends W{static get requires(){return[Fi,Pv]}static get pluginName(){return"ImageCaptionEditing"}constructor(t){super(t),this._savedCaptionsMap=new WeakMap}init(){const t=this.editor,e=t.model.schema;e.isRegistered("caption")?e.extend("caption",{allowIn:"imageBlock"}):e.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),t.commands.add("toggleImageCaption",new Mv(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageUtils"),o=t.plugins.get("ImageCaptionUtils"),l=t.t;t.conversion.for("upcast").elementToElement({view:d=>o.matchImageCaptionViewElement(d),model:"caption"}),t.conversion.for("dataDowncast").elementToElement({model:"caption",view:(d,{writer:h})=>n.isBlockImage(d.parent)?h.createContainerElement("figcaption"):null}),t.conversion.for("editingDowncast").elementToElement({model:"caption",view:(d,{writer:h})=>{if(!n.isBlockImage(d.parent))return null;const m=h.createEditableElement("figcaption");h.setCustomProperty("imageCaption",!0,m),Do({view:e,element:m,text:l("Enter image caption"),keepOnFocus:!0});const g=d.parent.getAttribute("alt");return Pm(m,h,{label:g?l("Caption for image: %0",[g]):l("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.plugins.get("ImageCaptionUtils"),o=t.commands.get("imageTypeInline"),l=t.commands.get("imageTypeBlock"),d=h=>{if(!h.return)return;const{oldElement:m,newElement:g}=h.return;if(!m)return;if(e.isBlockImage(m)){const k=n.getCaptionFromImageModelElement(m);if(k)return void this._saveCaption(g,k)}const b=this._getSavedCaption(m);b&&this._saveCaption(g,b)};o&&this.listenTo(o,"execute",d,{priority:"low"}),l&&this.listenTo(l,"execute",d,{priority:"low"})}_getSavedCaption(t){const e=this._savedCaptionsMap.get(t);return e?Zt.fromJSON(e):null}_saveCaption(t,e){this._savedCaptionsMap.set(t,e.toJSON())}_registerCaptionReconversion(){const t=this.editor,e=t.model,n=t.plugins.get("ImageUtils"),o=t.plugins.get("ImageCaptionUtils");e.document.on("change:data",()=>{const l=e.document.differ.getChanges();for(const d of l){if("alt"!==d.attributeKey)continue;const h=d.range.start.nodeAfter;if(n.isBlockImage(h)){const m=o.getCaptionFromImageModelElement(h);if(!m)return;t.editing.reconvertItem(m)}}})}}class Rv extends W{static get requires(){return[Pv]}static get pluginName(){return"ImageCaptionUI"}init(){const t=this.editor,e=t.editing.view,n=t.plugins.get("ImageCaptionUtils"),o=t.t;t.ui.componentFactory.add("toggleImageCaption",l=>{const d=t.commands.get("toggleImageCaption"),h=new qt(l);return h.set({icon:ae.caption,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),h.bind("label").to(d,"value",m=>o(m?"Toggle caption off":"Toggle caption on")),this.listenTo(h,"execute",()=>{t.execute("toggleImageCaption",{focusCaptionOnShow:!0});const m=n.getCaptionFromModelSelection(t.model.document.selection);if(m){const g=t.editing.mapper.toViewElement(m);e.scrollToTheSelection(),e.change(b=>{b.addClass("image__caption_highlighted",g)})}t.editing.view.focus()}),h})}}var Cp=Y(2640);mt()(Cp.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Lv extends Tt{constructor(t,e){super(t),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(e.map(n=>{if(n.isDefault)for(const o of n.modelElements)this._defaultStyles[o]=n.name;return[n.name,n]}))}refresh(){const t=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!t,this.value=!!this.isEnabled&&(t.hasAttribute("imageStyle")?t.getAttribute("imageStyle"):this._defaultStyles[t.name])}execute(t={}){const e=this.editor,n=e.model,o=e.plugins.get("ImageUtils");n.change(l=>{const d=t.value;let h=o.getClosestSelectedImageElement(n.document.selection);d&&this.shouldConvertImageType(d,h)&&(this.editor.execute(o.isBlockImage(h)?"imageTypeInline":"imageTypeBlock"),h=o.getClosestSelectedImageElement(n.document.selection)),!d||this._styles.get(d).isDefault?l.removeAttribute("imageStyle",h):l.setAttribute("imageStyle",d,h)})}shouldConvertImageType(t,e){return!this._styles.get(t).modelElements.includes(e.name)}}const{objectFullWidth:Bv,objectInline:yp,objectLeft:Ap,objectRight:or,objectCenter:On,objectBlockLeft:Vc,objectBlockRight:sr}=ae,rr={get inline(){return{name:"inline",title:"In line",icon:yp,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Ap,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Vc,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:On,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:or,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:sr,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:On,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:or,modelElements:["imageBlock"],className:"image-style-side"}}},xp={full:Bv,left:Vc,right:sr,center:On,inlineLeft:Ap,inlineRight:or,inline:yp},Fa=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function ja(s){bt("image-style-configuration-definition-invalid",s)}const ar={normalizeStyles:function(s){return(s.configuredStyles.options||[]).map(t=>function(e){return"string"==typeof(e="string"==typeof e?rr[e]?{...rr[e]}:{name:e}:function(n,o){const l={...o};for(const d in n)Object.prototype.hasOwnProperty.call(o,d)||(l[d]=n[d]);return l}(rr[e.name],e)).icon&&(e.icon=xp[e.icon]||e.icon),e}(t)).filter(t=>function(e,{isBlockPluginLoaded:n,isInlinePluginLoaded:o}){const{modelElements:l,name:d}=e;if(!(l&&l.length&&d))return ja({style:e}),!1;{const h=[n?"imageBlock":null,o?"imageInline":null];if(!l.some(m=>h.includes(m)))return bt("image-style-missing-dependency",{style:e,missingPlugins:l.map(m=>"imageBlock"===m?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(t,s))},getDefaultStylesConfiguration:function(s,t){return s&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:s?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(s){return s.has("ImageBlockEditing")&&s.has("ImageInlineEditing")?[...Fa]:[]},warnInvalidStyle:ja,DEFAULT_OPTIONS:rr,DEFAULT_ICONS:xp,DEFAULT_DROPDOWN_DEFINITIONS:Fa};function ns(s,t){for(const e of t)if(e.name===s)return e}class $c extends W{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Fi]}init(){const{normalizeStyles:t,getDefaultStylesConfiguration:e}=ar,n=this.editor,o=n.plugins.has("ImageBlockEditing"),l=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",e(o,l)),this.normalizedStyles=t({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:o,isInlinePluginLoaded:l}),this._setupConversion(o,l),this._setupPostFixer(),n.commands.add("imageStyle",new Lv(n,this.normalizedStyles))}_setupConversion(t,e){const n=this.editor,o=n.model.schema,l=(d=this.normalizedStyles,(m,g,b)=>{if(!b.consumable.consume(g.item,m.name))return;const k=ns(g.attributeNewValue,d),v=ns(g.attributeOldValue,d),w=b.mapper.toViewElement(g.item),A=b.writer;v&&A.removeClass(v.className,w),k&&A.addClass(k.className,w)});var d;const h=function(m){const g={imageInline:m.filter(b=>!b.isDefault&&b.modelElements.includes("imageInline")),imageBlock:m.filter(b=>!b.isDefault&&b.modelElements.includes("imageBlock"))};return(b,k,v)=>{if(!k.modelRange)return;const w=k.viewItem,A=fe(k.modelRange.getItems());if(A&&v.schema.checkAttribute(A,"imageStyle"))for(const T of g[A.name])v.consumable.consume(w,{classes:T.className})&&v.writer.setAttribute("imageStyle",T.name,A)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",l),n.data.downcastDispatcher.on("attribute:imageStyle",l),t&&(o.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",h,{priority:"low"})),e&&(o.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",h,{priority:"low"}))}_setupPostFixer(){const t=this.editor,e=t.model.document,n=t.plugins.get(Fi),o=new Map(this.normalizedStyles.map(l=>[l.name,l]));e.registerPostFixer(l=>{let d=!1;for(const h of e.differ.getChanges())if("insert"==h.type||"attribute"==h.type&&"imageStyle"==h.attributeKey){let m="insert"==h.type?h.position.nodeAfter:h.range.start.nodeAfter;if(m&&m.is("element","paragraph")&&m.childCount>0&&(m=m.getChild(0)),!n.isImage(m))continue;const g=m.getAttribute("imageStyle");if(!g)continue;const b=o.get(g);b&&b.modelElements.includes(m.name)||(l.removeAttribute("imageStyle",m),d=!0)}return d})}}var Uc=Y(5083);mt()(Uc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Dp extends W{static get requires(){return[$c]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Wrap text":t("Wrap text"),"Break text":t("Break text"),"In line":t("In line"),"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}init(){const t=this.editor.plugins,e=this.editor.config.get("image.toolbar")||[],n=Sp(t.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const l of n)this._createButton(l);const o=Sp([...e.filter(oe),...ar.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles);for(const l of o)this._createDropdown(l,n)}_createDropdown(t,e){const n=this.editor.ui.componentFactory;n.add(t.name,o=>{let l;const{defaultItem:d,items:h,title:m}=t,g=h.filter(w=>e.find(({name:A})=>Zc(A)===w)).map(w=>{const A=n.create(w);return w===d&&(l=A),A});h.length!==g.length&&ar.warnInvalidStyle({dropdown:t});const b=In(o,Yt),k=b.buttonView,v=k.arrowView;return Dc(b,g,{enableActiveItemFocusOnDropdownOpen:!0}),k.set({label:Hc(m,l.label),class:null,tooltip:!0}),v.unbind("label"),v.set({label:m}),k.bind("icon").toMany(g,"isOn",(...w)=>{const A=w.findIndex(ee);return A<0?l.icon:g[A].icon}),k.bind("label").toMany(g,"isOn",(...w)=>{const A=w.findIndex(ee);return Hc(m,A<0?l.label:g[A].label)}),k.bind("isOn").toMany(g,"isOn",(...w)=>w.some(ee)),k.bind("class").toMany(g,"isOn",(...w)=>w.some(ee)?"ck-splitbutton_flatten":null),k.on("execute",()=>{g.some(({isOn:w})=>w)?b.isOpen=!b.isOpen:l.fire("execute")}),b.bind("isEnabled").toMany(g,"isEnabled",(...w)=>w.some(ee)),this.listenTo(b,"execute",()=>{this.editor.editing.view.focus()}),b})}_createButton(t){const e=t.name;this.editor.ui.componentFactory.add(Zc(e),n=>{const o=this.editor.commands.get("imageStyle"),l=new qt(n);return l.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),l.bind("isEnabled").to(o,"isEnabled"),l.bind("isOn").to(o,"value",d=>d===e),l.on("execute",this._executeCommand.bind(this,e)),l})}_executeCommand(t){this.editor.execute("imageStyle",{value:t}),this.editor.editing.view.focus()}}function Sp(s,t){for(const e of s)t[e.title]&&(e.title=t[e.title]);return s}function Zc(s){return`imageStyle:${s}`}function Hc(s,t){return(s?s+": ":"")+t}function qc(s){const t=s.map(e=>e.replace("+","\\+"));return new RegExp(`^image\\/(${t.join("|")})$`)}function Va(s){return new Promise((t,e)=>{const n=s.getAttribute("src");fetch(n).then(o=>o.blob()).then(o=>{const l=Ep(o,n),d=l.replace("image/",""),h=new File([o],`image.${d}`,{type:l});t(h)}).catch(o=>{return o&&"TypeError"===o.name?(l=n,(d=l,new Promise((h,m)=>{const g=St.document.createElement("img");g.addEventListener("load",()=>{const b=St.document.createElement("canvas");b.width=g.width,b.height=g.height,b.getContext("2d").drawImage(g,0,0),b.toBlob(k=>k?h(k):m())}),g.addEventListener("error",()=>m()),g.src=d})).then(d=>{const h=Ep(d,l),m=h.replace("image/","");return new File([d],`image.${m}`,{type:h})})).then(t).catch(e):e(o);var l,d})})}function Ep(s,t){return s.type?s.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class Qc extends W{static get pluginName(){return"ImageUploadUI"}init(){const t=this.editor,e=t.t,n=o=>{const l=new $_(o),d=t.commands.get("uploadImage"),h=t.config.get("image.upload.types"),m=qc(h);return l.set({acceptedType:h.map(g=>`image/${g}`).join(","),allowMultipleFiles:!0}),l.buttonView.set({label:e("Insert image"),icon:ae.image,tooltip:!0}),l.buttonView.bind("isEnabled").to(d),l.on("done",(g,b)=>{const k=Array.from(b).filter(v=>m.test(v.type));k.length&&(t.execute("uploadImage",{file:k}),t.editing.view.focus())}),l};t.ui.componentFactory.add("uploadImage",n),t.ui.componentFactory.add("imageUpload",n)}}var Ip=Y(3689);mt()(Ip.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Yc=Y(4036);mt()(Yc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});var Jc=Y(3773);mt()(Jc.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Ov extends W{static get pluginName(){return"ImageUploadProgress"}constructor(t){super(t),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const t=this.editor;t.plugins.has("ImageBlockEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...e)=>this.uploadStatusChange(...e)),t.plugins.has("ImageInlineEditing")&&t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...e)=>this.uploadStatusChange(...e))}uploadStatusChange(t,e,n){const o=this.editor,l=e.item,d=l.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const h=o.plugins.get("ImageUtils"),m=o.plugins.get(on),g=d?e.attributeNewValue:null,b=this.placeholder,k=o.editing.mapper.toViewElement(l),v=n.writer;if("reading"==g)return zv(k,v),void Fv(h,b,k,v);if("uploading"==g){const w=m.loaders.get(d);return zv(k,v),void(w?(os(k,v),function(A,T,E,R){const N=function(q){const et=q.createUIElement("div",{class:"ck-progress-bar"});return q.setCustomProperty("progressBar",!0,et),et}(T);T.insert(T.createPositionAt(A,"end"),N),E.on("change:uploadedPercent",(q,et,yt)=>{R.change(Ot=>{Ot.setStyle("width",yt+"%",N)})})}(k,v,w,o.editing.view),function(A,T,E,R){if(R.data){const N=A.findViewImgElement(T);E.setAttribute("src",R.data,N)}}(h,k,v,w)):Fv(h,b,k,v))}"complete"==g&&m.loaders.get(d)&&function(w,A,T){const E=A.createUIElement("div",{class:"ck-image-upload-complete-icon"});A.insert(A.createPositionAt(w,"end"),E),setTimeout(()=>{T.change(R=>R.remove(R.createRangeOn(E)))},3e3)}(k,v,o.editing.view),Gc(k,v,"progressBar"),os(k,v),v.removeClass("ck-appear",k)}}function zv(s,t){s.hasClass("ck-appear")||t.addClass("ck-appear",s)}function Fv(s,t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);const o=s.findViewImgElement(e);o.getAttribute("src")!==t&&n.setAttribute("src",t,o),Pp(e,"placeholder")||n.insert(n.createPositionAfter(o),function(l){const d=l.createUIElement("div",{class:"ck-upload-placeholder-loader"});return l.setCustomProperty("placeholder",!0,d),d}(n))}function os(s,t){s.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",s),Gc(s,t,"placeholder")}function Pp(s,t){for(const e of s.getChildren())if(e.getCustomProperty(t))return e}function Gc(s,t,e){const n=Pp(s,e);n&&t.remove(t.createRangeOn(n))}class Rp extends Tt{refresh(){const t=this.editor,e=t.plugins.get("ImageUtils"),n=t.model.document.selection.getSelectedElement();this.isEnabled=e.isImageAllowed()||e.isImage(n)}execute(t){const e=xe(t.file),n=this.editor.model.document.selection,o=this.editor.plugins.get("ImageUtils"),l=Object.fromEntries(n.getAttributes());e.forEach((d,h)=>{const m=n.getSelectedElement();if(h&&m&&o.isImage(m)){const g=this.editor.model.createPositionAfter(m);this._uploadImage(d,l,g)}else this._uploadImage(d,l)})}_uploadImage(t,e,n){const o=this.editor,l=o.plugins.get(on).createLoader(t),d=o.plugins.get("ImageUtils");l&&d.insertImage({...e,uploadId:l.id},n)}}class jv extends W{static get requires(){return[on,Qo,zi,Fi]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const t=this.editor,e=t.model.document,n=t.conversion,o=t.plugins.get(on),l=t.plugins.get("ImageUtils"),d=qc(t.config.get("image.upload.types")),h=new Rp(t);t.commands.add("uploadImage",h),t.commands.add("imageUpload",h),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(m,g)=>{if(b=g.dataTransfer,Array.from(b.types).includes("text/html")&&""!==b.getData("text/html"))return;var b;const k=Array.from(g.dataTransfer.files).filter(v=>!!v&&d.test(v.type));k.length&&(m.stop(),t.model.change(v=>{g.targetRanges&&v.setSelection(g.targetRanges.map(w=>t.editing.mapper.toModelRange(w))),t.model.enqueueChange(()=>{t.execute("uploadImage",{file:k})})}))}),this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",(m,g)=>{const b=Array.from(t.editing.view.createRangeIn(g.content)).filter(v=>{return!(!l.isInlineImageView(A=v.item)||!A.getAttribute("src"))&&(A.getAttribute("src").match(/^data:image\/\w+;base64,/g)||A.getAttribute("src").match(/^blob:/g))&&!v.item.getAttribute("uploadProcessed");var A}).map(v=>({promise:Va(v.item),imageElement:v.item}));if(!b.length)return;const k=new Zo(t.editing.view.document);for(const v of b){k.setAttribute("uploadProcessed",!0,v.imageElement);const w=o.createLoader(v.promise);w&&(k.setAttribute("src","",v.imageElement),k.setAttribute("uploadId",w.id,v.imageElement))}}),t.editing.view.document.on("dragover",(m,g)=>{g.preventDefault()}),e.on("change",()=>{const m=e.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),g=new Set;for(const b of m)if("insert"==b.type&&"$text"!=b.name){const k=b.position.nodeAfter,v="$graveyard"==b.position.root.rootName;for(const w of Np(t,k)){const A=w.getAttribute("uploadId");if(!A)continue;const T=o.loaders.get(A);T&&(v?g.has(A)||T.abort():(g.add(A),this._uploadImageElements.set(A,w),"idle"==T.status&&this._readAndUpload(T)))}}}),this.on("uploadComplete",(m,{imageElement:g,data:b})=>{const k=b.urls?b.urls:b;this.editor.model.change(v=>{v.setAttribute("src",k.default,g),this._parseAndSetSrcsetAttributeOnImage(k,g,v)})},{priority:"low"})}afterInit(){const t=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&t.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&t.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(t){const e=this.editor,n=e.model,o=e.locale.t,l=e.plugins.get(on),d=e.plugins.get(Qo),h=e.plugins.get("ImageUtils"),m=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},b=>{b.setAttribute("uploadStatus","reading",m.get(t.id))}),t.read().then(()=>{const b=t.upload(),k=m.get(t.id);if(O_isSafari){const v=e.editing.mapper.toViewElement(k),w=h.findViewImgElement(v);e.editing.view.once("render",()=>{if(!w.parent)return;const A=e.editing.view.domConverter.mapViewToDom(w.parent);if(!A)return;const T=A.style.display;A.style.display="none",A._ckHack=A.offsetHeight,A.style.display=T})}return n.enqueueChange({isUndoable:!1},v=>{v.setAttribute("uploadStatus","uploading",k)}),b}).then(b=>{n.enqueueChange({isUndoable:!1},k=>{const v=m.get(t.id);k.setAttribute("uploadStatus","complete",v),this.fire("uploadComplete",{data:b,imageElement:v})}),g()}).catch(b=>{if("error"!==t.status&&"aborted"!==t.status)throw b;"error"==t.status&&b&&d.showWarning(b,{title:o("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},k=>{k.remove(m.get(t.id))}),g()});function g(){n.enqueueChange({isUndoable:!1},b=>{const k=m.get(t.id);b.removeAttribute("uploadId",k),b.removeAttribute("uploadStatus",k),m.delete(t.id)}),l.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let o=0;const l=Object.keys(t).filter(d=>{const h=parseInt(d,10);if(!isNaN(h))return o=Math.max(o,h),!0}).map(d=>`${t[d]} ${d}w`).join(", ");""!=l&&n.setAttribute("srcset",{data:l,width:o},e)}}function Np(s,t){const e=s.plugins.get("ImageUtils");return Array.from(s.model.createRangeOn(t)).filter(n=>e.isImage(n.item)).map(n=>n.item)}class Lp extends W{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new Eu(t)),t.commands.add("outdent",new Eu(t))}}const Bp='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',cr='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Vv extends W{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,n=t.t,o="ltr"==e.uiLanguageDirection?Bp:cr,l="ltr"==e.uiLanguageDirection?cr:Bp;this._defineButton("indent",n("Increase indent"),o),this._defineButton("outdent",n("Decrease indent"),l)}_defineButton(t,e,n){const o=this.editor;o.ui.componentFactory.add(t,l=>{const d=o.commands.get(t),h=new qt(l);return h.set({label:e,icon:n,tooltip:!0}),h.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(h,"execute",()=>{o.execute(t),o.editing.view.focus()}),h})}}class $v{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(e=>this._definitions.add(e)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(e,n,o)=>{if(!o.consumable.test(n.item,"attribute:linkHref")||!n.item.is("selection")&&!o.schema.isInline(n.item))return;const l=o.writer,d=l.document.selection;for(const h of this._definitions){const m=l.createAttributeElement("a",h.attributes,{priority:5});h.classes&&l.addClass(h.classes,m);for(const g in h.styles)l.setStyle(g,h.styles[g],m);l.setCustomProperty("link",!0,m),h.callback(n.attributeNewValue)?n.item.is("selection")?l.wrap(d.getFirstRange(),m):l.wrap(o.mapper.toViewRange(n.range),m):l.unwrap(o.mapper.toViewRange(n.range),m)}},{priority:"high"})}}getDispatcherForLinkedImage(){return t=>{t.on("attribute:linkHref:imageBlock",(e,n,{writer:o,mapper:l})=>{const d=l.toViewElement(n.item),h=Array.from(d.getChildren()).find(m=>"a"===m.name);for(const m of this._definitions){const g=Qi(m.attributes);if(m.callback(n.attributeNewValue)){for(const[b,k]of g)"class"===b?o.addClass(k,h):o.setAttribute(b,k,h);m.classes&&o.addClass(m.classes,h);for(const b in m.styles)o.setStyle(b,m.styles[b],h)}else{for(const[b,k]of g)"class"===b?o.removeClass(k,h):o.removeAttribute(b,h);m.classes&&o.removeClass(m.classes,h);for(const b in m.styles)o.removeStyle(b,h)}}})}}}var qw=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const Zv=function(s){return qw.test(s)};var Hv="\\ud800-\\udfff",Yw="["+Hv+"]",Op="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",zp="\\ud83c[\\udffb-\\udfff]",qv="[^"+Hv+"]",Qv="(?:\\ud83c[\\udde6-\\uddff]){2}",Yv="[\\ud800-\\udbff][\\udc00-\\udfff]",Jv="(?:"+Op+"|"+zp+")?",Gv="[\\ufe0e\\ufe0f]?",Jw=Gv+Jv+"(?:\\u200d(?:"+[qv,Qv,Yv].join("|")+")"+Gv+Jv+")*",Gw="(?:"+[qv+Op+"?",Op,Qv,Yv,Yw].join("|")+")",Ww=RegExp(zp+"(?="+zp+")|"+Gw+Jw,"g");const Kv=function(t){t=jr(t);var e=Zv(t)?function(s){return Zv(s)?function(s){return s.match(Ww)||[]}(s):function(s){return s.split("")}(s)}(t):void 0,n=e?e[0]:t.charAt(0),o=e?function(s,t,e){var n=s.length;return ws(s,1,e=void 0===e?n:e)}(e).join(""):t.slice(1);return n.toUpperCase()+o},Xv=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,tw=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,ew=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,a=/^((\w+:(\/{2,})?)|(\W))/i,c="Ctrl+K";function r(s,{writer:t}){const e=t.createAttributeElement("a",{href:s},{priority:5});return t.setCustomProperty("link",!0,e),e}function u(s){return function(t){return t.replace(Xv,"").match(tw)}(s=String(s))?s:"#"}function p(s,t){return!!s&&t.checkAttribute(s.name,"linkHref")}function f(s,t){const e=ew.test(s)?"mailto:":t,o=!!e&&!_(s);return s&&o?e+s:s}function _(s){return a.test(s)}function C(s){window.open(s,"_blank","noopener")}class D extends Tt{constructor(t){super(t),this.manualDecorators=new Di,this.automaticDecorators=new $v}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement()||fe(e.getSelectedBlocks());p(n,t.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttribute(n,"linkHref")):(this.value=e.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref"));for(const o of this.manualDecorators)o.value=this._getDecoratorStateFromModel(o.id)}execute(t,e={}){const n=this.editor.model,o=n.document.selection,l=[],d=[];for(const h in e)e[h]?l.push(h):d.push(h);n.change(h=>{if(o.isCollapsed){const m=o.getFirstPosition();if(o.hasAttribute("linkHref")){const g=Xo(m,"linkHref",o.getAttribute("linkHref"),n);h.setAttribute("linkHref",t,g),l.forEach(b=>{h.setAttribute(b,!0,g)}),d.forEach(b=>{h.removeAttribute(b,g)}),h.setSelection(h.createPositionAfter(g.end.nodeBefore))}else if(""!==t){const g=Qi(o.getAttributes());g.set("linkHref",t),l.forEach(k=>{g.set(k,!0)});const{end:b}=n.insertContent(h.createText(t,g),m);h.setSelection(b)}["linkHref",...l,...d].forEach(g=>{h.removeSelectionAttribute(g)})}else{const m=n.schema.getValidRanges(o.getRanges(),"linkHref"),g=[];for(const k of o.getSelectedBlocks())n.schema.checkAttribute(k,"linkHref")&&g.push(h.createRangeOn(k));const b=g.slice();for(const k of m)this._isRangeToUpdate(k,g)&&b.push(k);for(const k of b)h.setAttribute("linkHref",t,k),l.forEach(v=>{h.setAttribute(v,!0,k)}),d.forEach(v=>{h.removeAttribute(v,k)})}})}_getDecoratorStateFromModel(t){const e=this.editor.model,n=e.document.selection,o=n.getSelectedElement();return p(o,e.schema)?o.getAttribute(t):n.getAttribute(t)}_isRangeToUpdate(t,e){for(const n of e)if(n.containsRange(t))return!1;return!0}}class x extends Tt{refresh(){const t=this.editor.model,e=t.document.selection,n=e.getSelectedElement();this.isEnabled=p(n,t.schema)?t.schema.checkAttribute(n,"linkHref"):t.schema.checkAttributeInSelection(e,"linkHref")}execute(){const e=this.editor.model,n=e.document.selection,o=this.editor.commands.get("link");e.change(l=>{const d=n.isCollapsed?[Xo(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),e)]:e.schema.getValidRanges(n.getRanges(),"linkHref");for(const h of d)if(l.removeAttribute("linkHref",h),o)for(const m of o.manualDecorators)l.removeAttribute(m.id,h)})}}class y{constructor({id:t,label:e,attributes:n,classes:o,styles:l,defaultValue:d}){this.id=t,this.set("value"),this.defaultValue=d,this.label=e,this.attributes=n,this.classes=o,this.styles=l}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}qe(y,zt);var I=Y(9773);mt()(I.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const ut="automatic",jt=/^(https?:)?\/\//;class ie extends W{static get pluginName(){return"LinkEditing"}static get requires(){return[Am,_m,zi]}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:r}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(n,o)=>r(u(n),o)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:n=>n.getAttribute("href")}}),t.commands.add("link",new D(t)),t.commands.add("unlink",new x(t));const e=function(n,o){const l={"Open in a new tab":n("Open in a new tab"),Downloadable:n("Downloadable")};return o.forEach(d=>(d.label&&l[d.label]&&(d.label=l[d.label]),d)),o}(t.t,function(n){const o=[];if(n)for(const[l,d]of Object.entries(n)){const h=Object.assign({},d,{id:`link${Kv(l)}`});o.push(h)}return o}(t.config.get("link.decorators")));this._enableAutomaticDecorators(e.filter(n=>n.mode===ut)),this._enableManualDecorators(e.filter(n=>"manual"===n.mode)),t.plugins.get(Am).registerAttribute("linkHref"),function(n,o,l,d){const h=n.editing.view,m=new Set;h.document.registerPostFixer(g=>{const b=n.model.document.selection;let k=!1;if(b.hasAttribute(o)){const v=Xo(b.getFirstPosition(),o,b.getAttribute(o),n.model),w=n.editing.mapper.toViewRange(v);for(const A of w.getItems())A.is("element","a")&&!A.hasClass(d)&&(g.addClass(d,A),m.add(A),k=!0)}return k}),n.conversion.for("editingDowncast").add(g=>{function b(){h.change(k=>{for(const v of m.values())k.removeClass(d,v),m.delete(v)})}g.on("insert",b,{priority:"highest"}),g.on("remove",b,{priority:"highest"}),g.on("attribute",b,{priority:"highest"}),g.on("selection",b,{priority:"highest"})})}(t,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(t){const e=this.editor,n=e.commands.get("link").automaticDecorators;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:ut,callback:o=>jt.test(o),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach(o=>{e.model.schema.extend("$text",{allowAttributes:o.id}),o=new y(o),n.add(o),e.conversion.for("downcast").attributeToElement({model:o.id,view:(l,{writer:d,schema:h},{item:m})=>{if((m.is("selection")||h.isInline(m))&&l){const g=d.createAttributeElement("a",o.attributes,{priority:5});o.classes&&d.addClass(o.classes,g);for(const b in o.styles)d.setStyle(b,o.styles[b],g);return d.setCustomProperty("link",!0,g),g}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",...o._createPattern()},model:{key:o.id}})})}_enableLinkOpen(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"click",(n,o)=>{if(!(O_isMac?o.domEvent.metaKey:o.domEvent.ctrlKey))return;let l=o.domTarget;if("a"!=l.tagName.toLowerCase()&&(l=l.closest("a")),!l)return;const d=l.getAttribute("href");d&&(n.stop(),o.preventDefault(),C(d))},{context:"$capture"}),this.listenTo(e,"keydown",(n,o)=>{const l=t.commands.get("link").value;l&&o.keyCode===Rt.enter&&o.altKey&&(n.stop(),C(l))})}_enableInsertContentSelectionAttributesFixer(){const t=this.editor.model,e=t.document.selection;this.listenTo(t,"insertContent",()=>{const n=e.anchor.nodeBefore,o=e.anchor.nodeAfter;e.hasAttribute("linkHref")&&n&&n.hasAttribute("linkHref")&&(o&&o.hasAttribute("linkHref")||t.change(l=>{xt(l,ze(t.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const t=this.editor,e=t.model;t.editing.view.addObserver(vc);let n=!1;this.listenTo(t.editing.view.document,"mousedown",()=>{n=!0}),this.listenTo(t.editing.view.document,"selectionChange",()=>{if(!n)return;n=!1;const o=e.document.selection;if(!o.isCollapsed||!o.hasAttribute("linkHref"))return;const l=o.getFirstPosition(),d=Xo(l,"linkHref",o.getAttribute("linkHref"),e);(l.isTouching(d.start)||l.isTouching(d.end))&&e.change(h=>{xt(h,ze(e.schema))})})}_enableTypingOverLink(){const t=this.editor;let n,o;this.listenTo(t.editing.view.document,"delete",()=>{o=!0},{priority:"high"}),this.listenTo(t.model,"deleteContent",()=>{const l=t.model.document.selection;l.isCollapsed||(o?o=!1:Jt(t)&&function(d){const h=d.document.selection,m=h.getFirstPosition(),g=h.getLastPosition(),b=m.nodeAfter;return!!(b&&b.is("$text")&&b.hasAttribute("linkHref"))&&(b===(g.textNode||g.nodeBefore)||Xo(m,"linkHref",b.getAttribute("linkHref"),d).containsRange(d.createRange(m,g),!0))}(t.model)&&(n=l.getAttributes()))},{priority:"high"}),this.listenTo(t.model,"insertContent",(l,[d])=>{o=!1,Jt(t)&&n&&(t.model.change(h=>{for(const[m,g]of n)h.setAttribute(m,g,d)}),n=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const t=this.editor,e=t.model,n=e.document.selection;let l=!1,d=!1;this.listenTo(t.editing.view.document,"delete",(h,m)=>{d="backward"===m.direction},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{l=!1;const h=n.getFirstPosition(),m=n.getAttribute("linkHref");if(!m)return;const g=Xo(h,"linkHref",m,e);l=g.containsPosition(h)||g.end.isEqual(h)},{priority:"high"}),this.listenTo(e,"deleteContent",()=>{d&&(d=!1,l||t.model.enqueueChange(h=>{xt(h,ze(e.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const t=this.editor,e=t.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",(o,l)=>{e.change(d=>{const h=d.createRangeIn(l.content);for(const m of h.getItems())if(m.hasAttribute("linkHref")){const g=f(m.getAttribute("linkHref"),n);d.setAttribute("linkHref",g,m)}})})}}function xt(s,t){s.removeSelectionAttribute("linkHref");for(const e of t)s.removeSelectionAttribute(e)}function Jt(s){return s.model.change(t=>t.batch).isTyping}function ze(s){return s.getDefinition("$text").allowAttributes.filter(t=>t.startsWith("link"))}var ve=Y(7754);mt()(ve.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Wc extends It{constructor(t,e){super(t);const n=t.t;this.focusTracker=new fi,this.keystrokes=new qi,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),ae.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),ae.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e.manualDecorators),this._focusables=new yn,this._focusCycler=new vt({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const o=["ck","ck-link-form","ck-responsive-form"];e.manualDecorators.length&&o.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:o,tabindex:"-1"},children:this.children}),$(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,e)=>(t[e.name]=e.isOn,t),{})}render(){super.render(),S({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new Ne(this.locale,ya);return e.label=t("Link URL"),e}_createButton(t,e,n,o){const l=new qt(this.locale);return l.set({label:t,icon:e,tooltip:!0}),l.extendTemplate({attributes:{class:n}}),o&&l.delegate("execute").to(this,o),l}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t.manualDecorators){const o=new un(this.locale);o.set({name:n.id,label:n.label,withText:!0}),o.bind("isOn").toMany([n,t],"value",(l,d)=>void 0===d&&void 0===l?n.defaultValue:l),o.on("execute",()=>{n.set("value",!o.isOn)}),e.add(o)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const n=new It;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(o=>({tag:"li",children:[o],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(n)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}var we=Y(2347);mt()(we.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class dr extends It{constructor(t){super(t);const e=t.t;this.focusTracker=new fi,this.keystrokes=new qi,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(e("Edit link"),ae.pencil,"edit"),this.set("href"),this._focusables=new yn,this._focusCycler=new vt({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const o=new qt(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.delegate("execute").to(this,n),o}_createPreviewButton(){const t=new qt(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",o=>o&&u(o)),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",o=>o||n("This link has no URL")),t.bind("isEnabled").to(this,"href",o=>!!o),t.template.tag="a",t.template.eventListeners={},t}}const ji="link-ui";class lC extends W{static get requires(){return[uo]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(Fk),this.actionsView=null,this.formView=null,this._balloon=t.plugins.get(uo),this._createToolbarLinkButton(),this._enableBalloonActivators(),t.conversion.for("editingDowncast").markerToHighlight({model:ji,view:{classes:["ck-fake-link-selection"]}}),t.conversion.for("editingDowncast").markerToElement({model:ji,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,e=new dr(t.locale),n=t.commands.get("link"),o=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(o),this.listenTo(e,"edit",()=>{this._addFormView()}),this.listenTo(e,"unlink",()=>{t.execute("unlink"),this._hideUI()}),e.keystrokes.set("Esc",(l,d)=>{this._hideUI(),d()}),e.keystrokes.set(c,(l,d)=>{this._addFormView(),d()}),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=t.config.get("link.defaultProtocol"),o=new Wc(t.locale,e);return o.urlInputView.fieldView.bind("value").to(e,"value"),o.urlInputView.bind("isReadOnly").to(e,"isEnabled",l=>!l),o.saveButtonView.bind("isEnabled").to(e),this.listenTo(o,"submit",()=>{const{value:l}=o.urlInputView.fieldView.element,d=f(l,n);t.execute("link",d,o.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(o,"cancel",()=>{this._closeFormView()}),o.keystrokes.set("Esc",(l,d)=>{this._closeFormView(),d()}),o}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.ui.componentFactory.add("link",o=>{const l=new qt(o);return l.isEnabled=!0,l.label=n("Link"),l.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',l.keystroke=c,l.tooltip=!0,l.isToggleable=!0,l.bind("isEnabled").to(e,"isEnabled"),l.bind("isOn").to(e,"value",d=>!!d),this.listenTo(l,"execute",()=>this._showUI(!0)),l})}_enableBalloonActivators(){const t=this.editor;this.listenTo(t.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),t.keystrokes.set(c,(n,o)=>{o(),t.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,e)=>{this._isUIVisible&&(this._hideUI(),e())}),U({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const t=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(t=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),o=d();const l=()=>{const h=this._getSelectedLinkElement(),m=d();n&&!h||!n&&m!==o?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=h,o=m};function d(){return e.selection.focus.getAncestors().reverse().find(h=>h.is("element"))}this.listenTo(t.ui,"update",l),this.listenTo(this._balloon,"change:visibleView",l)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,n=t.document;let o=null;if(this.editor.model.markers.has(ji)){const l=Array.from(this.editor.editing.mapper.markerNameToElements(ji)),d=t.createRange(t.createPositionBefore(l[0]),t.createPositionAfter(l[l.length-1]));o=t.domConverter.viewRangeToDom(d)}else o=()=>{const l=this._getSelectedLinkElement();return l?t.domConverter.mapViewToDom(l):t.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:o}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection,n=e.getSelectedElement();if(e.isCollapsed||n&&le(n))return iw(e.getFirstPosition());{const o=e.getFirstRange().getTrimmed(),l=iw(o.start),d=iw(o.end);return l&&l==d&&t.createRangeIn(l).getTrimmed().isEqual(o)?l:null}}_showFakeVisualSelection(){const t=this.editor.model;t.change(e=>{const n=t.document.selection.getFirstRange();if(t.markers.has(ji))e.updateMarker(ji,{range:n});else if(n.start.isAtEnd){const o=n.start.getLastMatchingPosition(({item:l})=>!t.schema.isContent(l),{boundaries:n});e.addMarker(ji,{usingOperation:!1,affectsData:!1,range:e.createRange(o,n.end)})}else e.addMarker(ji,{usingOperation:!1,affectsData:!1,range:n})})}_hideFakeVisualSelection(){const t=this.editor.model;t.markers.has(ji)&&t.change(e=>{e.removeMarker(ji)})}}function iw(s){return s.getAncestors().find(t=>{return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e})}const dC=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class hC extends W{static get requires(){return[Nn]}static get pluginName(){return"AutoLink"}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const t=this.editor,e=new ym(t.model,n=>{if(!((l=n).length>4&&" "===l[l.length-1]&&" "!==l[l.length-2]))return;var l;const o=Xw(n.substr(0,n.length-1));return o?{url:o}:void 0});e.on("matched:data",(n,o)=>{const{batch:l,range:d,url:h}=o;if(!l.isTyping)return;const m=d.end.getShiftedBy(-1),g=m.getShiftedBy(-h.length),b=t.model.createRange(g,m);this._applyAutoLink(h,b)}),e.bind("isEnabled").to(this)}_enableEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("enter");n&&n.on("execute",()=>{const o=e.document.selection.getFirstPosition();if(!o.parent.previousSibling)return;const l=e.createRangeIn(o.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(l)})}_enableShiftEnterHandling(){const t=this.editor,e=t.model,n=t.commands.get("shiftEnter");n&&n.on("execute",()=>{const o=e.document.selection.getFirstPosition(),l=e.createRange(e.createPositionAt(o.parent,0),o.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(l)})}_checkAndApplyAutoLinkOnRange(t){const e=this.editor.model,{text:n,range:o}=Cm(t,e),l=Xw(n);if(l){const d=e.createRange(o.end.getShiftedBy(-l.length),o.end);this._applyAutoLink(l,d)}}_applyAutoLink(t,e){const n=this.editor.model,o=f(t,this.editor.config.get("link.defaultProtocol"));var d;this.isEnabled&&(d=n).schema.checkAttributeInSelection(d.createSelection(e),"linkHref")&&_(o)&&!function(l){const d=l.start.nodeAfter;return d&&d.hasAttribute("linkHref")}(e)&&this._persistAutoLink(o,e)}_persistAutoLink(t,e){const n=this.editor.model,o=this.editor.plugins.get("Delete");n.enqueueChange(l=>{l.setAttribute("linkHref",t,e),n.enqueueChange(()=>{o.requestUndoOnBackspace()})})}}function Xw(s){const t=dC.exec(s);return t?t[2]:null}class t0 extends Tt{constructor(t,e){super(t),this.type=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,o=Array.from(e.document.selection.getSelectedBlocks()).filter(d=>n0(d,e.schema)),l=void 0!==t.forceValue?!t.forceValue:this.value;e.change(d=>{if(l){let h=o[o.length-1].nextSibling,m=Number.POSITIVE_INFINITY,g=[];for(;h&&"listItem"==h.name&&0!==h.getAttribute("listIndent");){const b=h.getAttribute("listIndent");b<m&&(m=b),g.push({element:h,listIndent:b-m}),h=h.nextSibling}g=g.reverse();for(const b of g)d.setAttribute("listIndent",b.listIndent,b.element)}if(!l){let h=Number.POSITIVE_INFINITY;for(const m of o)m.is("element","listItem")&&m.getAttribute("listIndent")<h&&(h=m.getAttribute("listIndent"));h=0===h?1:h,e0(o,!0,h),e0(o,!1,h)}for(const h of o.reverse())l&&"listItem"==h.name?d.rename(h,"paragraph"):l||"listItem"==h.name?l||"listItem"!=h.name||h.getAttribute("listType")==this.type||d.setAttribute("listType",this.type,h):(d.setAttributes({listType:this.type,listIndent:0},h),d.rename(h,"listItem"));this.fire("_executeCleanup",o)})}_getValue(){const t=fe(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("element","listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.schema,n=fe(this.editor.model.document.selection.getSelectedBlocks());return!!n&&n0(n,e)}}function e0(s,t,e){const n=t?s[0]:s[s.length-1];if(n.is("element","listItem")){let o=n[t?"previousSibling":"nextSibling"],l=n.getAttribute("listIndent");for(;o&&o.is("element","listItem")&&o.getAttribute("listIndent")>=e;)l>o.getAttribute("listIndent")&&(l=o.getAttribute("listIndent")),o.getAttribute("listIndent")==l&&s[t?"unshift":"push"](o),o=o[t?"previousSibling":"nextSibling"]}}function n0(s,t){return t.checkChild(s.parent,"listItem")&&!t.isObject(s)}class o0 extends Tt{constructor(t,e){super(t),this._indentBy="forward"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;let n=Array.from(t.document.selection.getSelectedBlocks());t.change(o=>{const l=n[n.length-1];let d=l.nextSibling;for(;d&&"listItem"==d.name&&d.getAttribute("listIndent")>l.getAttribute("listIndent");)n.push(d),d=d.nextSibling;this._indentBy<0&&(n=n.reverse());for(const h of n){const m=h.getAttribute("listIndent")+this._indentBy;m<0?o.rename(h,"paragraph"):o.setAttribute("listIndent",m,h)}this.fire("_executeCleanup",n)})}_checkEnabled(){const t=fe(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("element","listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let o=t.previousSibling;for(;o&&o.is("element","listItem")&&o.getAttribute("listIndent")>=e;){if(o.getAttribute("listIndent")==e)return o.getAttribute("listType")==n;o=o.previousSibling}return!1}return!0}}function s0(s,t,e,n){const o=t.parent,l=e.mapper,d=e.writer;let h=l.toViewPosition(n.createPositionBefore(s));const m=a0(s.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:s.getAttribute("listIndent")}),g=s.previousSibling;if(m&&m.getAttribute("listIndent")==s.getAttribute("listIndent")){const b=l.toViewElement(m);h=d.breakContainer(d.createPositionAfter(b))}else if(g&&"listItem"==g.name){h=l.toViewPosition(n.createPositionAt(g,"end"));const b=l.findMappedViewAncestor(h),k=function(v){for(const w of v.getChildren())if("ul"==w.name||"ol"==w.name)return w;return null}(b);h=k?d.createPositionBefore(k):d.createPositionAt(b,"end")}else h=l.toViewPosition(n.createPositionBefore(s));if(h=r0(h),d.insert(h,o),g&&"listItem"==g.name){const b=l.toViewElement(g),k=d.createRange(d.createPositionAt(b,0),h).getWalker({ignoreElementEnd:!0});for(const v of k)if(v.item.is("element","li")){const w=d.breakContainer(d.createPositionBefore(v.item)),A=v.item.parent,T=d.createPositionAt(t,"end");sn(d,T.nodeBefore,T.nodeAfter),d.move(d.createRangeOn(A),T),k.position=w}}else{const b=o.nextSibling;if(b&&(b.is("element","ul")||b.is("element","ol"))){let k=null;for(const v of b.getChildren()){const w=l.toModelElement(v);if(!(w&&w.getAttribute("listIndent")>s.getAttribute("listIndent")))break;k=v}k&&(d.breakContainer(d.createPositionAfter(k)),d.move(d.createRangeOn(k.parent),d.createPositionAt(t,"end")))}}sn(d,o,o.nextSibling),sn(d,o.previousSibling,o)}function sn(s,t,e){return!t||!e||"ul"!=t.name&&"ol"!=t.name||t.name!=e.name||t.getAttribute("class")!==e.getAttribute("class")?null:s.mergeContainers(s.createPositionAfter(t))}function r0(s){return s.getLastMatchingPosition(t=>t.item.is("uiElement"))}function a0(s,t){const e=!!t.sameIndent,n=!!t.smallerIndent,o=t.listIndent;let l=s;for(;l&&"listItem"==l.name;){const d=l.getAttribute("listIndent");if(e&&o==d||n&&o>d)return l;l="forward"===t.direction?l.nextSibling:l.previousSibling}return null}function l0(s,t,e,n){s.ui.componentFactory.add(t,o=>{const l=s.commands.get(t),d=new qt(o);return d.set({label:e,icon:n,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),d.on("execute",()=>{s.execute(t),s.editing.view.focus()}),d})}function nw(s,t){const e=[],n=s.parent,o={ignoreElementEnd:!1,startPosition:s,shallow:!0,direction:t},l=n.getAttribute("listIndent"),d=[...new tn(o)].filter(h=>h.item.is("element")).map(h=>h.item);for(const h of d){if(!h.is("element","listItem")||h.getAttribute("listIndent")<l)break;if(!(h.getAttribute("listIndent")>l)){if(h.getAttribute("listType")!==n.getAttribute("listType")||h.getAttribute("listStyle")!==n.getAttribute("listStyle")||h.getAttribute("listReversed")!==n.getAttribute("listReversed")||h.getAttribute("listStart")!==n.getAttribute("listStart"))break;"backward"===t?e.unshift(h):e.push(h)}}return e}const pC=["disc","circle","square"],gC=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function fC(){const s=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||s?0:Hr.call(this)}class bC extends W{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(t){return function(e){return pC.includes(e)?"bulleted":gC.includes(e)?"numbered":null}(t)}getSelectedListItems(t){return function(e){let n=[...e.document.selection.getSelectedBlocks()].filter(o=>o.is("element","listItem")).map(o=>{const l=e.change(d=>d.createPositionAt(o,0));return[...nw(l,"backward"),...nw(l,"forward")]}).flat();return n=[...new Set(n)],n}(t)}getSiblingNodes(t,e){return nw(t,e)}}function c0(s){return(t,e,n)=>{const o=n.consumable;if(!o.test(e.item,"insert")||!o.test(e.item,"attribute:listType")||!o.test(e.item,"attribute:listIndent"))return;o.consume(e.item,"insert"),o.consume(e.item,"attribute:listType"),o.consume(e.item,"attribute:listIndent");const l=e.item;s0(l,function mC(s,t){const e=t.mapper,n=t.writer,o="numbered"==s.getAttribute("listType")?"ol":"ul",l=function(h){const m=h.createContainerElement("li");return m.getFillerOffset=fC,m}(n),d=n.createContainerElement(o,null);return n.insert(n.createPositionAt(d,0),l),e.bindElements(s,l),l}(l,n),n,s)}}const kC=(s,t,e)=>{if(!e.consumable.test(t.item,s.name))return;const n=e.mapper.toViewElement(t.item),o=e.writer;o.breakContainer(o.createPositionBefore(n)),o.breakContainer(o.createPositionAfter(n)),o.rename("numbered"==t.attributeNewValue?"ol":"ul",n.parent)},_C=(s,t,e)=>{e.consumable.consume(t.item,s.name);const n=e.mapper.toViewElement(t.item).parent,o=e.writer;sn(o,n,n.nextSibling),sn(o,n.previousSibling,n)},d0=(s,t,e)=>{if(e.consumable.test(t.item,s.name)&&"listItem"!=t.item.name){let n=e.mapper.toViewPosition(t.range.start);const o=e.writer,l=[];for(;("ul"==n.parent.name||"ol"==n.parent.name)&&(n=o.breakContainer(n),"li"==n.parent.name);){const d=n,h=o.createPositionAt(n.parent,"end");if(!d.isEqual(h)){const m=o.remove(o.createRange(d,h));l.push(m)}n=o.createPositionAfter(n.parent)}if(l.length>0){for(let d=0;d<l.length;d++){const h=n.nodeBefore;if(n=o.insert(n,l[d]).end,d>0){const m=sn(o,h,h.nextSibling);m&&m.parent==h&&n.offset--}}sn(o,n.nodeBefore,n.nodeAfter)}}},vC=(s,t,e)=>{const n=e.mapper.toViewPosition(t.position);sn(e.writer,n.nodeBefore,n.nodeAfter)},wC=(s,t,e)=>{if(e.consumable.consume(t.viewItem,{name:!0})){const n=e.writer,o=n.createElement("listItem"),l=function(m){let g=0,b=m.parent;for(;b;){if(b.is("element","li"))g++;else{const k=b.previousSibling;k&&k.is("element","li")&&g++}b=b.parent}return g}(t.viewItem);if(n.setAttribute("listIndent",l,o),n.setAttribute("listType",t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted",o),!e.safeInsert(o,t.modelCursor))return;const h=function(m,g,b){const{writer:k,schema:v}=b;let w=k.createPositionAfter(m);for(const A of g)if("ul"==A.name||"ol"==A.name)w=b.convertItem(A,w).modelCursor;else{const T=b.convertItem(A,k.createPositionAt(m,"end")),E=T.modelRange.start.nodeAfter;E&&E.is("element")&&!v.checkChild(m,E.name)&&(m=T.modelCursor.parent.is("element","listItem")?T.modelCursor.parent:AC(T.modelCursor),w=k.createPositionAfter(m))}return w}(o,t.viewItem.getChildren(),e);t.modelRange=n.createRange(t.modelCursor,h),e.updateConversionResult(o,t)}},u0=(s,t,e)=>{if(e.consumable.test(t.viewItem,{name:!0})){const n=Array.from(t.viewItem.getChildren());for(const o of n)!o.is("element","li")&&!Za(o)&&o._remove()}},CC=(s,t,e)=>{if(e.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;const n=[...t.viewItem.getChildren()];let o=!1;for(const l of n)o&&!Za(l)&&l._remove(),Za(l)&&(o=!0)}};function h0(s){return(t,e)=>{if(e.isPhantom)return;const n=e.modelPosition.nodeBefore;if(n&&n.is("element","listItem")){const o=e.mapper.toViewElement(n),l=o.getAncestors().find(Za),d=s.createPositionAt(o,0).getWalker();for(const h of d){if("elementStart"==h.type&&h.item.is("element","li")){e.viewPosition=h.previousPosition;break}if("elementEnd"==h.type&&h.item==l){e.viewPosition=h.nextPosition;break}}}}}const yC=function(s,[t,e,n]){let l,d=t.is("documentFragment")?t.getChild(0):t;if(l=e?this.createSelection(e,n):this.document.selection,d&&d.is("element","listItem")){const h=l.getFirstPosition();let m=null;if(h.parent.is("element","listItem")?m=h.parent:h.nodeBefore&&h.nodeBefore.is("element","listItem")&&(m=h.nodeBefore),m){const g=m.getAttribute("listIndent");if(g>0)for(;d&&d.is("element","listItem");)d._setAttribute("listIndent",d.getAttribute("listIndent")+g),d=d.nextSibling}}};function AC(s){const t=new tn({startPosition:s});let e;do{e=t.next()}while(!e.value.item.is("element","listItem"));return e.value.item}function m0(s,t,e,n,o,l){const d=a0(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:s}),h=o.mapper,m=o.writer,g=d?d.getAttribute("listIndent"):null;let b;if(d)if(g==s){const k=h.toViewElement(d).parent;b=m.createPositionAfter(k)}else{const k=l.createPositionAt(d,"end");b=h.toViewPosition(k)}else b=e;b=r0(b);for(const k of[...n.getChildren()])Za(k)&&(b=m.move(m.createRangeOn(k),b).end,sn(m,k,k.nextSibling),sn(m,k.previousSibling,k))}function Za(s){return s.is("element","ol")||s.is("element","ul")}var p0=Y(4564);mt()(p0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class TC extends W{static get pluginName(){return"ListEditing"}static get requires(){return[Na,Nn,bC]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,n=t.editing;var o;t.model.document.registerPostFixer(d=>function(h,m){const g=h.document.differ.getChanges(),b=new Map;let k=!1;for(const T of g)if("insert"==T.type&&"listItem"==T.name)v(T.position);else if("insert"==T.type&&"listItem"!=T.name){if("$text"!=T.name){const E=T.position.nodeAfter;E.hasAttribute("listIndent")&&(m.removeAttribute("listIndent",E),k=!0),E.hasAttribute("listType")&&(m.removeAttribute("listType",E),k=!0),E.hasAttribute("listStyle")&&(m.removeAttribute("listStyle",E),k=!0),E.hasAttribute("listReversed")&&(m.removeAttribute("listReversed",E),k=!0),E.hasAttribute("listStart")&&(m.removeAttribute("listStart",E),k=!0);for(const R of Array.from(h.createRangeIn(E)).filter(N=>N.item.is("element","listItem")))v(R.previousPosition)}v(T.position.getShiftedBy(T.length))}else"remove"==T.type&&"listItem"==T.name?v(T.position):("attribute"==T.type&&"listIndent"==T.attributeKey||"attribute"==T.type&&"listType"==T.attributeKey)&&v(T.range.start);for(const T of b.values())w(T),A(T);return k;function v(T){const E=T.nodeBefore;if(E&&E.is("element","listItem")){let R=E;if(b.has(R))return;for(let N=R.previousSibling;N&&N.is("element","listItem");N=R.previousSibling)if(R=N,b.has(R))return;b.set(E,R)}else{const R=T.nodeAfter;R&&R.is("element","listItem")&&b.set(R,R)}}function w(T){let E=0,R=null;for(;T&&T.is("element","listItem");){const N=T.getAttribute("listIndent");if(N>E){let q;null===R?(R=N-E,q=E):(R>N&&(R=N),q=N-R),m.setAttribute("listIndent",q,T),k=!0}else R=null,E=T.getAttribute("listIndent")+1;T=T.nextSibling}}function A(T){let E=[],R=null;for(;T&&T.is("element","listItem");){const N=T.getAttribute("listIndent");if(R&&R.getAttribute("listIndent")>N&&(E=E.slice(0,N+1)),0!=N)if(E[N]){const q=E[N];T.getAttribute("listType")!=q&&(m.setAttribute("listType",q,T),k=!0)}else E[N]=T.getAttribute("listType");R=T,T=T.nextSibling}}}(t.model,d)),n.mapper.registerViewToModelLength("li",ow),e.mapper.registerViewToModelLength("li",ow),n.mapper.on("modelToViewPosition",h0(n.view)),n.mapper.on("viewToModelPosition",(o=t.model,(d,h)=>{const m=h.viewPosition,g=m.parent,b=h.mapper;if("ul"==g.name||"ol"==g.name){if(m.isAtEnd){const k=b.toModelElement(m.nodeBefore),v=b.getModelLength(m.nodeBefore);h.modelPosition=o.createPositionBefore(k).getShiftedBy(v)}else{const k=b.toModelElement(m.nodeAfter);h.modelPosition=o.createPositionBefore(k)}d.stop()}else if("li"==g.name&&m.nodeBefore&&("ul"==m.nodeBefore.name||"ol"==m.nodeBefore.name)){const k=b.toModelElement(g);let v=1,w=m.nodeBefore;for(;w&&Za(w);)v+=b.getModelLength(w),w=w.previousSibling;h.modelPosition=o.createPositionBefore(k).getShiftedBy(v),d.stop()}})),e.mapper.on("modelToViewPosition",h0(n.view)),t.conversion.for("editingDowncast").add(d=>{var h;d.on("insert",d0,{priority:"high"}),d.on("insert:listItem",c0(t.model)),d.on("attribute:listType:listItem",kC,{priority:"high"}),d.on("attribute:listType:listItem",_C,{priority:"low"}),d.on("attribute:listIndent:listItem",(h=t.model,(m,g,b)=>{if(!b.consumable.consume(g.item,"attribute:listIndent"))return;const k=b.mapper.toViewElement(g.item),v=b.writer;v.breakContainer(v.createPositionBefore(k)),v.breakContainer(v.createPositionAfter(k));const w=k.parent,A=w.previousSibling,T=v.createRangeOn(w);v.remove(T),A&&A.nextSibling&&sn(v,A,A.nextSibling),m0(g.attributeOldValue+1,g.range.start,T.start,k,b,h),s0(g.item,k,b,h);for(const E of g.item.getChildren())b.consumable.consume(E,"insert")})),d.on("remove:listItem",function(h){return(m,g,b)=>{const k=b.mapper.toViewPosition(g.position).getLastMatchingPosition(R=>!R.item.is("element","li")).nodeAfter,v=b.writer;v.breakContainer(v.createPositionBefore(k)),v.breakContainer(v.createPositionAfter(k));const w=k.parent,A=w.previousSibling,T=v.createRangeOn(w),E=v.remove(T);A&&A.nextSibling&&sn(v,A,A.nextSibling),m0(b.mapper.toModelElement(k).getAttribute("listIndent")+1,g.position,T.start,k,b,h);for(const R of v.createRangeIn(E).getItems())b.mapper.unbindViewElement(R);m.stop()}}(t.model)),d.on("remove",vC,{priority:"low"})}),t.conversion.for("dataDowncast").add(d=>{d.on("insert",d0,{priority:"high"}),d.on("insert:listItem",c0(t.model))}),t.conversion.for("upcast").add(d=>{d.on("element:ul",u0,{priority:"high"}),d.on("element:ol",u0,{priority:"high"}),d.on("element:li",CC,{priority:"high"}),d.on("element:li",wC)}),t.model.on("insertContent",yC,{priority:"high"}),t.commands.add("numberedList",new t0(t,"numbered")),t.commands.add("bulletedList",new t0(t,"bulleted")),t.commands.add("indentList",new o0(t,"forward")),t.commands.add("outdentList",new o0(t,"backward"));const l=n.view.document;this.listenTo(l,"enter",(d,h)=>{const m=this.editor.model.document,g=m.selection.getLastPosition().parent;m.selection.isCollapsed&&"listItem"==g.name&&g.isEmpty&&(this.editor.execute("outdentList"),h.preventDefault(),d.stop())},{context:"li"}),this.listenTo(l,"delete",(d,h)=>{if("backward"!==h.direction)return;const m=this.editor.model.document.selection;if(!m.isCollapsed)return;const g=m.getFirstPosition();if(!g.isAtStart)return;const b=g.parent;"listItem"===b.name&&(b.previousSibling&&"listItem"===b.previousSibling.name||(this.editor.execute("outdentList"),h.preventDefault(),d.stop()))},{context:"li"}),this.listenTo(t.editing.view.document,"tab",(d,h)=>{const m=h.shiftKey?"outdentList":"indentList";this.editor.commands.get(m).isEnabled&&(t.execute(m),h.stopPropagation(),h.preventDefault(),d.stop())},{context:"li"})}afterInit(){const t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}function ow(s){let t=1;for(const e of s.getChildren())if("ul"==e.name||"ol"==e.name)for(const n of e.getChildren())t+=ow(n);return t}class DC extends W{static get pluginName(){return"ListUI"}init(){const t=this.editor.t;l0(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),l0(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function g0(s,t){return n=>{n.on("attribute:url:media",e)};function e(n,o,l){if(!l.consumable.consume(o.item,n.name))return;const d=o.attributeNewValue,h=l.writer,m=l.mapper.toViewElement(o.item),g=[...m.getChildren()].find(k=>k.getCustomProperty("media-content"));h.remove(g);const b=s.getMediaViewElement(h,d,t);h.insert(h.createPositionAt(m,0),b)}}function f0(s,t,e,n){return s.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(s,e,n),s.createSlot()])}function b0(s){const t=s.getSelectedElement();return t&&t.is("element","media")?t:null}function k0(s,t,e,n){s.change(o=>{const l=o.createElement("media",{url:t});s.insertObject(l,e,null,{setSelection:"on",findOptimalPosition:n})})}class SC extends Tt{refresh(){const t=this.editor.model,e=t.document.selection,n=b0(e);this.value=n?n.getAttribute("url"):null,this.isEnabled=function(o){const l=o.getSelectedElement();return!!l&&"media"===l.name}(e)||function(o,l){let h=Rm(o,l).start.parent;return h.isEmpty&&!l.schema.isLimit(h)&&(h=h.parent),l.schema.checkChild(h,"media")}(e,t)}execute(t){const e=this.editor.model,n=e.document.selection,o=b0(n);o?e.change(l=>{l.setAttribute("url",t,o)}):k0(e,t,n,!0)}}class EC{constructor(t,e){const n=e.providers,o=e.extraProviders||[],l=new Set(e.removeProviders),d=n.concat(o).filter(h=>{const m=h.name;return m?!l.has(m):(bt("media-embed-no-provider-name",{provider:h}),!1)});this.locale=t,this.providerDefinitions=d}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new _0(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html,o=xe(e.url);for(const l of o){const d=this._getUrlMatches(t,l);if(d)return new _0(this.locale,t,d,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let o=t.replace(/^https?:\/\//,"");return n=o.match(e),n||(o=o.replace(/^www\./,""),n=o.match(e),n||null)}}class _0{constructor(t,e,n,o){this.url=this._getValidUrl(e),this._locale=t,this._match=n,this._previewRenderer=o}getViewElement(t,e){const n={};let o;if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const l=this._getPreviewHtml(e);o=t.createRawElement("div",n,(d,h)=>{h.setContentOf(d,l)})}else this.url&&(n.url=this.url),o=t.createEmptyElement(e.elementName,n);return t.setCustomProperty("media-content",!0,o),o}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new Mr,e=this._locale.t;return t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new Si({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":e("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}var v0=Y(7442);mt()(v0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class Fp extends W{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:e=>{const o=e[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${e[1]}${o?`?start=${o}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new EC(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,o=t.conversion,l=t.config.get("mediaEmbed.previewsInData"),d=t.config.get("mediaEmbed.elementName"),h=this.registry;t.commands.add("mediaEmbed",new SC(t)),e.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),o.for("dataDowncast").elementToStructure({model:"media",view:(m,{writer:g})=>{const b=m.getAttribute("url");return f0(g,h,b,{elementName:d,renderMediaPreview:b&&l})}}),o.for("dataDowncast").add(g0(h,{elementName:d,renderMediaPreview:l})),o.for("editingDowncast").elementToStructure({model:"media",view:(m,{writer:g})=>{const b=m.getAttribute("url");return k=f0(g,h,b,{elementName:d,renderForEditingView:!0}),v=g,w=n("media widget"),v.setCustomProperty("media",!0,k),zc(k,v,{label:w});var k,v,w}}),o.for("editingDowncast").add(g0(h,{elementName:d,renderForEditingView:!0})),o.for("upcast").elementToElement({view:m=>["oembed",d].includes(m.name)&&m.getAttribute("url")?{name:!0}:null,model:(m,{writer:g})=>{const b=m.getAttribute("url");if(h.hasMedia(b))return g.createElement("media",{url:b})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(m,{writer:g})=>{const b=m.getAttribute("data-oembed-url");if(h.hasMedia(b))return g.createElement("media",{url:b})}}).add(m=>{m.on("element:figure",function(g,b,k){if(!k.consumable.consume(b.viewItem,{name:!0,classes:"media"}))return;const{modelRange:v,modelCursor:w}=k.convertChildren(b.viewItem,b.modelCursor);b.modelRange=v,b.modelCursor=w,fe(v.getItems())||k.consumable.revert(b.viewItem,{name:!0,classes:"media"})})})}}const MC=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class PC extends W{static get requires(){return[Zm,Nn,Qm]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document;this.listenTo(t.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const n=e.selection.getFirstRange(),o=Re.fromPosition(n.start);o.stickiness="toPrevious";const l=Re.fromPosition(n.end);l.stickiness="toNext",e.once("change:data",()=>{this._embedMediaBetweenPositions(o,l),o.detach(),l.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(St.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,o=n.plugins.get(Fp).registry,l=new li(t,e),d=l.getWalker({ignoreElementEnd:!0});let h="";for(const m of d)m.item.is("$textProxy")&&(h+=m.item.data);h=h.trim(),h.match(MC)&&o.hasMedia(h)&&n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Re.fromPosition(t),this._timeoutId=St.window.setTimeout(()=>{n.model.change(m=>{let g;this._timeoutId=null,m.remove(l),l.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(g=this._positionToInsert),k0(n.model,h,g,!1),this._positionToInsert.detach(),this._positionToInsert=null}),n.plugins.get("Delete").requestUndoOnBackspace()},100)):l.detach()}}var w0=Y(9292);mt()(w0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class NC extends It{constructor(t,e){super(e);const n=e.t;this.focusTracker=new fi,this.keystrokes=new qi,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),ae.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",o=>!!o),this.cancelButtonView=this._createButton(n("Cancel"),ae.cancel,"ck-button-cancel","cancel"),this._focusables=new yn,this._focusCycler=new vt({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),$(this)}render(){super.render(),S({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element);const t=e=>e.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(e,n)=>{n.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(t){this.urlInputView.fieldView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new Ne(this.locale,ya),n=e.fieldView;return this._urlInputViewInfoDefault=t("Paste the media URL in the input."),this._urlInputViewInfoTip=t("Tip: Paste the URL into the content to embed faster."),e.label=t("Media URL"),e.infoText=this._urlInputViewInfoDefault,n.on("input",()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()}),e}_createButton(t,e,n,o){const l=new qt(this.locale);return l.set({label:t,icon:e,tooltip:!0}),l.extendTemplate({attributes:{class:n}}),o&&l.delegate("execute").to(this,o),l}}class LC extends W{static get requires(){return[Fp]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,e=t.commands.get("mediaEmbed");t.ui.componentFactory.add("mediaEmbed",n=>{const o=In(n);return this._setUpDropdown(o,e),o})}_setUpDropdown(t,e){const n=this.editor,o=n.t,l=t.buttonView,d=n.plugins.get(Fp).registry;t.once("change:isOpen",()=>{const h=new NC((m=n.t,g=d,[b=>{if(!b.url.length)return m("The URL must not be empty.")},b=>{if(!g.hasMedia(b.url))return m("This media URL is not supported.")}]),n.locale);var m,g;t.panelView.children.add(h),l.on("open",()=>{h.disableCssTransitions(),h.url=e.value||"",h.urlInputView.fieldView.select(),h.enableCssTransitions()},{priority:"low"}),t.on("submit",()=>{h.isValid()&&(n.execute("mediaEmbed",h.url),n.editing.view.focus())}),t.on("change:isOpen",()=>h.resetFormStatus()),t.on("cancel",()=>{n.editing.view.focus()}),h.delegate("submit","cancel").to(t),h.urlInputView.bind("value").to(e,"value"),h.urlInputView.bind("isReadOnly").to(e,"isEnabled",m=>!m)}),t.bind("isEnabled").to(e),l.set({label:o("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var C0=Y(4652);function y0(s,t,e,{blockElements:n,inlineObjectElements:o}){let l=e.createPositionAt(s,"forward"==t?"after":"before");return l=l.getLastMatchingPosition(({item:d})=>d.is("element")&&!n.includes(d.name)&&!o.includes(d.name),{direction:t}),"forward"==t?l.nodeAfter:l.nodeBefore}function A0(s,t){return!!s&&s.is("element")&&t.includes(s.name)}function zC(s){if(s.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(s){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return s;default:return null}}function x0(s,t,e){const n=t.parent,o=e.createElement(s.type),l=n.getChildIndex(t)+1;return e.insertChild(l,o,n),s.style&&e.setStyle("list-style-type",s.style,o),s.startIndex&&s.startIndex>1&&e.setAttribute("start",s.startIndex,o),o}function FC(s){const t={},e=s.getStyle("mso-list");if(e){const n=e.match(/(^|\s{1,100})l(\d+)/i),o=e.match(/\s{0,100}lfo(\d+)/i),l=e.match(/\s{0,100}level(\d+)/i);n&&o&&l&&(t.id=n[2],t.order=o[1],t.indent=parseInt(l[1]))}return t}mt()(C0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const jC=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class VC{constructor(t){this.document=t}isActive(t){return jC.test(t)}execute(t){const e=new Zo(this.document),{body:n}=t._parsedData;(function(o,l){for(const d of o.getChildren())if(d.is("element","b")&&"normal"===d.getStyle("font-weight")){const h=o.getChildIndex(d);l.remove(d),l.insertChild(h,d.getChildren(),o)}})(n,e),function(o,l){for(const d of l.createRangeIn(o)){const h=d.item;if(h.is("element","li")){const m=h.getChild(0);m&&m.is("element","p")&&l.unwrapElement(m)}}}(n,e),function(o,l){const d=new qr(l.document.stylesProcessor),h=new vi(d,{renderingMode:"data"}),m=h.blockElements,g=h.inlineObjectElements,b=[];for(const k of l.createRangeIn(o)){const v=k.item;if(v.is("element","br")){const w=y0(v,"forward",l,{blockElements:m,inlineObjectElements:g}),A=y0(v,"backward",l,{blockElements:m,inlineObjectElements:g}),T=A0(w,m);(A0(A,m)||T)&&b.push(v)}}for(const k of b)k.hasClass("Apple-interchange-newline")?l.remove(k):l.replace(k,l.createElement("p"))}(n,e),t.content=n}}function UC(s){return btoa(s.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}const ZC=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,HC=/xmlns:o="urn:schemas-microsoft-com/i;class qC{constructor(t){this.document=t}isActive(t){return ZC.test(t)||HC.test(t)}execute(t){const{body:e,stylesString:n}=t._parsedData;(function OC(s,t){if(!s.childCount)return;const e=new Zo(s.document),n=function(d,h){const m=h.createRangeIn(d),g=new ki({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),b=[];for(const k of m)if("elementStart"===k.type&&g.match(k.item)){const v=FC(k.item);b.push({element:k.item,id:v.id,order:v.order,indent:v.indent})}return b}(s,e);if(!n.length)return;let o=null,l=1;n.forEach((d,h)=>{const m=function(A,T){if(!A)return!0;if(A.id!==T.id)return T.indent-A.indent!=1;const E=T.element.previousSibling;return!E||!((R=E).is("element","ol")||R.is("element","ul"));var R}(n[h-1],d),b=(v=d,(k=m?null:n[h-1])?v.indent-k.indent:v.indent-1);var k,v;if(m&&(o=null,l=1),!o||0!==b){const A=function(T,E){const N=/mso-level-number-format:([^;]{0,100});/gi,q=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,et=new RegExp(`@list l${T.id}:level${T.indent}\\s*({[^}]*)`,"gi").exec(E);let yt="decimal",Ot="ol",Vt=null;if(et&&et[1]){const Le=N.exec(et[1]);if(Le&&Le[1]&&(yt=Le[1].trim(),Ot="bullet"!==yt&&"image"!==yt?"ol":"ul"),"bullet"===yt){const Fe=function(qa){const Fn=function(po){if(po.getChild(0).is("$text"))return null;for(const go of po.getChildren()){if(!go.is("element","span"))continue;const Qa=go.getChild(0);return Qa.is("$text")?Qa:Qa.getChild(0)}return null}(qa);if(!Fn)return null;const rn=Fn._data;return"o"===rn?"circle":"\xb7"===rn?"disc":"\xa7"===rn?"square":null}(T.element);Fe&&(yt=Fe)}else{const Fe=q.exec(et[1]);Fe&&Fe[1]&&(Vt=parseInt(Fe[1]))}}return{type:Ot,startIndex:Vt,style:zC(yt)}}(d,t);if(o)if(d.indent>l){const T=o.getChild(o.childCount-1),E=T.getChild(T.childCount-1);o=x0(A,E,e),l+=1}else d.indent<l&&(o=function(E,R){const N=E.getAncestors({parentFirst:!0});let q=null,et=0;for(const yt of N)if((yt.is("element","ul")||yt.is("element","ol"))&&et++,et===R){q=yt;break}return q}(o,l-d.indent),l=d.indent);else o=x0(A,d.element,e);d.indent<=l&&(o.is("element",A.type)||(o=e.rename(A.type,o)))}const w=(function(E,R){const N=new ki({name:"span",styles:{"mso-list":"Ignore"}}),q=R.createRangeIn(E);for(const et of q)"elementStart"===et.type&&N.match(et.item)&&R.remove(et.item)}(A=d.element,T=e),T.rename("li",A));var A,T;e.appendChild(w,o)})})(e,n),function $C(s,t){if(!s.childCount)return;const e=new Zo(s.document),n=function(l,d){const h=d.createRangeIn(l),m=new ki({name:/v:(.+)/}),g=[];for(const b of h){if("elementStart"!=b.type)continue;const k=b.item,v=k.previousSibling,w=v&&v.is("element")?v.name:null;m.match(k)&&k.getAttribute("o:gfxdata")&&"v:shapetype"!==w&&g.push(b.item.getAttribute("id"))}return g}(s,e);(function(l,d,h){const m=h.createRangeIn(d),g=new ki({name:"img"}),b=[];for(const k of m)if(k.item.is("element")&&g.match(k.item)){const v=k.item,w=v.getAttribute("v:shapes")?v.getAttribute("v:shapes").split(" "):[];w.length&&w.every(A=>l.indexOf(A)>-1)?b.push(v):v.getAttribute("src")||b.push(v)}for(const k of b)h.remove(k)})(n,s,e),function(l,d,h){const m=h.createRangeIn(d),g=[];for(const v of m)if("elementStart"==v.type&&v.item.is("element","v:shape")){const w=v.item.getAttribute("id");if(l.includes(w))continue;b(v.item.parent.getChildren(),w)||g.push(v.item)}for(const v of g){const w={src:k(v)};v.hasAttribute("alt")&&(w.alt=v.getAttribute("alt"));const A=h.createElement("img",w);h.insertChild(v.index+1,A,v.parent)}function b(v,w){for(const A of v)if(A.is("element")&&("img"==A.name&&A.getAttribute("v:shapes")==w||b(A.getChildren(),w)))return!0;return!1}function k(v){for(const w of v.getChildren())if(w.is("element")&&w.getAttribute("src"))return w.getAttribute("src")}}(n,s,e),function(l,d){const h=d.createRangeIn(l),m=new ki({name:/v:(.+)/}),g=[];for(const b of h)"elementStart"==b.type&&m.match(b.item)&&g.push(b.item);for(const b of g)d.remove(b)}(s,e);const o=function(l,d){const h=d.createRangeIn(l),m=new ki({name:"img"}),g=[];for(const b of h)b.item.is("element")&&m.match(b.item)&&b.item.getAttribute("src").startsWith("file://")&&g.push(b.item);return g}(s,e);o.length&&function(l,d,h){if(l.length===d.length)for(let m=0;m<l.length;m++){const g=`data:${d[m].type};base64,${UC(d[m].hex)}`;h.setAttribute("src",g,l[m])}}(o,function(l){if(!l)return[];const d=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,h=new RegExp("(?:("+d.source+"))([\\da-fA-F\\s]+)\\}","g"),m=l.match(h),g=[];if(m)for(const b of m){let k=!1;b.includes("\\pngblip")?k="image/png":b.includes("\\jpegblip")&&(k="image/jpeg"),k&&g.push({hex:b.replace(d,"").replace(/[^\da-fA-F]/g,""),type:k})}return g}(t),e)}(e,t.dataTransfer.getData("text/rtf")),t.content=e}}function T0(s){return s.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1===e.length?" ":Array(e.length+1).join("\xa0 ").substr(0,e.length))}function Ce(s,t,e,n,o=1){t>o?n.setAttribute(s,t,e):n.removeAttribute(s,e)}function ur(s,t,e={}){const n=s.createElement("tableCell",e);return s.insertElement("paragraph",n),s.insert(n,t),n}function sw(s,t){const n=parseInt(t.parent.parent.getAttribute("headingColumns")||0),{column:o}=s.getCellLocation(t);return!!n&&o<n}function D0(s){return t=>{t.on(`element:${s}`,(e,n,{writer:o})=>{if(!n.modelRange)return;const l=n.modelRange.start.nodeAfter,d=o.createPositionAt(l,0);if(n.viewItem.isEmpty)return void o.insertElement("paragraph",d);const h=Array.from(l.getChildren());if(h.every(m=>m.is("element","$marker"))){const m=o.createElement("paragraph");o.insert(m,o.createPositionAt(l,0));for(const g of h)o.move(o.createRangeOn(g),o.createPositionAt(m,"end"))}},{priority:"low"})}}function JC(s){let t=0,e=0;const n=Array.from(s.getChildren()).filter(o=>"th"===o.name||"td"===o.name);for(;e<n.length&&"th"===n[e].name;)t+=parseInt(n[e].getAttribute("colspan")||1),e++;return t}class Gt{constructor(t,e={}){this._table=t,this._startRow=void 0!==e.row?e.row:e.startRow||0,this._endRow=void 0!==e.row?e.row:e.endRow,this._startColumn=void 0!==e.column?e.column:e.startColumn||0,this._endColumn=void 0!==e.column?e.column:e.endColumn,this._includeAllSlots=!!e.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const t=this._table.getChild(this._rowIndex);if(!t||this._isOverEndRow())return{done:!0};if(!t.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let e=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(e=this._formatOutValue(n.cell,n.row,n.column));else{const o=t.getChild(this._cellIndex);if(!o)return this._advanceToNextRow();const l=parseInt(o.getAttribute("colspan")||1),d=parseInt(o.getAttribute("rowspan")||1);(l>1||d>1)&&this._recordSpans(o,d,l),this._shouldSkipSlot()||(e=this._formatOutValue(o)),this._nextCellAtColumn=this._column+l}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,e||this.next()}skipRow(t){this._skipRows.add(t)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(t,e=this._row,n=this._column){return{done:!1,value:new GC(this,t,e,n)}}_shouldSkipSlot(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}_getSpanned(){const t=this._spannedCells.get(this._row);return t&&t.get(this._column)||null}_recordSpans(t,e,n){const o={cell:t,row:this._row,column:this._column};for(let l=this._row;l<this._row+e;l++)for(let d=this._column;d<this._column+n;d++)l==this._row&&d==this._column||this._markSpannedCell(l,d,o)}_markSpannedCell(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}}class GC{constructor(t,e,n,o){this.cell=e,this.row=t._row,this.column=t._column,this.cellAnchorRow=n,this.cellAnchorColumn=o,this._cellIndex=t._cellIndex,this._rowIndex=t._rowIndex,this._table=t._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function S0(s,t={}){return(e,{writer:n})=>{const o=e.getAttribute("headingRows")||0,l=[];o>0&&l.push(n.createContainerElement("thead",null,n.createSlot(h=>h.is("element","tableRow")&&h.index<o))),o<s.getRows(e)&&l.push(n.createContainerElement("tbody",null,n.createSlot(h=>h.is("element","tableRow")&&h.index>=o)));const d=n.createContainerElement("figure",{class:"table"},[n.createContainerElement("table",null,l),n.createSlot(h=>!h.is("element","tableRow"))]);return t.asWidget?((m=n).setCustomProperty("table",!0,h=d),zc(h,m,{hasSelectionHandle:!0})):d;var h,m}}function E0(s={}){return(t,{writer:e})=>{const n=t.parent,o=n.parent,l=o.getChildIndex(n),d=new Gt(o,{row:l}),h=o.getAttribute("headingRows")||0,m=o.getAttribute("headingColumns")||0;for(const g of d)if(g.cell==t){const b=g.row<h||g.column<m?"th":"td";return s.asWidget?Pm(e.createEditableElement(b),e):e.createContainerElement(b)}}}function I0(s={}){return(t,{writer:e})=>{if(t.parent.is("element","tableCell")&&M0(t)){if(s.asWidget)return e.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const n=e.createContainerElement("p");return e.setCustomProperty("dataPipeline:transparentRendering",!0,n),n}}}}function M0(s){return 1==s.parent.childCount&&![...s.getAttributeKeys()].length}class WC extends Tt{refresh(){const t=this.editor.model;this.isEnabled=function(o,l){const d=o.getFirstPosition().parent;return l.checkChild(d===d.root?d:d.parent,"table")}(t.document.selection,t.schema)}execute(t={}){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),o=this.editor.config.get("table"),l=o.defaultHeadings.rows,d=o.defaultHeadings.columns;void 0===t.headingRows&&l&&(t.headingRows=l),void 0===t.headingColumns&&d&&(t.headingColumns=d),e.change(h=>{const m=n.createTable(h,t);e.insertObject(m,null,null,{findOptimalPosition:"auto"}),h.setSelection(h.createPositionAt(m.getNodeByPath([0,0,0]),0))})}}class P0 extends Tt{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),o="above"===this.order,l=n.getSelectionAffectedTableCells(e),d=n.getRowIndexes(l),h=o?d.first:d.last,m=l[0].findAncestor("table");n.insertRows(m,{at:o?h:h+1,copyStructureFromAbove:!o})}}class R0 extends Tt{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=this.editor.model.document.selection,e=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(t).length;this.isEnabled=e}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),o="left"===this.order,l=n.getSelectionAffectedTableCells(e),d=n.getColumnIndexes(l),h=o?d.first:d.last,m=l[0].findAncestor("table");n.insertColumns(m,{columns:1,at:o?h:h+1})}}class N0 extends Tt{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===t.length}execute(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?t.splitCellHorizontally(e,2):t.splitCellVertically(e,2)}}function L0(s,t,e){const{startRow:n,startColumn:o,endRow:l,endColumn:d}=t,h=e.createElement("table"),m=l-n+1;for(let b=0;b<m;b++)e.insertElement("tableRow",h,"end");const g=[...new Gt(s,{startRow:n,endRow:l,startColumn:o,endColumn:d,includeAllSlots:!0})];for(const{row:b,column:k,cell:v,isAnchor:w,cellAnchorRow:A,cellAnchorColumn:T}of g){const R=h.getChild(b-n);if(w){const N=e.cloneElement(v);e.append(N,R),j0(N,b,k,l,d,e)}else(A<n||T<o)&&ur(e,e.createPositionAt(R,"end"))}return function(b,k,v,w,A){const T=parseInt(k.getAttribute("headingRows")||0);T>0&&Ce("headingRows",T-v,b,A,0);const E=parseInt(k.getAttribute("headingColumns")||0);E>0&&Ce("headingColumns",E-w,b,A,0)}(h,s,n,o,e),h}function B0(s,t,e=0){const n=[],o=new Gt(s,{startRow:e,endRow:t-1});for(const l of o){const{row:d,cellHeight:h}=l;d<t&&t<=d+h-1&&n.push(l)}return n}function O0(s,t,e){const n=s.parent,o=n.parent,l=n.index,d=t-l,h={},m=parseInt(s.getAttribute("rowspan"))-d;m>1&&(h.rowspan=m);const g=parseInt(s.getAttribute("colspan")||1);g>1&&(h.colspan=g);const b=l+d,k=[...new Gt(o,{startRow:l,endRow:b,includeAllSlots:!0})];let v,w=null;for(const A of k){const{row:T,column:E,cell:R}=A;R===s&&void 0===v&&(v=E),void 0!==v&&v===E&&T===b&&(w=ur(e,A.getPositionBefore(),h))}return Ce("rowspan",d,s,e),w}function z0(s,t){const e=[],n=new Gt(s);for(const o of n){const{column:l,cellWidth:d}=o;l<t&&t<=l+d-1&&e.push(o)}return e}function F0(s,t,e,n){const o=e-t,l={},d=parseInt(s.getAttribute("colspan"))-o;d>1&&(l.colspan=d);const h=parseInt(s.getAttribute("rowspan")||1);h>1&&(l.rowspan=h);const m=ur(n,n.createPositionAfter(s),l);return Ce("colspan",o,s,n),m}function j0(s,t,e,n,o,l){const d=parseInt(s.getAttribute("colspan")||1),h=parseInt(s.getAttribute("rowspan")||1);e+d-1>o&&Ce("colspan",o-e+1,s,l,1),t+h-1>n&&Ce("rowspan",n-t+1,s,l,1)}function rw(s,t){const e=t.getColumns(s),n=new Array(e).fill(0);for(const{column:l}of new Gt(s))n[l]++;const o=n.reduce((l,d,h)=>d?l:[...l,h],[]);return o.length>0&&(t.removeColumns(s,{at:o[o.length-1]}),!0)}function aw(s,t){const e=[],n=t.getRows(s);for(let o=0;o<n;o++)s.getChild(o).isEmpty&&e.push(o);return e.length>0&&(t.removeRows(s,{at:e[e.length-1]}),!0)}function lw(s,t){rw(s,t)||aw(s,t)}function V0(s,t){const e=Array.from(new Gt(s,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));return e.every(({cellHeight:o})=>1===o)?t.lastRow:t.lastRow+(e[0].cellHeight-1)}function $0(s,t){const e=Array.from(new Gt(s,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));return e.every(({cellWidth:o})=>1===o)?t.lastColumn:t.lastColumn+(e[0].cellWidth-1)}class jp extends Tt{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=t.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(e.selection)[0],o=this.value,l=this.direction;t.change(d=>{const h="right"==l||"down"==l,m=h?n:o,g=h?o:n,b=g.parent;var T,E,R;E=m,R=d,U0(T=g)||(U0(E)&&R.remove(R.createRangeIn(E)),R.move(R.createRangeIn(T),R.createPositionAt(E,"end"))),R.remove(T);const k=this.isHorizontal?"colspan":"rowspan",v=parseInt(n.getAttribute(k)||1),w=parseInt(o.getAttribute(k)||1);d.setAttribute(k,v+w,m),d.setSelection(d.createRangeIn(m));const A=this.editor.plugins.get("TableUtils");lw(b.findAncestor("table"),A)})}_getMergeableCell(){const t=this.editor.model.document,e=this.editor.plugins.get("TableUtils"),n=e.getTableCellsContainingSelection(t.selection)[0];if(!n)return;const o=this.isHorizontal?function(h,m,g){const v="right"==m?h.nextSibling:h.previousSibling,w=(h.parent.parent.getAttribute("headingColumns")||0)>0;if(!v)return;const A="right"==m?h:v,T="right"==m?v:h,{column:E}=g.getCellLocation(A),{column:R}=g.getCellLocation(T),N=parseInt(A.getAttribute("colspan")||1),q=sw(g,A),et=sw(g,T);return w&&q!=et?void 0:E+N===R?v:void 0}(n,this.direction,e):function(h,m,g){const b=h.parent,k=b.parent,v=k.getChildIndex(b);if("down"==m&&v===g.getRows(k)-1||"up"==m&&0===v)return;const w=parseInt(h.getAttribute("rowspan")||1),A=k.getAttribute("headingRows")||0;if(A&&("down"==m&&v+w===A||"up"==m&&v===A))return;const R=parseInt(h.getAttribute("rowspan")||1),N="down"==m?v+R:v,q=[...new Gt(k,{endRow:N})],yt=q.find(Vt=>Vt.cell===h).column,Ot=q.find(({row:Vt,cellHeight:Le,column:Fe})=>Fe===yt&&("down"==m?Vt===N:N===Vt+Le));return Ot&&Ot.cell}(n,this.direction,e);if(!o)return;const l=this.isHorizontal?"rowspan":"colspan",d=parseInt(n.getAttribute(l)||1);return parseInt(o.getAttribute(l)||1)===d?o:void 0}}function U0(s){return 1==s.childCount&&s.getChild(0).is("element","paragraph")&&s.getChild(0).isEmpty}class KC extends Tt{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const o=n.findAncestor("table"),l=this.editor.plugins.get("TableUtils").getRows(o)-1,d=t.getRowIndexes(e);this.isEnabled=!(0===d.first&&d.last===l)}else this.isEnabled=!1}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),o=e.getRowIndexes(n),l=n[0],d=l.findAncestor("table"),h=e.getCellLocation(l).column;t.change(m=>{e.removeRows(d,{at:o.first,rows:o.last-o.first+1});const b=function(k,v,w,A){const T=k.getChild(Math.min(v,A-1));let E=T.getChild(0),R=0;for(const N of T.getChildren()){if(R>w)return E;E=N,R+=parseInt(N.getAttribute("colspan")||1)}return E}(d,o.first,h,e.getRows(d));m.setSelection(m.createPositionAt(b,0))})}}class XC extends Tt{refresh(){const t=this.editor.plugins.get("TableUtils"),e=t.getSelectionAffectedTableCells(this.editor.model.document.selection),n=e[0];if(n){const o=n.findAncestor("table"),l=t.getColumns(o),{first:d,last:h}=t.getColumnIndexes(e);this.isEnabled=h-d<l-1}else this.isEnabled=!1}execute(){const t=this.editor.plugins.get("TableUtils"),[e,n]=function(m,g){const b=g.getSelectionAffectedTableCells(m),k=b[0],v=b.pop(),w=[k,v];return k.isBefore(v)?w:w.reverse()}(this.editor.model.document.selection,t),o=e.parent.parent,l=[...new Gt(o)],d={first:l.find(m=>m.cell===e).column,last:l.find(m=>m.cell===n).column},h=(m=l,g=e,b=n,k=d,parseInt(b.getAttribute("colspan")||1)>1?b:g.previousSibling||b.nextSibling?b.nextSibling||g.previousSibling:k.first?m.reverse().find(({column:w})=>w<k.first).cell:m.reverse().find(({column:w})=>w>k.last).cell);var m,g,b,k;this.editor.model.change(m=>{const g=d.last-d.first+1;this.editor.plugins.get("TableUtils").removeColumns(o,{at:d.first,columns:g}),m.setSelection(m.createPositionAt(h,0))})}}class ty extends Tt{refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection),o=n.length>0;this.isEnabled=o,this.value=o&&n.every(l=>this._isInHeading(l,l.parent.parent))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,o=e.getSelectionAffectedTableCells(n.document.selection),l=o[0].findAncestor("table"),{first:d,last:h}=e.getRowIndexes(o),m=this.value?d:h+1,g=l.getAttribute("headingRows")||0;n.change(b=>{if(m){const k=B0(l,m,m>g?g:0);for(const{cell:v}of k)O0(v,m,b)}Ce("headingRows",m,l,b,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}class ey extends Tt{refresh(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),o=n.length>0;this.isEnabled=o,this.value=o&&n.every(l=>sw(e,l))}execute(t={}){if(t.forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),n=this.editor.model,o=e.getSelectionAffectedTableCells(n.document.selection),l=o[0].findAncestor("table"),{first:d,last:h}=e.getColumnIndexes(o),m=this.value?d:h+1;n.change(g=>{if(m){const b=z0(l,m);for(const{cell:k,column:v}of b)F0(k,v,m,g)}Ce("headingColumns",m,l,g,0)})}}class He extends W{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(t){const e=t.parent,n=e.parent,o=n.getChildIndex(e),l=new Gt(n,{row:o});for(const{cell:d,row:h,column:m}of l)if(d===t)return{row:h,column:m}}createTable(t,e){const n=t.createElement("table"),o=parseInt(e.rows)||2,l=parseInt(e.columns)||2;return cw(t,n,0,o,l),e.headingRows&&Ce("headingRows",Math.min(e.headingRows,o),n,t,0),e.headingColumns&&Ce("headingColumns",Math.min(e.headingColumns,l),n,t,0),n}insertRows(t,e={}){const n=this.editor.model,o=e.at||0,l=e.rows||1,d=void 0!==e.copyStructureFromAbove,h=e.copyStructureFromAbove?o-1:o,m=this.getRows(t),g=this.getColumns(t);if(o>m)throw new M("tableutils-insertrows-insert-out-of-range",this,{options:e});n.change(b=>{const k=t.getAttribute("headingRows")||0;if(k>o&&Ce("headingRows",k+l,t,b,0),!d&&(0===o||o===m))return void cw(b,t,o,l,g);const v=d?Math.max(o,h):o,w=new Gt(t,{endRow:v}),A=new Array(g).fill(1);for(const{row:T,column:E,cellHeight:R,cellWidth:N,cell:q}of w){const et=T+R-1,yt=T<=h&&h<=et;T<o&&o<=et?(b.setAttribute("rowspan",R+l,q),A[E]=-N):d&&yt&&(A[E]=N)}for(let T=0;T<l;T++){const E=b.createElement("tableRow");b.insert(E,t,o);for(let R=0;R<A.length;R++){const N=A[R],q=b.createPositionAt(E,"end");N>0&&ur(b,q,N>1?{colspan:N}:null),R+=Math.abs(N)-1}}})}insertColumns(t,e={}){const o=e.at||0,l=e.columns||1;this.editor.model.change(d=>{const h=t.getAttribute("headingColumns");o<h&&d.setAttribute("headingColumns",h+l,t);const m=this.getColumns(t);if(0===o||m===o){for(const b of t.getChildren())b.is("element","tableRow")&&Ha(l,d,d.createPositionAt(b,o?"end":0));return}const g=new Gt(t,{column:o,includeAllSlots:!0});for(const b of g){const{row:k,cell:v,cellAnchorColumn:w,cellAnchorRow:A,cellWidth:T,cellHeight:E}=b;if(w<o){d.setAttribute("colspan",T+l,v);const R=A+E-1;for(let N=k;N<=R;N++)g.skipRow(N)}else Ha(l,d,b.getPositionBefore())}})}removeRows(t,e){const n=this.editor.model,o=e.rows||1,l=this.getRows(t),d=e.at,h=d+o-1;if(h>l-1)throw new M("tableutils-removerows-row-index-out-of-range",this,{table:t,options:e});n.change(m=>{const{cellsToMove:g,cellsToTrim:b}=function(k,v,w){const A=new Map,T=[];for(const{row:E,column:R,cellHeight:N,cell:q}of new Gt(k,{endRow:w})){const et=E+N-1;if(E>=v&&E<=w&&et>w&&A.set(R,{cell:q,rowspan:N-(w-E+1)}),E<v&&et>=v){let yt;yt=et>=w?w-v+1:et-v+1,T.push({cell:q,rowspan:N-yt})}}return{cellsToMove:A,cellsToTrim:T}}(t,d,h);g.size&&function(k,v,w,A){const E=[...new Gt(k,{includeAllSlots:!0,row:v})],R=k.getChild(v);let N;for(const{column:q,cell:et,isAnchor:yt}of E)if(w.has(q)){const{cell:Ot,rowspan:Vt}=w.get(q),Le=N?A.createPositionAfter(N):A.createPositionAt(R,0);A.move(A.createRangeOn(Ot),Le),Ce("rowspan",Vt,Ot,A),N=Ot}else yt&&(N=et)}(t,h+1,g,m);for(let k=h;k>=d;k--)m.remove(t.getChild(k));for(const{rowspan:k,cell:v}of b)Ce("rowspan",k,v,m);(function(k,v,w,A){const T=k.getAttribute("headingRows")||0;v<T&&Ce("headingRows",w<T?T-(w-v+1):v,k,A,0)})(t,d,h,m),rw(t,this)||aw(t,this)})}removeColumns(t,e){const o=e.at,d=e.at+(e.columns||1)-1;this.editor.model.change(h=>{!function(m,g,b){const k=m.getAttribute("headingColumns")||0;if(k&&g.first<k){const v=Math.min(k-1,g.last)-g.first+1;b.setAttribute("headingColumns",k-v,m)}}(t,{first:o,last:d},h);for(let m=d;m>=o;m--)for(const{cell:g,column:b,cellWidth:k}of[...new Gt(t)])b<=m&&k>1&&b+k>m?Ce("colspan",k-1,g,h):b===m&&h.remove(g);aw(t,this)||rw(t,this)})}splitCellVertically(t,e=2){const n=this.editor.model,o=t.parent.parent,l=parseInt(t.getAttribute("rowspan")||1),d=parseInt(t.getAttribute("colspan")||1);n.change(h=>{if(d>1){const{newCellsSpan:m,updatedSpan:g}=Z0(d,e);Ce("colspan",g,t,h);const b={};m>1&&(b.colspan=m),l>1&&(b.rowspan=l),Ha(d>e?e-1:d-1,h,h.createPositionAfter(t),b)}if(d<e){const m=e-d,g=[...new Gt(o)],{column:b}=g.find(({cell:A})=>A===t),k=g.filter(({cell:A,cellWidth:T,column:E})=>A!==t&&E===b||E<b&&E+T>b);for(const{cell:A,cellWidth:T}of k)h.setAttribute("colspan",T+m,A);const v={};l>1&&(v.rowspan=l),Ha(m,h,h.createPositionAfter(t),v);const w=o.getAttribute("headingColumns")||0;w>b&&Ce("headingColumns",w+m,o,h)}})}splitCellHorizontally(t,e=2){const n=this.editor.model,o=t.parent,l=o.parent,d=l.getChildIndex(o),h=parseInt(t.getAttribute("rowspan")||1),m=parseInt(t.getAttribute("colspan")||1);n.change(g=>{if(h>1){const b=[...new Gt(l,{startRow:d,endRow:d+h-1,includeAllSlots:!0})],{newCellsSpan:k,updatedSpan:v}=Z0(h,e);Ce("rowspan",v,t,g);const{column:w}=b.find(({cell:T})=>T===t),A={};k>1&&(A.rowspan=k),m>1&&(A.colspan=m);for(const T of b){const{column:E,row:R}=T;R>=d+v&&E===w&&(R+d+v)%k==0&&Ha(1,g,T.getPositionBefore(),A)}}if(h<e){const b=e-h,k=[...new Gt(l,{startRow:0,endRow:d})];for(const{cell:A,cellHeight:T,row:E}of k)A!==t&&E+T>d&&g.setAttribute("rowspan",T+b,A);const v={};m>1&&(v.colspan=m),cw(g,l,d+1,b,1,v);const w=l.getAttribute("headingRows")||0;w>d&&Ce("headingRows",w+b,l,g)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((e,n)=>e+parseInt(n.getAttribute("colspan")||1),0)}getRows(t){return Array.from(t.getChildren()).reduce((e,n)=>n.is("element","tableRow")?e+1:e,0)}createTableWalker(t,e={}){return new Gt(t,e)}getSelectedTableCells(t){const e=[];for(const n of this.sortRanges(t.getRanges())){const o=n.getContainedElement();o&&o.is("element","tableCell")&&e.push(o)}return e}getTableCellsContainingSelection(t){const e=[];for(const n of t.getRanges()){const o=n.start.findAncestor("tableCell");o&&e.push(o)}return e}getSelectionAffectedTableCells(t){const e=this.getSelectedTableCells(t);return e.length?e:this.getTableCellsContainingSelection(t)}getRowIndexes(t){const e=t.map(n=>n.parent.index);return this._getFirstLastIndexesObject(e)}getColumnIndexes(t){const e=t[0].findAncestor("table"),n=[...new Gt(e)].filter(o=>t.includes(o.cell)).map(o=>o.column);return this._getFirstLastIndexesObject(n)}isSelectionRectangular(t){if(t.length<2||!this._areCellInTheSameTableSection(t))return!1;const e=new Set,n=new Set;let o=0;for(const d of t){const{row:h,column:m}=this.getCellLocation(d),g=parseInt(d.getAttribute("rowspan")||1),b=parseInt(d.getAttribute("colspan")||1);e.add(h),n.add(m),g>1&&e.add(h+g-1),b>1&&n.add(m+b-1),o+=g*b}return function(d,h){const m=Array.from(d.values()),g=Array.from(h.values());return(Math.max(...m)-Math.min(...m)+1)*(Math.max(...g)-Math.min(...g)+1)}(e,n)==o}sortRanges(t){return Array.from(t).sort(iy)}_getFirstLastIndexesObject(t){const e=t.sort((n,o)=>n-o);return{first:e[0],last:e[e.length-1]}}_areCellInTheSameTableSection(t){const e=t[0].findAncestor("table"),n=this.getRowIndexes(t),o=parseInt(e.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(n,o))return!1;const l=parseInt(e.getAttribute("headingColumns")||0),d=this.getColumnIndexes(t);return this._areIndexesInSameSection(d,l)}_areIndexesInSameSection({first:t,last:e},n){return t<n==e<n}}function cw(s,t,e,n,o,l={}){for(let d=0;d<n;d++){const h=s.createElement("tableRow");s.insert(h,t,e),Ha(o,s,s.createPositionAt(h,"end"),l)}}function Ha(s,t,e,n={}){for(let o=0;o<s;o++)ur(t,e,n)}function Z0(s,t){if(s<t)return{newCellsSpan:1,updatedSpan:1};const e=Math.floor(s/t);return{newCellsSpan:e,updatedSpan:s-e*t+e}}function iy(s,t){return s.start.isBefore(t.start)?-1:1}class ny extends Tt{refresh(){const t=this.editor.plugins.get(He),e=t.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=t.isSelectionRectangular(e,this.editor.plugins.get(He))}execute(){const t=this.editor.model,e=this.editor.plugins.get(He);t.change(n=>{const o=e.getSelectedTableCells(t.document.selection),l=o.shift(),{mergeWidth:d,mergeHeight:h}=function(m,g,b){let k=0,v=0;for(const R of g){const{row:N,column:q}=b.getCellLocation(R);k=q0(R,q,k,"colspan"),v=q0(R,N,v,"rowspan")}const{row:w,column:A}=b.getCellLocation(m);return{mergeWidth:k-A,mergeHeight:v-w}}(l,o,e);Ce("colspan",d,l,n),Ce("rowspan",h,l,n);for(const m of o)oy(m,l,n);lw(l.findAncestor("table"),e),n.setSelection(l,"in")})}}function oy(s,t,e){H0(s)||(H0(t)&&e.remove(e.createRangeIn(t)),e.move(e.createRangeIn(s),e.createPositionAt(t,"end"))),e.remove(s)}function H0(s){return 1==s.childCount&&s.getChild(0).is("element","paragraph")&&s.getChild(0).isEmpty}function q0(s,t,e,n){const o=parseInt(s.getAttribute(n)||1);return Math.max(e,t+o)}class sy extends Tt{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.model,e=this.editor.plugins.get("TableUtils"),n=e.getSelectionAffectedTableCells(t.document.selection),o=e.getRowIndexes(n),l=n[0].findAncestor("table"),d=[];for(let h=o.first;h<=o.last;h++)for(const m of l.getChild(h).getChildren())d.push(t.createRangeOn(m));t.change(h=>{h.setSelection(d)})}}class ry extends Tt{constructor(t){super(t),this.affectsData=!1}refresh(){const t=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=t.length>0}execute(){const t=this.editor.plugins.get("TableUtils"),e=this.editor.model,n=t.getSelectionAffectedTableCells(e.document.selection),o=n[0],l=n.pop(),d=o.findAncestor("table"),h=t.getCellLocation(o),m=t.getCellLocation(l),g=Math.min(h.column,m.column),b=Math.max(h.column,m.column),k=[];for(const v of new Gt(d,{startColumn:g,endColumn:b}))k.push(e.createRangeOn(v.cell));e.change(v=>{v.setSelection(k)})}}function ly(s,t){let e=!1;const n=function(o){const l=parseInt(o.getAttribute("headingRows")||0),d=Array.from(o.getChildren()).reduce((m,g)=>g.is("element","tableRow")?m+1:m,0),h=[];for(const{row:m,cell:g,cellHeight:b}of new Gt(o)){if(b<2)continue;const k=m<l?l:d;m+b>k&&h.push({cell:g,rowspan:k-m})}return h}(s);if(n.length){e=!0;for(const o of n)Ce("rowspan",o.rowspan,o.cell,t,1)}return e}function cy(s,t){let e=!1;const n=function(h){const m=new Array(h.childCount).fill(0);for(const{rowIndex:g}of new Gt(h,{includeAllSlots:!0}))m[g]++;return m}(s),o=[];for(const[h,m]of n.entries())!m&&s.getChild(h).is("element","tableRow")&&o.push(h);if(o.length){e=!0;for(const h of o.reverse())t.remove(s.getChild(h)),n.splice(h,1)}const l=n.filter((h,m)=>s.getChild(m).is("element","tableRow")),d=l[0];if(!l.every(h=>h===d)){const h=l.reduce((m,g)=>g>m?g:m,0);for(const[m,g]of l.entries()){const b=h-g;if(b){for(let k=0;k<b;k++)ur(t,t.createPositionAt(s.getChild(m),"end"));e=!0}}}return e}function dy(s){const e=s.attributeKey;return"attribute"===s.type&&("headingRows"===e||"colspan"===e||"rowspan"===e)}function hy(s,t){let e=!1;for(const n of s.getChildren())n.is("element","tableRow")&&(e=Q0(n,t)||e);return e}function Q0(s,t){let e=!1;for(const n of s.getChildren())e=dw(n,t)||e;return e}function dw(s,t){if(0==s.childCount)return t.insertElement("paragraph",s),!0;const e=Array.from(s.getChildren()).filter(n=>n.is("$text"));for(const n of e)t.wrap(t.createRangeOn(n),"paragraph");return!!e.length}function my(s){return!(!s.position||!s.position.parent.is("element","tableCell"))&&("insert"==s.type&&"$text"==s.name||"remove"==s.type)}function py(s,t){if(!s.is("element","paragraph"))return!1;const e=t.toViewElement(s);return!!e&&M0(s)!==e.is("element","span")}var Y0=Y(3881);mt()(Y0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class fy extends W{static get pluginName(){return"TableEditing"}static get requires(){return[He]}init(){const t=this.editor,e=t.model,n=e.schema,o=t.conversion,l=t.plugins.get(He);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),o.for("upcast").add(d=>{d.on("element:figure",(h,m,g)=>{if(!g.consumable.test(m.viewItem,{name:!0,classes:"table"}))return;const b=function(v){for(const w of v.getChildren())if(w.is("element","table"))return w}(m.viewItem);if(!b||!g.consumable.test(b,{name:!0}))return;g.consumable.consume(m.viewItem,{name:!0,classes:"table"});const k=fe(g.convertItem(b,m.modelCursor).modelRange.getItems());k?(g.convertChildren(m.viewItem,g.writer.createPositionAt(k,"end")),g.updateConversionResult(k,m)):g.consumable.revert(m.viewItem,{name:!0,classes:"table"})})}),o.for("upcast").add(function YC(){return s=>{s.on("element:table",(t,e,n)=>{const o=e.viewItem;if(!n.consumable.test(o,{name:!0}))return;const{rows:l,headingRows:d,headingColumns:h}=function(b){const k={headingRows:0,headingColumns:0},v=[],w=[];let A;for(const T of Array.from(b.getChildren()))if("tbody"===T.name||"thead"===T.name||"tfoot"===T.name){"thead"!==T.name||A||(A=T);const E=Array.from(T.getChildren()).filter(R=>R.is("element","tr"));for(const R of E)if("thead"===R.parent.name&&R.parent===A)k.headingRows++,v.push(R);else{w.push(R);const N=JC(R);N>k.headingColumns&&(k.headingColumns=N)}}return k.rows=[...v,...w],k}(o),m={};h&&(m.headingColumns=h),d&&(m.headingRows=d);const g=n.writer.createElement("table",m);if(n.safeInsert(g,e.modelCursor)){if(n.consumable.consume(o,{name:!0}),l.forEach(b=>n.convertItem(b,n.writer.createPositionAt(g,"end"))),n.convertChildren(o,n.writer.createPositionAt(g,"end")),g.isEmpty){const b=n.writer.createElement("tableRow");n.writer.insert(b,n.writer.createPositionAt(g,"end")),ur(n.writer,n.writer.createPositionAt(b,"end"))}n.updateConversionResult(g,e)}})}}()),o.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:S0(l,{asWidget:!0})}),o.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:S0(l)}),o.for("upcast").elementToElement({model:"tableRow",view:"tr"}),o.for("upcast").add(d=>{d.on("element:tr",(h,m)=>{m.viewItem.isEmpty&&0==m.modelCursor.index&&h.stop()},{priority:"high"})}),o.for("downcast").elementToElement({model:"tableRow",view:(d,{writer:h})=>d.isEmpty?h.createEmptyElement("tr"):h.createContainerElement("tr")}),o.for("upcast").elementToElement({model:"tableCell",view:"td"}),o.for("upcast").elementToElement({model:"tableCell",view:"th"}),o.for("upcast").add(D0("td")),o.for("upcast").add(D0("th")),o.for("editingDowncast").elementToElement({model:"tableCell",view:E0({asWidget:!0})}),o.for("dataDowncast").elementToElement({model:"tableCell",view:E0()}),o.for("editingDowncast").elementToElement({model:"paragraph",view:I0({asWidget:!0}),converterPriority:"high"}),o.for("dataDowncast").elementToElement({model:"paragraph",view:I0(),converterPriority:"high"}),o.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),o.for("upcast").attributeToAttribute({model:{key:"colspan",value:J0("colspan")},view:"colspan"}),o.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),o.for("upcast").attributeToAttribute({model:{key:"rowspan",value:J0("rowspan")},view:"rowspan"}),t.config.define("table.defaultHeadings.rows",0),t.config.define("table.defaultHeadings.columns",0),t.commands.add("insertTable",new WC(t)),t.commands.add("insertTableRowAbove",new P0(t,{order:"above"})),t.commands.add("insertTableRowBelow",new P0(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new R0(t,{order:"left"})),t.commands.add("insertTableColumnRight",new R0(t,{order:"right"})),t.commands.add("removeTableRow",new KC(t)),t.commands.add("removeTableColumn",new XC(t)),t.commands.add("splitTableCellVertically",new N0(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new N0(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new ny(t)),t.commands.add("mergeTableCellRight",new jp(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new jp(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new jp(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new jp(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new ey(t)),t.commands.add("setTableRowHeader",new ty(t)),t.commands.add("selectTableRow",new sy(t)),t.commands.add("selectTableColumn",new ry(t)),function ay(s){s.document.registerPostFixer(t=>function(e,n){const o=n.document.differ.getChanges();let l=!1;const d=new Set;for(const h of o){let m;"table"==h.name&&"insert"==h.type&&(m=h.position.nodeAfter),"tableRow"!=h.name&&"tableCell"!=h.name||(m=h.position.findAncestor("table")),dy(h)&&(m=h.range.start.findAncestor("table")),m&&!d.has(m)&&(l=ly(m,e)||l,l=cy(m,e)||l,d.add(m))}return l}(t,s))}(e),function uy(s){s.document.registerPostFixer(t=>function(e,n){const o=n.document.differ.getChanges();let l=!1;for(const d of o)"insert"==d.type&&"table"==d.name&&(l=hy(d.position.nodeAfter,e)||l),"insert"==d.type&&"tableRow"==d.name&&(l=Q0(d.position.nodeAfter,e)||l),"insert"==d.type&&"tableCell"==d.name&&(l=dw(d.position.nodeAfter,e)||l),my(d)&&(l=dw(d.position.parent,e)||l);return l}(t,s))}(e),this.listenTo(e.document,"change:data",()=>{(function(d,h){const m=d.document.differ;for(const g of m.getChanges()){let b,k=!1;if("attribute"==g.type){const T=g.range.start.nodeAfter;if(!T||!T.is("element","table")||"headingRows"!=g.attributeKey&&"headingColumns"!=g.attributeKey)continue;b=T,k="headingRows"==g.attributeKey}else"tableRow"!=g.name&&"tableCell"!=g.name||(b=g.position.findAncestor("table"),k="tableRow"==g.name);if(!b)continue;const v=b.getAttribute("headingRows")||0,w=b.getAttribute("headingColumns")||0,A=new Gt(b);for(const T of A){const E=T.row<v||T.column<w?"th":"td",R=h.mapper.toViewElement(T.cell);R&&R.is("element")&&R.name!=E&&h.reconvertItem(k?T.cell.parent:T.cell)}}})(e,t.editing),function(d,h){const m=d.document.differ,g=new Set;for(const b of m.getChanges()){const k="attribute"==b.type?b.range.start.parent:b.position.parent;k.is("element","tableCell")&&g.add(k)}for(const b of g.values()){const k=Array.from(b.getChildren()).filter(v=>py(v,h.mapper));for(const v of k)h.reconvertItem(v)}}(e,t.editing)})}}function J0(s){return t=>{const e=parseInt(t.getAttribute(s));return Number.isNaN(e)||e<=0?null:e}}var G0=Y(1613);mt()(G0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class ky extends It{constructor(t){super(t);const e=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new qi,this.focusTracker=new fi,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(n,o)=>`${o} \xd7 ${n}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":e.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:e.to("label")}]}],on:{mousedown:e.to(n=>{n.preventDefault()}),click:e.to(()=>{this.fire("execute")})}}),this.on("boxover",(n,o)=>{const{row:l,column:d}=o.target.dataset;this.items.get(10*(parseInt(l,10)-1)+(parseInt(d,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(n,o,l)=>{if(!l)return;const{row:d,column:h}=l.dataset;this.set({rows:parseInt(d),columns:parseInt(h)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:t,focusTracker:e,gridItems:n,numberOfColumns:o,uiLanguageDirection:l}){const d="number"==typeof o?()=>o:o;function h(b){return k=>{const v=n.find(T=>T.element===e.focusedElement),w=n.getIndex(v),A=b(w,n);n.get(A).focus(),k.stopPropagation(),k.preventDefault()}}function m(b,k){return b===k-1?0:b+1}function g(b,k){return 0===b?k-1:b-1}t.set("arrowright",h((b,k)=>"rtl"===l?g(b,k.length):m(b,k.length))),t.set("arrowleft",h((b,k)=>"rtl"===l?m(b,k.length):g(b,k.length))),t.set("arrowup",h((b,k)=>{let v=b-d();return v<0&&(v=b+d()*Math.floor(k.length/d()),v>k.length-1&&(v-=d())),v})),t.set("arrowdown",h((b,k)=>{let v=b+d();return v>k.length-1&&(v=b%d()),v}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const t of this.items)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map((n,o)=>{const l=Math.floor(o/10)<t&&o%10<e;n.set("isOn",l)})}_createGridButton(t,e,n,o){const l=new qt(t);return l.set({label:o,class:"ck-insert-table-dropdown-grid-box"}),l.extendTemplate({attributes:{"data-row":e,"data-column":n}}),l}_createGridCollection(){const t=[];for(let e=0;e<100;e++){const n=Math.floor(e/10),o=e%10;t.push(this._createGridButton(this.locale,n+1,o+1,`${n+1} \xd7 ${o+1}`))}return this.createCollection(t)}}class _y extends W{static get pluginName(){return"TableUI"}init(){const t=this.editor,e=this.editor.t,n="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",o=>{const l=t.commands.get("insertTable"),d=In(o);let h;return d.bind("isEnabled").to(l),d.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:e("Insert table"),tooltip:!0}),d.on("change:isOpen",()=>{h||(h=new ky(o),d.panelView.children.add(h),h.delegate("execute").to(d),d.on("execute",()=>{t.execute("insertTable",{rows:h.rows,columns:h.columns}),t.editing.view.focus()}))}),d}),t.ui.componentFactory.add("tableColumn",o=>{const l=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:e("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:e("Select column")}}];return this._prepareDropdown(e("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',l,o)}),t.ui.componentFactory.add("tableRow",o=>{const l=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:e("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:e("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:e("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:e("Select row")}}];return this._prepareDropdown(e("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',l,o)}),t.ui.componentFactory.add("mergeTableCells",o=>{const l=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(e("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',l,o)})}_prepareDropdown(t,e,n,o){const l=this.editor,d=In(o),h=this._fillDropdownWithListOptions(d,n);return d.buttonView.set({label:t,icon:e,tooltip:!0}),d.bind("isEnabled").toMany(h,"isEnabled",(...m)=>m.some(g=>g)),this.listenTo(d,"execute",m=>{l.execute(m.source.commandName),m.source instanceof un||l.editing.view.focus()}),d}_prepareMergeSplitButtonDropdown(t,e,n,o){const l=this.editor,d=In(o,Yt),h="mergeTableCells",m=l.commands.get(h),g=this._fillDropdownWithListOptions(d,n);return d.buttonView.set({label:t,icon:e,tooltip:!0,isEnabled:!0}),d.bind("isEnabled").toMany([m,...g],"isEnabled",(...b)=>b.some(k=>k)),this.listenTo(d.buttonView,"execute",()=>{l.execute(h),l.editing.view.focus()}),this.listenTo(d,"execute",b=>{l.execute(b.source.commandName),l.editing.view.focus()}),d}_fillDropdownWithListOptions(t,e){const n=this.editor,o=[],l=new Di;for(const d of e)vy(d,n,o,l);return cm(t,l),o}}function vy(s,t,e,n){const o=s.model=new Aa(s.model),{commandName:l,bindIsOn:d}=s.model;if("button"===s.type||"switchbutton"===s.type){const h=t.commands.get(l);e.push(h),o.set({commandName:l}),o.bind("isEnabled").to(h),d&&o.bind("isOn").to(h,"value")}o.set({withText:!0}),n.add(s)}var W0=Y(6945);mt()(W0.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});class hr extends W{static get pluginName(){return"TableSelection"}static get requires(){return[He,He]}init(){const t=this.editor,n=t.editing.view;this.listenTo(t.model,"deleteContent",(o,l)=>this._handleDeleteContent(o,l),{priority:"high"}),this.listenTo(n.document,"insertText",(o,l)=>this._handleInsertTextEvent(o,l),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const n=this.editor.plugins.get(He).getSelectedTableCells(this.editor.model.document.selection);return 0==n.length?null:n}getSelectionAsFragment(){const t=this.editor.plugins.get(He),e=this.getSelectedTableCells();return e?this.editor.model.change(n=>{const o=n.createDocumentFragment(),{first:l,last:d}=t.getColumnIndexes(e),{first:h,last:m}=t.getRowIndexes(e),g=e[0].findAncestor("table");let b=m,k=d;if(t.isSelectionRectangular(e)){const w={firstColumn:l,lastColumn:d,firstRow:h,lastRow:m};b=V0(g,w),k=$0(g,w)}const v=L0(g,{startRow:h,startColumn:l,endRow:b,endColumn:k},n);return n.insert(v,o,0),o}):null}setCellSelection(t,e){const n=this._getCellsToSelect(t,e);this.editor.model.change(o=>{o.setSelection(n.cells.map(l=>o.createRangeOn(l)),{backward:n.backward})})}getFocusCell(){const t=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return t&&t.is("element","tableCell")?t:null}getAnchorCell(){const t=fe(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("element","tableCell")?t:null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add(n=>n.on("selection",(o,l,d)=>{const h=d.writer;!function(b){for(const k of e)b.removeClass("ck-editor__editable_selected",k);e.clear()}(h);const m=this.getSelectedTableCells();if(!m)return;for(const b of m){const k=d.mapper.toViewElement(b);h.addClass("ck-editor__editable_selected",k),e.add(k)}const g=d.mapper.toViewElement(m[m.length-1]);h.setSelection(g,0)},{priority:"lowest"}))}_enablePluginDisabling(){const t=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const e=this.getSelectedTableCells();if(!e)return;t.model.change(n=>{const o=n.createPositionAt(e[0],0),l=t.model.schema.getNearestSelectionRange(o);n.setSelection(l)})}})}_handleDeleteContent(t,e){const n=this.editor.plugins.get(He),[o,l]=e,d=this.editor.model,h=!l||"backward"==l.direction,m=n.getSelectedTableCells(o);m.length&&(t.stop(),d.change(g=>{const b=m[h?m.length-1:0];d.change(v=>{for(const w of m)d.deleteContent(v.createSelection(w,"in"))});const k=d.schema.getNearestSelectionRange(g.createPositionAt(b,0));o.is("documentSelection")?g.setSelection(k):o.setTo(k)}))}_handleInsertTextEvent(t,e){const n=this.editor,l=this.getSelectedTableCells(n.model.document.selection);if(!l)return;const d=n.editing.view,h=n.editing.mapper,m=l.map(g=>d.createRangeOn(h.toViewElement(g)));e.selection=d.createSelection(m)}_getCellsToSelect(t,e){const n=this.editor.plugins.get("TableUtils"),o=n.getCellLocation(t),l=n.getCellLocation(e),d=Math.min(o.row,l.row),h=Math.max(o.row,l.row),m=Math.min(o.column,l.column),g=Math.max(o.column,l.column),b=new Array(h-d+1).fill(null).map(()=>[]),k={startRow:d,endRow:h,startColumn:m,endColumn:g};for(const{row:A,cell:T}of new Gt(t.findAncestor("table"),k))b[A-d].push(T);const v=l.row<o.row,w=l.column<o.column;return v&&b.reverse(),w&&b.forEach(A=>A.reverse()),{cells:b.flat(),backward:v||w}}}class Cy extends W{static get pluginName(){return"TableClipboard"}static get requires(){return[hr,He]}init(){const t=this.editor,e=t.editing.view.document;this.listenTo(e,"copy",(n,o)=>this._onCopyCut(n,o)),this.listenTo(e,"cut",(n,o)=>this._onCopyCut(n,o)),this.listenTo(t.model,"insertContent",(n,o)=>this._onInsertContent(n,...o),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(t,e){const n=this.editor.plugins.get(hr);if(!n.getSelectedTableCells()||"cut"==t.name&&this.editor.isReadOnly)return;e.preventDefault(),t.stop();const l=this.editor.editing.view.document,d=this.editor.data.toView(n.getSelectionAsFragment());l.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:d,method:t.name})}_onInsertContent(t,e,n){if(n&&!n.is("documentSelection"))return;const o=this.editor.model,l=this.editor.plugins.get(He);let d=K0(e,o);if(!d)return;const h=l.getSelectionAffectedTableCells(o.document.selection);h.length?(t.stop(),o.change(m=>{const g={width:l.getColumns(d),height:l.getRows(d)},b=function(E,R,N,q){const et=E[0].findAncestor("table"),yt=q.getColumnIndexes(E),Ot=q.getRowIndexes(E),Vt={firstColumn:yt.first,lastColumn:yt.last,firstRow:Ot.first,lastRow:Ot.last},Le=1===E.length;return Le&&(Vt.lastRow+=R.height-1,Vt.lastColumn+=R.width-1,function(Fe,qa,Fn,rn){const po=rn.getColumns(Fe),go=rn.getRows(Fe);Fn>po&&rn.insertColumns(Fe,{at:po,columns:Fn-po}),qa>go&&rn.insertRows(Fe,{at:go,rows:qa-go})}(et,Vt.lastRow+1,Vt.lastColumn+1,q)),Le||!q.isSelectionRectangular(E)?function(Fe,qa,Fn){const{firstRow:rn,lastRow:po,firstColumn:go,lastColumn:Qa}=qa,sC={first:rn,last:po},rC={first:go,last:Qa};hw(Fe,go,sC,Fn),hw(Fe,Qa+1,sC,Fn),uw(Fe,rn,rC,Fn),uw(Fe,po+1,rC,Fn,rn)}(et,Vt,N):(Vt.lastRow=V0(et,Vt),Vt.lastColumn=$0(et,Vt)),Vt}(h,g,m,l),v=b.lastColumn-b.firstColumn+1,w={startRow:0,startColumn:0,endRow:Math.min(b.lastRow-b.firstRow+1,g.height)-1,endColumn:Math.min(v,g.width)-1};d=L0(d,w,m);const A=h[0].findAncestor("table"),T=this._replaceSelectedCellsWithPasted(d,g,A,b,m);if(this.editor.plugins.get("TableSelection").isEnabled){const E=l.sortRanges(T.map(R=>m.createRangeOn(R)));m.setSelection(E)}else m.setSelection(T[0],0)})):lw(d,l)}_replaceSelectedCellsWithPasted(t,e,n,o,l){const{width:d,height:h}=e,m=function(E,R,N){const q=new Array(N).fill(null).map(()=>new Array(R).fill(null));for(const{column:et,row:yt,cell:Ot}of new Gt(E))q[yt][et]=Ot;return q}(t,d,h),g=[...new Gt(n,{startRow:o.firstRow,endRow:o.lastRow,startColumn:o.firstColumn,endColumn:o.lastColumn,includeAllSlots:!0})],b=[];let k;for(const E of g){const{row:R,column:N}=E;N===o.firstColumn&&(k=E.getPositionBefore());const yt=m[(R-o.firstRow)%h][(N-o.firstColumn)%d],Ot=yt?l.cloneElement(yt):null,Vt=this._replaceTableSlotCell(E,Ot,k,l);Vt&&(j0(Vt,R,N,o.lastRow,o.lastColumn,l),b.push(Vt),k=l.createPositionAfter(Vt))}const v=parseInt(n.getAttribute("headingRows")||0),w=parseInt(n.getAttribute("headingColumns")||0),T=o.firstColumn<w&&w<=o.lastColumn;if(o.firstRow<v&&v<=o.lastRow){const E=uw(n,v,{first:o.firstColumn,last:o.lastColumn},l,o.firstRow);b.push(...E)}if(T){const E=hw(n,w,{first:o.firstRow,last:o.lastRow},l);b.push(...E)}return b}_replaceTableSlotCell(t,e,n,o){const{cell:l,isAnchor:d}=t;return d&&o.remove(l),e?(o.insert(e,n),e):null}getTableIfOnlyTableInContent(t,e){return K0(t,e)}}function K0(s,t){if(!s.is("documentFragment")&&!s.is("element"))return null;if(s.is("element","table"))return s;if(1==s.childCount&&s.getChild(0).is("element","table"))return s.getChild(0);const e=t.createRangeIn(s);for(const n of e.getItems())if(n.is("element","table")){const o=t.createRange(e.start,t.createPositionBefore(n));if(t.hasContent(o,{ignoreWhitespaces:!0}))return null;const l=t.createRange(t.createPositionAfter(n),e.end);return t.hasContent(l,{ignoreWhitespaces:!0})?null:n}return null}function uw(s,t,e,n,o=0){if(!(t<1))return B0(s,t,o).filter(({column:l,cellWidth:d})=>X0(l,d,e)).map(({cell:l})=>O0(l,t,n))}function hw(s,t,e,n){if(!(t<1))return z0(s,t).filter(({row:o,cellHeight:l})=>X0(o,l,e)).map(({cell:o,column:l})=>F0(o,l,t,n))}function X0(s,t,e){const n=s+t-1,{first:o,last:l}=e;return s>=o&&s<=l||s<o&&n>=o}class yy extends W{static get pluginName(){return"TableKeyboard"}static get requires(){return[hr,He]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"arrowKey",(...e)=>this._onArrowKey(...e),{context:"table"}),this.listenTo(t,"tab",(...e)=>this._handleTabOnSelectedTable(...e),{context:"figure"}),this.listenTo(t,"tab",(...e)=>this._handleTab(...e),{context:["th","td"]})}_handleTabOnSelectedTable(t,e){const n=this.editor,o=n.model.document.selection.getSelectedElement();o&&o.is("element","table")&&(e.preventDefault(),e.stopPropagation(),t.stop(),n.model.change(l=>{l.setSelection(l.createRangeIn(o.getChild(0).getChild(0)))}))}_handleTab(t,e){const n=this.editor,o=this.editor.plugins.get(He),d=!e.shiftKey;let h=o.getTableCellsContainingSelection(n.model.document.selection)[0];if(h||(h=this.editor.plugins.get("TableSelection").getFocusCell()),!h)return;e.preventDefault(),e.stopPropagation(),t.stop();const m=h.parent,g=m.parent,b=g.getChildIndex(m),k=m.getChildIndex(h),v=0===k;if(!d&&v&&0===b)return void n.model.change(E=>{E.setSelection(E.createRangeOn(g))});const w=k===m.childCount-1,A=b===o.getRows(g)-1;if(d&&A&&w&&(n.execute("insertTableRowBelow"),b===o.getRows(g)-1))return void n.model.change(E=>{E.setSelection(E.createRangeOn(g))});let T;if(d&&w)T=g.getChild(b+1).getChild(0);else if(!d&&v){const E=g.getChild(b-1);T=E.getChild(E.childCount-1)}else T=m.getChild(k+(d?1:-1));n.model.change(E=>{E.setSelection(E.createRangeIn(T))})}_onArrowKey(t,e){const o=xl(e.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(o,e.shiftKey)&&(e.preventDefault(),e.stopPropagation(),t.stop())}_handleArrowKeys(t,e){const n=this.editor.plugins.get(He),o=this.editor.model,l=o.document.selection,d=["right","down"].includes(t),h=n.getSelectedTableCells(l);if(h.length){let g;return g=e?this.editor.plugins.get("TableSelection").getFocusCell():d?h[h.length-1]:h[0],this._navigateFromCellInDirection(g,t,e),!0}const m=l.focus.findAncestor("tableCell");if(!m)return!1;if(!l.isCollapsed)if(e){if(l.isBackward==d&&!l.containsEntireContent(m))return!1}else{const g=l.getSelectedElement();if(!g||!o.schema.isObject(g))return!1}return!!this._isSelectionAtCellEdge(l,m,d)&&(this._navigateFromCellInDirection(m,t,e),!0)}_isSelectionAtCellEdge(t,e,n){const o=this.editor.model,l=this.editor.model.schema,d=n?t.getLastPosition():t.getFirstPosition();if(!l.getLimitElement(d).is("element","tableCell"))return o.createPositionAt(e,n?"end":0).isTouching(d);const h=o.createSelection(d);return o.modifySelection(h,{direction:n?"forward":"backward"}),d.isEqual(h.focus)}_navigateFromCellInDirection(t,e,n=!1){const o=this.editor.model,l=t.findAncestor("table"),d=[...new Gt(l,{includeAllSlots:!0})],{row:h,column:m}=d[d.length-1],g=d.find(({cell:T})=>T==t);let{row:b,column:k}=g;switch(e){case"left":k--;break;case"up":b--;break;case"right":k+=g.cellWidth;break;case"down":b+=g.cellHeight}if(b<0||b>h||k<0&&b<=0||k>m&&b>=h)return void o.change(T=>{T.setSelection(T.createRangeOn(l))});k<0?(k=n?0:m,b--):k>m&&(k=n?m:0,b++);const v=d.find(T=>T.row==b&&T.column==k).cell,w=["right","down"].includes(e),A=this.editor.plugins.get("TableSelection");if(n&&A.isEnabled){const T=A.getAnchorCell()||t;A.setCellSelection(T,v)}else{const T=o.createPositionAt(v,w?0:"end");o.change(E=>{E.setSelection(T)})}}}class Ay extends ri{constructor(t){super(t),this.domEventType=["mousemove","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}class xy extends W{static get pluginName(){return"TableMouse"}static get requires(){return[hr,He]}init(){this.editor.editing.view.addObserver(Ay),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const t=this.editor,e=t.plugins.get(He);let n=!1;const o=t.plugins.get(hr);this.listenTo(t.editing.view.document,"mousedown",(l,d)=>{const h=t.model.document.selection;if(!this.isEnabled||!o.isEnabled||!d.domEvent.shiftKey)return;const m=o.getAnchorCell()||e.getTableCellsContainingSelection(h)[0];if(!m)return;const g=this._getModelTableCellFromDomEvent(d);g&&tC(m,g)&&(n=!0,o.setCellSelection(m,g),d.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{n=!1}),this.listenTo(t.editing.view.document,"selectionChange",l=>{n&&l.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,n,o=!1,l=!1;const d=t.plugins.get(hr);this.listenTo(t.editing.view.document,"mousedown",(h,m)=>{this.isEnabled&&d.isEnabled&&(m.domEvent.shiftKey||m.domEvent.ctrlKey||m.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(m)))}),this.listenTo(t.editing.view.document,"mousemove",(h,m)=>{if(!m.domEvent.buttons||!e)return;const g=this._getModelTableCellFromDomEvent(m);g&&tC(e,g)&&(n=g,o||n==e||(o=!0)),o&&(l=!0,d.setCellSelection(e,n),m.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{o=!1,l=!1,e=null,n=null}),this.listenTo(t.editing.view.document,"selectionChange",h=>{l&&h.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(t){const n=this.editor.editing.view.createPositionAt(t.target,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function tC(s,t){return s.parent.parent==t.parent.parent}var eC=Y(6306);function Dy(s){const t=s.getSelectedElement();return t&&iC(t)?t:null}function Sy(s){const t=s.getFirstPosition();if(!t)return null;let e=t.parent;for(;e;){if(e.is("element")&&iC(e))return e;e=e.parent}return null}function iC(s){return!!s.getCustomProperty("table")&&le(s)}mt()(eC.Z,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0});const mw={autoRefresh:!0};class Vp{constructor(t,e=mw){if(!t)throw new M("token-missing-token-url",this);e.initValue&&this._validateTokenValue(e.initValue),this.set("value",e.initValue),this._refresh="function"==typeof t?t:()=>{return n=t,new Promise((o,l)=>{const d=new XMLHttpRequest;d.open("GET",n),d.addEventListener("load",()=>{const h=d.status,m=d.response;return h<200||h>299?l(new M("token-cannot-download-new-token",null)):o(m)}),d.addEventListener("error",()=>l(new Error("Network Error"))),d.addEventListener("abort",()=>l(new Error("Abort"))),d.send()});var n},this._options=Object.assign({},mw,e)}init(){return new Promise((t,e)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),t(this)):this.refreshToken().then(t).catch(e)})}refreshToken(){return this._refresh().then(t=>{this._validateTokenValue(t),this.set("value",t),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(t){const e="string"==typeof t,n=!/^".*"$/.test(t),o=e&&3===t.split(".").length;if(!n||!o)throw new M("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const t=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},t)}_getTokenRefreshTimeoutTime(){try{const[,t]=this.value.split("."),{exp:e}=JSON.parse(atob(t));return e?Math.floor((1e3*e-Date.now())/2):36e5}catch{return 36e5}}static create(t,e=mw){return new Vp(t,e).init()}}qe(Vp,zt);const Ey=Vp,pw=/^data:(\S*?);base64,/;class oC{constructor(t,e,n){if(!t)throw new M("fileuploader-missing-file",null);if(!e)throw new M("fileuploader-missing-token",null);if(!n)throw new M("fileuploader-missing-api-address",null);this.file=function(o){if("string"!=typeof o)return!1;const l=o.match(pw);return!(!l||!l.length)}(t)?function(o,l=512){try{const d=o.match(pw)[1],h=atob(o.replace(pw,"")),m=[];for(let g=0;g<h.length;g+=l){const b=h.slice(g,g+l),k=new Array(b.length);for(let v=0;v<b.length;v++)k[v]=b.charCodeAt(v);m.push(new Uint8Array(k))}return new Blob(m,{type:d})}catch{throw new M("fileuploader-decoding-image-data-error",null)}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",(e,n)=>t(n)),this}onError(t){return this.once("error",(e,n)=>t(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this,e=this.xhr;function n(o){return()=>t.fire("error",o)}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",o=>{o.lengthComputable&&this.fire("progress",{total:o.total,uploaded:o.loaded})}),e.addEventListener("load",()=>{const o=e.status,l=e.response;if(o<200||o>299)return this.fire("error",l.message||l.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((n,o)=>{e.addEventListener("load",()=>{const l=e.status,d=e.response;return l<200||l>299?o(d.message?new M("fileuploader-uploading-data-failed",this,{message:d.message}):d.error):n(d)}),e.addEventListener("error",()=>o(new Error("Network Error"))),e.addEventListener("abort",()=>o(new Error("Abort"))),e.send(t)})}}qe(oC,ot);class Iy{constructor(t,e){if(!t)throw new M("uploadgateway-missing-token",null);if(!e)throw new M("uploadgateway-missing-api-address",null);this._token=t,this._apiAddress=e}upload(t){return new oC(t,this._token,this._apiAddress)}}class My extends ks{static get pluginName(){return"CloudServicesCore"}createToken(t,e){return new Ey(t,e)}createUploadGateway(t,e){return new Iy(t,e)}}class gw extends Ai{}gw.builtinPlugins=[class extends W{static get requires(){return[Zm,Na,Pw,u_,yw,Qm]}static get pluginName(){return"Essentials"}},class extends W{static get requires(){return[on]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const s=this.editor.config.get("ckfinder.uploadUrl");s&&(this.editor.plugins.get(on).createUploadAdapter=t=>new Nw(t,s,this.editor.t))}},class extends W{static get requires(){return[Nn]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const s=this.editor.commands;s.get("bulletedList")&&Bn(this.editor,this,/^[*-]\s$/,"bulletedList"),s.get("numberedList")&&Bn(this.editor,this,/^1[.|)]\s$/,"numberedList"),s.get("todoList")&&Bn(this.editor,this,/^\[\s?\]\s$/,"todoList"),s.get("checkTodoList")&&Bn(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const s=this.editor.commands;if(s.get("bold")){const t=Fc(this.editor,"bold");ts(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t),ts(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t)}if(s.get("italic")){const t=Fc(this.editor,"italic");ts(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t),ts(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t)}if(s.get("code")){const t=Fc(this.editor,"code");ts(this.editor,this,/(`)([^`]+)(`)$/g,t)}if(s.get("strikethrough")){const t=Fc(this.editor,"strikethrough");ts(this.editor,this,/(~~)([^~]+)(~~)$/g,t)}}_addHeadingAutoformats(){const s=this.editor.commands.get("heading");s&&s.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const n=new RegExp(`^(#{${t[7]}})\\s$`);Bn(this.editor,this,n,()=>{if(!s.isEnabled||s.value===t)return!1;this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Bn(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const s=this.editor,t=s.model.document.selection;s.commands.get("codeBlock")&&Bn(s,this,/^```$/,()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Bn(this.editor,this,/^---$/,"horizontalLine")}},class extends W{static get requires(){return[q_,Q_]}static get pluginName(){return"Bold"}},class extends W{static get requires(){return[Y_,J_]}static get pluginName(){return"Italic"}},class extends W{static get requires(){return[K_,X_]}static get pluginName(){return"BlockQuote"}},class extends W{static get pluginName(){return"CKBox"}static get requires(){return[ap,tv]}},class extends W{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",uv,zw]}},class extends ks{static get pluginName(){return"CloudServices"}static get requires(){return[My]}init(){const s=this.context.config.get("cloudServices")||{};for(const t in s)this[t]=s[t];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(s){if(this._tokens.has(s))return Promise.resolve(this.getTokenFor(s));const t=this.context.plugins.get("CloudServicesCore").createToken(s);return this._tokens.set(s,t),t.init()}getTokenFor(s){const t=this._tokens.get(s);if(!t)throw new M("cloudservices-token-not-registered",this);return t}destroy(){super.destroy();for(const s of this._tokens.values())s.destroy()}},class extends W{static get requires(){return[Fw,"ImageUpload"]}init(){const s=this.editor;s.plugins.has("ImageBlockEditing")||s.plugins.has("ImageInlineEditing")||bt("easy-image-image-feature-missing",s)}static get pluginName(){return"EasyImage"}},class extends W{static get requires(){return[fv,Vw]}static get pluginName(){return"Heading"}},class extends W{static get requires(){return[Ev,Zw]}static get pluginName(){return"Image"}},class extends W{static get requires(){return[Hw,Rv]}static get pluginName(){return"ImageCaption"}},class extends W{static get requires(){return[$c,Dp]}static get pluginName(){return"ImageStyle"}},class extends W{static get requires(){return[Ba,Fi]}static get pluginName(){return"ImageToolbar"}afterInit(){const s=this.editor,t=s.t,e=s.plugins.get(Ba),n=s.plugins.get("ImageUtils");var o;e.register("image",{ariaLabel:t("Image toolbar"),items:(o=s.config.get("image.toolbar")||[],o.map(l=>oe(l)?l.name:l)),getRelatedElement:l=>n.getClosestSelectedImageWidget(l)})}},class extends W{static get pluginName(){return"ImageUpload"}static get requires(){return[jv,Qc,Ov]}},class extends W{static get pluginName(){return"Indent"}static get requires(){return[Lp,Vv]}},class extends W{static get requires(){return[ie,lC,hC]}static get pluginName(){return"Link"}},class extends W{static get requires(){return[TC,DC]}static get pluginName(){return"List"}},class extends W{static get requires(){return[Fp,LC,PC,ir]}static get pluginName(){return"MediaEmbed"}},nr,class extends W{static get pluginName(){return"PasteFromOffice"}static get requires(){return[zi]}init(){const s=this.editor,t=s.editing.view.document,e=[];e.push(new qC(t)),e.push(new VC(t)),s.plugins.get("ClipboardPipeline").on("inputTransformation",(n,o)=>{if(o._isTransformedWithPasteFromOffice||s.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const l=o.dataTransfer.getData("text/html"),d=e.find(h=>h.isActive(l));d&&(o._parsedData=function QC(s,t){const e=new DOMParser,n=T0(T0(function(m){const g="</body>",k=m.indexOf(g);if(k<0)return m;const v=m.indexOf("</html>",k+g.length);return m.substring(0,k+g.length)+(v>=0?m.substring(v):"")}(s=s.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),o=e.parseFromString(n,"text/html");o.querySelectorAll("span[style*=spacerun]").forEach(g=>{const k=g.innerText.length||0;g.innerText=Array(k+1).join("\xa0 ").substr(0,k)});const l=o.body.innerHTML,d=function(m,g){const b=new qr(g),k=new vi(b,{renderingMode:"data"}),v=m.createDocumentFragment(),w=m.body.childNodes;for(;w.length>0;)v.appendChild(w[0]);return k.domToView(v,{skipComments:!0})}(o,t),h=function(m){const g=[],b=[],k=Array.from(m.getElementsByTagName("style"));for(const v of k)v.sheet&&v.sheet.cssRules&&v.sheet.cssRules.length&&(g.push(v.sheet),b.push(v.innerHTML));return{styles:g,stylesString:b.join(" ")}}(o);return{body:d,bodyString:l,styles:h.styles,stylesString:h.stylesString}}(l,t.stylesProcessor),d.execute(o),o._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends W{static get requires(){return[jc,Fi]}static get pluginName(){return"PictureEditing"}afterInit(){const s=this.editor;s.plugins.has("ImageBlockEditing")&&s.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),s.plugins.has("ImageInlineEditing")&&s.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const s=this.editor,t=s.conversion,e=s.plugins.get("ImageUtils");t.for("upcast").add(function(n){const o=["srcset","media","type","sizes"];return d=>{d.on("element:picture",l)};function l(d,h,m){const g=h.viewItem;if(!m.consumable.test(g,{name:!0}))return;const b=new Map;for(const w of g.getChildren())if(w.is("element","source")){const A={};for(const T of o)w.hasAttribute(T)&&m.consumable.test(w,{attributes:T})&&(A[T]=w.getAttribute(T));Object.keys(A).length&&b.set(w,A)}const k=n.findViewImgElement(g);if(!k)return;let v=h.modelCursor.parent;if(!v.is("element","imageBlock")){const w=m.convertItem(k,h.modelCursor);h.modelRange=w.modelRange,h.modelCursor=w.modelCursor,v=fe(w.modelRange.getItems())}m.consumable.consume(g,{name:!0});for(const[w,A]of b)m.consumable.consume(w,{attributes:Object.keys(A)});b.size&&m.writer.setAttribute("sources",Array.from(b.values()),v),m.convertChildren(g,v)}}(e)),t.for("downcast").add(function(n){return l=>{l.on("attribute:sources:imageBlock",o),l.on("attribute:sources:imageInline",o)};function o(l,d,h){if(!h.consumable.consume(d.item,l.name))return;const m=h.writer,g=h.mapper.toViewElement(d.item),b=n.findViewImgElement(g);if(d.attributeNewValue&&d.attributeNewValue.length){const k=m.createContainerElement("picture",null,d.attributeNewValue.map(A=>m.createEmptyElement("source",A))),v=[];let w=b.parent;for(;w&&w.is("attributeElement");){const A=w.parent;m.unwrap(m.createRangeOn(b),w),v.unshift(w),w=A}m.insert(m.createPositionBefore(b),k),m.move(m.createRangeOn(b),m.createPositionAt(k,"end"));for(const A of v)m.wrap(m.createRangeOn(k),A)}else if(b.parent.is("element","picture")){const k=b.parent;m.move(m.createRangeOn(b),m.createPositionBefore(k)),m.remove(k)}}}(e))}_setupImageUploadEditingIntegration(){const s=this.editor;s.plugins.has("ImageUploadEditing")&&this.listenTo(s.plugins.get("ImageUploadEditing"),"uploadComplete",(t,{imageElement:e,data:n})=>{const o=n.sources;o&&s.model.change(l=>{l.setAttributes({sources:o},e)})})}},class extends W{static get requires(){return[fy,_y,hr,xy,yy,Cy,ir]}static get pluginName(){return"Table"}},class extends W{static get requires(){return[Ba]}static get pluginName(){return"TableToolbar"}afterInit(){const s=this.editor,t=s.t,e=s.plugins.get(Ba),n=s.config.get("table.contentToolbar"),o=s.config.get("table.tableToolbar");n&&e.register("tableContent",{ariaLabel:t("Table toolbar"),items:n,getRelatedElement:Sy}),o&&e.register("table",{ariaLabel:t("Table toolbar"),items:o,getRelatedElement:Dy})}},class extends W{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(s){super(s),s.config.define("typing",{transformations:{include:n_}})}init(){const s=this.editor.model.document.selection;s.on("change:range",()=>{this.isEnabled=!s.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const s=this.editor,t=s.model,e=s.plugins.get("Delete"),n=function(l){const h=l.remove||[],m=g=>!h.includes(g);return function(g){const b=new Set;for(const k of g)if("string"==typeof k&&i_[k])for(const v of i_[k])b.add(v);else b.add(k);return Array.from(b)}(l.include.concat(l.extra||[]).filter(m)).filter(m).map(g=>"string"==typeof g&&Tm[g]?Tm[g]:g).filter(g=>"object"==typeof g).map(g=>({from:o_(g.from),to:s_(g.to)}))}(s.config.get("typing.transformations")),o=new ym(s.model,l=>{for(const d of n)if(d.from.test(l))return{normalizedTransformation:d}});o.on("matched:data",(l,d)=>{if(!d.batch.isTyping)return;const{from:h,to:m}=d.normalizedTransformation,g=h.exec(d.text),b=m(g.slice(1)),k=d.range;let v=g.index;t.enqueueChange(w=>{for(let A=1;A<g.length;A++){const T=g[A],E=b[A-1];if(null==E){v+=T.length;continue}const R=k.start.getShiftedBy(v),N=t.createRange(R,R.getShiftedBy(T.length)),q=Aw(R);t.insertContent(w.createText(E,q),N),v+=E.length}t.enqueueChange(()=>{e.requestUndoOnBackspace()})})}),o.bind("isEnabled").to(this)}}],gw.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),Qt.default})())()},7853:(ye,me,G)=>{"use strict";G.d(me,{V:()=>wt});var Nt=G(4537);let wt=(()=>{class at{}return at.\u0275fac=function(Qt){return new(Qt||at)},at.\u0275mod=Nt.oAB({type:at}),at.\u0275inj=Nt.cJS({}),at})()},80:(ye,me,G)=>{"use strict";G.r(me),G.d(me,{DiklatModule:()=>ew});var Nt=G(4032),wt=G(9638),at=G(8659),Y=G(3331),Qt=G(7406),U=G(827),$=G(8033),S=G(2094),j=G(4639),H=G(2940),O=G(7853),B=G(4466),Z=G(2516),it=G(8692),lt=G(8023),ct=G(3528),qe=G(2340),i=G(4537),Ct=G(1822),Dt=G(2047),Ie=G(8951),Vi=G(4880),ht=G(7914),At=G(5531);function M(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",1)(2,"div")(3,"button",2),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.checked())}),i.TgZ(4,"span",3),i._uU(5,"Lihat Materi"),i.qZA()()()(),i.BQk()}2&a&&(i.xp6(3),i.Q6J("color","primary"))}function bt(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"iframe",4),i.BQk()),2&a){const r=i.oxw();i.xp6(1),i.Q6J("src",r.item.link,i.uOi)}}let se=(()=>{class a{constructor(r,u,p){this.diklatService=r,this._router=u,this._changeDetectorRef=p,this._unsubscribeAll=new lt.x}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}load(){const r=this._router.url.split("/");this.diklatService.getPlayById(r[3]).subscribe()}checked(){this.diklatService.checkedActivity(this.item.id).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success?(this.item.track.isChecked=!0,this.load()):this.item.track.isChecked=!1,this._changeDetectorRef.markForCheck()})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ct.c),i.Y36(Nt.F0),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-widget-activity-youtube"]],inputs:{item:"item"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"flex","justify-center"],["mat-flat-button","",1,"sm:mt-0","sm:ml-auto",3,"color","click"],[1,"ml-2","mr-1"],["width","100%","height","400","frameborder","0","allowfullscreen","",3,"src"]],template:function(r,u){1&r&&(i.YNc(0,M,6,1,"ng-container",0),i.YNc(1,bt,2,1,"ng-container",0)),2&r&&(i.Q6J("ngIf",!(null!=u.item.track&&u.item.track.isChecked)),i.xp6(1),i.Q6J("ngIf",null==u.item.track?null:u.item.track.isChecked))},dependencies:[it.O5,wt.lW],encapsulation:2,changeDetection:0}),a})(),ce=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-widget-activity-video"]],inputs:{item:"item"},decls:1,vars:0,template:function(r,u){1&r&&i._uU(0,"-\n")},encapsulation:2,changeDetection:0}),a})();function re(a,c){if(1&a&&i._UZ(0,"img",8),2&a){const r=i.oxw(2);i.Q6J("src",r.item.path,i.LSH)}}function vn(a,c){if(1&a&&(i.TgZ(0,"div",9)(1,"div",10),i._uU(2),i.qZA()()),2&a){const r=i.oxw(2);i.xp6(2),i.hij(" ",r.item.originalFilename.split(".")[1].trim().toUpperCase(),"")}}function $i(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",1),i.YNc(2,re,1,1,"img",2),i.YNc(3,vn,3,1,"div",3),i.TgZ(4,"div",4)(5,"div",5)(6,"button",6),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.download(p.item.id))}),i._uU(7),i.qZA()(),i.TgZ(8,"div",7),i._uU(9),i.ALo(10,"number"),i.qZA()()(),i.BQk()}if(2&a){const r=i.oxw();i.xp6(2),i.Q6J("ngIf",r.item.mimeType.startsWith("image/")),i.xp6(1),i.Q6J("ngIf",r.item.mimeType.startsWith("application/")),i.xp6(2),i.Q6J("title",r.item.originalFilename),i.xp6(2),i.Oqu(r.item.originalFilename),i.xp6(1),i.Q6J("title",r.item.size),i.xp6(1),i.hij(" ",i.xi3(10,6,r.item.size/1e3,"1.0-2")," KB ")}}let hi=(()=>{class a{constructor(r,u,p){this.diklatService=r,this._router=u,this._changeDetectorRef=p,this.isOpen=!1,this._unsubscribeAll=new lt.x}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}load(){const r=this._router.url.split("/");this.diklatService.getPlayById(r[3]).subscribe()}checked(){this.diklatService.checkedActivity(this.item.id).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success?(this.isOpen=!0,this.load()):this.isOpen=!1,this._changeDetectorRef.markForCheck()})}download(r){this.diklatService.courseDocumentDownload(r).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(u=>{const p=URL.createObjectURL(u);window.open(p,"_blank")})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ct.c),i.Y36(Nt.F0),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-widget-lampiran-dokumen"]],inputs:{item:"item"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"flex","items-center"],["class","w-10 h-10 rounded-md overflow-hidden",3,"src",4,"ngIf"],["class","flex items-center justify-center w-10 h-10 rounded-md overflow-hidden bg-primary-100",4,"ngIf"],[1,"ml-3"],[1,"text-md","font-medium","truncate",3,"title"],[1,"underline",3,"click"],[1,"text-sm","font-medium","truncate","text-secondary",3,"title"],[1,"w-10","h-10","rounded-md","overflow-hidden",3,"src"],[1,"flex","items-center","justify-center","w-10","h-10","rounded-md","overflow-hidden","bg-primary-100"],[1,"flex","items-center","justify-center","text-sm","font-semibold","text-primary-500-800"]],template:function(r,u){1&r&&i.YNc(0,$i,11,9,"ng-container",0),2&r&&i.Q6J("ngIf",null==u.item?null:u.item.id)},dependencies:[it.O5,it.JJ],encapsulation:2,changeDetection:0}),a})();function fo(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",1)(2,"div")(3,"button",2),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.checked())}),i.TgZ(4,"span",3),i._uU(5,"Lihat Materi"),i.qZA()()()(),i.BQk()}2&a&&(i.xp6(3),i.Q6J("color","primary"))}function an(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",4)(2,"div",5),i._uU(3," Silahkan unduh materi berikut : "),i.qZA(),i.TgZ(4,"div",6),i._UZ(5,"app-widget-lampiran-dokumen",7),i.qZA()(),i.BQk()),2&a){const r=i.oxw();i.xp6(5),i.Q6J("item",r.item.document)}}let Kc=(()=>{class a{constructor(r,u,p){this.diklatService=r,this._router=u,this._changeDetectorRef=p,this._unsubscribeAll=new lt.x}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}load(){const r=this._router.url.split("/");this.diklatService.getPlayById(r[3]).subscribe()}checked(){this.diklatService.checkedActivity(this.item.id).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success?(this.item.track.isChecked=!0,this.load()):this.item.track.isChecked=!1,this._changeDetectorRef.markForCheck()})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ct.c),i.Y36(Nt.F0),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-widget-activity-document"]],inputs:{item:"item"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"flex","justify-center"],["mat-flat-button","",1,"sm:mt-0","sm:ml-auto",3,"color","click"],[1,"ml-2","mr-1"],[1,"flex","flex-col","w-full"],[1,"text-lg","font-medium"],[1,"flex","flex-wrap","my-2"],[1,"m-2",3,"item"]],template:function(r,u){1&r&&(i.YNc(0,fo,6,1,"ng-container",0),i.YNc(1,an,6,1,"ng-container",0)),2&r&&(i.Q6J("ngIf",!(null!=u.item.track&&u.item.track.isChecked)),i.xp6(1),i.Q6J("ngIf",null==u.item.track?null:u.item.track.isChecked))},dependencies:[it.O5,wt.lW,hi],encapsulation:2,changeDetection:0}),a})();var ot=G(4536),ne=G(8292),Ya=G(2290);const Xc=["signature"];let Ja=(()=>{class a{constructor(r,u,p,f,_,C,D){this.matDialogRef=r,this._data=u,this._authService=p,this._helperService=f,this._toastr=_,this._diklatService=C,this._changeDetectorRef=D,this.selected=null,this.isComplete=!1,this.signaturePadOptions={minWidth:5,canvasWidth:500,canvasHeight:300,backgroundColor:"#e2e8f0"},this.role=this._authService.role,this._unsubscribeAll=new lt.x}ngOnInit(){}ngAfterViewInit(){this.signaturePad.set("minWidth",5),this.signaturePad.clear(),this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}drawComplete(r){this.isComplete=!0,console.log("Completed drawing",r),console.log(this.signaturePad.toData())}clear(){this.isComplete=!1,this.signaturePad.clear()}setSelected(r){this.selected=r}create(){const r=this.signaturePad.toDataURL("image/jpeg",.5),u=new FormData;u.append("activityId",this._data.id),u.append("latitude",this._data.lat),u.append("location",this._data.location),u.append("longitude",this._data.lng),u.append("fileTtd",r),this._diklatService.feedbackAttendance(u,this.role).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(p=>{p.success?(this._toastr.success("Absensi berhasil disubmit"),this.matDialogRef.close(!0)):(this._toastr.error("Absensi gagal disubmit, ERROR : "+p.message),this.matDialogRef.close(!1))})}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(Ie.e),i.Y36(Dt.W),i.Y36(ne._W),i.Y36(Ct.c),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(r,u){if(1&r&&i.Gf(Xc,5),2&r){let p;i.iGM(p=i.CRH())&&(u.signaturePad=p.first)}},decls:25,vars:6,consts:[[1,"flex","flex-col","flex-auto","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto"],[1,"grid","grid-cols-4","gap-4","w-full"],[1,"col-span-3"],[1,"w-full",2,"background-color","#ffffff",3,"options","drawEnd"],["signature",""],[1,"mt-4","flex","items-start"],["mat-button","",3,"click"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3,"Absen"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"div",5)(7,"div",6)(8,"div"),i._uU(9,"Lokasi Anda"),i.qZA(),i.TgZ(10,"div",7),i._uU(11),i.qZA(),i.TgZ(12,"div"),i._uU(13,"Tanda Tangan:"),i.qZA(),i.TgZ(14,"div",7)(15,"signature-pad",8,9),i.NdJ("drawEnd",function(f){return u.drawComplete(f)}),i.qZA(),i.TgZ(17,"div",10)(18,"button",11),i.NdJ("click",function(){return u.clear()}),i._uU(19,"Clear"),i.qZA()()()()(),i.TgZ(20,"div",12)(21,"button",11),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(22,"Batal"),i.qZA(),i.TgZ(23,"button",13),i.NdJ("click",function(){return u.create()}),i._uU(24," Submit "),i.qZA()()()),2&r&&(i.xp6(4),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(6),i.hij(" ",u._data.location," "),i.xp6(4),i.Q6J("options",u.signaturePadOptions),i.xp6(8),i.Q6J("color","primary")("disabled",!u.isComplete))},dependencies:[Y.Hw,wt.lW,Ya.l],encapsulation:2,changeDetection:0}),a})();var mr=G(2494);function td(a,c){if(1&a&&(i.TgZ(0,"fuse-alert",5)(1,"div",6),i._uU(2,"Batas Waktu absen sebelum "),i.TgZ(3,"strong"),i._uU(4),i.ALo(5,"date"),i.qZA()(),i.TgZ(6,"div",7),i._uU(7,"Aktifkan lokasi pada browser Anda untuk melakukan absen"),i.qZA()()),2&a){const r=i.oxw();i.Q6J("type","warn"),i.xp6(4),i.hij("",i.xi3(5,2,r.item.dueDateCompletion,"d/M/yyyy h:mm")," WIB")}}function Ga(a,c){if(1&a&&(i.TgZ(0,"fuse-alert",5)(1,"div",7),i._uU(2,"Absensi Anda telah tercatat pada "),i.TgZ(3,"strong"),i._uU(4),i.ALo(5,"date"),i.qZA(),i._UZ(6,"br"),i._uU(7," Lokasi : "),i.TgZ(8,"strong"),i._uU(9),i.qZA()()()),2&a){const r=i.oxw();i.Q6J("type","info"),i.xp6(4),i.hij("",i.xi3(5,3,null==r.item.track||null==r.item.track.feedbacks[0]?null:r.item.track.feedbacks[0].feedbackDate,"d/M/yyyy h:mm")," WIB"),i.xp6(5),i.Oqu(null==r.item.track||null==r.item.track.feedbacks[0]?null:r.item.track.feedbacks[0].location)}}let oe=(()=>{class a{constructor(r,u,p){this.diklatService=r,this._matDialog=u,this.toastr=p,this._unsubscribeAll=new lt.x}ngOnInit(){}toggleAbsen(r){this.diklatService.getPosition().then(u=>{u||this.toastr.error("Anda tidak dapat melakukan Absen selama lokasi tidak terdeteksi"),this.diklatService.getLocation(u.lat,u.lng).subscribe(p=>{r.location=p,r.lng=u.lng,r.lat=u.lat,this._matDialog.open(Ja,{data:r,autoFocus:!1,width:"50%"}).afterClosed().subscribe(_=>{console.log("toggleAbsen",_)})})})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ct.c),i.Y36(ot.uw),i.Y36(ne._W))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-widget-activity-attendance"]],inputs:{item:"item"},decls:7,vars:5,consts:[[1,"flex","flex-col","w-full"],[3,"type",4,"ngIf"],["mat-flat-button","",1,"fuse-mat-button-large","mt-5",3,"disabled","color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[3,"type"],[1,"text-md","font-medium"],[1,"text-md"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0),i.YNc(1,td,8,5,"fuse-alert",1),i.YNc(2,Ga,10,6,"fuse-alert",1),i.TgZ(3,"button",2),i.NdJ("click",function(){return u.toggleAbsen(u.item)}),i._UZ(4,"mat-icon",3),i.TgZ(5,"span",4),i._uU(6,"Absen"),i.qZA()()()),2&r&&(i.xp6(1),i.Q6J("ngIf",!(null!=u.item&&null!=u.item.track&&u.item.track.isChecked)),i.xp6(1),i.Q6J("ngIf",null==u.item||null==u.item.track?null:u.item.track.isChecked),i.xp6(1),i.Q6J("disabled",null==u.item||null==u.item.track?null:u.item.track.isChecked)("color","primary"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:check"))},dependencies:[it.O5,Y.Hw,wt.lW,mr.W,it.uU],encapsulation:2,changeDetection:0}),a})();var mi=G(8239),F=G(92),ln=G(4121),$t=G(5450);function ed(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"button",21),i.NdJ("click",function(){i.CHM(r),i.oxw();const p=i.MAs(20);return i.KtG(p.click())}),i._uU(1,"Pilih Dokumen"),i.qZA()}2&a&&i.Q6J("color","accent")}function id(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.toggleOnFileInputed(!1))}),i._UZ(1,"mat-icon",23),i.qZA()}2&a&&(i.Q6J("matTooltip","Clear"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"))}let zt=(()=>{class a{constructor(r,u,p,f,_,C,D,x){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._referensiService=_,this._toastr=C,this._diklatService=D,this._changeDetectorRef=x,this.selected=null,this.file=null,this.onFileInputed=!1,this.__documents$=new ln.X([]),this._unsubscribeAll=new lt.x}ngOnInit(){this.form=this._formBuilder.group({keterangan:[],file:[null,[F.kI.required]]})}ngAfterViewInit(){Object.values(this.form.controls).forEach(r=>{r.markAsTouched()}),this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}uploadDocument(r,u){var p=this;return(0,mi.Z)(function*(){const f=new FormData;f.append("file",r,r.name),yield p._diklatService.courseDocumentUpload(f).pipe().subscribe(_=>{console.log("ActivityAddComponent->courseDocumentUpload-data",_),_.success?(p.__documents$.next(_),p._toastr.success("File `"+r.name+"` berhasil diupload")):p._toastr.error("File `"+r.name+"` gagal diupload, ERROR : "+_.message)},_=>p._toastr.error("File `"+r.name+"` gagal diupload, ERROR : "+_.error.message))})()}create(){const r=this.form.getRawValue(),u={activityId:this._data.id,keterangan:r.keterangan};this.uploadDocument(r.file,{title:"MATERI : "+r.file.name}),this.__documents$.subscribe(p=>{p?.success&&(u.documentId=p.mapData.data.id,this._diklatService.feedbackAssignment(u).subscribe(f=>{f?.success?(this._toastr.success("Lampiran Tugas berhasil diunggah"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(f?.message,"ERROR")}))})}toggleOnFileInputed(r=null){null===r?this.onFileInputed=!this.onFileInputed:(r||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=r),this._changeDetectorRef.markForCheck()}onFileInput(r){const u=this._referensiService.onFileInputSingle(r,"application/vnd.openxmlformats-officedocument.wordprocessingml.document",8e3);return u.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=u.fileInfo.name,this.form.get("file").setValue(r.target.files[0]),!0):(this._toastr.error(u.msg,"ERROR"),!1)}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36($t.A2),i.Y36(ne._W),i.Y36(Ct.c),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:31,vars:10,consts:[[1,"flex","flex-col","flex-auto","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4","flex","items-center"],[1,"fuse-mat-no-subscript","w-full"],["matInput","",3,"formControlName","spellcheck"],[1,"mt-4","mb-4"],["type","file","accept",".doc,.docx,.ppt,.pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start","mt-2"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"]],template:function(r,u){if(1&r){const p=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3,"Kirim Tugas"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),i._uU(11,"Keterangan"),i.qZA(),i._UZ(12,"input",9),i.qZA()(),i.TgZ(13,"div",10)(14,"div",8)(15,"mat-label"),i._uU(16,"Lampiran Dokumen "),i.TgZ(17,"i"),i._uU(18,"(Maksimal ukuran 8 MB)"),i.qZA()(),i.TgZ(19,"input",11,12),i.NdJ("click",function(){i.CHM(p);const _=i.MAs(20);return i.KtG(_.value=null)})("change",function(_){return u.onFileInput(_)}),i.qZA(),i.TgZ(21,"div",13)(22,"div",14),i.YNc(23,ed,2,1,"button",15),i.YNc(24,id,2,2,"button",16),i._UZ(25,"span",17),i.qZA()()()()()(),i.TgZ(26,"div",18)(27,"button",19),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(28," Batal "),i.qZA(),i.TgZ(29,"button",20),i.NdJ("click",function(){return u.create()}),i._uU(30," Submit "),i.qZA()()()}2&r&&(i.xp6(4),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(6),i.Q6J("formControlName","keterangan")("spellcheck",!1),i.xp6(11),i.Q6J("ngIf",!u.onFileInputed),i.xp6(1),i.Q6J("ngIf",u.onFileInputed),i.xp6(1),i.Q6J("id","fileDokumen"),i.xp6(4),i.Q6J("color","primary")("disabled",u.form.invalid))},dependencies:[it.O5,F._Y,F.Fj,F.JJ,F.JL,F.sg,F.u,Y.Hw,wt.lW,at.KE,at.hX,Qt.Nt],encapsulation:2,changeDetection:0}),a})();var st=G(3911),Ui=G(3538);function $p(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"app-widget-lampiran-dokumen",9),i.BQk()),2&a){const r=c.$implicit;i.xp6(1),i.Q6J("item",r)}}function nd(a,c){if(1&a&&(i.TgZ(0,"fuse-alert",10)(1,"div",11),i._uU(2,"Harap unggah tugas Anda sebelum "),i.TgZ(3,"strong"),i._uU(4),i.ALo(5,"date"),i.qZA()()()),2&a){const r=i.oxw(2);i.Q6J("type","warn"),i.xp6(4),i.hij("",i.xi3(5,2,r.item.dueDateCompletion,"d/M/yyyy h:mm")," WIB")}}function od(a,c){if(1&a&&(i.TgZ(0,"fuse-alert",10)(1,"div",12),i._uU(2,"Tugas Anda telah disubmit pada "),i.TgZ(3,"strong"),i._uU(4),i.ALo(5,"date"),i.qZA()()()),2&a){const r=i.oxw(2);i.Q6J("type","info"),i.xp6(4),i.hij("",i.xi3(5,2,null==r.item.track||null==r.item.track.feedbacks[0]?null:r.item.track.feedbacks[0].feedbackDate,"d/M/yyyy h:mm")," WIB")}}function Up(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",2),i._uU(2,"Berikut tugas yang harus Anda kerjakan :"),i.qZA(),i.TgZ(3,"div",3),i.YNc(4,$p,2,1,"ng-container",4),i.qZA(),i.YNc(5,nd,6,5,"fuse-alert",5),i.YNc(6,od,6,5,"fuse-alert",5),i.TgZ(7,"button",6),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.toggleSubmit(p.item))}),i._UZ(8,"mat-icon",7),i.TgZ(9,"span",8),i._uU(10,"Kirim Tugas"),i.qZA()(),i.BQk()}if(2&a){const r=i.oxw();i.xp6(4),i.Q6J("ngForOf",r.item.documents.courseDocumentPayloads),i.xp6(1),i.Q6J("ngIf",!(null!=r.item&&null!=r.item.track&&r.item.track.isChecked)),i.xp6(1),i.Q6J("ngIf",null==r.item||null==r.item.track?null:r.item.track.isChecked),i.xp6(1),i.Q6J("disabled",null==r.item||null==r.item.track?null:r.item.track.isChecked)("color","primary"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:check")}}function Wa(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"app-widget-lampiran-dokumen",9),i.BQk()),2&a){const r=c.$implicit;i.xp6(1),i.Q6J("item",r)}}function je(a,c){1&a&&(i.TgZ(0,"th",23),i._uU(1,"Nama"),i.qZA())}function ti(a,c){if(1&a&&(i.TgZ(0,"td",24)(1,"div",25)(2,"div",26),i._uU(3),i.ALo(4,"titlecase"),i.qZA(),i.TgZ(5,"div",27),i._uU(6),i.qZA()()()),2&a){const r=c.$implicit;i.xp6(3),i.hij(" ",i.lcZ(4,2,r.participantNama)," "),i.xp6(3),i.hij(" ",r.participantNip," ")}}function sd(a,c){1&a&&(i.TgZ(0,"th",23),i._uU(1,"Keterangan"),i.qZA())}function Zp(a,c){if(1&a&&(i.TgZ(0,"td",24)(1,"div",25)(2,"div",28),i._uU(3),i.qZA()()()),2&a){const r=c.$implicit;let u;i.xp6(3),i.hij(" ",null!==(u=r.keterangan)&&void 0!==u?u:"-"," ")}}function xi(a,c){1&a&&(i.TgZ(0,"th",23),i._uU(1,"Lampiran Tugas"),i.qZA())}function Zi(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"button",29),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(2);return i.KtG(f.download(p.documentId))}),i._UZ(2,"mat-icon",7),i.qZA(),i.TgZ(3,"div",30)(4,"i"),i._uU(5),i.ALo(6,"date"),i.qZA()(),i.BQk()}if(2&a){const r=i.oxw().$implicit;i.xp6(2),i.Q6J("svgIcon","heroicons_outline:document-download"),i.xp6(3),i.Oqu(i.xi3(6,2,r.feedbackDate,"d/M/yyyy h:mm"))}}function rd(a,c){1&a&&(i.ynx(0),i._uU(1," - "),i.BQk())}function Hp(a,c){if(1&a&&(i.TgZ(0,"td",24)(1,"div",25)(2,"div",28),i.YNc(3,Zi,7,5,"ng-container",1),i.YNc(4,rd,2,0,"ng-container",1),i.qZA()()()),2&a){const r=c.$implicit;i.xp6(3),i.Q6J("ngIf",r.feedbackDate),i.xp6(1),i.Q6J("ngIf",!r.feedbackDate)}}function qp(a,c){1&a&&i._UZ(0,"tr",31)}function ss(a,c){1&a&&i._UZ(0,"tr",32)}const Qp=function(){return[10,25,100]};function Yp(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",2),i._uU(2,"Tugas yang harus dikerjakan oleh peserta:"),i.qZA(),i.TgZ(3,"div",3),i.YNc(4,Wa,2,1,"ng-container",4),i.qZA(),i.TgZ(5,"div",2),i._uU(6,"Tugas yang sudah dikumpulkan:"),i.qZA(),i.TgZ(7,"div",13)(8,"table",14),i.ynx(9,15),i.YNc(10,je,2,0,"th",16),i.YNc(11,ti,7,4,"td",17),i.BQk(),i.ynx(12,18),i.YNc(13,sd,2,0,"th",16),i.YNc(14,Zp,4,1,"td",17),i.BQk(),i.ynx(15,19),i.YNc(16,xi,2,0,"th",16),i.YNc(17,Hp,5,2,"td",17),i.BQk(),i.YNc(18,qp,1,0,"tr",20),i.YNc(19,ss,1,0,"tr",21),i.qZA(),i._UZ(20,"mat-paginator",22),i.qZA(),i.BQk()),2&a){const r=i.oxw();i.xp6(4),i.Q6J("ngForOf",r.item.documents.courseDocumentPayloads),i.xp6(4),i.Q6J("dataSource",r.dataSource),i.xp6(10),i.Q6J("matHeaderRowDef",r.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",r.displayedColumns),i.xp6(1),i.Q6J("pageSize",r.pageSize)("length",r.length)("pageSizeOptions",i.DdM(7,Qp))}}let Jp=(()=>{class a{constructor(r,u,p,f,_,C,D){this.diklatService=r,this._authService=u,this.toastr=p,this._matDialog=f,this._router=_,this._diklatService=C,this._changeDetectorRef=D,this.dataSource=new st.by,this.displayedColumns=["nama","keterangan","feedback"],this.role=this._authService.role}ngOnInit(){this.diklatService.getAssignmentTask(this.item.id).subscribe(r=>{console.log(r),r.success&&(this.dataSource=new st.by(r.mapData.assignments),this.dataSource.paginator=this.paginator,this._changeDetectorRef.markForCheck())})}toggleSubmit(r){this._matDialog.open(zt,{data:r,autoFocus:!1,width:"50%"}).afterClosed().subscribe(p=>{console.log("toggleTestSet",p),p&&this.load()})}load(){const r=this._router.url.split("/");this._diklatService.getPlayById(r[3]).subscribe()}download(r){this.diklatService.courseDocumentDownload(r).subscribe(u=>{const p=URL.createObjectURL(u);window.open(p,"_blank")})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ct.c),i.Y36(Ie.e),i.Y36(ne._W),i.Y36(ot.uw),i.Y36(Nt.F0),i.Y36(Ct.c),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-widget-activity-assignment"]],viewQuery:function(r,u){if(1&r&&i.Gf(Ui.NW,7),2&r){let p;i.iGM(p=i.CRH())&&(u.paginator=p.first)}},inputs:{item:"item"},decls:3,vars:2,consts:[[1,"flex","flex-col","w-full"],[4,"ngIf"],[1,"text-lg","font-medium"],[1,"flex","flex-wrap","my-2"],[4,"ngFor","ngForOf"],[3,"type",4,"ngIf"],["mat-flat-button","",1,"fuse-mat-button-large","mt-5",3,"disabled","color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"m-2",3,"item"],[3,"type"],[1,"text-md","font-medium"],[1,"text-md"],[1,"flex","flex-wrap"],["mat-table","",1,"mt-0",3,"dataSource"],["matColumnDef","nama"],["mat-header-cell","","class","p-2",4,"matHeaderCellDef"],["mat-cell","","class","p-2",4,"matCellDef"],["matColumnDef","keterangan"],["matColumnDef","feedback"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","length","pageSizeOptions"],["mat-header-cell","",1,"p-2"],["mat-cell","",1,"p-2"],[1,"min-w-0","space-y-1"],[1,"font-semibold","leading-5"],[1,"text-sm","leading-5"],[1,"leading-5","truncate"],["mat-icon-button","",3,"click"],[1,"hidden","md:block","truncate","text-sm"],["mat-header-row",""],["mat-row",""]],template:function(r,u){1&r&&(i.TgZ(0,"div",0),i.YNc(1,Up,11,6,"ng-container",1),i.YNc(2,Yp,21,8,"ng-container",1),i.qZA()),2&r&&(i.xp6(1),i.Q6J("ngIf","ROLE_USER"===u.role),i.xp6(1),i.Q6J("ngIf","ROLE_USER"!==u.role))},dependencies:[it.sg,it.O5,Y.Hw,wt.lW,mr.W,st.BZ,st.fO,st.as,st.w1,st.Dz,st.nj,st.ge,st.ev,st.XQ,st.Gk,Ui.NW,hi,it.rS,it.uU],encapsulation:2,changeDetection:0}),a})();function Gp(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",1)(2,"div")(3,"button",2),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.checked())}),i.TgZ(4,"span",3),i._uU(5,"Lihat Referensi Link"),i.qZA()()()(),i.BQk()}2&a&&(i.xp6(3),i.Q6J("color","primary"))}function Wp(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),i._uU(5),i.qZA(),i.TgZ(6,"div",8)(7,"a",9),i._uU(8),i.qZA()()()()(),i.BQk()),2&a){const r=i.oxw();i.xp6(5),i.hij(" ",r.item.description," "),i.xp6(2),i.Q6J("href",r.item.link,i.LSH),i.xp6(1),i.Oqu(r.item.link)}}let ad=(()=>{class a{constructor(r,u,p){this.diklatService=r,this._router=u,this._changeDetectorRef=p,this.isOpen=!1,this._unsubscribeAll=new lt.x}ngOnInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}load(){const r=this._router.url.split("/");this.diklatService.getPlayById(r[3]).subscribe()}checked(){this.diklatService.checkedActivity(this.item.id).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success?(this.item.track.isChecked=!0,this.load()):this.item.track.isChecked=!1,this._changeDetectorRef.markForCheck()})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ct.c),i.Y36(Nt.F0),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-widget-activity-url"]],inputs:{item:"item"},decls:2,vars:2,consts:[[4,"ngIf"],[1,"flex","justify-center"],["mat-flat-button","",1,"sm:mt-0","sm:ml-auto",3,"color","click"],[1,"ml-2","mr-1"],[1,"flex","flex-col","w-full"],[1,"flex","flex-wrap","my-2"],[1,"ml-3"],[1,"text-sm","font-medium","truncate","text-secondary"],[1,"text-md","font-medium"],["target","_blank",1,"underline",3,"href"]],template:function(r,u){1&r&&(i.YNc(0,Gp,6,1,"ng-container",0),i.YNc(1,Wp,9,3,"ng-container",0)),2&r&&(i.Q6J("ngIf",!(null!=u.item.track&&u.item.track.isChecked)),i.xp6(1),i.Q6J("ngIf",null==u.item.track?null:u.item.track.isChecked))},dependencies:[it.O5,wt.lW],encapsulation:2,changeDetection:0}),a})();var Ti=G(3556);function Ve(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"mat-radio-button",11),i.NdJ("change",function(p){i.CHM(r);const f=i.oxw(2).$implicit,_=i.oxw(2);return i.KtG(_.save(p,f.questionId))}),i._uU(2),i.qZA(),i.BQk()}if(2&a){const r=c.$implicit;i.xp6(1),i.Q6J("value",r.id)("checked",r.isAnswer),i.xp6(1),i.Oqu(r.label)}}function pi(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",9)(2,"mat-radio-group"),i.YNc(3,Ve,3,3,"ng-container",10),i.qZA()(),i.BQk()),2&a){const r=i.oxw().$implicit;i.xp6(3),i.Q6J("ngForOf",r.options)}}function Kp(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",5)(2,"div",6)(3,"span"),i._uU(4),i.qZA(),i._uU(5),i.qZA(),i.TgZ(6,"div",7),i.YNc(7,pi,4,1,"ng-container",8),i.qZA()(),i.BQk()),2&a){const r=c.$implicit,u=c.index;i.xp6(4),i.hij("",u+1,")."),i.xp6(1),i.hij(" ",r.questionText,""),i.xp6(2),i.Q6J("ngIf",r.isOption)}}function ld(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.YNc(1,Kp,8,3,"ng-container",2),i.TgZ(2,"button",3),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.end())}),i.TgZ(3,"span",4),i._uU(4,"Selesai"),i.qZA()(),i.BQk()}if(2&a){const r=i.oxw();i.xp6(1),i.Q6J("ngForOf",r.questions.questionList)("ngForTrackBy",r.trackByFn),i.xp6(1),i.Q6J("color","primary")}}function cd(a,c){if(1&a&&(i.TgZ(0,"div",7)(1,"fuse-alert",16)(2,"div",17),i._uU(3,"Test telah diselesaikan pada "),i.TgZ(4,"strong"),i._uU(5),i.qZA(),i._UZ(6,"br"),i._uU(7," Hasil Score : "),i.TgZ(8,"strong"),i._uU(9),i.qZA()()()()),2&a){const r=i.oxw(2);i.xp6(1),i.Q6J("type","info"),i.xp6(4),i.hij("",r.sessionTest.endedAt," WIB"),i.xp6(4),i.Oqu(r.sessionTest.score)}}function dd(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"div",12),i.YNc(1,cd,10,3,"div",13),i.TgZ(2,"div",14)(3,"div")(4,"button",15),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.doTest())}),i.TgZ(5,"span",4),i._uU(6,"Mulai Mengerjakan"),i.qZA()()()()()}if(2&a){const r=i.oxw();i.xp6(1),i.Q6J("ngIf",!r.isTestActive),i.xp6(3),i.Q6J("color","primary")("disabled",!r.isTestActive)}}let Ka=(()=>{class a{constructor(r,u,p,f){this.diklatService=r,this._changeDetectorRef=u,this.fb=p,this._toastr=f,this.questionAnswer=[],this.isTestActive=!0,this._unsubscribeAll=new lt.x}ngOnInit(){this.getSessionTest(),console.log("item",this.item)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}end(){"PRETEST"===this.item.activityType?this.diklatService.endPretest({sessionId:this.questions.sessionId}).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success?(this._toastr.success("Sesi Test telah berakhir"),this.questions=null,this._changeDetectorRef.markForCheck()):this._toastr.error(r?.message,"ERROR")}):this.diklatService.endPosttest({sessionId:this.questions.sessionId}).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success?(this._toastr.success("Sesi Test telah berakhir"),this.questions=null,this._changeDetectorRef.markForCheck()):this._toastr.error(r?.message,"ERROR")})}save(r,u){console.log(r.value);const p={sessionId:this.questions.sessionId,questionId:u,answer:null,optionAnswer:[r.value]};"PRETEST"===this.item.activityType?this.diklatService.answerPretest(p).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(f=>{f.success?(this._toastr.success("Jawaban berhasil disimpan"),this._changeDetectorRef.markForCheck()):this._toastr.error(f?.message,"ERROR")}):this.diklatService.answerPosttest(p).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(f=>{f.success?(this._toastr.success("Jawaban berhasil disimpan"),this._changeDetectorRef.markForCheck()):this._toastr.error(f?.message,"ERROR")})}getSessionTest(){"PRETEST"===this.item.activityType?this.diklatService.getPretest(this.item.courseId).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success&&r.mapData.data.length&&(this.isTestActive=null===r.mapData.data[0].endedAt,this.sessionTest=r.mapData.data[0],this._changeDetectorRef.markForCheck())}):this.diklatService.getPosttest(this.item.courseId).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success&&(this.isTestActive=null===r.mapData.data[0].endedAt,this.sessionTest=r.mapData.data[0],this._changeDetectorRef.markForCheck())})}doTest(){"PRETEST"===this.item.activityType?this.diklatService.startPretest({courseId:this.item.courseId}).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success?(this.questions=r.mapData.data,console.log(r)):(this._toastr.error(r.message),this.questions=null),this._changeDetectorRef.markForCheck()}):this.diklatService.startPosttest({courseId:this.item.courseId}).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success?(this.questions=r.mapData.data,console.log(r)):(this._toastr.error(r.message),this.questions=null),this._changeDetectorRef.markForCheck()})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ct.c),i.Y36(i.sBO),i.Y36(F.qu),i.Y36(ne._W))},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-widget-quiz-question"]],inputs:{item:"item"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noQuestion",""],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-flat-button","",1,"sm:mt-0","sm:ml-auto",3,"color","click"],[1,"ml-2","mr-1"],[1,"flex","flex-col","items-start","mb-3","p-5","space-y-3","shadow","rounded-lg","overflow-hidden","bg-card","cursor-pointer"],[1,"text-lg","font-medium","leading-5","w-full"],[1,"w-full"],[4,"ngIf"],[1,"space-y-1.5"],[4,"ngFor","ngForOf"],[1,"flex","my-1",3,"value","checked","change"],[1,"grid","grid-cols-1","gap-3"],["class","w-full",4,"ngIf"],[1,"flex","justify-center"],["mat-flat-button","",1,"sm:mt-0","sm:ml-auto",3,"color","disabled","click"],[1,"mb-5",3,"type"],[1,"text-md"]],template:function(r,u){if(1&r&&(i.YNc(0,ld,5,3,"ng-container",0),i.YNc(1,dd,7,3,"ng-template",null,1,i.W1O)),2&r){const p=i.MAs(2);i.Q6J("ngIf",u.questions)("ngIfElse",p)}},dependencies:[it.sg,it.O5,wt.lW,mr.W,Ti.VQ,Ti.U0],encapsulation:2,changeDetection:0}),a})(),ud=(()=>{class a{constructor(){}transform(r,u,p){return Array.isArray(r)?r.map(f=>p.find(_=>_[u]===f)):p.find(f=>f[u]===r)}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275pipe=i.Yjl({name:"fuseFindByKey",type:a,pure:!1}),a})(),Xp=(()=>{class a{constructor(r){this.helperService=r}transform(r,u){const p=this.helperService.diklatType().find(f=>f.value===r);return p?p.text:r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Dt.W,16))},a.\u0275pipe=i.Yjl({name:"diklatType",type:a,pure:!1}),a})();const tg=["courseSteps"],hd=function(a,c,r,u){return{"text-blue-800 bg-blue-100 dark:text-blue-50 dark:bg-blue-500":a,"text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500":c,"text-pink-800 bg-pink-100 dark:text-pink-50 dark:bg-pink-500":r,"text-amber-800 bg-amber-100 dark:text-amber-50 dark:bg-amber-500":u}};function eg(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",31),i._uU(2),i.qZA(),i.BQk()),2&a){const r=c.ngIf;i.xp6(1),i.Q6J("ngClass",i.l5B(2,hd,"DIKLAT_TEKNIS"===r.id,"DIKLAT_FUNGSIONAL"===r.id,"cloud"===r.id,"firebase"===r.id)),i.xp6(1),i.hij(" ",r.name," ")}}function ig(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",32)(2,"button",33),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.doTest("PRETEST"))}),i.TgZ(3,"span",34),i._uU(4,"Pre Test"),i.qZA()(),i.TgZ(5,"button",35),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.doTest("POSTTEST"))}),i.TgZ(6,"span",34),i._uU(7,"Post Test"),i.qZA()()(),i.BQk()}if(2&a){const r=i.oxw();i.xp6(2),i.Q6J("disabled",!r.course.preTestId)("color","primary"),i.xp6(3),i.Q6J("disabled",!r.course.postTestId)("color","primary")}}function Qe(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",32)(2,"button",36),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.doTest("PRETEST"))}),i.TgZ(3,"span",34),i._uU(4,"Hasil Pre Test"),i.qZA()(),i.TgZ(5,"button",37),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.doTest("POSTTEST"))}),i.TgZ(6,"span",34),i._uU(7,"Hasil Post Test"),i.qZA()()(),i.BQk()}2&a&&(i.xp6(2),i.Q6J("color","primary"),i.xp6(3),i.Q6J("color","primary"))}function ng(a,c){1&a&&i._UZ(0,"mat-icon",56),2&a&&i.Q6J("svgIcon","heroicons_solid:check-circle")}function rs(a,c){1&a&&i._UZ(0,"mat-icon",57),2&a&&i.Q6J("svgIcon","heroicons_solid:minus-circle")}function pr(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",48)(2,"div",49),i.YNc(3,ng,1,1,"mat-icon",50),i.YNc(4,rs,1,1,"mat-icon",51),i.TgZ(5,"div",52),i._uU(6),i.ALo(7,"diklatType"),i.qZA()()(),i.TgZ(8,"div",53)(9,"button",54),i.NdJ("click",function(){const f=i.CHM(r).$implicit,_=i.oxw().$implicit,C=i.oxw(2);return i.KtG(C.setDetail(_,f))}),i._UZ(10,"mat-icon",55),i.qZA()(),i.BQk()}if(2&a){const r=c.$implicit;i.xp6(3),i.Q6J("ngIf",null==r.track?null:r.track.isChecked),i.xp6(1),i.Q6J("ngIf",!(null!=r.track&&r.track.isChecked)),i.xp6(2),i.Oqu(i.lcZ(7,4,r.activityType)),i.xp6(4),i.Q6J("svgIcon","heroicons_solid:arrow-narrow-right")}}function og(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",42)(2,"div",43)(3,"div",44)(4,"div",45),i._uU(5),i.qZA()(),i.TgZ(6,"div",46),i._uU(7),i.qZA()(),i.TgZ(8,"div",47)(9,"div",44)(10,"div",45),i._uU(11),i.qZA()(),i.TgZ(12,"div",46),i._uU(13),i.qZA()(),i.YNc(14,pr,11,6,"ng-container",16),i.qZA(),i.BQk()),2&a){const r=c.$implicit;i.xp6(5),i.Oqu(r.title),i.xp6(2),i.AsE("",r.startTime,"-",r.endTime," WIB"),i.xp6(4),i.Oqu(r.pelaksana),i.xp6(2),i.hij("",r.jp," JP"),i.xp6(1),i.Q6J("ngForOf",r.activityDetails)}}function sg(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"mat-accordion",38)(2,"mat-expansion-panel")(3,"mat-expansion-panel-header",39)(4,"mat-panel-title"),i._uU(5),i.qZA(),i.TgZ(6,"mat-panel-description",40),i._uU(7),i.ALo(8,"date"),i.qZA()(),i.TgZ(9,"p",41),i._uU(10),i.qZA(),i.YNc(11,og,15,6,"ng-container",16),i.qZA()(),i.BQk()),2&a){const r=c.$implicit;i.xp6(5),i.hij(" ",r.title," "),i.xp6(2),i.hij(" ",i.xi3(8,4,r.startDate,"ccc, d MMM yyyy")," "),i.xp6(3),i.Oqu(r.summary),i.xp6(1),i.Q6J("ngForOf",r.courseActivityGroupDetails)}}const rg=function(a,c){return{"bg-primary":a,"bg-gray-300 dark:bg-gray-600":c}};function ag(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"div",64),i.BQk()),2&a){const r=i.oxw().$implicit,u=i.oxw();i.xp6(1),i.Q6J("ngClass",i.WLB(1,rg,r.order<u.currentStep,r.order>=u.currentStep))}}function lg(a,c){1&a&&(i.ynx(0),i._UZ(1,"mat-icon",7),i.BQk()),2&a&&(i.xp6(1),i.Q6J("svgIcon","heroicons_solid:check"))}function bo(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",65),i._uU(2),i.qZA(),i.BQk()),2&a){const r=i.oxw().$implicit;i.xp6(2),i.hij(" ",r.order+1,"")}}function gr(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",66),i._uU(2),i.qZA(),i.BQk()),2&a){const r=i.oxw().$implicit;i.xp6(2),i.hij(" ",r.order+1,"")}}const cg=function(a,c,r){return{"bg-primary dark:bg-primary text-on-primary group-hover:bg-primary-800 ring-transparent":a,"ring-primary":c,"ring-gray-300 dark:ring-gray-600 group-hover:ring-gray-400":r}};function dg(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"li",58),i.YNc(2,ag,2,4,"ng-container",9),i.TgZ(3,"div",59),i.NdJ("click",function(){const f=i.CHM(r).$implicit,_=i.oxw();return i.KtG(_.goToStep(f.order))}),i.TgZ(4,"div",60),i.YNc(5,lg,2,1,"ng-container",9),i.YNc(6,bo,3,1,"ng-container",9),i.YNc(7,gr,3,1,"ng-container",9),i.qZA(),i.TgZ(8,"div",61)(9,"div",62),i._uU(10),i.qZA(),i.TgZ(11,"div",63),i._uU(12),i.qZA()()()(),i.BQk()}if(2&a){const r=c.$implicit,u=c.last,p=i.oxw();i.xp6(1),i.ekj("current-step",r.order===p.currentStep),i.xp6(1),i.Q6J("ngIf",!u),i.xp6(2),i.Q6J("ngClass",i.kEZ(9,cg,r.order<p.currentStep,r.order===p.currentStep,r.order>p.currentStep)),i.xp6(1),i.Q6J("ngIf",r.order<p.currentStep),i.xp6(1),i.Q6J("ngIf",r.order===p.currentStep),i.xp6(1),i.Q6J("ngIf",r.order>p.currentStep),i.xp6(3),i.Oqu(r.title),i.xp6(2),i.Oqu(r.subtitle)}}function ug(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"app-widget-activity-youtube",73),i.BQk()),2&a){const r=i.oxw(4);i.xp6(1),i.Q6J("item",r.activityDetail)}}function hg(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"app-widget-activity-video",73),i.BQk()),2&a){const r=i.oxw(4);i.xp6(1),i.Q6J("item",r.activityDetail)}}function mg(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"app-widget-activity-document",73),i.BQk()),2&a){const r=i.oxw(4);i.xp6(1),i.Q6J("item",r.activityDetail)}}function pg(a,c){if(1&a&&(i.ynx(0),i.YNc(1,ug,2,1,"ng-container",9),i.YNc(2,hg,2,1,"ng-container",9),i.YNc(3,mg,2,1,"ng-container",9),i.BQk()),2&a){const r=i.oxw(3);i.xp6(1),i.Q6J("ngIf","YOUTUBE"===r.activityDetail.materiType),i.xp6(1),i.Q6J("ngIf","VIDEO"===r.activityDetail.materiType),i.xp6(1),i.Q6J("ngIf","DOCUMENT"===r.activityDetail.materiType)}}function gg(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"app-widget-activity-url",73),i.BQk()),2&a){const r=i.oxw(3);i.xp6(1),i.Q6J("item",r.activityDetail)}}function fg(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"app-widget-activity-attendance",73),i.BQk()),2&a){const r=i.oxw(3);i.xp6(1),i.Q6J("item",r.activityDetail)}}function jn(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"app-widget-activity-assignment",73),i.BQk()),2&a){const r=i.oxw(3);i.xp6(1),i.Q6J("item",r.activityDetail)}}function Xa(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"app-widget-quiz-question",73),i.BQk()),2&a){const r=i.oxw(3);i.xp6(1),i.Q6J("item",r.activityDetail)}}function md(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",70),i._uU(2),i.qZA(),i.TgZ(3,"h2",71),i._uU(4),i.ALo(5,"diklatType"),i.qZA(),i._UZ(6,"div",72),i.YNc(7,pg,4,3,"ng-container",9),i.YNc(8,gg,2,1,"ng-container",9),i.YNc(9,fg,2,1,"ng-container",9),i.YNc(10,jn,2,1,"ng-container",9),i.YNc(11,Xa,2,1,"ng-container",9),i.BQk()),2&a){const r=i.oxw(2);i.xp6(2),i.Oqu(r.activity.title),i.xp6(2),i.Oqu(i.lcZ(5,7,r.activityDetail.activityType)),i.xp6(3),i.Q6J("ngIf","MATERIAL"===r.activityDetail.activityType),i.xp6(1),i.Q6J("ngIf","URL"===r.activityDetail.activityType),i.xp6(1),i.Q6J("ngIf","ATTENDANCE"===r.activityDetail.activityType),i.xp6(1),i.Q6J("ngIf","ASSIGNMENT"===r.activityDetail.activityType),i.xp6(1),i.Q6J("ngIf","POSTTEST"===r.activityDetail.activityType||"PRETEST"===r.activityDetail.activityType)}}function bg(a,c){if(1&a&&i._UZ(0,"img",74),2&a){const r=i.oxw(2);i.Q6J("src",r.getFilePath(r.course.coverImagePath),i.LSH)}}function kg(a,c){if(1&a&&(i.TgZ(0,"div",67),i.YNc(1,md,12,9,"ng-container",68),i.YNc(2,bg,1,1,"ng-template",null,69,i.W1O),i.qZA()),2&a){const r=i.MAs(3),u=i.oxw();i.xp6(1),i.Q6J("ngIf",u.activity)("ngIfElse",r)}}const Vn=function(){return["/diklat"]},_g=function(){return[".."]};let vg=(()=>{class a{constructor(r,u,p,f,_,C,D){this._document=r,this._diklatService=u,this._changeDetectorRef=p,this._elementRef=f,this._helperService=_,this._authService=C,this._fuseMediaWatcherService=D,this.categories=this._helperService.jenisKegiatanList(),this.currentStep=0,this.drawerMode="side",this.drawerOpened=!0,this.isPreTest=!0,this.isPostTest=!0,this.role=this._authService.role,this._unsubscribeAll=new lt.x}ngOnInit(){this._diklatService.item$.pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{this.course=r,console.log("this.course",this.course),this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,ct.R)(this._unsubscribeAll)).subscribe(({matchingAliases:r})=>{r.includes("lg")?(this.drawerMode="side",this.drawerOpened=!0):(this.drawerMode="over",this.drawerOpened=!1),this._changeDetectorRef.markForCheck()})}getFilePath(r){return null!==r?qe.N.baseUrl+r:"./assets/images/cards/01-320x200.jpg"}getSessionPreTest(){this._diklatService.getPretest(this.course.id).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success&&(this.isPreTest=!!r.mapData.data.length,this._changeDetectorRef.markForCheck())})}getSessionPostTest(){this._diklatService.getPosttest(this.course.id).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success&&(this.isPostTest=!!r.mapData.data.length,this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}setDetail(r,u){this.activity=r,this.activityDetail=u,this._changeDetectorRef.markForCheck()}doTest(r){this.activity={title:"Test"},this.activityDetail={activityType:r,courseId:this.course.id},this._changeDetectorRef.markForCheck()}goToStep(r){this.currentStep=r.orderNo,this.courseSteps.selectedIndex=this.currentStep,this._changeDetectorRef.markForCheck()}goToPreviousStep(){0!==this.currentStep&&(this.goToStep(this.currentStep-1),this._scrollCurrentStepElementIntoView())}goToNextStep(){this.currentStep!==this.course.totalSteps-1&&(this.goToStep(this.currentStep+1),this._scrollCurrentStepElementIntoView())}trackByFn(r,u){return u.id||r}_scrollCurrentStepElementIntoView(){setTimeout(()=>{const r=this._document.getElementsByClassName("current-step")[0];r&&r.scrollIntoView({behavior:"smooth",block:"start"})})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(it.K0),i.Y36(Ct.c),i.Y36(i.sBO),i.Y36(i.SBq),i.Y36(Dt.W),i.Y36(Ie.e),i.Y36(Vi.T))},a.\u0275cmp=i.Xpm({type:a,selectors:[["diklat-details"]],viewQuery:function(r,u){if(1&r&&i.Gf(tg,7),2&r){let p;i.iGM(p=i.CRH())&&(u.courseSteps=p.first)}},decls:42,vars:28,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full"],[1,"w-90","dark:bg-gray-900",3,"autoFocus","mode","opened"],["matDrawer",""],[1,"flex","flex-col","items-start","p-6","border-b"],[1,"inline-flex","items-center","leading-6","text-primary","hover:underline","mb-3",3,"routerLink"],[1,"inline-flex","items-center"],[1,"icon-size-5","text-current",3,"svgIcon"],[1,"ml-1.5","font-medium","leading-5"],[4,"ngIf"],[1,"mt-3","text-2xl","font-semibold"],[1,"text-secondary"],[1,"mt-6","flex","items-center","leading-5","text-md","text-secondary"],[1,"icon-size-5","text-hint",3,"svgIcon"],[1,"ml-1.5"],[1,"flex","flex-col","items-start","bg-gray-100"],[4,"ngFor","ngForOf"],[1,"py-2","px-8"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","flex-col","overflow-hidden"],[1,"lg:hidden","flex","flex-0","items-center","py-2","pl-4","pr-6","sm:py-4","md:pl-6","md:pr-8","border-b","lg:border-b-0","bg-card","dark:bg-transparent"],["mat-icon-button","",3,"routerLink"],[3,"svgIcon"],[1,"ml-2.5","text-md","sm:text-xl","font-medium","tracking-tight","truncate"],[1,"hidden","lg:block","flex-0","h-0.5","w-full",3,"value"],["cdkScrollable","",1,"flex-auto","overflow-y-auto"],[1,"fuse-mat-no-header",3,"animationDuration"],["courseSteps",""],["matTabContent",""],[1,"lg:hidden","flex","items-center","p-4","border-t","bg-card"],["mat-icon-button","",3,"click"],[1,"py-0.5","px-3","rounded-full","text-sm","font-semibold",3,"ngClass"],[1,"mt-6","flex","items-center","w-full"],["mat-flat-button","",1,"sm:mt-0",3,"disabled","color","click"],[1,"ml-2","mr-1"],["mat-flat-button","",1,"sm:mt-0","ml-auto",3,"disabled","color","click"],["mat-flat-button","",1,"sm:mt-0",3,"color","click"],["mat-flat-button","",1,"sm:mt-0","ml-auto",3,"color","click"],[1,"w-full","my-2"],[1,"text-md","right-aligned-header"],[1,"text-right"],[1,"text-sm","mb-2"],[1,"grid","grid-cols-12","py-2","gap-x-1","border-b"],[1,"col-span-9"],[1,"flex","flex-row","space-x-2","text-md","leading-5"],[1,"text-md","font-semibold"],[1,"text-sm","text-secondary"],[1,"col-span-3","font-medium","text-md","text-secondary","justify-end"],[1,"col-span-11","ml-2","text-md","mt-3"],[1,"flex"],["class","icon-size-5 text-green-600",3,"svgIcon",4,"ngIf"],["class","icon-size-5 text-grey-600",3,"svgIcon",4,"ngIf"],[1,"ml-2","leading-5"],[1,"col-span-1"],["mat-icon-button","",1,"ml-auto",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"icon-size-5","text-green-600",3,"svgIcon"],[1,"icon-size-5","text-grey-600",3,"svgIcon"],[1,"relative","group","py-6"],[1,"relative","flex","items-start","cursor-pointer",3,"click"],[1,"flex","flex-0","items-center","justify-center","w-8","h-8","rounded-full","ring-2","ring-inset","bg-card","dark:bg-default",3,"ngClass"],[1,"ml-4"],[1,"font-medium","leading-4"],[1,"mt-1.5","text-md","leading-4","text-secondary"],[1,"absolute","top-6","left-4","w-0.5","h-full","-ml-px",3,"ngClass"],[1,"text-md","font-semibold","text-primary","dark:text-primary-500"],[1,"text-md","font-semibold","text-hint","group-hover:text-secondary"],[1,"prose","ring-primary","prose-sm","max-w-3xl","mx-auto","sm:my-2","lg:mt-4","p-6","sm:p-10","sm:py-12","rounded-2xl","shadow","overflow-hidden","bg-card"],[4,"ngIf","ngIfElse"],["noActivity",""],[1,"text-md","text-secondary"],[1,"text-2xl","sm:text-3xl","mt-1"],[1,"w-8","h-1","my-2","rounded","bg-accent","mb-10"],[3,"item"],[1,"h-full",3,"src"]],template:function(r,u){if(1&r){const p=i.EpF();i.TgZ(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"div",4)(5,"a",5)(6,"span",6),i._UZ(7,"mat-icon",7),i.TgZ(8,"span",8),i._uU(9,"Kembali ke daftar kursus"),i.qZA()()(),i.YNc(10,eg,3,7,"ng-container",9),i.ALo(11,"fuseFindByKey"),i.TgZ(12,"div",10),i._uU(13),i.qZA(),i.TgZ(14,"div",11),i._uU(15),i.qZA(),i.TgZ(16,"div",12),i._UZ(17,"mat-icon",13),i.TgZ(18,"div",14),i._uU(19),i.qZA()(),i.YNc(20,ig,8,4,"ng-container",9),i.YNc(21,Qe,8,2,"ng-container",9),i.qZA(),i.TgZ(22,"div",15),i.YNc(23,sg,12,7,"ng-container",16),i.qZA(),i.TgZ(24,"div",17)(25,"ol"),i.YNc(26,dg,13,13,"ng-container",18),i.qZA()()(),i.TgZ(27,"mat-drawer-content",19)(28,"div",20)(29,"a",21),i._UZ(30,"mat-icon",22),i.qZA(),i.TgZ(31,"h2",23),i._uU(32),i.qZA()(),i._UZ(33,"mat-progress-bar",24),i.TgZ(34,"div",25)(35,"mat-tab-group",26,27)(37,"mat-tab"),i.YNc(38,kg,4,2,"ng-template",28),i.qZA()()(),i.TgZ(39,"div",29)(40,"button",30),i.NdJ("click",function(){i.CHM(p);const _=i.MAs(3);return i.KtG(_.toggle())}),i._UZ(41,"mat-icon",22),i.qZA()()()()()}2&r&&(i.xp6(2),i.Q6J("autoFocus",!1)("mode",u.drawerMode)("opened",u.drawerOpened),i.xp6(3),i.Q6J("routerLink",i.DdM(26,Vn)),i.xp6(2),i.Q6J("svgIcon","heroicons_solid:arrow-sm-left"),i.xp6(3),i.Q6J("ngIf",i.Dn7(11,22,u.course.courseGroup.jenisKegiatan,"id",u.categories)),i.xp6(3),i.Oqu(null==u.course?null:u.course.title),i.xp6(2),i.Oqu(null==u.course?null:u.course.summary),i.xp6(2),i.Q6J("svgIcon","heroicons_solid:calendar"),i.xp6(2),i.AsE("",u.course.startDate," - ",u.course.endDate,""),i.xp6(1),i.Q6J("ngIf","ROLE_USER"===u.role),i.xp6(1),i.Q6J("ngIf","ROLE_USER"!==u.role),i.xp6(2),i.Q6J("ngForOf",u.course.sections),i.xp6(3),i.Q6J("ngForOf",null==u.course?null:u.course.steps)("ngForTrackBy",u.trackByFn),i.xp6(3),i.Q6J("routerLink",i.DdM(27,_g)),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:arrow-sm-left"),i.xp6(2),i.hij(" ",null==u.course?null:u.course.title," "),i.xp6(1),i.Q6J("value",100*(u.currentStep+1)/(null==u.course?null:u.course.totalSteps)),i.xp6(2),i.Q6J("animationDuration","200"),i.xp6(6),i.Q6J("svgIcon","heroicons_outline:view-list"))},dependencies:[Nt.yS,wt.lW,wt.zs,Y.Hw,ht.pp,ht.ib,ht.yz,ht.yK,ht.u4,U.pW,At.PQ,S.jA,S.kh,S.LW,it.mk,it.sg,it.O5,Z.SP,Z.uX,Z.Vc,se,ce,Kc,oe,Jp,ad,Ka,ud,it.uU,Xp],styles:["::ng-deep .modal-fullscreen{max-width:none!important;height:auto!important;min-height:100%!important;margin:0!important}::ng-deep .mat-expansion-panel-header-title,.mat-expansion-panel-header-description{font-size:1rem;color:#000!important;font-weight:600}::ng-deep .mat-accordion{width:100%}::ng-deep .mat-expansion-panel-header{margin-left:8px;margin-right:8px}::ng-deep .mat-card-header-text{flex-grow:1!important}::ng-deep .mat-expansion-panel-body{padding:0!important}.right-aligned-header>.mat-content{justify-content:space-between}.mat-content>mat-panel-title,.mat-content>mat-panel-description{flex:0 0 auto}\n"],encapsulation:2,changeDetection:0}),a})(),wg=(()=>{class a{constructor(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["diklat"]],decls:1,vars:0,template:function(r,u){1&r&&i._UZ(0,"router-outlet")},dependencies:[Nt.lC],encapsulation:2,changeDetection:0}),a})();var pd=G(3568),gd=G(3787);let Cg=(()=>{class a{constructor(r,u){this._diklatService=r,this._authService=u}resolve(r,u){return"ROLE_USER"===this._authService.role?this._diklatService.getPlayList():this._diklatService.getList()}}return a.\u0275fac=function(r){return new(r||a)(i.LFG(Ct.c),i.LFG(Ie.e))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),fd=(()=>{class a{constructor(r,u,p){this._router=r,this._diklatService=u,this._authService=p}resolve(r,u){return"ROLE_USER"===this._authService.role?this._diklatService.getPlayById(r.paramMap.get("id")).pipe((0,pd.K)(f=>{console.error(f);const _=u.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(_),(0,gd._)(f)})):this._diklatService.getById(r.paramMap.get("id")).pipe((0,pd.K)(f=>{console.error(f);const _=u.url.split("/").slice(0,-1).join("/");return this._router.navigateByUrl(_),(0,gd._)(f)}))}}return a.\u0275fac=function(r){return new(r||a)(i.LFG(Nt.F0),i.LFG(Ct.c),i.LFG(Ie.e))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var as=G(5490),rt=G(1379),ke=G(8772),ls=G(6738),Ae=G.n(ls),pe=G(3704);let bd=(()=>{class a{constructor(r,u,p,f,_,C,D,x){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._referensiService=_,this._toastr=C,this._diklatService=D,this._changeDetectorRef=x,this.jenisKegiatanList=this._helperService.jenisKegiatanList(),this.groupDiklatList$=this._referensiService.groupDiklat(),this.topicDiklatList$=this._referensiService.groupTopic(),this.kategoriDiklat=[],this.onFileInputed=!1,this._unsubscribeAll=new lt.x}ngOnInit(){this.form=this._formBuilder.group({title:[this._data.section?.title?this._data.section?.title:"",[F.kI.required]],summary:[this._data.section?.description?this._data.section?.description:"",[F.kI.required]],startDate:[this._data.section?.startDate,[F.kI.required]]})}ngAfterViewInit(){Object.values(this.form.controls).forEach(r=>{r.markAsTouched()}),this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}create(){const r=this.form.getRawValue(),u={courseId:this._data.id,title:r.title,summary:r.summary,startDate:Ae()(r.startDate).format("YYYY-MM-DD"),endDate:Ae()(r.startDate).format("YYYY-MM-DD")};this._data.section&&(u.id=this._data.section.id),this._data.section?this._diklatService.sectionModify(JSON.stringify(u)).subscribe(p=>{p?.success?(this._toastr.success("Sesi `"+r.title+"` berhasil diubah"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(p?.message,"ERROR")}):this._diklatService.sectionCreate(JSON.stringify(u)).subscribe(p=>{p?.success?(this._toastr.success("Sesi `"+r.title+"` berhasil ditambahkan"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(p?.message,"ERROR")})}clearFileInput(r){this.form.get(r).setValue(null),document.getElementById(r).src="assets/images/no_image.png"}readFileAsync(r){return new Promise((u,p)=>{const f=new FileReader;f.onload=()=>{u(f.result)},f.onerror=p,f.readAsDataURL(r)})}onFileInput(r,u){const f=r.target.files[0],_=Math.round(f.size/Math.pow(1024,1)),C=["image/jpeg","image/jpg","image/png"].find(x=>x===f.type);_>2e3&&this._toastr.warning("Ukuran maksimum file tidak boleh lebih dari 2MB","ERROR"),C||this._toastr.warning("Format file tidak sesuai, format file harus: *.png, *.jpg atau *.jpeg","ERROR"),this.form.get(u).setValue(f),this.readFileAsync(f).then(x=>{const y=document.getElementById(u);y&&(y.src=x,this._changeDetectorRef.markForCheck())})}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36($t.A2),i.Y36(ne._W),i.Y36(Ct.c),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:31,vars:14,consts:[[1,"flex","flex-col","flex-auto","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4","flex","items-center"],[1,"fuse-mat-no-subscript","w-full"],["matInput","",3,"formControlName","spellcheck"],[1,"mt-4"],[1,"fuse-mat-textarea","w-full"],["matInput","",3,"rows","formControlName","spellcheck"],[1,"fuse-mat-no-subscript","min-w-60"],["matInput","",3,"matDatepicker","formControlName","focus"],["matSuffix","",3,"for"],["_tanggal",""],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"]],template:function(r,u){if(1&r){const p=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),i._uU(11,"Judul"),i.qZA(),i._UZ(12,"input",9),i.qZA()(),i.TgZ(13,"div",10)(14,"mat-form-field",11)(15,"mat-label"),i._uU(16,"Deskripsi"),i.qZA(),i._UZ(17,"textarea",12),i.qZA()(),i.TgZ(18,"div",7)(19,"mat-form-field",13)(20,"mat-label"),i._uU(21,"Tanggal"),i.qZA(),i.TgZ(22,"input",14),i.NdJ("focus",function(){i.CHM(p);const _=i.MAs(25);return i.KtG(_.open())}),i.qZA(),i._UZ(23,"mat-datepicker-toggle",15)(24,"mat-datepicker",null,16),i.qZA()()()(),i.TgZ(26,"div",17)(27,"button",18),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(28," Batal "),i.qZA(),i.TgZ(29,"button",19),i.NdJ("click",function(){return u.create()}),i._uU(30," Submit "),i.qZA()()()}if(2&r){const p=i.MAs(25);i.xp6(3),i.hij("",u._data?"Ubah":"Tambah"," Sesi"),i.xp6(1),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(6),i.Q6J("formControlName","title")("spellcheck",!1),i.xp6(5),i.Q6J("rows",3)("formControlName","summary")("spellcheck",!1),i.xp6(5),i.Q6J("matDatepicker",p)("formControlName","startDate"),i.xp6(1),i.Q6J("for",p),i.xp6(6),i.Q6J("color","primary")("disabled",u.form.invalid)}},dependencies:[wt.lW,at.KE,at.hX,at.R9,Y.Hw,Qt.Nt,F._Y,F.Fj,F.JJ,F.JL,F.sg,F.u,pe.Mq,pe.hl,pe.nW],encapsulation:2,changeDetection:0}),a})();var cs=G(5507);function yg(a,c){if(1&a&&(i.TgZ(0,"mat-option",19),i._uU(1),i.qZA()),2&a){const r=c.$implicit;i.Q6J("value",r.id),i.xp6(1),i.AsE("",r.name," | ",r.jabatanNama," ")}}let Ag=(()=>{class a{constructor(r,u,p,f,_,C,D,x){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._referensiService=_,this._toastr=C,this._diklatService=D,this._changeDetectorRef=x,this.instructuresList$=this._referensiService.instructures(),this._unsubscribeAll=new lt.x}ngOnInit(){this.form=this._formBuilder.group({title:[this._data.activity?.title?this._data.activity?.title:"",[F.kI.required]],pelaksana:[this._data.activity?.pelaksana?this._data.activity?.pelaksana:"",[F.kI.required]],activityGroupDate:[this._data.section?.endDate,[F.kI.required]],startTime:[this._data.activity?.startTime,[F.kI.required]],endTime:[this._data.activity?.endTime,[F.kI.required]],jp:[this._data.activity?.endTime,[F.kI.required]],hasAttendance:[this._data.activity?.hasAttendance??!1],instructureId:[this._data.activity?.instructureId]})}ngAfterViewInit(){Object.values(this.form.controls).forEach(r=>{r.markAsTouched()}),this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}create(){const r=this.form.getRawValue(),u={sectionId:this._data.section.id,title:r.title,instructureId:r.instructureId,hasAttendance:r.hasAttendance,pelaksana:r.pelaksana,startTime:r.startTime.substring(0,2)+":"+r.startTime.substring(2,4),endTime:r.endTime.substring(0,2)+":"+r.endTime.substring(2,4),activityGroupDate:Ae()(r.activityGroupDate).format("YYYY-MM-DD"),jp:+r.jp};this._data.activity?.id&&(u.id=this._data.activity.id),this._data.activity?.id?this._diklatService.activityGroupModify(JSON.stringify(u)).subscribe(p=>{p?.success?(this._toastr.success("Sesi `"+r.title+"` berhasil diubah"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(p?.message,"ERROR")}):this._diklatService.activityGroupCreate(JSON.stringify(u)).subscribe(p=>{p?.success?(this._toastr.success("Sesi `"+r.title+"` berhasil ditambahkan"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(p?.message,"ERROR")})}hasAttendance(r){this.form.get("hasAttendance").setValue(r.checked)}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36($t.A2),i.Y36(ne._W),i.Y36(Ct.c),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:47,vars:24,consts:[[1,"flex","flex-col","flex-auto","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4","flex","items-center"],[1,"fuse-mat-no-subscript","w-full"],["matInput","",3,"formControlName","spellcheck"],[1,"fuse-mat-no-subscript","min-w-20","pl-2"],["matInput","",3,"formControlName","showMaskTyped","mask","leadZeroDateTime"],["formControlName","hasAttendance",1,"px-5",3,"change"],[1,"fuse-mat-no-subscript"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],[3,"value"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),i._uU(11,"Nama Aktivitas"),i.qZA(),i._UZ(12,"input",9),i.qZA()(),i.TgZ(13,"div",7)(14,"mat-form-field",8)(15,"mat-label"),i._uU(16,"Pelaksana"),i.qZA(),i._UZ(17,"input",9),i.qZA()(),i.TgZ(18,"div",7)(19,"mat-form-field",10)(20,"mat-label"),i._uU(21,"Jam Mulai"),i.qZA(),i._UZ(22,"input",11),i.qZA(),i.TgZ(23,"mat-form-field",10)(24,"mat-label"),i._uU(25,"Jam Akhir"),i.qZA(),i._UZ(26,"input",11),i.qZA(),i.TgZ(27,"mat-slide-toggle",12),i.NdJ("change",function(f){return u.hasAttendance(f)}),i._uU(28," Wajib Absen "),i.qZA(),i.TgZ(29,"mat-form-field",13)(30,"mat-label"),i._uU(31,"JP"),i.qZA(),i._UZ(32,"input",9),i.qZA()(),i.TgZ(33,"div",7)(34,"mat-form-field",8)(35,"mat-label"),i._uU(36,"Instruktur"),i.qZA(),i.TgZ(37,"mat-select",14)(38,"mat-option"),i._uU(39,"-- Pilih Instruktur --"),i.qZA(),i.YNc(40,yg,2,3,"mat-option",15),i.ALo(41,"async"),i.qZA()()()()(),i.TgZ(42,"div",16)(43,"button",17),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(44," Batal "),i.qZA(),i.TgZ(45,"button",18),i.NdJ("click",function(){return u.create()}),i._uU(46," Submit "),i.qZA()()()),2&r&&(i.xp6(3),i.hij("",null!=u._data.activity&&u._data.activity.id?"Ubah":"Tambah"," Aktivitas"),i.xp6(1),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(6),i.Q6J("formControlName","title")("spellcheck",!1),i.xp6(5),i.Q6J("formControlName","pelaksana")("spellcheck",!1),i.xp6(5),i.Q6J("formControlName","startTime")("showMaskTyped",!0)("mask","Hh:m0")("leadZeroDateTime",!0),i.xp6(4),i.Q6J("formControlName","endTime")("showMaskTyped",!0)("mask","Hh:m0")("leadZeroDateTime",!0),i.xp6(6),i.Q6J("formControlName","jp")("spellcheck",!1),i.xp6(5),i.Q6J("formControlName","instructureId"),i.xp6(3),i.Q6J("ngForOf",i.lcZ(41,22,u.instructuresList$)),i.xp6(5),i.Q6J("color","primary")("disabled",u.form.invalid))},dependencies:[wt.lW,at.KE,at.hX,Y.Hw,Qt.Nt,$.gD,rt.ey,j.Rr,it.sg,F._Y,F.Fj,F.JJ,F.JL,F.sg,F.u,cs.Z6,it.Ov],encapsulation:2,changeDetection:0}),a})();function xg(a,c){if(1&a&&(i.TgZ(0,"mat-option",16),i._uU(1),i.qZA()),2&a){const r=c.$implicit;i.Q6J("value",r.id),i.xp6(1),i.hij("",r.name," ")}}function Tg(a,c){1&a&&(i.ynx(0),i.TgZ(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),i._uU(4,"Url Youtube"),i.qZA(),i._UZ(5,"input",11),i.qZA(),i.TgZ(6,"mat-form-field",17)(7,"mat-label"),i._uU(8,"Durasi (menit)"),i.qZA(),i._UZ(9,"input",11),i.qZA()(),i.BQk()),2&a&&(i.xp6(5),i.Q6J("formControlName","link")("spellcheck",!1),i.xp6(4),i.Q6J("formControlName","numDurationInMinute")("spellcheck",!1))}function Dg(a,c){1&a&&(i.ynx(0),i.TgZ(1,"div",7)(2,"mat-form-field",26)(3,"mat-label"),i._uU(4,"Durasi (menit)"),i.qZA(),i._UZ(5,"input",11),i.qZA()(),i.BQk()),2&a&&(i.xp6(5),i.Q6J("formControlName","numDurationInMinute")("spellcheck",!1))}function ko(a,c){1&a&&(i.ynx(0),i.TgZ(1,"div",7)(2,"mat-form-field",26)(3,"mat-label"),i._uU(4,"Jumlah Halaman"),i.qZA(),i._UZ(5,"input",11),i.qZA()(),i.BQk()),2&a&&(i.xp6(5),i.Q6J("formControlName","numPage")("spellcheck",!1))}function kd(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"button",27),i.NdJ("click",function(){i.CHM(r),i.oxw();const p=i.MAs(11);return i.KtG(p.click())}),i._uU(1,"Unggah Materi"),i.qZA()}2&a&&i.Q6J("color","accent")}function Sg(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"button",28),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2);return i.KtG(p.toggleOnFileInputed(!1))}),i._UZ(1,"mat-icon",29),i.qZA()}2&a&&(i.Q6J("matTooltip","Clear"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"))}function Eg(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.YNc(1,Dg,6,2,"ng-container",12),i.YNc(2,ko,6,2,"ng-container",12),i.TgZ(3,"div",6)(4,"div",18)(5,"div",8)(6,"mat-label"),i._uU(7,"Lampiran Materi "),i.TgZ(8,"i"),i._uU(9,"(Dokumen, Maksimal ukuran 8 MB)"),i.qZA()(),i.TgZ(10,"input",19,20),i.NdJ("click",function(){i.CHM(r);const p=i.MAs(11);return i.KtG(p.value=null)})("change",function(p){i.CHM(r);const f=i.oxw();return i.KtG(f.onFileInput(p))}),i.qZA(),i.TgZ(12,"div",21)(13,"div",22),i.YNc(14,kd,2,1,"button",23),i.YNc(15,Sg,2,2,"button",24),i._UZ(16,"span",25),i.qZA()()()()(),i.BQk()}if(2&a){const r=i.oxw();i.xp6(1),i.Q6J("ngIf","VIDEO"===r.form.get("materiType").value),i.xp6(1),i.Q6J("ngIf","DOCUMENT"===r.form.get("materiType").value),i.xp6(12),i.Q6J("ngIf",!r.onFileInputed),i.xp6(1),i.Q6J("ngIf",r.onFileInputed),i.xp6(1),i.Q6J("id","fileDokumen")}}let fr=(()=>{class a{constructor(r,u,p,f,_,C,D,x){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._referensiService=_,this._toastr=C,this._diklatService=D,this._changeDetectorRef=x,this.file=null,this.onFileInputed=!1,this.jenisMaterialList=this._referensiService.jenisMaterialList(),this.instructuresList$=this._referensiService.instructures(),this.__documents$=new ln.X([]),this._unsubscribeAll=new lt.x}ngOnInit(){this.form=this._formBuilder.group({id:[this._data?._id??null],activityGroupId:[this._data?.id,[F.kI.required]],description:[this._data?.description,[F.kI.required]],materiType:[this._data?.materiType,[F.kI.required]],documentId:[this._data?.documentId??null],numDurationInMinute:[this._data?.numDurationInMinute],numPage:[this._data?.numPage],link:[this._data?.link],file:[null,[F.kI.required]]})}ngAfterViewInit(){Object.values(this.form.controls).forEach(r=>{r.markAsTouched()}),this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}uploadDocument(r,u){var p=this;return(0,mi.Z)(function*(){const f=new FormData;f.append("file",r,r.name),yield p._diklatService.courseDocumentUpload(f).pipe().subscribe(_=>{console.log("ActivityAddComponent->courseDocumentUpload-data",_),_.success?(p.__documents$.next(_),p._toastr.success("File `"+r.name+"` berhasil diupload")):p._toastr.error("File `"+r.name+"` gagal diupload, ERROR : "+_.message)},_=>p._toastr.error("File `"+r.name+"` gagal diupload, ERROR : "+_.error.message))})()}create(){const r=this.form.getRawValue(),u={id:r.id,activityGroupId:r.activityGroupId,instructureId:r.instructureId,description:r.description,materiType:r.materiType,numDurationInMinute:r.numDurationInMinute,numPage:r.numPage,link:r.link};this.uploadDocument(r.file,{title:"MATERI : "+r.file.name}),this.__documents$.subscribe(p=>{console.log("ActivityAddComponent->__documents",p),p&&p.success&&(u.documentId=p.mapData.data.id,this._data?.id?this._diklatService.activityMaterial(JSON.stringify(u)).subscribe(f=>{f?.success?(this._toastr.success("Materi `"+r.description+"` berhasil diubah"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(f?.message,"ERROR")}):this._diklatService.activityMaterial(JSON.stringify(u)).subscribe(f=>{f?.success?(this._toastr.success("Materi `"+r.description+"` berhasil ditambahkan"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(f?.message,"ERROR")}))})}toggleOnFileInputed(r=null){null===r?this.onFileInputed=!this.onFileInputed:(r||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=r),this._changeDetectorRef.markForCheck()}onFileInput(r){const u=this._referensiService.onFileInputSingle(r,"application/vnd.openxmlformats-officedocument.wordprocessingml.document",8e3);return u.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=u.fileInfo.name,this.form.get("file").setValue(r.target.files[0]),!0):(this._toastr.error(u.msg,"ERROR"),!1)}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36($t.A2),i.Y36(ne._W),i.Y36(Ct.c),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:28,vars:12,consts:[[1,"flex","flex-col","flex-auto","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4","flex","items-center"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"formControlName","spellcheck"],[4,"ngIf"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],[3,"value"],[1,"fuse-mat-no-subscript","ml-5"],[1,"mt-4","mb-4"],["type","file","accept",".doc,.docx,.ppt,.pdf,.avi,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start","mt-2"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[1,"fuse-mat-no-subscript"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),i._uU(11,"Jenis Materi"),i.qZA(),i.TgZ(12,"mat-select",9)(13,"mat-option"),i._uU(14,"-- Pilih Materi --"),i.qZA(),i.YNc(15,xg,2,2,"mat-option",10),i.qZA()()(),i.TgZ(16,"div",7)(17,"mat-form-field",8)(18,"mat-label"),i._uU(19,"Keterangan"),i.qZA(),i._UZ(20,"input",11),i.qZA()(),i.YNc(21,Tg,10,4,"ng-container",12),i.YNc(22,Eg,17,5,"ng-container",12),i.qZA()(),i.TgZ(23,"div",13)(24,"button",14),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(25," Batal "),i.qZA(),i.TgZ(26,"button",15),i.NdJ("click",function(){return u.create()}),i._uU(27," Submit "),i.qZA()()()),2&r&&(i.xp6(3),i.hij("",null!=u._data.activity&&u._data.activity.id?"Ubah":"Tambah"," Aktivitas Detail"),i.xp6(1),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(6),i.Q6J("formControlName","materiType"),i.xp6(3),i.Q6J("ngForOf",u.jenisMaterialList),i.xp6(5),i.Q6J("formControlName","description")("spellcheck",!1),i.xp6(1),i.Q6J("ngIf","YOUTUBE"===u.form.get("materiType").value),i.xp6(1),i.Q6J("ngIf","DOCUMENT"===u.form.get("materiType").value||"VIDEO"===u.form.get("materiType").value),i.xp6(4),i.Q6J("color","primary")("disabled",u.form.invalid))},dependencies:[wt.lW,at.KE,at.hX,Y.Hw,Qt.Nt,$.gD,rt.ey,H.gM,it.sg,it.O5,F._Y,F.Fj,F.JJ,F.JL,F.sg,F.u],encapsulation:2,changeDetection:0}),a})(),Ig=(()=>{class a{constructor(r,u,p,f,_,C,D){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._toastr=_,this._diklatService=C,this._changeDetectorRef=D,this._unsubscribeAll=new lt.x}ngOnInit(){this.form=this._formBuilder.group({id:[this._data?._id??null],activityGroupId:[this._data?.id,[F.kI.required]],description:[this._data?.description,[F.kI.required]],link:[this._data?.link,[F.kI.required]]})}ngAfterViewInit(){Object.values(this.form.controls).forEach(r=>{r.markAsTouched()}),this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}create(){const r=this.form.getRawValue(),u={id:r.id,activityGroupId:r.activityGroupId,description:r.description,link:r.link};this._data?.id?this._diklatService.activityURL(JSON.stringify(u)).subscribe(p=>{p?.success?(this._toastr.success("Berbagi Url `"+r.description+"` berhasil diubah"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(p?.message,"ERROR")}):this._diklatService.activityURL(JSON.stringify(u)).subscribe(p=>{p?.success?(this._toastr.success("Berbagi Url `"+r.description+"` berhasil ditambahkan"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(p?.message,"ERROR")})}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36(ne._W),i.Y36(Ct.c),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:23,vars:10,consts:[[1,"flex","flex-col","flex-auto","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4","flex","items-center"],[1,"fuse-mat-no-subscript","w-full"],["matInput","",3,"formControlName","spellcheck"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),i._uU(11,"Keterangan"),i.qZA(),i._UZ(12,"input",9),i.qZA()(),i.TgZ(13,"div",7)(14,"mat-form-field",8)(15,"mat-label"),i._uU(16,"Url"),i.qZA(),i._UZ(17,"input",9),i.qZA()()()(),i.TgZ(18,"div",10)(19,"button",11),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(20," Batal "),i.qZA(),i.TgZ(21,"button",12),i.NdJ("click",function(){return u.create()}),i._uU(22," Submit "),i.qZA()()()),2&r&&(i.xp6(3),i.hij("",null!=u._data.activity&&u._data.activity.id?"Ubah":"Tambah"," Bagi Url"),i.xp6(1),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(6),i.Q6J("formControlName","description")("spellcheck",!1),i.xp6(5),i.Q6J("formControlName","link")("spellcheck",!1),i.xp6(4),i.Q6J("color","primary")("disabled",u.form.invalid))},dependencies:[wt.lW,at.KE,at.hX,Y.Hw,Qt.Nt,F._Y,F.Fj,F.JJ,F.JL,F.sg,F.u],encapsulation:2,changeDetection:0}),a})();var Mg=G(9602);const Pg=["expandable"];function Rg(a,c){if(1&a&&i._UZ(0,"img",44),2&a){const r=i.oxw().$implicit;i.Q6J("src",r.path,i.LSH)}}function _o(a,c){if(1&a&&(i.TgZ(0,"div",45)(1,"div",46),i._uU(2),i.qZA()()),2&a){const r=i.oxw().$implicit;i.xp6(2),i.hij(" ",r.mimeType.split("/")[1].trim().toUpperCase()," ")}}function br(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",38),i.YNc(2,Rg,1,1,"img",39),i.YNc(3,_o,3,1,"div",40),i.TgZ(4,"div",41)(5,"div",42),i._uU(6),i.qZA(),i.TgZ(7,"div",43),i._uU(8),i.ALo(9,"number"),i.qZA()()(),i.BQk()),2&a){const r=c.$implicit;i.xp6(2),i.Q6J("ngIf",r.mimeType.startsWith("image/")),i.xp6(1),i.Q6J("ngIf",r.mimeType.startsWith("application/")),i.xp6(2),i.Q6J("title",r.title),i.xp6(1),i.hij(" ",r.title," "),i.xp6(1),i.Q6J("title",r.size),i.xp6(1),i.hij(" ",i.xi3(9,6,r.size/1e3,"1.0-2")," KB ")}}function Ng(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",21)(2,"div",22),i._UZ(3,"mat-icon",34),i.TgZ(4,"div",35),i._uU(5),i.qZA()(),i.TgZ(6,"div",36),i.YNc(7,br,10,9,"ng-container",37),i.qZA()(),i.BQk()),2&a){const r=i.oxw();i.xp6(3),i.Q6J("svgIcon","heroicons_solid:paper-clip"),i.xp6(2),i.hij("",r.attachments.length," Lampiran"),i.xp6(2),i.Q6J("ngForOf",r.attachments)}}const Lg=function(a){return{"rotate-180":a}};let vo=(()=>{class a{constructor(r,u,p,f,_,C,D,x){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._referensiService=_,this._toastr=C,this._diklatService=D,this._changeDetectorRef=x,this.file=null,this.attachments=[],this.onFileInputed=!1,this.jenisMaterialList=this._referensiService.jenisMaterialList(),this._unsubscribeAll=new lt.x}ngOnInit(){this.form=this._formBuilder.group({id:[this._data?._id??null],title:[null],activityGroupId:[this._data?.id,[F.kI.required]],dueDateCompletion:[this._data?.description,[F.kI.required]],dueTimeCompletion:[this._data?.description,[F.kI.required]]})}ngAfterViewInit(){Object.values(this.form.controls).forEach(r=>{r.markAsTouched()}),this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}create(){const r=this.form.getRawValue(),u={id:r.id,activityGroupId:r.activityGroupId,dueDateCompletion:Ae()(r.dueDateCompletion).format("YYYY-MM-DD")+" "+r.dueTimeCompletion.substring(0,2)+":"+r.dueTimeCompletion.substring(2,4),documents:this.attachments.map(p=>p.id)};this._data?.id?this._diklatService.activityAssignment(JSON.stringify(u)).subscribe(p=>{p?.success?(this._toastr.success("Tugas berhasil diubah"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(p?.message,"ERROR")}):this._diklatService.activityAssignment(JSON.stringify(u)).subscribe(p=>{p?.success?(this._toastr.success("Tugas berhasil ditambahkan"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(p?.message,"ERROR")})}toggleOnFileInputed(r=null){null===r?this.onFileInputed=!this.onFileInputed:(r||(document.getElementById("fileDokumen").innerText=null),this.onFileInputed=r),this._changeDetectorRef.markForCheck()}onFileInput(r){const u=this._referensiService.onFileInputSingle(r,"application/pdf",2e3);if(!u.isSuccess)return this._toastr.error(u.msg,"ERROR"),!1;const p=this.form.getRawValue(),f=new FormData;return f.append("title",p.title),f.append("file",r.target.files[0]),this._diklatService.courseDocumentUpload(f).subscribe(_=>{_?.success?(this.attachments.push(_.mapData.data),this.expandable.expanded=!1,this._toastr.success("Materi `"+_.mapData.data+"` berhasil ditambahkan"),this.form.get("title").setValue(null),this._changeDetectorRef.markForCheck()):this._toastr.error(_?.message,"ERROR")}),!0}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36($t.A2),i.Y36(ne._W),i.Y36(Ct.c),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(r,u){if(1&r&&i.Gf(Pg,7),2&r){let p;i.iGM(p=i.CRH())&&(u.expandable=p.first)}},features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:49,vars:23,consts:[[1,"flex","flex-col","flex-auto","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full","py-4",2,"--tw-shadow","none !important"],["expandable","fuseCard"],[4,"ngIf"],[1,"mt-4"],[1,"fuse-mat-no-subscript","min-w-60"],["matInput","",3,"matDatepicker","formControlName","focus"],["matSuffix","",3,"for"],["_dueDateCompletion",""],[1,"fuse-mat-no-subscript","min-w-10","pl-2"],["matInput","",3,"formControlName","showMaskTyped","mask","leadZeroDateTime"],["mat-button","",1,"px-3","ml-5",3,"color","click"],[1,"mr-1"],[1,"icon-size-5","transition-transform","ease-in-out","duration-150","rotate-0",3,"ngClass","svgIcon"],["fuseCardExpansion",""],[1,"bg-gray-50","dark:bg-transparent","px-5","py-5","mt-5"],[1,"flex","flex-col","w-full"],[1,"flex","items-center"],[1,"fuse-mat-no-subscript","w-full","mr-5"],["matInput","",3,"formControlName","spellcheck"],[1,"fuse-mat-no-subscript","w-full"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start","mt-2"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["mat-flat-button","",1,"mr-2",3,"disabled","color","click"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-semibold"],[1,"flex","flex-wrap","-m-3","mt-3"],[4,"ngFor","ngForOf"],[1,"flex","items-center","m-3"],["class","w-10 h-10 rounded-md overflow-hidden",3,"src",4,"ngIf"],["class","flex items-center justify-center w-10 h-10 rounded-md overflow-hidden bg-primary-100",4,"ngIf"],[1,"ml-3"],[1,"text-md","font-medium","truncate",3,"title"],[1,"text-sm","font-medium","truncate","text-secondary",3,"title"],[1,"w-10","h-10","rounded-md","overflow-hidden",3,"src"],[1,"flex","items-center","justify-center","w-10","h-10","rounded-md","overflow-hidden","bg-primary-100"],[1,"flex","items-center","justify-center","text-sm","font-semibold","text-primary-500-800"]],template:function(r,u){if(1&r){const p=i.EpF();i.TgZ(0,"fuse-card",0)(1,"div",1)(2,"div",2),i._uU(3),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"fuse-card",6,7),i.YNc(9,Ng,8,3,"ng-container",8),i.TgZ(10,"div",9)(11,"mat-form-field",10)(12,"mat-label"),i._uU(13,"Batas waktu mengumpulkan"),i.qZA(),i.TgZ(14,"input",11),i.NdJ("focus",function(){i.CHM(p);const _=i.MAs(17);return i.KtG(_.open())}),i.qZA(),i._UZ(15,"mat-datepicker-toggle",12)(16,"mat-datepicker",null,13),i.qZA(),i.TgZ(18,"mat-form-field",14)(19,"mat-label"),i._uU(20,"Jam"),i.qZA(),i._UZ(21,"input",15),i.qZA(),i.TgZ(22,"button",16),i.NdJ("click",function(){i.CHM(p);const _=i.MAs(8);return i.KtG(_.expanded=!_.expanded)}),i.TgZ(23,"span",17),i._uU(24,"Lampirkan tugas"),i.qZA(),i._UZ(25,"mat-icon",18),i.qZA()(),i.ynx(26,19),i.TgZ(27,"div",20)(28,"div",21)(29,"div",22)(30,"mat-form-field",23)(31,"mat-label"),i._uU(32,"Judul Lampiran"),i.qZA(),i._UZ(33,"input",24),i.qZA(),i.TgZ(34,"div",25)(35,"mat-label")(36,"i"),i._uU(37,"PDF, Maksimal ukuran file 2 MB"),i.qZA()(),i.TgZ(38,"input",26,27),i.NdJ("click",function(){i.CHM(p);const _=i.MAs(39);return i.KtG(_.value=null)})("change",function(_){return u.onFileInput(_)}),i.qZA(),i.TgZ(40,"div",28)(41,"div",29)(42,"button",30),i.NdJ("click",function(){i.CHM(p);const _=i.MAs(39);return i.KtG(_.click())}),i._uU(43,"Unggah"),i.qZA()()()()()()(),i.BQk(),i.qZA()(),i.TgZ(44,"div",31)(45,"button",32),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(46," Batal "),i.qZA(),i.TgZ(47,"button",33),i.NdJ("click",function(){return u.create()}),i._uU(48," Submit "),i.qZA()()()}if(2&r){const p=i.MAs(8),f=i.MAs(17);i.xp6(3),i.hij("",null!=u._data.activity&&u._data.activity.id?"Ubah":"Tambah"," Tugas"),i.xp6(1),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(3),i.Q6J("ngIf",u.attachments&&u.attachments.length>0),i.xp6(5),i.Q6J("matDatepicker",f)("formControlName","dueDateCompletion"),i.xp6(1),i.Q6J("for",f),i.xp6(6),i.Q6J("formControlName","dueTimeCompletion")("showMaskTyped",!0)("mask","Hh:m0")("leadZeroDateTime",!0),i.xp6(1),i.Q6J("color","primary"),i.xp6(3),i.Q6J("ngClass",i.VKq(21,Lg,p.expanded))("svgIcon","heroicons_solid:chevron-down"),i.xp6(8),i.Q6J("formControlName","title")("spellcheck",!1),i.xp6(9),i.Q6J("disabled",!u.form.get("title").value)("color","accent"),i.xp6(5),i.Q6J("color","primary")("disabled",u.form.invalid)}},dependencies:[wt.lW,at.KE,at.hX,at.R9,Y.Hw,Qt.Nt,it.mk,it.sg,it.O5,F._Y,F.Fj,F.JJ,F.JL,F.sg,F.u,pe.Mq,pe.hl,pe.nW,Mg.y,cs.Z6,it.JJ],encapsulation:2,changeDetection:0}),a})();var ds=G(4993);function Bg(a,c){if(1&a&&(i.TgZ(0,"mat-option",16),i._uU(1),i.qZA()),2&a){const r=c.$implicit;i.Q6J("value",r),i.xp6(1),i.AsE("",r.name," | ",r.questionType," ")}}function kr(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",7)(2,"div",17)(3,"div",18)(4,"div",19)(5,"div",20),i._uU(6,"Soal"),i.qZA(),i.TgZ(7,"div",21),i._uU(8),i.qZA(),i._UZ(9,"div",22),i.TgZ(10,"div",20),i._uU(11,"Jenis"),i.qZA(),i.TgZ(12,"div",21),i._uU(13),i.qZA(),i._UZ(14,"div",22),i.TgZ(15,"div",20),i._uU(16,"Durasi"),i.qZA(),i.TgZ(17,"div",21),i._uU(18),i.qZA(),i._UZ(19,"div",22),i.TgZ(20,"div",20),i._uU(21,"Kelompok"),i.qZA(),i.TgZ(22,"div",21),i._uU(23),i.ALo(24,"titlecase"),i.qZA(),i._UZ(25,"div",22),i.qZA()()()(),i.BQk()),2&a){const r=i.oxw();i.xp6(8),i.Oqu(r.selected.name),i.xp6(5),i.Oqu(r.selected.questionType),i.xp6(5),i.hij("",r.selected.durationInMinutes," menit"),i.xp6(5),i.AsE("",i.lcZ(24,5,r.selected.courseGroup.jenisKegiatan)," | ",r.selected.courseGroup.nama,"")}}let tl=(()=>{class a{constructor(r,u,p,f,_,C,D,x){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._quizService=_,this._toastr=C,this._diklatService=D,this._changeDetectorRef=x,this.selected=null,this._unsubscribeAll=new lt.x}ngOnInit(){this._quizService.getList(0,1e3,{byCourseId:this._data.id,byCourseGroupId:this._data.courseGroup.id}).subscribe(),this.quizList$=this._quizService.items$,this.form=this._formBuilder.group({courseId:[this._data.id,[F.kI.required]],jenisCourseTest:[this._data.jenis,[F.kI.required]],bucketId:[this._data.assign?.bucketId??null,[F.kI.required]]}),this.form.get("bucketId").valueChanges.subscribe(r=>{this.selected=r})}ngAfterViewInit(){Object.values(this.form.controls).forEach(r=>{r.markAsTouched()}),this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}setSelected(r){this.selected=r}create(){const r=this.form.getRawValue();this._diklatService.assignCourseTest(JSON.stringify({courseId:r.courseId,jenisCourseTest:r.jenisCourseTest,bucketId:r.bucketId.id})).subscribe(p=>{p?.success?(this._toastr.success("Test berhasil diset"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(p?.message,"ERROR")})}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36(ds.v),i.Y36(ne._W),i.Y36(Ct.c),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],decls:23,vars:11,consts:[[1,"flex","flex-col","flex-auto","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4","flex","items-center"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],[3,"value"],[1,"bg-gray-50","dark:bg-transparent","px-5","py-5","w-full"],[1,"flex","items-center"],[1,"grid","grid-cols-12","gap-x-1","w-full"],[1,"col-span-2"],[1,"col-span-10","font-medium"],[1,"col-span-12","my-2","border-b"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),i._uU(11,"Soal"),i.qZA(),i.TgZ(12,"mat-select",9)(13,"mat-option",10),i._uU(14,"-- Pilih Soal --"),i.qZA(),i.YNc(15,Bg,2,3,"mat-option",11),i.ALo(16,"async"),i.qZA()()(),i.YNc(17,kr,26,7,"ng-container",12),i.qZA()(),i.TgZ(18,"div",13)(19,"button",14),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(20," Batal "),i.qZA(),i.TgZ(21,"button",15),i.NdJ("click",function(){return u.create()}),i._uU(22," Submit "),i.qZA()()()),2&r&&(i.xp6(3),i.hij("Set Soal ",u._data.jenis,""),i.xp6(1),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(6),i.Q6J("formControlName","bucketId"),i.xp6(3),i.Q6J("ngForOf",i.lcZ(16,9,u.quizList$)),i.xp6(2),i.Q6J("ngIf",u.selected),i.xp6(4),i.Q6J("color","primary")("disabled",u.form.invalid))},dependencies:[wt.lW,at.KE,at.hX,Y.Hw,$.gD,rt.ey,it.sg,it.O5,F._Y,F.JJ,F.JL,F.sg,F.u,it.Ov,it.rS],encapsulation:2,changeDetection:0}),a})();var us=G(1683),cn=G(3319);function wo(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"div",2),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.editMode=!0)}),i._uU(1),i._UZ(2,"mat-icon",3),i.qZA()}if(2&a){const r=i.oxw();i.xp6(1),i.hij("",r.data?r.data:"N/A"," "),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:pencil-alt")}}function Og(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"mat-form-field",4)(1,"input",5),i.NdJ("keydown.enter",function(p){return p.target.blur()})("ngModelChange",function(p){i.CHM(r);const f=i.oxw();return i.KtG(f.data=p)})("focusout",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.editMode=!1)}),i.qZA(),i.TgZ(2,"button",6),i.NdJ("focus",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.onSave())}),i._UZ(3,"mat-icon",7),i.qZA(),i.TgZ(4,"button",6),i.NdJ("focus",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.onClose())}),i._UZ(5,"mat-icon",8),i.qZA()()}if(2&a){const r=i.oxw();i.Q6J("ngClass",r.formFieldHelpers),i.xp6(1),i.Q6J("ngModel",r.data)("type",r.type),i.xp6(2),i.Q6J("svgIcon","heroicons_solid:check"),i.xp6(2),i.Q6J("svgIcon","heroicons_solid:x")}}let zg=(()=>{class a{constructor(r){this.cdk=r,this.focusOut=new i.vpe,this.editMode=!1}ngOnInit(){}onSave(){this.focusOut.emit(this.data),this.editMode=!1,this.cdk.markForCheck()}onClose(){this.editMode=!1,this.cdk.markForCheck()}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["diklat-text"]],inputs:{data:"data",type:"type"},outputs:{focusOut:"focusOut"},decls:2,vars:2,consts:[["class","text-md kt-link",3,"click",4,"ngIf"],["class","w-full",3,"ngClass",4,"ngIf"],[1,"text-md","kt-link",3,"click"],["matSuffix","",1,"icon-size-5","flaticon-edit",3,"svgIcon"],[1,"w-full",3,"ngClass"],["matInput","","appAutofocus","",3,"ngModel","type","keydown.enter","ngModelChange","focusout"],["mat-flat-button","",3,"focus"],["matSuffix","",1,"icon-size-4","text-primary",3,"svgIcon"],["matSuffix","",1,"icon-size-4",3,"svgIcon"]],template:function(r,u){1&r&&(i.YNc(0,wo,3,2,"div",0),i.YNc(1,Og,6,5,"mat-form-field",1)),2&r&&(i.Q6J("ngIf",!u.editMode),i.xp6(1),i.Q6J("ngIf",u.editMode))},dependencies:[it.mk,it.O5,F.Fj,F.JJ,F.On,Y.Hw,wt.lW,at.KE,at.R9,Qt.Nt],styles:[".flaticon-edit[_ngcontent-%COMP%]{visibility:hidden}",".kt-link[_ngcontent-%COMP%]:hover   .flaticon-edit[_ngcontent-%COMP%]{visibility:visible}"],changeDetection:0}),a})();function _d(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"div",2),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.editMode=!0)}),i._uU(1),i._UZ(2,"mat-icon",3),i.qZA()}if(2&a){const r=i.oxw();i.xp6(1),i.AsE("",r._start?r._start:"N/A"," - ",r._end?r._end:"N/A"," "),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:pencil-alt")}}function vd(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"mat-form-field",4)(1,"mat-date-range-input",5)(2,"input",6),i.NdJ("ngModelChange",function(p){i.CHM(r);const f=i.oxw();return i.KtG(f.start=p)})("focus",function(){i.CHM(r);const p=i.MAs(5);return i.KtG(p.open())}),i.qZA(),i.TgZ(3,"input",7),i.NdJ("ngModelChange",function(p){i.CHM(r);const f=i.oxw();return i.KtG(f.end=p)})("focus",function(){i.CHM(r);const p=i.MAs(5);return i.KtG(p.open())}),i.qZA()(),i._UZ(4,"mat-date-range-picker",null,8),i.TgZ(6,"button",9),i.NdJ("focus",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.onSave())}),i._UZ(7,"mat-icon",10),i.qZA(),i.TgZ(8,"button",9),i.NdJ("focus",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.onClose())}),i._UZ(9,"mat-icon",11),i.qZA()()}if(2&a){const r=i.MAs(5),u=i.oxw();i.xp6(1),i.Q6J("rangePicker",r)("min",u.minDate)("max",u.maxDate),i.xp6(1),i.Q6J("ngModel",u.start),i.xp6(1),i.Q6J("ngModel",u.end),i.xp6(4),i.Q6J("svgIcon","heroicons_solid:check"),i.xp6(2),i.Q6J("svgIcon","heroicons_solid:x")}}const Fg={parse:{dateInput:"DD-MM-YYYY"},display:{dateInput:"DD-MM-YYYY",monthYearLabel:"DD-MM-YYYY",dateA11yLabel:"DD-MM-YYYY",monthYearA11yLabel:"DD-MM-YYYY"}};let jg=(()=>{class a{constructor(r){this.cdk=r,this.focusOut=new i.vpe,this.editMode=!1}ngOnInit(){this._start=Ae()(this.start).format("DD-MM-YYYY"),this._end=Ae()(this.end).format("DD-MM-YYYY")}onSave(){this._start=Ae()(this.start).format("DD-MM-YYYY"),this._end=Ae()(this.end).format("DD-MM-YYYY"),this.focusOut.emit({startDate:Ae()(this.start).format("YYYY-MM-DD"),endDate:Ae()(this.end).format("YYYY-MM-DD")}),this.editMode=!1,this.cdk.markForCheck()}onClose(){this.editMode=!1,this.cdk.markForCheck()}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["diklat-date-range"]],inputs:{start:"start",end:"end",type:"type",minDate:"minDate",maxDate:"maxDate"},outputs:{focusOut:"focusOut"},features:[i._Bn([{provide:rt.sG,useValue:Fg},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:2,vars:2,consts:[["class","text-md kt-link",3,"click",4,"ngIf"],["class","fuse-mat-no-subscript w-full",4,"ngIf"],[1,"text-md","kt-link",3,"click"],["matSuffix","",1,"icon-size-5","flaticon-edit",3,"svgIcon"],[1,"fuse-mat-no-subscript","w-full"],[3,"rangePicker","min","max"],["matStartDate","","placeholder","Mulai",3,"ngModel","ngModelChange","focus"],["matEndDate","","placeholder","Akhir",3,"ngModel","ngModelChange","focus"],["_tglMulaiAkhir",""],["mat-flat-button","",3,"focus"],["matSuffix","",1,"icon-size-4","text-primary",3,"svgIcon"],["matSuffix","",1,"icon-size-4",3,"svgIcon"]],template:function(r,u){1&r&&(i.YNc(0,_d,3,3,"div",0),i.YNc(1,vd,10,7,"mat-form-field",1)),2&r&&(i.Q6J("ngIf",!u.editMode),i.xp6(1),i.Q6J("ngIf",u.editMode))},dependencies:[it.O5,F.Fj,F.JJ,F.On,Y.Hw,wt.lW,at.KE,at.R9,pe.wx,pe.zY,pe.By,pe._g],styles:[".flaticon-edit[_ngcontent-%COMP%]{visibility:hidden}",".kt-link[_ngcontent-%COMP%]:hover   .flaticon-edit[_ngcontent-%COMP%]{visibility:visible}"],changeDetection:0}),a})(),el=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-widget-lampiran-youtube"]],inputs:{item:"item"},decls:5,vars:3,consts:[[1,"flex","flex-col","w-full"],[1,"flex","items-center"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-semibold"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"mat-icon",2),i.TgZ(3,"div",3),i._uU(4),i.qZA()()()),2&r&&(i.xp6(2),i.Q6J("svgIcon","heroicons_solid:external-link"),i.xp6(2),i.AsE(" ",u.item.link," | durasi ",u.item.numDurationInMinute," Menit"))},dependencies:[Y.Hw],encapsulation:2,changeDetection:0}),a})(),Vg=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=i.Xpm({type:a,selectors:[["app-widget-pre-post-test"]],inputs:{item:"item"},decls:27,vars:7,consts:[[1,"mt-4","flex","items-center"],[1,"bg-gray-50","dark:bg-transparent","px-5","py-5","w-full"],[1,"flex","items-center"],[1,"grid","grid-cols-12","gap-x-1","w-full"],[1,"col-span-2"],[1,"col-span-10","font-medium"],[1,"col-span-12","my-2","border-b"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),i._uU(5,"Soal"),i.qZA(),i.TgZ(6,"div",5),i._uU(7),i.qZA(),i._UZ(8,"div",6),i.TgZ(9,"div",4),i._uU(10,"Jenis"),i.qZA(),i.TgZ(11,"div",5),i._uU(12),i.qZA(),i._UZ(13,"div",6),i.TgZ(14,"div",4),i._uU(15,"Durasi"),i.qZA(),i.TgZ(16,"div",5),i._uU(17),i.qZA(),i._UZ(18,"div",6),i.TgZ(19,"div",4),i._uU(20,"Kelompok"),i.qZA(),i.TgZ(21,"div",5),i._uU(22),i.ALo(23,"titlecase"),i.qZA(),i._UZ(24,"div",6),i.TgZ(25,"div",4),i._uU(26,"Topik"),i.qZA()()()()()),2&r&&(i.xp6(7),i.Oqu(u.item.name),i.xp6(5),i.hij(" ",u.item.questionType," "),i.xp6(5),i.hij(" ",u.item.durationInMinutes," menit "),i.xp6(5),i.AsE(" ",i.lcZ(23,5,u.item.courseGroup.jenisKegiatan)," | ",u.item.courseGroup.nama," "))},dependencies:[it.rS],encapsulation:2,changeDetection:0}),a})();function wd(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"a",38),i._UZ(2,"mat-icon",39),i.qZA(),i.BQk()),2&a){const r=i.oxw();i.xp6(1),i.Q6J("href",r.baseUrl+r.course.coverImagePath,i.LSH),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:zoom-in")}}function Cd(a,c){if(1&a&&i._UZ(0,"img",40),2&a){const r=i.oxw();i.Q6J("src",r.baseUrl+r.course.coverImagePath,i.LSH)}}function yd(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",58),i._uU(2,"\u2022"),i.qZA(),i.TgZ(3,"div",44),i._UZ(4,"mat-icon",63),i._uU(5),i.qZA(),i.BQk()),2&a){const r=i.oxw().$implicit;i.xp6(5),i.hij(" ",r.instructureName," ")}}function hs(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"app-widget-lampiran-dokumen",71),i.BQk()),2&a){const r=c.$implicit;i.xp6(1),i.Q6J("item",r)}}function $g(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",65),i._uU(2),i.ALo(3,"titlecase"),i.qZA(),i.TgZ(4,"div",66)(5,"div",45)(6,"div",44),i._UZ(7,"mat-icon",51),i.TgZ(8,"div",67),i._uU(9),i.TgZ(10,"strong"),i._uU(11),i.ALo(12,"date"),i.qZA()()(),i.TgZ(13,"div",68),i.YNc(14,hs,2,1,"ng-container",41),i.qZA()()(),i.TgZ(15,"div",69)(16,"button",50),i._UZ(17,"mat-icon",51),i.qZA(),i.TgZ(18,"mat-menu",null,70)(20,"button",53),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(5);return i.KtG(f.toggleEdit(p))}),i.TgZ(21,"span",44)(22,"span"),i._uU(23,"Ubah"),i.qZA()()(),i.TgZ(24,"button",53),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(5);return i.KtG(f.toggleDeleteActivityDetail(p))}),i.TgZ(25,"span",44)(26,"span"),i._uU(27,"Hapus"),i.qZA()()()()(),i.BQk()}if(2&a){const r=i.MAs(19),u=i.oxw().$implicit;i.xp6(2),i.AsE(" ",u.orderNo,". ",i.lcZ(3,8,u.activityType)," "),i.xp6(5),i.Q6J("svgIcon","heroicons_solid:paper-clip"),i.xp6(2),i.hij(" ",null==u||null==u.documents?null:u.documents.courseDocumentPayloads.length," Lampiran | Deadline "),i.xp6(2),i.hij("",i.xi3(12,10,u.dueDateCompletion,"hh:mm")," WIB"),i.xp6(3),i.Q6J("ngForOf",null==u||null==u.documents?null:u.documents.courseDocumentPayloads),i.xp6(2),i.Q6J("matMenuTriggerFor",r),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:dots-vertical")}}function Ug(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",65),i._uU(2),i.ALo(3,"titlecase"),i.qZA(),i.TgZ(4,"div",66),i._uU(5,"Batas Waktu Absen "),i.TgZ(6,"strong"),i._uU(7),i.ALo(8,"date"),i.qZA()(),i.TgZ(9,"div",69)(10,"button",50),i._UZ(11,"mat-icon",51),i.qZA(),i.TgZ(12,"mat-menu",null,70)(14,"button",53),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(5);return i.KtG(f.toggleEdit(p))}),i.TgZ(15,"span",44)(16,"span"),i._uU(17,"Ubah"),i.qZA()()(),i.TgZ(18,"button",53),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(5);return i.KtG(f.toggleDeleteActivityDetail(p))}),i.TgZ(19,"span",44)(20,"span"),i._uU(21,"Hapus"),i.qZA()()()()(),i.BQk()}if(2&a){const r=i.MAs(13),u=i.oxw().$implicit;i.xp6(2),i.AsE(" ",u.orderNo,". ",i.lcZ(3,5,u.activityType)," "),i.xp6(5),i.hij("",i.xi3(8,7,u.dueDateCompletion,"hh:mm")," WIB"),i.xp6(3),i.Q6J("matMenuTriggerFor",r),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:dots-vertical")}}function il(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",65),i._uU(2),i.ALo(3,"titlecase"),i.qZA(),i.TgZ(4,"div",66)(5,"div",45)(6,"div",44),i._UZ(7,"mat-icon",51),i.TgZ(8,"div",67),i._uU(9),i.qZA()()()(),i.TgZ(10,"div",69)(11,"button",50),i._UZ(12,"mat-icon",51),i.qZA(),i.TgZ(13,"mat-menu",null,70)(15,"button",53),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(5);return i.KtG(f.toggleEdit(p))}),i.TgZ(16,"span",44)(17,"span"),i._uU(18,"Ubah"),i.qZA()()(),i.TgZ(19,"button",53),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(5);return i.KtG(f.toggleDeleteActivityDetail(p))}),i.TgZ(20,"span",44)(21,"span"),i._uU(22,"Hapus"),i.qZA()()()()(),i.BQk()}if(2&a){const r=i.MAs(14),u=i.oxw().$implicit;i.xp6(2),i.AsE(" ",u.orderNo,". ",i.lcZ(3,6,u.activityType)," "),i.xp6(5),i.Q6J("svgIcon","heroicons_solid:external-link"),i.xp6(2),i.hij(" ",u.link,""),i.xp6(2),i.Q6J("matMenuTriggerFor",r),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:dots-vertical")}}function Zg(a,c){if(1&a&&(i.ynx(0),i._UZ(1,"app-widget-lampiran-youtube",71),i.BQk()),2&a){const r=i.oxw(2).$implicit;i.xp6(1),i.Q6J("item",r)}}function Ad(a,c){1&a&&i.GkF(0)}function Xt(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",45)(2,"div",72),i._UZ(3,"app-widget-lampiran-dokumen",71),i.qZA()(),i.BQk()),2&a){const r=i.oxw(2).$implicit;i.xp6(3),i.Q6J("item",r.document)}}function Hg(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",65),i._uU(2),i.ALo(3,"titlecase"),i.qZA(),i.TgZ(4,"div",66),i.YNc(5,Zg,2,1,"ng-container",25),i.YNc(6,Ad,1,0,"ng-container",25),i.YNc(7,Xt,4,1,"ng-container",25),i.qZA(),i.TgZ(8,"div",69)(9,"button",50),i._UZ(10,"mat-icon",51),i.qZA(),i.TgZ(11,"mat-menu",null,70)(13,"button",53),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(5);return i.KtG(f.toggleEdit(p))}),i.TgZ(14,"span",44)(15,"span"),i._uU(16,"Ubah"),i.qZA()()(),i.TgZ(17,"button",53),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(5);return i.KtG(f.toggleDeleteActivityDetail(p))}),i.TgZ(18,"span",44)(19,"span"),i._uU(20,"Hapus"),i.qZA()()()()(),i.BQk()}if(2&a){const r=i.MAs(12),u=i.oxw().$implicit;i.xp6(2),i.AsE(" ",u.orderNo,". ",i.lcZ(3,7,u.activityType)," "),i.xp6(3),i.Q6J("ngIf","YOUTUBE"===u.materiType),i.xp6(1),i.Q6J("ngIf","VIDEO"===u.materiType),i.xp6(1),i.Q6J("ngIf","DOCUMENT"===u.materiType),i.xp6(2),i.Q6J("matMenuTriggerFor",r),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:dots-vertical")}}function nl(a,c){if(1&a&&(i.ynx(0),i.YNc(1,$g,28,13,"ng-container",25),i.YNc(2,Ug,22,10,"ng-container",25),i.YNc(3,il,23,8,"ng-container",25),i.YNc(4,Hg,21,9,"ng-container",25),i._UZ(5,"div",64),i.BQk()),2&a){const r=c.$implicit;i.xp6(1),i.Q6J("ngIf","ASSIGNMENT"===r.activityType),i.xp6(1),i.Q6J("ngIf","ATTENDANCE"===r.activityType),i.xp6(1),i.Q6J("ngIf","URL"===r.activityType),i.xp6(1),i.Q6J("ngIf","MATERIAL"===r.activityType)}}function xd(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",56)(2,"div",44)(3,"div",45)(4,"div",57)(5,"div",48),i._uU(6),i.qZA(),i.TgZ(7,"div",58),i._uU(8,"\u2022"),i.qZA(),i.TgZ(9,"div",48),i._uU(10),i.qZA()(),i.TgZ(11,"div",57)(12,"div",44),i._uU(13),i.qZA(),i.TgZ(14,"div",58),i._uU(15,"\u2022"),i.qZA(),i.TgZ(16,"div",44),i._uU(17),i.qZA(),i.YNc(18,yd,6,1,"ng-container",25),i.qZA()(),i.TgZ(19,"div",49)(20,"button",50),i._UZ(21,"mat-icon",51),i.qZA(),i.TgZ(22,"mat-menu",null,59)(24,"button",53),i.NdJ("click",function(){i.CHM(r);const p=i.oxw(2).$implicit,f=i.oxw(2);return i.KtG(f.toggleSectionEdit(f.course,p))}),i.TgZ(25,"span",44)(26,"span"),i._uU(27,"Ubah Aktivitas"),i.qZA()()(),i.TgZ(28,"button",53),i.NdJ("click",function(){const f=i.CHM(r).$implicit,_=i.oxw(4);return i.KtG(_.toggleDeleteActivityGroup(f))}),i.TgZ(29,"span",44)(30,"span"),i._uU(31,"Hapus Aktivitas"),i.qZA()()()(),i.TgZ(32,"button",60),i._UZ(33,"mat-icon",30),i.TgZ(34,"span",31),i._uU(35,"Detail Aktivitas"),i.qZA()(),i.TgZ(36,"mat-menu",null,61)(38,"button",53),i.NdJ("click",function(){const f=i.CHM(r).$implicit,_=i.oxw(4);return i.KtG(_.toggleAktivtiasMateriCreate(f))}),i.TgZ(39,"span",44)(40,"span"),i._uU(41,"Membagikan materi"),i.qZA()()(),i.TgZ(42,"button",53),i.NdJ("click",function(){const f=i.CHM(r).$implicit,_=i.oxw(4);return i.KtG(_.toggleAktivtiasUrlCreate(f))}),i.TgZ(43,"span",44)(44,"span"),i._uU(45,"Membagikan url"),i.qZA()()(),i.TgZ(46,"button",53),i.NdJ("click",function(){const f=i.CHM(r).$implicit,_=i.oxw(4);return i.KtG(_.toggleAktivtiasAssignMateriCreate(f))}),i.TgZ(47,"span",44)(48,"span"),i._uU(49,"Tugas"),i.qZA()()()()()()(),i.TgZ(50,"div",54)(51,"div",44)(52,"div",62),i.YNc(53,nl,6,4,"ng-container",41),i.qZA()()(),i.BQk()}if(2&a){const r=c.$implicit,u=i.MAs(23),p=i.MAs(37);i.xp6(6),i.AsE(" Jam ",r.startTime," - ",r.endTime," WIB "),i.xp6(4),i.hij(" ",r.title,""),i.xp6(3),i.hij("",r.jp," JP "),i.xp6(4),i.hij(" ",r.pelaksana," "),i.xp6(1),i.Q6J("ngIf",null==r?null:r.instructureName),i.xp6(2),i.Q6J("matMenuTriggerFor",u),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:dots-vertical"),i.xp6(11),i.Q6J("color","primary")("matMenuTriggerFor",p),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:plus"),i.xp6(20),i.Q6J("ngForOf",r.activityDetails)}}function ms(a,c){if(1&a&&(i.ynx(0),i.YNc(1,xd,54,12,"ng-container",41),i.BQk()),2&a){const r=i.oxw().$implicit;i.xp6(1),i.Q6J("ngForOf",r.courseActivityGroupDetails)}}function ol(a,c){1&a&&(i.TgZ(0,"div",73),i._UZ(1,"mat-icon",74),i.TgZ(2,"div",75),i._uU(3," Detail Aktivitas belum dibuat!"),i.qZA()()),2&a&&(i.xp6(1),i.Q6J("svgIcon","heroicons_outline:document-search"))}function Co(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",42)(2,"div",43)(3,"div",44)(4,"div",45)(5,"span",46),i._uU(6),i.qZA(),i.TgZ(7,"span",47),i._uU(8),i.qZA(),i.TgZ(9,"span",48),i._uU(10),i.ALo(11,"date"),i.qZA()(),i.TgZ(12,"div",49)(13,"button",50),i._UZ(14,"mat-icon",51),i.qZA(),i.TgZ(15,"button",29),i.NdJ("click",function(){const f=i.CHM(r).$implicit,_=i.oxw(2);return i.KtG(_.toggleAktivtiasCreate(_.course,f))}),i._UZ(16,"mat-icon",30),i.TgZ(17,"span",31),i._uU(18,"Aktivitas"),i.qZA()(),i.TgZ(19,"mat-menu",null,52)(21,"button",53),i.NdJ("click",function(){const f=i.CHM(r).$implicit,_=i.oxw(2);return i.KtG(_.toggleSectionEdit(_.course,f))}),i.TgZ(22,"span",44)(23,"span"),i._uU(24,"Ubah Sesi"),i.qZA()()(),i.TgZ(25,"button",53),i.NdJ("click",function(){const f=i.CHM(r).$implicit,_=i.oxw(2);return i.KtG(_.toggleDeleteSectionGroup(f))}),i.TgZ(26,"span",44)(27,"span"),i._uU(28,"Hapus Sesi"),i.qZA()()()()()()(),i.TgZ(29,"div",54),i.YNc(30,ms,2,1,"ng-container",32),i.YNc(31,ol,4,1,"ng-template",null,55,i.W1O),i.qZA()(),i.BQk()}if(2&a){const r=c.$implicit,u=i.MAs(20),p=i.MAs(32);i.xp6(6),i.Oqu(r.title),i.xp6(2),i.Oqu(r.summary),i.xp6(2),i.Oqu(i.xi3(11,9,r.startDate,"ccc, d MMM yyyy")),i.xp6(3),i.Q6J("matMenuTriggerFor",u),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:dots-vertical"),i.xp6(1),i.Q6J("color","primary"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:plus"),i.xp6(14),i.Q6J("ngIf",r.courseActivityGroupDetails.length)("ngIfElse",p)}}function Td(a,c){if(1&a&&(i.ynx(0),i.YNc(1,Co,33,12,"ng-container",41),i.BQk()),2&a){const r=i.oxw();i.xp6(1),i.Q6J("ngForOf",r.course.sections)}}function sl(a,c){1&a&&(i.TgZ(0,"div",73),i._UZ(1,"mat-icon",74),i.TgZ(2,"div",75),i._uU(3,"Sesi belum dibuat!"),i.qZA()()),2&a&&(i.xp6(1),i.Q6J("svgIcon","heroicons_outline:document-search"))}function qg(a,c){if(1&a){const r=i.EpF();i.ynx(0),i._UZ(1,"app-widget-pre-post-test",71),i.TgZ(2,"div",73)(3,"button",76),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.toggleTestSet(p.course,"PRETEST"))}),i._UZ(4,"mat-icon",30),i.TgZ(5,"span",31),i._uU(6,"Set Ulang Soal Pre Test"),i.qZA()()(),i.BQk()}if(2&a){const r=i.oxw();i.xp6(1),i.Q6J("item",r.course.preTest),i.xp6(2),i.Q6J("color","primary"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:check")}}function Dd(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"div",73)(1,"button",76),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.toggleTestSet(p.course,"PRETEST"))}),i._UZ(2,"mat-icon",30),i.TgZ(3,"span",31),i._uU(4,"Set Soal Pre Test"),i.qZA()(),i._UZ(5,"mat-icon",74),i.TgZ(6,"div",75),i._uU(7,"Soal Pre Test belum diset!"),i.qZA()()}2&a&&(i.xp6(1),i.Q6J("color","primary"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:check"),i.xp6(3),i.Q6J("svgIcon","heroicons_outline:document-search"))}function Qg(a,c){if(1&a){const r=i.EpF();i.ynx(0),i._UZ(1,"app-widget-pre-post-test",71),i.TgZ(2,"div",73)(3,"button",76),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.toggleTestSet(p.course,"POSTTEST"))}),i._UZ(4,"mat-icon",30),i.TgZ(5,"span",31),i._uU(6,"Set Ulang Soal Post Test"),i.qZA()()(),i.BQk()}if(2&a){const r=i.oxw();i.xp6(1),i.Q6J("item",r.course.postTest),i.xp6(2),i.Q6J("color","primary"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:check")}}function rl(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"div",73)(1,"button",76),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.toggleTestSet(p.course,"POSTTEST"))}),i._UZ(2,"mat-icon",30),i.TgZ(3,"span",31),i._uU(4,"Set Soal Post Test"),i.qZA()(),i._UZ(5,"mat-icon",74),i.TgZ(6,"div",75),i._uU(7,"Soal Post Test belum diset!"),i.qZA()()}2&a&&(i.xp6(1),i.Q6J("color","primary"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:check"),i.xp6(3),i.Q6J("svgIcon","heroicons_outline:document-search"))}const Yg=function(){return["../.."]};let Jg=(()=>{class a{constructor(r,u,p,f,_,C){this._diklatService=r,this._changeDetectorRef=u,this._fuseConfirmationService=p,this._toastr=f,this.route=_,this._matDialog=C,this.currentStep=0,this.drawerMode="side",this.drawerOpened=!0,this.baseUrl=qe.N.baseUrl,this.courseId=this.route.snapshot.paramMap.get("id"),this.sections=new lt.x,this.courseData=new lt.x,this._unsubscribeAll=new lt.x}ngOnInit(){this.fetch()}fetch(){this._diklatService.item$.pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{console.log("====>",r),this.course=r,this.sections.next(r.sections),this.courseData.next(r),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}toggleTestSet(r,u){r.jenis=u,this._matDialog.open(tl,{data:r,autoFocus:!1,width:"50%"}).afterClosed().subscribe(f=>{console.log("toggleTestSet",f),f&&this._diklatService.getById(this.course.id).subscribe()})}toggleSectionCreate(r){r.section=null,this._matDialog.open(bd,{data:r,autoFocus:!1,width:"50%"}).afterClosed().subscribe(p=>{console.log("toggleSectionCreate",p),p&&this._diklatService.getById(this.course.id).subscribe()})}toggleSectionEdit(r,u){r.section=u,this._matDialog.open(bd,{data:r,autoFocus:!1,width:"50%"}).afterClosed().subscribe(f=>{console.log("toggleSectionEdit",f),f&&this._diklatService.getById(this.course.id).subscribe()})}toggleAktivtiasCreate(r,u){const p={};p.course=r,p.section=u,p.activity=null,console.log(p),this._matDialog.open(Ag,{data:p,autoFocus:!1,width:"50%"}).afterClosed().subscribe(_=>{console.log("toggleAktivtiasCreate",_),_&&this._diklatService.getById(this.course.id).subscribe()})}toggleAktivtiasMateriCreate(r){console.log(r),this._matDialog.open(fr,{data:r,autoFocus:!1,width:"50%"}).afterClosed().subscribe(p=>{console.log("toggleAktivtiasMateriCreate",p),p&&this._diklatService.getById(this.course.id).subscribe()})}toggleAktivtiasUrlCreate(r){console.log(r),this._matDialog.open(Ig,{data:r,autoFocus:!1,width:"50%"}).afterClosed().subscribe(p=>{console.log("toggleAktivtiasUrlCreate",p),p&&this._diklatService.getById(this.course.id).subscribe()})}toggleAktivtiasAssignMateriCreate(r){console.log(r),this._matDialog.open(vo,{data:r,autoFocus:!1,width:"50%"}).afterClosed().subscribe(p=>{console.log("toggleAktivtiasAssignMateriCreate",p),p&&this._diklatService.getById(this.course.id).subscribe()})}updateFile(r,u){if(!r.length)return;const f=r[0];if(!["image/jpeg","image/png"].includes(f.type))return;const _=new FormData;_.append("id",u.id),_.append("title",u.title),_.append("summary",u.summary),_.append("startDate",u.startDate),_.append("endDate",u.endDate),_.append("file",f),this._diklatService.courseModify(_).subscribe(C=>{C?.success?this._toastr.success("Updated"):this._toastr.error(C?.message,"ERROR")})}updateDateRangeCourse(r,u){if(r.startDate!==u.startDate||r.endDate!==u.endDate){const p=new FormData;p.append("id",u.id),p.append("title",u.title),p.append("summary",u.summary),p.append("startDate",r.startDate),p.append("endDate",r.endDate),this._diklatService.courseModify(p).pipe((0,ct.R)(this._unsubscribeAll),(0,as.x)(()=>{})).subscribe(f=>{f?.success?this._toastr.success("Updated"):this._toastr.error(f?.message,"ERROR")})}}updateCourse(r,u,p){if(r!==u[p]){const f={id:u.id,title:u.title,summary:u.summary,startDate:u.startDate,endDate:u.endDate};f[p]=r;const _=new FormData;_.append("id",u.id),_.append("title",f.title),_.append("summary",f.summary),_.append("startDate",u.startDate),_.append("endDate",u.endDate),this._diklatService.courseModify(_).pipe((0,ct.R)(this._unsubscribeAll),(0,as.x)(()=>{})).subscribe(C=>{C?.success?this._toastr.success("Updated"):this._toastr.error(C?.message,"ERROR")})}}updateActivityGroup(r,u,p){if(r!==u[p]){const f=u;f[p]=r,console.log("DiklatEditComponent->__queryParams",f);const _={id:f.id,title:f.title,activityGroupDate:f.activityDate,startTime:f.startTime,endTime:f.endTime,pelaksana:f.pelaksana,jp:f.jp};console.log("DiklatEditComponent->queryParams",_),this._diklatService.activityGroupModify(_).pipe((0,as.x)(()=>{})).subscribe(C=>{console.log("DiklatEditComponent->response",C),C.success?this._toastr.success("Updated"):this._toastr.error(C.message)},C=>this._toastr.error(C.error.message))}}toggleDeleteActivityGroup(r){this._fuseConfirmationService.open({title:"Hapus Aktivitas `"+r.title+"` ?",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:"heroicons_outline:check",color:"primary"},actions:{confirm:{show:!0,label:"Hapus",color:"primary"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(p=>{"confirmed"===p&&(console.log(r),this._diklatService.activityGroupDelete(r.id).subscribe(f=>{f?.success?(this._toastr.success("Hapus aktivitas berhasil"),this._diklatService.getById(this.course.id).subscribe()):this._toastr.error(f?.message,"ERROR")}))})}toggleDeleteSectionGroup(r){this._fuseConfirmationService.open({title:"Hapus Aktivitas `"+r.title+"` ?",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:"heroicons_outline:check",color:"primary"},actions:{confirm:{show:!0,label:"Hapus",color:"primary"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(p=>{"confirmed"===p&&(console.log(r),this._diklatService.sectionDelete(r.id).subscribe(f=>{f?.success?(this._toastr.success("Hapus sesi berhasil"),this._diklatService.getById(this.course.id).subscribe()):this._toastr.error(f?.message,"ERROR")}))})}toggleDeleteActivityDetail(r){this._fuseConfirmationService.open({title:"Hapus Aktivitas `"+r.activityType+"` ?",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:"heroicons_outline:check",color:"primary"},actions:{confirm:{show:!0,label:"Hapus",color:"primary"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(p=>{"confirmed"===p&&console.log(r)})}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ct.c),i.Y36(i.sBO),i.Y36(us.R),i.Y36(ne._W),i.Y36(Nt.gz),i.Y36(ot.uw))},a.\u0275cmp=i.Xpm({type:a,selectors:[["diklat-kelola"]],decls:60,vars:21,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","w-full","mx-auto"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"inline-flex","items-center","leading-6","text-primary","hover:underline",3,"routerLink"],[1,"inline-flex","items-center"],[1,"icon-size-5","text-current",3,"svgIcon"],[1,"ml-1.5","font-medium","leading-5"],[1,"mt-3","mb-5"],[1,"text-2xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],["mat-align-tabs","start","animationDuration","0ms"],["label","Informasi"],[1,"flex","flex-col","p-6","bg-card","rounded","overflow-hidden","border-b"],[1,"grid","grid-cols-2","gap-2"],[1,"w-full"],[1,"text-md","font-medium"],["type","text",3,"data","focusOut"],[1,"w-full","mt-5"],["type","text",3,"start","end","focusOut"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["avatarFileInput",""],["for","avatar-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-accent",3,"svgIcon"],[4,"ngIf"],["class","object-cover","style","max-width: 240px;",3,"src",4,"ngIf"],["label","Sesi"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","max-w-xs","sm:max-w-none"],["mat-flat-button","",1,"mt-8","sm:mt-0","sm:ml-auto",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[4,"ngIf","ngIfElse"],["noSesi",""],["label","Pre Test"],["noPretestSet",""],["label","Post Test"],["noPostestSet",""],["target","_blank",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover",3,"href"],["matSuffix","",3,"svgIcon"],[1,"object-cover",2,"max-width","240px",3,"src"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","mt-4","bg-card","shadow","rounded","overflow-hidden"],[1,"bg-gray-50","dark:bg-gray-700","p-4","border-b"],[1,"flex","items-center"],[1,"flex","flex-col","w-full"],[1,"text-lg","font-medium"],[1,"text-secondary"],[1,"text-md","font-semibold"],[1,"flex","items-center","justify-end"],["mat-icon-button","",1,"ml-auto","px-5",3,"matMenuTriggerFor"],[1,"icon-size-5",3,"svgIcon"],["postCardMenu08","matMenu"],["mat-menu-item","",3,"click"],[1,"flex","flex-col","p-4","border-b"],["noActivities",""],[1,"lg:block","p-4","col-span-full","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"hidden","sm:block"],["menuAktivitas","matMenu"],["mat-flat-button","",1,"mt-8","sm:mt-0","sm:ml-auto",3,"color","matMenuTriggerFor"],["menuDetailAktivitas","matMenu"],[1,"grid","grid-cols-12","gap-x-1","w-full"],["svgIcon","heroicons_outline:user",1,"icon-size-5","text-hint"],[1,"col-span-12","mb-4","border-b"],[1,"col-span-2","font-medium"],[1,"col-span-8"],[1,"ml-2","font-semibold"],[1,"flex","flex-wrap","-m-3","my-2"],[1,"col-span-2","text-right"],["menuActivityDetail","matMenu"],[3,"item"],[1,"flex","flex-wrap"],[1,"flex","flex-auto","flex-col","items-center","justify-center","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-6","text-2xl","font-semibold","tracking-tight","text-secondary"],["mat-flat-button","",1,"my-5",3,"color","click"]],template:function(r,u){if(1&r){const p=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"a",6)(8,"span",7),i._UZ(9,"mat-icon",8),i.TgZ(10,"span",9),i._uU(11,"Daftar Diklat / Kursus"),i.qZA()()()()(),i.TgZ(12,"div",10)(13,"h2",11),i._uU(14),i.qZA()(),i.TgZ(15,"mat-tab-group",12)(16,"mat-tab",13)(17,"div",14)(18,"div",15)(19,"div")(20,"div",16)(21,"div",17),i._uU(22,"Judul:"),i.qZA(),i.TgZ(23,"diklat-text",18),i.NdJ("focusOut",function(_){return u.updateCourse(_,u.course,"title")}),i.qZA()(),i.TgZ(24,"div",19)(25,"div",17),i._uU(26,"Keterangan:"),i.qZA(),i.TgZ(27,"diklat-text",18),i.NdJ("focusOut",function(_){return u.updateCourse(_,u.course,"summary")}),i.qZA()(),i.TgZ(28,"div",19)(29,"div",17),i._uU(30,"Tanggal:"),i.qZA(),i.TgZ(31,"diklat-date-range",20),i.NdJ("focusOut",function(_){return u.updateDateRangeCourse(_,u.course)}),i.qZA()()(),i.TgZ(32,"div")(33,"div",16)(34,"div",17),i._uU(35,"Poster Gambar:"),i.qZA(),i.TgZ(36,"div",7)(37,"input",21,22),i.NdJ("change",function(){i.CHM(p);const _=i.MAs(38);return i.KtG(u.updateFile(_.files,u.course))}),i.qZA(),i.TgZ(39,"label",23),i._UZ(40,"mat-icon",24),i.qZA(),i.YNc(41,wd,3,2,"ng-container",25),i.qZA(),i.YNc(42,Cd,1,1,"img",26),i.qZA()()()()(),i.TgZ(43,"mat-tab",27)(44,"div",28)(45,"button",29),i.NdJ("click",function(){return u.toggleSectionCreate(u.course)}),i._UZ(46,"mat-icon",30),i.TgZ(47,"span",31),i._uU(48,"Sesi"),i.qZA()()(),i.YNc(49,Td,2,1,"ng-container",32),i.YNc(50,sl,4,1,"ng-template",null,33,i.W1O),i.qZA(),i.TgZ(52,"mat-tab",34),i.YNc(53,qg,7,3,"ng-container",32),i.YNc(54,Dd,8,3,"ng-template",null,35,i.W1O),i.qZA(),i.TgZ(56,"mat-tab",36),i.YNc(57,Qg,7,3,"ng-container",32),i.YNc(58,rl,8,3,"ng-template",null,37,i.W1O),i.qZA()()()()()()()}if(2&r){const p=i.MAs(51),f=i.MAs(55),_=i.MAs(59);i.xp6(7),i.Q6J("routerLink",i.DdM(20,Yg)),i.xp6(2),i.Q6J("svgIcon","heroicons_solid:arrow-sm-left"),i.xp6(5),i.hij(" ",u.course.title," "),i.xp6(9),i.Q6J("data",u.course.title),i.xp6(4),i.Q6J("data",u.course.summary),i.xp6(4),i.Q6J("start",u.course.startDate)("end",u.course.endDate),i.xp6(6),i.Q6J("multiple",!1)("accept","image/jpeg, image/png"),i.xp6(3),i.Q6J("svgIcon","heroicons_outline:pencil-alt"),i.xp6(1),i.Q6J("ngIf",u.course.coverImagePath),i.xp6(1),i.Q6J("ngIf",u.course.coverImagePath),i.xp6(3),i.Q6J("color","primary"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:plus"),i.xp6(3),i.Q6J("ngIf",u.course.sections.length)("ngIfElse",p),i.xp6(4),i.Q6J("ngIf",u.course.preTest)("ngIfElse",f),i.xp6(4),i.Q6J("ngIf",u.course.postTest)("ngIfElse",_)}},dependencies:[Nt.yS,wt.lW,at.R9,Y.Hw,At.PQ,it.sg,it.O5,Z.SP,Z.uX,cn.VK,cn.OP,cn.p6,zg,jg,hi,el,Vg,it.rS,it.uU],styles:[".drawer-sidenav-content{display:flex;height:100%;align-items:center;justify-content:center}.mat-icon-button{width:20px!important;height:20px!important;line-height:20px!important}.kt-widget1 .kt-widget1__item{border-bottom:.07rem dashed #000000!important}::ng-deep .mat-button{min-width:24px!important;padding:0 4px!important}::ng-deep .mat-expansion-panel-header[aria-disabled=true]{color:#000!important}::ng-deep .mat-expansion-panel-body{padding:0!important}::ng-deep .mat-list-base{padding-top:0!important}.readonly-wrapper{cursor:not-allowed}.readonly-wrapper .readonly-block{pointer-events:none}.numbering{background-color:#a9a9a9;font-size:.7rem;height:10px!important;text-align:center}.tbl_header{text-align:center;vertical-align:middle;font-size:1rem;font-weight:700}.table-bordered th,.table-bordered td{vertical-align:top!important;border:1px solid #000000!important}.zero-padding{padding:0!important}.rejected{border-left:10px solid red!important}.waiting-approval{border-left:10px solid yellow!important}.draft{border-left:10px solid grey!important}.table-success-OK,.table-success-OK>td,.table-success-OK>th{background-color:#baecdd!important}.table-success-NOK,.table-success-NOK>td,.table-success-NOK>th{background-color:#fec8da!important}.table-success-DRAFT,.table-success-DRAFT>td,.table-success-DRAFT>th{background-color:#d0d4f5!important}.table-success-CORRECTION,.table-success-CORRECTION>td,.table-success-CORRECTION>th{background-color:#ffebc1!important}.table th,.table td{padding:.25rem!important;font-size:.8rem!important}\n"],encapsulation:2,changeDetection:0}),a})();var Gg=G(5696),$n=G(3151);function al(a,c){if(1&a&&(i.TgZ(0,"mat-option",34),i._uU(1),i.qZA()),2&a){const r=c.$implicit;i.Q6J("value",r.id),i.xp6(1),i.Oqu(r.name)}}function Wg(a,c){if(1&a&&(i.TgZ(0,"mat-option",34),i._uU(1),i.qZA()),2&a){const r=c.$implicit;i.Q6J("value",r.id),i.xp6(1),i.Oqu(r.nama)}}function Kg(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",7)(2,"mat-form-field",8)(3,"mat-label"),i._uU(4,"Kelompok"),i.qZA(),i.TgZ(5,"mat-select",9),i.YNc(6,Wg,2,2,"mat-option",10),i.qZA()()(),i.BQk()),2&a){const r=i.oxw();i.xp6(5),i.Q6J("formControlName","courseGroupId"),i.xp6(1),i.Q6J("ngForOf",r.kategoriDiklat)}}function Xg(a,c){if(1&a&&(i.TgZ(0,"mat-option",34),i._uU(1),i.qZA()),2&a){const r=c.$implicit;i.Q6J("value",r.id),i.xp6(1),i.hij("",r.nama," ")}}let Sd=(()=>{class a{constructor(r,u,p,f,_,C,D,x){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._referensiService=_,this._toastr=C,this._diklatService=D,this._changeDetectorRef=x,this.jenisKegiatanList=this._helperService.jenisKegiatanList(),this.groupDiklatList$=this._referensiService.groupDiklat(),this.topicDiklatList$=this._referensiService.groupTopic(),this.kategoriDiklat=[],this.onFileInputed=!1,this._unsubscribeAll=new lt.x}ngOnInit(){this.form=this._formBuilder.group({jenisKegiatan:[this._data?.courseGroup?.jenisKegiatan,[F.kI.required]],courseGroupId:[this._data?.courseGroup?.id,[F.kI.required]],courseTopicId:[this._data?.courseTopic?.id,[F.kI.required]],title:[this._data?.title?this._data?.title:"",[F.kI.required]],summary:[this._data?.description?this._data?.description:"",[F.kI.required]],startDate:[this._data?.startDate,[F.kI.required]],endDate:[this._data?.endDate,[F.kI.required]],coverImage:[this._data?.coverImagePath,[F.kI.required]]}),this.form.get("jenisKegiatan").valueChanges.pipe((0,$n.b)(300),(0,ct.R)(this._unsubscribeAll)).subscribe(r=>{this.groupDiklatList$.subscribe(u=>{this.kategoriDiklat=u.filter(p=>p.jenisKegiatan===r),this._changeDetectorRef.markForCheck()})})}ngAfterViewInit(){if(Object.values(this.form.controls).forEach(r=>{r.markAsTouched()}),this._data?.coverImagePath){const r=document.getElementById("coverImage");console.log(r),r.src=qe.N.baseUrl+this._data?.coverImagePath}this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}create(){const r=this.form.getRawValue(),u=new FormData;this._data&&u.append("id",this._data.id),u.append("title",r.title),u.append("summary",r.summary),u.append("startDate",Ae()(r.startDate).format("YYYY-MM-DD")),u.append("endDate",Ae()(r.endDate).format("YYYY-MM-DD")),u.append("courseGroupId",r.courseGroupId),u.append("courseTopicId",r.courseTopicId),u.append("coverImage",r.coverImage),this._data?this._diklatService.courseModify(u).subscribe(p=>{p?.success?(this._toastr.success("Diklat / Kursus `"+r.title+"` berhasil diubah"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(p?.message,"ERROR")}):this._diklatService.save(u).subscribe(p=>{p?.success?(this._toastr.success("Diklat / Kursus `"+r.title+"` berhasil ditambahkan"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(p?.message,"ERROR")})}clearFileInput(r){this.form.get(r).setValue(null),document.getElementById(r).src="assets/images/no_image.png"}readFileAsync(r){return new Promise((u,p)=>{const f=new FileReader;f.onload=()=>{u(f.result)},f.onerror=p,f.readAsDataURL(r)})}onFileInput(r,u){const f=r.target.files[0],_=Math.round(f.size/Math.pow(1024,1)),C=["image/jpeg","image/jpg","image/png"].find(x=>x===f.type);_>2e3&&this._toastr.warning("Ukuran maksimum file tidak boleh lebih dari 2MB","ERROR"),C||this._toastr.warning("Format file tidak sesuai, format file harus: *.png, *.jpg atau *.jpeg","ERROR"),this.form.get(u).setValue(f),this.readFileAsync(f).then(x=>{const y=document.getElementById(u);y&&(y.src=x,this._changeDetectorRef.markForCheck())})}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36($t.A2),i.Y36(ne._W),i.Y36(Ct.c),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:65,vars:26,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full",2,"min-width","30rem !important"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"fuse-mat-no-subscript","w-full"],[1,"mt-4","flex","items-center"],["matInput","",3,"formControlName","spellcheck"],[1,"fuse-mat-textarea","w-full"],["matInput","",3,"rows","formControlName","spellcheck"],[3,"rangePicker","min"],["matStartDate","","formControlName","startDate","placeholder","Mulai",3,"focus"],["matEndDate","","formControlName","endDate","placeholder","Akhir",3,"focus"],["matSuffix","",3,"for"],["_tglMulaiAkhir",""],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded","overflow-hidden","ring-4","ring-bg-card","mt-2"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["avatarFileInput",""],["for","avatar-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],[1,"text-white",3,"svgIcon"],["mat-icon-button","",3,"click"],[1,"object-cover",2,"max-width","480px",3,"id","src"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],[3,"value"]],template:function(r,u){if(1&r){const p=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3,"Tambah Diklat & Kursus"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),i._uU(11,"Jenis Kegiatan"),i.qZA(),i.TgZ(12,"mat-select",9),i.YNc(13,al,2,2,"mat-option",10),i.qZA()()(),i.YNc(14,Kg,7,2,"ng-container",11),i.TgZ(15,"div",7)(16,"mat-form-field",12)(17,"mat-label"),i._uU(18,"Tema"),i.qZA(),i.TgZ(19,"mat-select",9),i.YNc(20,Xg,2,2,"mat-option",10),i.ALo(21,"async"),i.qZA()()(),i.TgZ(22,"div",13)(23,"mat-form-field",12)(24,"mat-label"),i._uU(25,"Nama"),i.qZA(),i._UZ(26,"input",14),i.qZA()(),i.TgZ(27,"div",7)(28,"mat-form-field",15)(29,"mat-label"),i._uU(30,"Deskripsi"),i.qZA(),i._UZ(31,"textarea",16),i.qZA()(),i.TgZ(32,"div",13)(33,"mat-form-field",12)(34,"mat-label"),i._uU(35,"Jadwal"),i.qZA(),i.TgZ(36,"mat-date-range-input",17)(37,"input",18),i.NdJ("focus",function(){i.CHM(p);const _=i.MAs(41);return i.KtG(_.open())}),i.qZA(),i.TgZ(38,"input",19),i.NdJ("focus",function(){i.CHM(p);const _=i.MAs(41);return i.KtG(_.open())}),i.qZA()(),i._UZ(39,"mat-datepicker-toggle",20)(40,"mat-date-range-picker",null,21),i.qZA()(),i.TgZ(42,"div",13)(43,"div",12)(44,"mat-label"),i._uU(45,"Poster "),i.TgZ(46,"i"),i._uU(47,"(Gambar JPG / PNG, Maksimal ukuran 2 MB)"),i.qZA()(),i.TgZ(48,"div",22),i._UZ(49,"div",23),i.TgZ(50,"div",24)(51,"div")(52,"input",25,26),i.NdJ("change",function(_){return u.onFileInput(_,"coverImage")}),i.qZA(),i.TgZ(54,"label",27),i._UZ(55,"mat-icon",28),i.qZA()(),i.TgZ(56,"div")(57,"button",29),i.NdJ("click",function(){return u.clearFileInput("coverImage")}),i._UZ(58,"mat-icon",28),i.qZA()()(),i._UZ(59,"img",30),i.qZA()()()()(),i.TgZ(60,"div",31)(61,"button",32),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(62," Batal "),i.qZA(),i.TgZ(63,"button",33),i.NdJ("click",function(){return u.create()}),i._uU(64," Submit "),i.qZA()()()}if(2&r){const p=i.MAs(41);i.xp6(4),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(6),i.Q6J("formControlName","jenisKegiatan"),i.xp6(1),i.Q6J("ngForOf",u.jenisKegiatanList),i.xp6(1),i.Q6J("ngIf",u.kategoriDiklat.length),i.xp6(5),i.Q6J("formControlName","courseTopicId"),i.xp6(1),i.Q6J("ngForOf",i.lcZ(21,24,u.topicDiklatList$)),i.xp6(6),i.Q6J("formControlName","title")("spellcheck",!1),i.xp6(5),i.Q6J("rows",3)("formControlName","summary")("spellcheck",!1),i.xp6(5),i.Q6J("rangePicker",p)("min",u._helperService.maxDate()),i.xp6(3),i.Q6J("for",p),i.xp6(13),i.Q6J("multiple",!1)("accept","image/jpeg, image/png"),i.xp6(3),i.Q6J("svgIcon","heroicons_outline:camera"),i.xp6(3),i.Q6J("svgIcon","heroicons_outline:trash"),i.xp6(1),i.Q6J("id","coverImage")("src","assets/images/no_image.png",i.LSH),i.xp6(4),i.Q6J("color","primary")("disabled",u.form.invalid)}},dependencies:[wt.lW,at.KE,at.hX,at.R9,Y.Hw,Qt.Nt,$.gD,rt.ey,it.sg,it.O5,F._Y,F.Fj,F.JJ,F.JL,F.sg,F.u,pe.nW,pe.wx,pe.zY,pe.By,pe._g,it.Ov],encapsulation:2,changeDetection:0}),a})();var wn=G(4581),ll=G(2147),_r=G(8168),vr=G(47),cl=G(1561);const Ed=["filterByNama"];function Id(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"mat-option",27),i._uU(2),i.qZA(),i.BQk()),2&a){const r=c.$implicit;i.xp6(1),i.Q6J("value",r),i.xp6(1),i.hij(" ",r," ")}}function Md(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"th",45)(1,"mat-checkbox",46),i.NdJ("change",function(p){i.CHM(r);const f=i.oxw();return i.KtG(p?f.toggleAll(p):null)}),i.qZA()()}if(2&a){const r=i.oxw();i.xp6(1),i.Q6J("checked",r.isChecked())("indeterminate",r.isIndeterminate())("color","warn")}}function tf(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"td",47)(1,"mat-checkbox",48),i.NdJ("click",function(p){return p.stopPropagation()})("change",function(p){const _=i.CHM(r).$implicit,C=i.oxw();return i.KtG(p?C.toggle(_,p):null)}),i.qZA()()}if(2&a){const r=c.$implicit,u=i.oxw();i.xp6(1),i.Q6J("checked",u.exists(r.pnsId))("color","warn")}}function Pd(a,c){1&a&&(i.TgZ(0,"th",49),i._uU(1,"Nama"),i.qZA())}function ef(a,c){if(1&a&&(i.TgZ(0,"td",50)(1,"div",51)(2,"div",52),i._uU(3),i.ALo(4,"titlecase"),i.qZA(),i.TgZ(5,"div",53),i._uU(6),i.qZA()()()),2&a){const r=c.$implicit;i.xp6(3),i.hij(" ",i.lcZ(4,2,r.pnsNama)," "),i.xp6(3),i.hij(" ",r.pnsNip," ")}}function Rd(a,c){1&a&&(i.TgZ(0,"th",49),i._uU(1,"Instansi"),i.qZA())}function dl(a,c){if(1&a&&(i.TgZ(0,"td",50)(1,"div",51)(2,"div",54),i._uU(3),i.ALo(4,"titlecase"),i.qZA()()()),2&a){const r=c.$implicit;i.xp6(3),i.hij(" ",i.lcZ(4,1,r.pnsInstansiNama)," ")}}function nf(a,c){1&a&&(i.TgZ(0,"th",49),i._uU(1,"Status"),i.qZA())}const ul=function(a,c){return{"text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500":a,"text-pink-800 bg-pink-100 dark:text-pink-50 dark:bg-pink-500":c}};function Nd(a,c){if(1&a&&(i.TgZ(0,"td",50)(1,"div",51)(2,"div",54)(3,"div",55),i._uU(4),i.ALo(5,"titlecase"),i.qZA()()()()),2&a){const r=c.$implicit;i.xp6(3),i.Q6J("ngClass",i.WLB(4,ul,"NEW"===r.statusCandidateParticipant,"REMEDIAL"===r.statusCandidateParticipant)),i.xp6(1),i.hij(" ",i.lcZ(5,2,r.statusCandidateParticipant)," ")}}function of(a,c){1&a&&(i.TgZ(0,"th",49),i._uU(1,"Undangan"),i.qZA())}function Ld(a,c){if(1&a&&(i.TgZ(0,"td",50)(1,"div",51)(2,"div",54)(3,"div",55),i._uU(4),i.qZA()()()()),2&a){const r=c.$implicit;i.xp6(3),i.Q6J("ngClass",i.WLB(2,ul,!0===r.hasInvitationSent,!1===r.hasInvitationSent||null===r.hasInvitationSent)),i.xp6(1),i.hij(" ",!0===r.hasInvitationSent?"Sudah dikirim":"Belum dikirim"," ")}}function hl(a,c){1&a&&i._UZ(0,"tr",56)}function sf(a,c){1&a&&i._UZ(0,"tr",57)}const ml=function(){return[10,25,100]};let wr=(()=>{class a{constructor(r,u,p,f,_,C,D,x,y,I){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._referensiService=_,this._toastr=C,this._fuseConfirmationService=D,this._changeDetectorRef=x,this._penerjemahService=y,this._diklatService=I,this.onFileInputed=!1,this.byHasParticipant=null,this.jenisInstansiList=this._referensiService.jenisInstansiList(),this.jenisJabatan$=this._referensiService.jabatan(),this.provinsi$=this._referensiService.provinsi({q:""}),this.bahasaList=this._referensiService.jenisBahasa(),this.dataSource=new st.by,this.displayedColumns=["select","nama","instansi","status","undangan"],this.length=null,this.pageSize=10,this.pesertaList=[],this.selectedPeserta=[],this.filterbyProvAlamatKantor="",this.filterByBahasa="",this._unsubscribeAll=new lt.x}ngOnInit(){this.form=this._formBuilder.group({courseId:[this._data?.id,[F.kI.required]],pnsId:[0,[F.kI.required,F.kI.min(1)]]}),this.fetch()}fetch(){this.fetchCandidate().subscribe(r=>{r&&(this.instansiList=[...new Set(r.map(u=>u.pnsInstansiNama))],this.pesertaList=r,this.selectedPeserta=[...new Set(r.filter(u=>!0===u.hasParticipant).map(u=>u.pnsId))],console.log("this.selectedPeserta",this.selectedPeserta),this.dataSource=new st.by(r),this.dataSource.paginator=this.paginator,this.length=r.length,this._changeDetectorRef.markForCheck())})}ngAfterViewInit(){this._changeDetectorRef.markForCheck(),(0,wn.R)(this.findNama.nativeElement,"keyup").pipe((0,ct.R)(this._unsubscribeAll),(0,$n.b)(150),(0,ll.x)(),(0,_r.b)(()=>{this.paginator.pageIndex=0,this.dataSource.data=this.pesertaList.filter(u=>u.pnsNama.toLowerCase().includes(this.findNama.nativeElement.value.toLowerCase())),this._changeDetectorRef.markForCheck()})).subscribe()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}fetchCandidate(){return this._diklatService.getCandidateList({byCourseId:this._data?.id,byHasParticipant:this.byHasParticipant}).pipe((0,ct.R)(this._unsubscribeAll))}onPageChanged(r){const p=r.pageIndex*r.pageSize;this.dataSource.data=this.pesertaList.slice(p,p+r.pageSize),this._changeDetectorRef.markForCheck()}toggleUndangan(r){r.checked?(this.paginator.pageIndex=0,this.dataSource.data=this.pesertaList.filter(p=>p.hasInvitationSent===r.checked),this._changeDetectorRef.markForCheck()):this.fetch()}filterByStatus(r){""!==r.value?(this.paginator.pageIndex=0,this.dataSource.data=this.pesertaList.filter(p=>p.statusCandidateParticipant===r.value),this._changeDetectorRef.markForCheck()):this.fetch()}filterByPeserta(r){this.byHasParticipant=r.value,""===r.value&&(this.byHasParticipant=null),this.fetch()}filterByInstansi(r){""!==r.value?(this.paginator.pageIndex=0,this.dataSource.data=this.pesertaList.filter(p=>p.pnsInstansiNama===r.value),this._changeDetectorRef.markForCheck()):this.fetch()}openConfirmationUndangDialog(r,u){this._fuseConfirmationService.open({title:"Mengundang Pserta Diklat/Kursus, sejumlah "+u+" Peserta",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:"heroicons_outline:check",color:"primary"},actions:{confirm:{show:!0,label:"Kirim undangan",color:"primary"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(f=>{"confirmed"===f&&this._diklatService.sendInvitation(JSON.stringify(r)).subscribe(_=>{_?.success?(this._toastr.success("Undangan telah dikirim","Tambah referensi instansi berhasil"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(_?.message,"ERROR")})})}exists(r){return this.selectedPeserta.find(u=>u===r)}isIndeterminate(){return this.selectedPeserta.length>0&&!this.isChecked()}isChecked(){return this.selectedPeserta.length===this.pesertaList.length}toggle(r,u){if(u.checked)this.selectedPeserta.find(p=>p===r)||(this.selectedPeserta.push(r.pnsId),this.form.get("pnsId").setValue(this.selectedPeserta));else{const p=this.selectedPeserta.map(f=>f).indexOf(r);this.selectedPeserta.splice(p,1),this.form.get("pnsId").setValue(this.selectedPeserta)}}toggleAll(r){r.checked?this.pesertaList.forEach(u=>{this.selectedPeserta.push(u.pnsId)}):this.selectedPeserta.length=0}save(){const r=this.form.getRawValue();r.pnsId=r.pnsId,this._diklatService.addParticipant(JSON.stringify(r)).subscribe(u=>{u?.success?(this._toastr.success("Peserta berhasil disimpan"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(u?.message,"ERROR")})}send(){const r=this.form.getRawValue();r.pnsId=r.pnsId,this.openConfirmationUndangDialog(r,r.pnsId.length)}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36($t.A2),i.Y36(ne._W),i.Y36(us.R),i.Y36(i.sBO),i.Y36(vr.e),i.Y36(Ct.c))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(r,u){if(1&r&&(i.Gf(Ui.NW,7),i.Gf(Ed,7)),2&r){let p;i.iGM(p=i.CRH())&&(u.paginator=p.first),i.iGM(p=i.CRH())&&(u.findNama=p.first)}},features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:84,vars:31,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4","text-lg","font-medium"],[1,"w-12","h-1","my-6","border-t-2"],[1,"flex","items-center"],[1,"flex-auto"],[1,"grid","grid-cols-1"],[1,"font-medium","text-secondary","leading-5","my-1"],[1,"flex","items-start","my-1"],[1,"text-3xl","font-bold","tracking-tight","leading-none","text-blue-500"],[1,"flex","items-center","border-t","mt-4"],[1,"my-3","font-medium"],[1,"fuse-mat-dense","fuse-mat-no-subscript","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder"],["filterByNama",""],[1,"flex-auto","ml-4"],[1,"fuse-mat-no-subscript","w-full"],[3,"value","valueChange","selectionChange"],["value",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"value","selectionChange"],[3,"value"],[1,"mt-8","sm:mt-0","ml-3",3,"color","change"],["mat-table","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nama"],["mat-header-cell","","class","p-2",4,"matHeaderCellDef"],["mat-cell","","class","p-2",4,"matCellDef"],["matColumnDef","instansi"],["matColumnDef","status"],["matColumnDef","undangan"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","length","pageSizeOptions"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],["mat-header-cell",""],[3,"checked","indeterminate","color","change"],["mat-cell",""],[3,"checked","color","click","change"],["mat-header-cell","",1,"p-2"],["mat-cell","",1,"p-2"],[1,"min-w-0","space-y-1"],[1,"font-semibold","leading-5"],[1,"text-sm","leading-5"],[1,"leading-5","truncate"],[1,"py-0.5","px-3","rounded-full","text-sm","font-semibold",3,"ngClass"],["mat-header-row",""],["mat-row",""]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3,"Kelola Peserta"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"div",6)(8,"div")(9,"div",7),i._uU(10),i.qZA(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",9)(16,"div",12),i._uU(17,"Jumlah Peserta yang diundang"),i.qZA()(),i.TgZ(18,"div",13)(19,"div",14),i._uU(20),i.qZA()()()()(),i.TgZ(21,"div",15)(22,"div",6)(23,"h3",16),i._uU(24,"Pilih peserta: "),i.qZA(),i.TgZ(25,"div",9)(26,"div",10)(27,"mat-form-field",17),i._UZ(28,"mat-icon",18)(29,"input",19,20),i.qZA()(),i.TgZ(31,"div",21)(32,"mat-form-field",22)(33,"mat-select",23),i.NdJ("valueChange",function(f){return u.filterbyProvAlamatKantor=f})("selectionChange",function(f){return u.filterByInstansi(f)}),i.TgZ(34,"mat-option",24),i._uU(35,"-- Semua Instansi --"),i.qZA(),i.YNc(36,Id,3,2,"ng-container",25),i.qZA()()(),i.TgZ(37,"div",21)(38,"mat-form-field",22)(39,"mat-select",26),i.NdJ("selectionChange",function(f){return u.filterByStatus(f)}),i.TgZ(40,"mat-option",27),i._uU(41,"-- Semua Status --"),i.qZA(),i.TgZ(42,"mat-option",27),i._uU(43,"New"),i.qZA(),i.TgZ(44,"mat-option",27),i._uU(45,"Remedial"),i.qZA()()()(),i.TgZ(46,"div",21)(47,"mat-form-field",22)(48,"mat-select",26),i.NdJ("selectionChange",function(f){return u.filterByPeserta(f)}),i.TgZ(49,"mat-option",27),i._uU(50,"-- Semua kandidat --"),i.qZA(),i.TgZ(51,"mat-option",27),i._uU(52,"Sudah menjadi kandidat"),i.qZA(),i.TgZ(53,"mat-option",27),i._uU(54,"Belum menjadi kandidat"),i.qZA()()()(),i.TgZ(55,"div",21)(56,"mat-slide-toggle",28),i.NdJ("change",function(f){return u.toggleUndangan(f)}),i._uU(57," Undangan dikirim "),i.qZA()()(),i.TgZ(58,"table",29),i.ynx(59,30),i.YNc(60,Md,2,3,"th",31),i.YNc(61,tf,2,2,"td",32),i.BQk(),i.ynx(62,33),i.YNc(63,Pd,2,0,"th",34),i.YNc(64,ef,7,4,"td",35),i.BQk(),i.ynx(65,36),i.YNc(66,Rd,2,0,"th",34),i.YNc(67,dl,5,3,"td",35),i.BQk(),i.ynx(68,37),i.YNc(69,nf,2,0,"th",34),i.YNc(70,Nd,6,7,"td",35),i.BQk(),i.ynx(71,38),i.YNc(72,of,2,0,"th",34),i.YNc(73,Ld,5,5,"td",35),i.BQk(),i.YNc(74,hl,1,0,"tr",39),i.YNc(75,sf,1,0,"tr",40),i.qZA(),i._UZ(76,"mat-paginator",41),i.qZA()()()(),i.TgZ(77,"div",42)(78,"button",43),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(79," Tutup "),i.qZA(),i.TgZ(80,"button",44),i.NdJ("click",function(){return u.save()}),i._uU(81," Simpan "),i.qZA(),i.TgZ(82,"button",44),i.NdJ("click",function(){return u.send()}),i._uU(83," Kirim Undangan "),i.qZA()()()),2&r&&(i.xp6(4),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(4),i.Oqu(u._data.title),i.xp6(10),i.hij(" ",u.selectedPeserta.length," Peserta"),i.xp6(8),i.Q6J("svgIcon","heroicons_solid:search"),i.xp6(1),i.Q6J("autocomplete","off")("placeholder","Cari nama"),i.xp6(4),i.Q6J("value",u.filterbyProvAlamatKantor),i.xp6(3),i.Q6J("ngForOf",u.instansiList)("ngForTrackBy",u.trackByFn),i.xp6(3),i.Q6J("value",""),i.xp6(1),i.Q6J("value",""),i.xp6(2),i.Q6J("value","NEW"),i.xp6(2),i.Q6J("value","REMEDIAL"),i.xp6(4),i.Q6J("value",""),i.xp6(1),i.Q6J("value",""),i.xp6(2),i.Q6J("value",!0),i.xp6(2),i.Q6J("value",!1),i.xp6(3),i.Q6J("color","primary"),i.xp6(2),i.Q6J("dataSource",u.dataSource),i.xp6(16),i.Q6J("matHeaderRowDef",u.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.displayedColumns),i.xp6(1),i.Q6J("pageSize",u.pageSize)("length",u.length)("pageSizeOptions",i.DdM(30,ml)),i.xp6(4),i.Q6J("color","primary")("disabled",u.form.invalid),i.xp6(2),i.Q6J("color","primary")("disabled",u.form.invalid))},dependencies:[wt.lW,at.KE,at.qo,Y.Hw,Qt.Nt,$.gD,rt.ey,j.Rr,it.mk,it.sg,F._Y,F.JL,F.sg,st.BZ,st.fO,st.as,st.w1,st.Dz,st.nj,st.ge,st.ev,st.XQ,st.Gk,Ui.NW,cl.oG,it.rS],encapsulation:2,changeDetection:0}),a})();function pl(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"tr",23)(2,"th",24),i._uU(3),i.qZA(),i.TgZ(4,"td",25),i._uU(5),i.qZA(),i.TgZ(6,"td",25),i._uU(7),i.qZA()(),i.BQk()),2&a){const r=c.$implicit;i.xp6(3),i.hij(" ",r.pnsNama," "),i.xp6(2),i.hij(" ",r.checkinAt," "),i.xp6(2),i.hij(" ",r.checkinLocation," ")}}function gl(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"mat-accordion",16)(2,"mat-expansion-panel")(3,"mat-expansion-panel-header",17)(4,"mat-panel-title"),i._uU(5),i.qZA()(),i.TgZ(6,"div",19)(7,"table",20)(8,"thead",21)(9,"tr")(10,"th",22),i._uU(11," Nama "),i.qZA(),i.TgZ(12,"th",22),i._uU(13," Kehadiran "),i.qZA(),i.TgZ(14,"th",22),i._uU(15," Lokasi "),i.qZA()()(),i.TgZ(16,"tbody"),i.YNc(17,pl,8,3,"ng-container",12),i.qZA()()()()(),i.BQk()),2&a){const r=c.$implicit;i.xp6(5),i.hij(" ",r.title," "),i.xp6(12),i.Q6J("ngForOf",r.attendances)}}function Bd(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"mat-accordion",16)(2,"mat-expansion-panel")(3,"mat-expansion-panel-header",17)(4,"mat-panel-title"),i._uU(5),i.qZA(),i.TgZ(6,"mat-panel-description",18),i._uU(7),i.ALo(8,"date"),i.qZA()(),i.YNc(9,gl,18,2,"ng-container",12),i.qZA()(),i.BQk()),2&a){const r=c.$implicit;i.xp6(5),i.hij(" ",r.title," "),i.xp6(2),i.hij(" ",i.xi3(8,3,r.startDate,"ccc, d MMM yyyy")," "),i.xp6(2),i.Q6J("ngForOf",r.activityGroups)}}let Od=(()=>{class a{constructor(r,u,p,f,_){this.matDialogRef=r,this._data=u,this._helperService=p,this._changeDetectorRef=f,this._diklatService=_,this.participantAttendances=[],this._unsubscribeAll=new lt.x}ngOnInit(){this._diklatService.courseAttendance(this._data.id).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{r.success&&(this.participantAttendances=r.mapData.participantAttendances,this._changeDetectorRef.markForCheck())})}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}download(r){this._diklatService.courseAttendanceDownload(r).subscribe(u=>{const p=URL.createObjectURL(u);window.open(p,"_blank")})}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(Dt.W),i.Y36(i.sBO),i.Y36(Ct.c))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:20,vars:5,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto"],[1,"flex","flex-col","w-full"],[1,"mt-4"],[1,"mt-4","text-lg","font-medium"],[1,"w-12","h-1","my-6","border-t-2"],[1,"flex","items-center"],[1,"flex-auto"],[4,"ngFor","ngForOf"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-flat-button","",1,"my-5",3,"color","click"],["mat-button","",3,"click"],[1,"w-full","my-2"],[1,"text-md","right-aligned-header"],[1,"text-right"],[1,"relative","overflow-x-auto"],[1,"w-full","text-sm","text-left","text-gray-500","dark:text-gray-400"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],["scope","col",1,"px-6","py-3"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700"],["scope","row",1,"px-6","py-4","font-medium","text-gray-900","whitespace-nowrap","dark:text-white"],[1,"px-6","py-4"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3,"Daftar Hadir"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),i._uU(10),i.qZA(),i._UZ(11,"div",9),i.qZA(),i.TgZ(12,"div",10)(13,"div",11),i.YNc(14,Bd,10,6,"ng-container",12),i.qZA()()()()(),i.TgZ(15,"div",13)(16,"button",14),i.NdJ("click",function(){return u.download(u._data.id)}),i._uU(17," Unduh Kehadiran "),i.qZA(),i.TgZ(18,"button",15),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(19," Tutup "),i.qZA()()),2&r&&(i.xp6(4),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(5),i.Oqu(u._data.title),i.xp6(4),i.Q6J("ngForOf",u.participantAttendances),i.xp6(2),i.Q6J("color","primary"))},dependencies:[wt.lW,Y.Hw,ht.pp,ht.ib,ht.yz,ht.yK,ht.u4,it.sg,it.uU],encapsulation:2,changeDetection:0}),a})();var fl=G(685);const zd=["filterByNama"];function Fd(a,c){1&a&&(i.TgZ(0,"th",39),i._uU(1,"Nama"),i.qZA())}function rf(a,c){if(1&a&&(i.TgZ(0,"td",40)(1,"div",41)(2,"div",42),i._uU(3),i.ALo(4,"titlecase"),i.qZA(),i.TgZ(5,"div",43),i._uU(6),i.qZA()()()),2&a){const r=c.$implicit;i.xp6(3),i.hij(" ",i.lcZ(4,2,r.participant.nama)," "),i.xp6(3),i.hij(" ",r.participant.nip," ")}}function af(a,c){1&a&&(i.TgZ(0,"th",39),i._uU(1,"Status Kelulusan"),i.qZA())}function lf(a,c){if(1&a&&(i.TgZ(0,"td",40),i._uU(1),i.qZA()),2&a){const r=c.$implicit;i.xp6(1),i.hij(" ",r.hasPassed," ")}}function cf(a,c){1&a&&(i.TgZ(0,"th",39),i._uU(1,"Nilai"),i.qZA())}function df(a,c){if(1&a&&(i.TgZ(0,"td",44),i._uU(1),i.qZA()),2&a){const r=c.$implicit;i.xp6(1),i.Oqu(r.totalScore)}}function Un(a,c){1&a&&(i.TgZ(0,"th",39),i._uU(1,"Kualifikasi"),i.qZA())}function ps(a,c){1&a&&(i.TgZ(0,"td",40),i._uU(1," - "),i.qZA())}function uf(a,c){1&a&&(i.TgZ(0,"th",39),i._uU(1,"Aksi"),i.qZA())}function hf(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"td",40)(1,"button",45),i.NdJ("click",function(){const f=i.CHM(r).$implicit,_=i.oxw();return i.KtG(_.preview(f))}),i.TgZ(2,"span",46),i._uU(3,"Cetak"),i.qZA()()()}2&a&&(i.xp6(1),i.Q6J("color","primary"))}function Cr(a,c){1&a&&i._UZ(0,"tr",47)}function bl(a,c){1&a&&i._UZ(0,"tr",48)}const mf=function(){return[10,25,100]};let pf=(()=>{class a{constructor(r,u,p,f,_,C,D,x,y,I,K){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._referensiService=_,this._toastr=C,this._fuseConfirmationService=D,this._diklatService=x,this._changeDetectorRef=y,this._referensiInstansiService=I,this._penerjemahService=K,this.onFileInputed=!1,this.jenisInstansiList=this._referensiService.jenisInstansiList(),this.jenisJabatan$=this._referensiService.jabatan(),this.provinsi$=this._referensiService.provinsi({q:""}),this.bahasaList=this._referensiService.jenisBahasa(),this.dataSource=new st.by,this.displayedColumns=["nama","keterangan","undang","kualifikasi","aksi"],this.length=null,this.pageSize=10,this.pesertaList=[],this.selectedPeserta=[],this.filterbyProvAlamatKantor="",this.filterByBahasa="",this._unsubscribeAll=new lt.x}ngOnInit(){this.form=this._formBuilder.group({jenis:[this._data?.category?this._data?.category:"",[F.kI.required]],judul:[this._data?.title?this._data?.title:"",[F.kI.required]],deskripsi:[this._data?.description?this._data?.description:"",[F.kI.required]],tglMulai:["",[F.kI.required]],tglAkhir:["",[F.kI.required]]})}ngAfterViewInit(){this._changeDetectorRef.markForCheck(),(0,wn.R)(this.findNama.nativeElement,"keyup").pipe((0,ct.R)(this._unsubscribeAll),(0,$n.b)(150),(0,ll.x)(),(0,_r.b)(()=>{this.paginator.pageIndex=0,this._changeDetectorRef.markForCheck(),this.filter()})).subscribe(),this.filter()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}generateValue(){return Math.floor(16*Math.random()+85)}fetchJfp(){return this.filterByBahasa.length>0&&this.filterByBahasa.map(u=>u.id),this._diklatService.getCourseAssessmentList(this._data.id).pipe((0,ct.R)(this._unsubscribeAll))}onPageChanged(r){const p=r.pageIndex*r.pageSize;this.dataSource.data=this.pesertaList.slice(p,p+r.pageSize),this._changeDetectorRef.markForCheck()}filter(){this.fetchJfp().subscribe(r=>{r?.success&&(this.pesertaList=r.mapData.data,this.dataSource=new st.by(r.mapData.data),this.dataSource.paginator=this.paginator,this.length=r.mapData.data.length,this._changeDetectorRef.markForCheck())})}preview(r){console.log(this._data),this._diklatService.previewSertifikat({courseId:this._data.id,pnsId:r.participant.id}).subscribe(u=>{if(u){const p=URL.createObjectURL(u);window.open(p,"_blank")}})}exists(r){return this.selectedPeserta.find(u=>u.id===r.id)}isIndeterminate(){return this.selectedPeserta.length>0&&!this.isChecked()}isChecked(){return this.selectedPeserta.length===this.pesertaList.length}toggle(r,u){if(u.checked)this.selectedPeserta.find(p=>p.id===r.id)||this.selectedPeserta.push(r);else{const p=this.selectedPeserta.map(f=>f.id).indexOf(r.id);this.selectedPeserta.splice(p,1)}}toggleAll(r){r.checked?this.pesertaList.forEach(u=>{this.selectedPeserta.push(u)}):this.selectedPeserta.length=0}create(){const r=this.form.getRawValue();this._referensiInstansiService.save(r).subscribe(u=>{u?.success?(this._toastr.success("Referensi instansi berhasil ditambahkan","Tambah referensi instansi berhasil"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(u?.message,"ERROR")})}toggleOnFileInputed(r=null){null===r?this.onFileInputed=!this.onFileInputed:(r||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=r),this._changeDetectorRef.markForCheck()}onFileInput(r){const u=this._referensiService.onFileInputSingle(r,"application/pdf",2e3);return u.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=u.fileInfo.name,this.form.get("file").setValue(r.target.files[0]),!0):(this._toastr.error(u.msg,"ERROR"),!1)}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36($t.A2),i.Y36(ne._W),i.Y36(us.R),i.Y36(Ct.c),i.Y36(i.sBO),i.Y36(fl.b),i.Y36(vr.e))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(r,u){if(1&r&&(i.Gf(Ui.NW,7),i.Gf(zd,7)),2&r){let p;i.iGM(p=i.CRH())&&(u.paginator=p.first),i.iGM(p=i.CRH())&&(u.findNama=p.first)}},features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:57,vars:16,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4"],[1,"mt-4","text-lg","font-medium"],[1,"w-12","h-1","my-6","border-t-2"],[1,"flex","items-center","border-t","mt-4"],[1,"flex","flex-col","w-full","mt-4"],[1,"flex","items-center"],[1,"flex-auto"],[1,"fuse-mat-dense","fuse-mat-no-subscript","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder"],["filterByNama",""],[1,"flex-auto","ml-4"],[1,"fuse-mat-no-subscript","w-full"],[3,"value","valueChange","selectionChange"],["value",""],["value","LULUS"],["value","TIDAK_LULUS"],["mat-table","",3,"dataSource"],["matColumnDef","nama"],["mat-header-cell","","class","p-2",4,"matHeaderCellDef"],["mat-cell","","class","p-2",4,"matCellDef"],["matColumnDef","keterangan"],["matColumnDef","undang"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","kualifikasi"],["matColumnDef","aksi"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","length","pageSizeOptions"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-button","",1,"ml-4",3,"color","click"],["mat-header-cell","",1,"p-2"],["mat-cell","",1,"p-2"],[1,"min-w-0","space-y-1"],[1,"font-semibold","leading-5"],[1,"text-sm","leading-5"],["mat-cell","",1,"text-right"],["mat-flat-button","",1,"btn","btn-sm",3,"color","click"],[1,"ml-2","mr-1"],["mat-header-row",""],["mat-row",""]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3,"Menerbitkan Sertifikat"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"div",8),i._uU(10),i.qZA(),i._UZ(11,"div",9),i.qZA(),i.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"mat-form-field",14)(17,"mat-label"),i._uU(18,"Nama"),i.qZA(),i._UZ(19,"mat-icon",15)(20,"input",16,17),i.qZA()(),i.TgZ(22,"div",18)(23,"mat-form-field",19)(24,"mat-label"),i._uU(25,"Status Kelulusan"),i.qZA(),i.TgZ(26,"mat-select",20),i.NdJ("valueChange",function(f){return u.filterbyProvAlamatKantor=f})("selectionChange",function(){return u.filter()}),i.TgZ(27,"mat-option",21),i._uU(28,"-- Semua Status --"),i.qZA(),i.TgZ(29,"mat-option",22),i._uU(30,"Lulus"),i.qZA(),i.TgZ(31,"mat-option",23),i._uU(32,"Tidak Lulus"),i.qZA()()()()(),i.TgZ(33,"table",24),i.ynx(34,25),i.YNc(35,Fd,2,0,"th",26),i.YNc(36,rf,7,4,"td",27),i.BQk(),i.ynx(37,28),i.YNc(38,af,2,0,"th",26),i.YNc(39,lf,2,1,"td",27),i.BQk(),i.ynx(40,29),i.YNc(41,cf,2,0,"th",26),i.YNc(42,df,2,1,"td",30),i.BQk(),i.ynx(43,31),i.YNc(44,Un,2,0,"th",26),i.YNc(45,ps,2,0,"td",27),i.BQk(),i.ynx(46,32),i.YNc(47,uf,2,0,"th",26),i.YNc(48,hf,4,1,"td",27),i.BQk(),i.YNc(49,Cr,1,0,"tr",33),i.YNc(50,bl,1,0,"tr",34),i.qZA(),i._UZ(51,"mat-paginator",35),i.qZA()()()(),i.TgZ(52,"div",36)(53,"button",37),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(54," Tutup "),i.qZA(),i.TgZ(55,"button",38),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(56," Download Sertifikat "),i.qZA()()()),2&r&&(i.xp6(4),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(4),i.Oqu(u._data.title),i.xp6(9),i.Q6J("svgIcon","heroicons_solid:search"),i.xp6(1),i.Q6J("autocomplete","off")("placeholder","Cari nama"),i.xp6(6),i.Q6J("value",u.filterbyProvAlamatKantor),i.xp6(7),i.Q6J("dataSource",u.dataSource),i.xp6(16),i.Q6J("matHeaderRowDef",u.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.displayedColumns),i.xp6(1),i.Q6J("pageSize",u.pageSize)("length",u.length)("pageSizeOptions",i.DdM(15,mf)),i.xp6(4),i.Q6J("color","warn"))},dependencies:[wt.lW,at.KE,at.hX,at.qo,Y.Hw,Qt.Nt,$.gD,rt.ey,F._Y,F.JL,F.sg,st.BZ,st.fO,st.as,st.w1,st.Dz,st.nj,st.ge,st.ev,st.XQ,st.Gk,Ui.NW,it.rS],encapsulation:2,changeDetection:0}),a})();function gf(a,c){1&a&&(i.TgZ(0,"th",28),i._uU(1,"Nama"),i.qZA())}function jd(a,c){if(1&a&&(i.TgZ(0,"td",29)(1,"div",30)(2,"div",31),i._uU(3),i.ALo(4,"titlecase"),i.qZA(),i.TgZ(5,"div",32),i._uU(6),i.qZA()()()),2&a){const r=c.$implicit;i.xp6(3),i.hij(" ",i.lcZ(4,2,r.participant.nama)," "),i.xp6(3),i.hij(" ",r.participant.nip," ")}}function Vd(a,c){1&a&&(i.TgZ(0,"th",28),i._uU(1,"Disiplin"),i.qZA())}function ff(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"td",29)(1,"mat-form-field",33)(2,"input",34),i.NdJ("ngModelChange",function(p){const _=i.CHM(r).$implicit;return i.KtG(_.disciplineScore=p)}),i.qZA()()()}if(2&a){const r=c.$implicit,u=c.index;i.xp6(2),i.MGl("name","disciplineScore-",u,""),i.Q6J("ngModel",r.disciplineScore)}}function $d(a,c){1&a&&(i.TgZ(0,"th",28),i._uU(1,"Keaktifan"),i.qZA())}function bf(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"td",29)(1,"mat-form-field",33)(2,"input",34),i.NdJ("ngModelChange",function(p){const _=i.CHM(r).$implicit;return i.KtG(_.activenessScore=p)}),i.qZA()()()}if(2&a){const r=c.$implicit,u=c.index;i.xp6(2),i.MGl("name","activenessScore-",u,""),i.Q6J("ngModel",r.activenessScore)}}function kf(a,c){1&a&&(i.TgZ(0,"th",28),i._uU(1,"Pre-test"),i.qZA())}function _f(a,c){if(1&a&&(i.TgZ(0,"td",29),i._uU(1),i.qZA()),2&a){const r=c.$implicit;let u;i.xp6(1),i.hij(" ",null!==(u=r.preTestScore)&&void 0!==u?u:"-"," ")}}function vf(a,c){1&a&&(i.TgZ(0,"th",28),i._uU(1,"Pos-test"),i.qZA())}function wf(a,c){if(1&a&&(i.TgZ(0,"td",29),i._uU(1),i.qZA()),2&a){const r=c.$implicit;let u;i.xp6(1),i.hij(" ",null!==(u=r.postTestScore)&&void 0!==u?u:"-"," ")}}function Cf(a,c){1&a&&(i.TgZ(0,"th",28),i._uU(1,"Nilai Akhir"),i.qZA())}function yf(a,c){if(1&a&&(i.TgZ(0,"td",29),i._uU(1),i._UZ(2,"br"),i._uU(3),i.qZA()),2&a){const r=c.$implicit;let u;i.xp6(1),i.hij(" ",r.totalScore,""),i.xp6(2),i.hij(" ",null!==(u=r.hasPassed)&&void 0!==u?u:"-"," ")}}function Af(a,c){1&a&&(i.TgZ(0,"th",28),i._uU(1,"Aksi"),i.qZA())}function xf(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"td",29)(1,"button",35),i.NdJ("click",function(){const f=i.CHM(r).$implicit,_=i.oxw();return i.KtG(_.submit(f))}),i.TgZ(2,"span",36),i._uU(3,"Simpan"),i.qZA()()()}2&a&&(i.xp6(1),i.Q6J("color","primary"))}function Tf(a,c){1&a&&i._UZ(0,"tr",37)}function Df(a,c){1&a&&i._UZ(0,"tr",38)}const Sf=function(){return[10,25,100]};let Ef=(()=>{class a{constructor(r,u,p,f,_,C,D,x,y,I,K){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._referensiService=_,this._toastr=C,this._fuseConfirmationService=D,this._changeDetectorRef=x,this._referensiInstansiService=y,this._penerjemahService=I,this._diklatService=K,this.onFileInputed=!1,this.jenisInstansiList=this._referensiService.jenisInstansiList(),this.jenisJabatan$=this._referensiService.jabatan(),this.provinsi$=this._referensiService.provinsi({q:""}),this.bahasaList=this._referensiService.jenisBahasa(),this.dataSource=new st.by,this.displayedColumns=["nama","disiplin","keaktifan","pretest","postest","nilai","kualifikasi"],this.length=null,this.pageSize=10,this.pesertaList=[],this.selectedPeserta=[],this.filterbyProvAlamatKantor="",this.filterByBahasa="",this._unsubscribeAll=new lt.x}ngOnInit(){this.form=this._formBuilder.group({assessment:this._formBuilder.array([])})}ngAfterViewInit(){this._changeDetectorRef.markForCheck(),this.filter()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}get assessment(){return this.form.get("assessment")}download(r){this._diklatService.courseAssesmentDownload(r).subscribe(u=>{const p=URL.createObjectURL(u);window.open(p,"_blank")})}fetchJfp(){return this._diklatService.getCourseAssessmentList(this._data.id).pipe((0,ct.R)(this._unsubscribeAll))}onPageChanged(r){const p=r.pageIndex*r.pageSize;this.dataSource.data=this.pesertaList.slice(p,p+r.pageSize),this._changeDetectorRef.markForCheck()}submit(r){console.log(r),this._diklatService.setFinalAssessmentCandidate({courseId:r.courseId,pnsId:r.participant.id,disciplineScore:r.disciplineScore,activenessScore:r.activenessScore,isSubmitted:!0}).pipe((0,ct.R)(this._unsubscribeAll)).subscribe(u=>{u.success&&this._toastr.success("Nilai `"+r.participant.nama+"` berhasil diset")})}filter(){this.fetchJfp().subscribe(r=>{r?.success&&(this.pesertaList=r.mapData.data,this.dataSource=new st.by(r.mapData.data),this.dataSource.paginator=this.paginator,this.length=r.mapData.data.length,this._changeDetectorRef.markForCheck())})}exists(r){return this.selectedPeserta.find(u=>u.id===r.id)}isIndeterminate(){return this.selectedPeserta.length>0&&!this.isChecked()}isChecked(){return this.selectedPeserta.length===this.pesertaList.length}toggle(r,u){if(u.checked)this.selectedPeserta.find(p=>p.id===r.id)||this.selectedPeserta.push(r);else{const p=this.selectedPeserta.map(f=>f.id).indexOf(r.id);this.selectedPeserta.splice(p,1)}}toggleAll(r){r.checked?this.pesertaList.forEach(u=>{this.selectedPeserta.push(u)}):this.selectedPeserta.length=0}toggleOnFileInputed(r=null){null===r?this.onFileInputed=!this.onFileInputed:(r||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=r),this._changeDetectorRef.markForCheck()}onFileInput(r){const u=this._referensiService.onFileInputSingle(r,"application/pdf",2e3);return u.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=u.fileInfo.name,this.form.get("file").setValue(r.target.files[0]),!0):(this._toastr.error(u.msg,"ERROR"),!1)}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36($t.A2),i.Y36(ne._W),i.Y36(us.R),i.Y36(i.sBO),i.Y36(fl.b),i.Y36(vr.e),i.Y36(Ct.c))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(r,u){if(1&r&&i.Gf(Ui.NW,7),2&r){let p;i.iGM(p=i.CRH())&&(u.paginator=p.first)}},features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:46,vars:11,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto"],[1,"flex","flex-col","w-full"],[1,"mt-4"],[1,"mt-4","text-lg","font-medium"],[1,"w-12","h-1","my-6","border-t-2"],[1,"flex","items-center","border-t","mt-4"],["elementsForm","ngForm"],["mat-table","",3,"dataSource"],["matColumnDef","nama"],["mat-header-cell","","class","p-2",4,"matHeaderCellDef"],["mat-cell","","class","p-2",4,"matCellDef"],["matColumnDef","disiplin"],["matColumnDef","keaktifan"],["matColumnDef","pretest"],["matColumnDef","postest"],["matColumnDef","nilai"],["matColumnDef","kualifikasi"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","length","pageSizeOptions"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-flat-button","",1,"my-5",3,"color","click"],["mat-button","",3,"click"],["mat-header-cell","",1,"p-2"],["mat-cell","",1,"p-2"],[1,"min-w-0","space-y-1"],[1,"font-semibold","leading-5"],[1,"text-sm","leading-5"],[1,"fuse-mat-dense","fuse-mat-no-subscript"],["matInput","","max","100",3,"name","ngModel","ngModelChange"],["mat-flat-button","",1,"btn","btn-sm",3,"color","click"],[1,"ml-2","mr-1"],["mat-header-row",""],["mat-row",""]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3,"Penilaian"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8),i._uU(10),i.qZA(),i._UZ(11,"div",9),i.qZA(),i.TgZ(12,"div",10)(13,"div",6)(14,"form",null,11)(16,"table",12),i.ynx(17,13),i.YNc(18,gf,2,0,"th",14),i.YNc(19,jd,7,4,"td",15),i.BQk(),i.ynx(20,16),i.YNc(21,Vd,2,0,"th",14),i.YNc(22,ff,3,2,"td",15),i.BQk(),i.ynx(23,17),i.YNc(24,$d,2,0,"th",14),i.YNc(25,bf,3,2,"td",15),i.BQk(),i.ynx(26,18),i.YNc(27,kf,2,0,"th",14),i.YNc(28,_f,2,1,"td",15),i.BQk(),i.ynx(29,19),i.YNc(30,vf,2,0,"th",14),i.YNc(31,wf,2,1,"td",15),i.BQk(),i.ynx(32,20),i.YNc(33,Cf,2,0,"th",14),i.YNc(34,yf,4,2,"td",15),i.BQk(),i.ynx(35,21),i.YNc(36,Af,2,0,"th",14),i.YNc(37,xf,4,1,"td",15),i.BQk(),i.YNc(38,Tf,1,0,"tr",22),i.YNc(39,Df,1,0,"tr",23),i.qZA()(),i._UZ(40,"mat-paginator",24),i.qZA()()()(),i.TgZ(41,"div",25)(42,"button",26),i.NdJ("click",function(){return u.download(u._data.id)}),i._uU(43," Unduh Penilaian "),i.qZA(),i.TgZ(44,"button",27),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(45," Tutup "),i.qZA()()()),2&r&&(i.xp6(4),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(5),i.Oqu(u._data.title),i.xp6(6),i.Q6J("dataSource",u.dataSource),i.xp6(22),i.Q6J("matHeaderRowDef",u.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.displayedColumns),i.xp6(1),i.Q6J("pageSize",u.pageSize)("length",u.length)("pageSizeOptions",i.DdM(10,Sf)),i.xp6(2),i.Q6J("color","primary"))},dependencies:[wt.lW,at.KE,Y.Hw,Qt.Nt,F._Y,F.Fj,F.JJ,F.JL,F.On,F.F,st.BZ,st.fO,st.as,st.w1,st.Dz,st.nj,st.ge,st.ev,st.XQ,st.Gk,Ui.NW,it.rS],encapsulation:2,changeDetection:0}),a})();var If=G(3071);const Mf=["filterByNama"];function Pf(a,c){1&a&&i._UZ(0,"th",30)}function Rf(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"td",31)(1,"mat-radio-button",32),i.NdJ("click",function(p){return p.stopPropagation()})("change",function(p){const _=i.CHM(r).$implicit,C=i.oxw();return i.KtG(p?C.toggle(_):null)}),i.qZA()()}if(2&a){const r=c.$implicit,u=i.oxw();i.xp6(1),i.Q6J("value",r.id)("checked",u._data.instructureTestId===r.id)("color","warn")}}function Nf(a,c){1&a&&(i.TgZ(0,"th",33),i._uU(1,"Nama"),i.qZA())}function Lf(a,c){if(1&a&&(i.TgZ(0,"td",34)(1,"div",35)(2,"div",36),i._uU(3),i.ALo(4,"titlecase"),i.qZA(),i.TgZ(5,"div",37),i._uU(6),i.qZA()()()),2&a){const r=c.$implicit;i.xp6(3),i.hij(" ",i.lcZ(4,2,r.nama)," "),i.xp6(3),i.hij(" ",r.email," ")}}function Bf(a,c){1&a&&(i.TgZ(0,"th",33),i._uU(1,"Jabatan"),i.qZA())}function Ud(a,c){if(1&a&&(i.TgZ(0,"td",34)(1,"div",35)(2,"div",38),i._uU(3),i.ALo(4,"titlecase"),i.qZA()()()),2&a){const r=c.$implicit;i.xp6(3),i.hij(" ",i.lcZ(4,1,r.jabatanNama)," ")}}function Of(a,c){1&a&&i._UZ(0,"tr",39)}function Zd(a,c){1&a&&i._UZ(0,"tr",40)}let zf=(()=>{class a{constructor(r,u,p,f,_,C,D,x,y){this.matDialogRef=r,this._data=u,this._formBuilder=p,this._helperService=f,this._referensiService=_,this._toastr=C,this._changeDetectorRef=D,this._userService=x,this._diklatService=y,this.onFileInputed=!1,this.jenisInstansiList=this._referensiService.jenisInstansiList(),this.jenisJabatan$=this._referensiService.jabatan(),this.provinsi$=this._referensiService.provinsi({q:""}),this.bahasaList=this._referensiService.jenisBahasa(),this.dataSource=new st.by,this.displayedColumns=["select","nama","jabatanNama"],this.length=null,this.pageSize=10,this.pesertaList=[],this.selectedPeserta=[],this.filterbyProvAlamatKantor="",this.filterByBahasa="",this._unsubscribeAll=new lt.x}ngOnInit(){console.log(this._data),this.form=this._formBuilder.group({courseId:[this._data?.id,[F.kI.required]],instructureId:[0,[F.kI.required,F.kI.min(1)]]})}ngAfterViewInit(){this._changeDetectorRef.markForCheck(),(0,wn.R)(this.findNama.nativeElement,"keyup").pipe((0,ct.R)(this._unsubscribeAll),(0,$n.b)(150),(0,ll.x)(),(0,_r.b)(()=>{this.paginator.pageIndex=0,this._changeDetectorRef.markForCheck(),this.filter()})).subscribe(),this.filter()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}fetch(){return this._userService.getList(0,1e3,null,null,{byRole:"ROLE_INSTRUKTUR",byName:this.findNama.nativeElement.value}).pipe((0,ct.R)(this._unsubscribeAll))}onPageChanged(r){const p=r.pageIndex*r.pageSize;this.dataSource.data=this.pesertaList.slice(p,p+r.pageSize),this._changeDetectorRef.markForCheck()}filter(){this.fetch().subscribe(r=>{r?.content&&(this.pesertaList=r.content,this.dataSource=new st.by(r.content),this.dataSource.paginator=this.paginator,this.length=r.totalElements,this._changeDetectorRef.markForCheck())})}toggle(r){this.form.get("instructureId").setValue(r.id)}create(){const r=this.form.getRawValue();this._diklatService.assignInstruktur(JSON.stringify(r)).subscribe(u=>{u?.success?(this._toastr.success("Instruktur berhasil ditambahkan"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(u?.message,"ERROR")})}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(F.QS),i.Y36(Dt.W),i.Y36($t.A2),i.Y36(ne._W),i.Y36(i.sBO),i.Y36(If.K),i.Y36(Ct.c))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(r,u){if(1&r&&(i.Gf(Ui.NW,7),i.Gf(Mf,7)),2&r){let p;i.iGM(p=i.CRH())&&(u.paginator=p.first),i.iGM(p=i.CRH())&&(u.findNama=p.first)}},features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:39,vars:12,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4","text-lg","font-medium"],[1,"w-12","h-1","my-6","border-t-2"],[1,"flex","items-center","mt-4"],[1,"my-3","font-medium"],[1,"flex","items-center"],[1,"flex-auto"],[1,"fuse-mat-dense","fuse-mat-no-subscript","w-full","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder"],["filterByNama",""],["mat-table","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nama"],["mat-header-cell","","class","p-2",4,"matHeaderCellDef"],["mat-cell","","class","p-2",4,"matCellDef"],["matColumnDef","jabatanNama"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],["mat-header-cell",""],["mat-cell",""],[3,"value","checked","color","click","change"],["mat-header-cell","",1,"p-2"],["mat-cell","",1,"p-2"],[1,"min-w-0","space-y-1"],[1,"font-semibold","leading-5"],[1,"text-sm","leading-5"],[1,"leading-5","truncate"],["mat-header-row",""],["mat-row",""]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3,"Assign Instruktur Test"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"div",6)(8,"div")(9,"div",7),i._uU(10),i.qZA(),i._UZ(11,"div",8),i.qZA(),i.TgZ(12,"div",9)(13,"div",6)(14,"h3",10),i._uU(15,"Pilih Instruktur: "),i.qZA(),i.TgZ(16,"div",11)(17,"div",12)(18,"mat-form-field",13),i._UZ(19,"mat-icon",14)(20,"input",15,16),i.qZA()()(),i.TgZ(22,"table",17),i.ynx(23,18),i.YNc(24,Pf,1,0,"th",19),i.YNc(25,Rf,2,3,"td",20),i.BQk(),i.ynx(26,21),i.YNc(27,Nf,2,0,"th",22),i.YNc(28,Lf,7,4,"td",23),i.BQk(),i.ynx(29,24),i.YNc(30,Bf,2,0,"th",22),i.YNc(31,Ud,5,3,"td",23),i.BQk(),i.YNc(32,Of,1,0,"tr",25),i.YNc(33,Zd,1,0,"tr",26),i.qZA()()()()(),i.TgZ(34,"div",27)(35,"button",28),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(36," Tutup "),i.qZA(),i.TgZ(37,"button",29),i.NdJ("click",function(){return u.create()}),i._uU(38," Submit "),i.qZA()()()),2&r&&(i.xp6(4),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(4),i.Oqu(u._data.title),i.xp6(9),i.Q6J("svgIcon","heroicons_solid:search"),i.xp6(1),i.Q6J("autocomplete","off")("placeholder","Cari nama"),i.xp6(2),i.Q6J("dataSource",u.dataSource),i.xp6(10),i.Q6J("matHeaderRowDef",u.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",u.displayedColumns),i.xp6(4),i.Q6J("color","primary")("disabled",u.form.invalid))},dependencies:[wt.lW,at.KE,at.qo,Y.Hw,Qt.Nt,Ti.U0,F._Y,F.JL,F.sg,st.BZ,st.fO,st.as,st.w1,st.Dz,st.nj,st.ge,st.ev,st.XQ,st.Gk,it.rS],encapsulation:2,changeDetection:0}),a})();var kl=G(8954),Hd=G(5875),ge=G(4929),dn=G(5436),Hi=G(6321),Zn=G(4813);const Ff=["sliderWrapper"],gi=(0,Hi.i$)({passive:!1}),$f={provide:F.JU,useExisting:(0,i.Gpc)(()=>yr),multi:!0};class Yd{}const Wt=(0,rt.sb)((0,rt.pj)((0,rt.Id)(class{constructor(a){this._elementRef=a}}),"accent"));let yr=(()=>{class a extends Wt{constructor(r,u,p,f,_,C,D,x){super(r),this._focusMonitor=u,this._changeDetectorRef=p,this._dir=f,this._ngZone=C,this._animationMode=x,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new i.vpe,this.input=new i.vpe,this.valueChange=new i.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Zn.w0.EMPTY,this._pointerDown=y=>{this.disabled||this._isSliding||!gs(y)&&0!==y.button||this._ngZone.run(()=>{this._touchId=gs(y)?function Gd(a,c){for(let r=0;r<a.touches.length;r++){const u=a.touches[r].target;if(c===u||c.contains(u))return a.touches[r].identifier}}(y,this._elementRef.nativeElement):void 0;const I=_l(y,this._touchId);if(I){const K=this.value;this._isSliding="pointer",this._lastPointerEvent=y,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(y),this._focusHostElement(),this._updateValueFromPosition(I),this._valueOnSlideStart=K,y.cancelable&&y.preventDefault(),K!=this.value&&this._emitInputEvent()}})},this._pointerMove=y=>{if("pointer"===this._isSliding){const I=_l(y,this._touchId);if(I){y.cancelable&&y.preventDefault();const K=this.value;this._lastPointerEvent=y,this._updateValueFromPosition(I),K!=this.value&&this._emitInputEvent()}}},this._pointerUp=y=>{"pointer"===this._isSliding&&(!gs(y)||"number"!=typeof this._touchId||Hn(y.changedTouches,this._touchId))&&(y.cancelable&&y.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=D,this.tabIndex=parseInt(_)||0,C.runOutsideAngular(()=>{const y=r.nativeElement;y.addEventListener("mousedown",this._pointerDown,gi),y.addEventListener("touchstart",this._pointerDown,gi)})}get invert(){return this._invert}set invert(r){this._invert=(0,ge.Ig)(r)}get max(){return this._max}set max(r){this._max=(0,ge.su)(r,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(r){this._min=(0,ge.su)(r,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(r){this._step=(0,ge.su)(r,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(r){this._thumbLabel=(0,ge.Ig)(r)}get tickInterval(){return this._tickInterval}set tickInterval(r){this._tickInterval="auto"===r?"auto":"number"==typeof r||"string"==typeof r?(0,ge.su)(r,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(r){if(r!==this._value){let u=(0,ge.su)(r,0);this._roundToDecimal&&u!==this.min&&u!==this.max&&(u=parseFloat(u.toFixed(this._roundToDecimal))),this._value=u,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(r){this._vertical=(0,ge.Ig)(r)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(r){this._focusHostElement(r)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const u=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${u})`}}_getTrackFillStyles(){const r=this.percent,p=this.vertical?`1, ${r}, 1`:`${r}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${p})`,display:0===r?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let r=100*this._tickIntervalPercent,C={backgroundSize:this.vertical?`2px ${r}%`:`${r}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${r/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const D=this._shouldInvertAxis();let x;x=this.vertical?D?"Bottom":"Top":D?"Right":"Left",C[`padding${x}`]=`${this._getThumbGap()}px`}return C}_getThumbContainerStyles(){const r=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?r:!r)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const r=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?r:!r}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(r=>{this._isActive=!!r&&"keyboard"!==r,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const r=this._elementRef.nativeElement;r.removeEventListener("mousedown",this._pointerDown,gi),r.removeEventListener("touchstart",this._pointerDown,gi),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(r){if(this.disabled||(0,dn.Vb)(r)||this._isSliding&&"keyboard"!==this._isSliding)return;const u=this.value;switch(r.keyCode){case dn.Ku:this._increment(10);break;case dn.VM:this._increment(-10);break;case dn.uR:this.value=this.max;break;case dn.Sd:this.value=this.min;break;case dn.oh:this._increment("rtl"==this._getDirection()?1:-1);break;case dn.LH:this._increment(1);break;case dn.SV:this._increment("rtl"==this._getDirection()?-1:1);break;case dn.JH:this._increment(-1);break;default:return}u!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",r.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(r){const u=this._document,p=gs(r),_=p?"touchend":"mouseup";u.addEventListener(p?"touchmove":"mousemove",this._pointerMove,gi),u.addEventListener(_,this._pointerUp,gi),p&&u.addEventListener("touchcancel",this._pointerUp,gi);const C=this._getWindow();typeof C<"u"&&C&&C.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const r=this._document;r.removeEventListener("mousemove",this._pointerMove,gi),r.removeEventListener("mouseup",this._pointerUp,gi),r.removeEventListener("touchmove",this._pointerMove,gi),r.removeEventListener("touchend",this._pointerUp,gi),r.removeEventListener("touchcancel",this._pointerUp,gi);const u=this._getWindow();typeof u<"u"&&u&&u.removeEventListener("blur",this._windowBlur)}_increment(r){const u=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(u+this.step*r,this.min,this.max)}_updateValueFromPosition(r){if(!this._sliderDimensions)return;let _=this._clamp(((this.vertical?r.y:r.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(_=1-_),0===_)this.value=this.min;else if(1===_)this.value=this.max;else{const C=this._calculateValue(_),D=Math.round((C-this.min)/this.step)*this.step+this.min;this.value=this._clamp(D,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let r;if("auto"==this.tickInterval){let u=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;r=Math.ceil(30/(u*this.step/(this.max-this.min)))*this.step/u}else r=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=Jd(r)?r:0}_createChangeEvent(r=this.value){let u=new Yd;return u.source=this,u.value=r,u}_calculatePercentage(r){const u=((r||0)-this.min)/(this.max-this.min);return Jd(u)?u:0}_calculateValue(r){return this.min+r*(this.max-this.min)}_clamp(r,u=0,p=1){return Math.max(u,Math.min(r,p))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(r){this._elementRef.nativeElement.focus(r)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(r){this.value=r}registerOnChange(r){this._controlValueAccessorChangeFn=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.disabled=r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(i.SBq),i.Y36(kl.tE),i.Y36(i.sBO),i.Y36(Hd.Is,8),i.$8M("tabindex"),i.Y36(i.R0b),i.Y36(it.K0),i.Y36(i.QbO,8))},a.\u0275cmp=i.Xpm({type:a,selectors:[["mat-slider"]],viewQuery:function(r,u){if(1&r&&i.Gf(Ff,5),2&r){let p;i.iGM(p=i.CRH())&&(u._sliderWrapper=p.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(r,u){1&r&&i.NdJ("focus",function(){return u._onFocus()})("blur",function(){return u._onBlur()})("keydown",function(f){return u._onKeydown(f)})("keyup",function(){return u._onKeyup()})("mouseenter",function(){return u._onMouseenter()})("selectstart",function(f){return f.preventDefault()}),2&r&&(i.Ikx("tabIndex",u.tabIndex),i.uIk("aria-disabled",u.disabled)("aria-valuemax",u.max)("aria-valuemin",u.min)("aria-valuenow",u.value)("aria-valuetext",u.valueText??u.displayValue)("aria-orientation",u.vertical?"vertical":"horizontal"),i.ekj("mat-slider-disabled",u.disabled)("mat-slider-has-ticks",u.tickInterval)("mat-slider-horizontal",!u.vertical)("mat-slider-axis-inverted",u._shouldInvertAxis())("mat-slider-invert-mouse-coords",u._shouldInvertMouseCoords())("mat-slider-sliding",u._isSliding)("mat-slider-thumb-label-showing",u.thumbLabel)("mat-slider-vertical",u.vertical)("mat-slider-min-value",u._isMinValue())("mat-slider-hide-last-tick",u.disabled||u._isMinValue()&&u._getThumbGap()&&u._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===u._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[i._Bn([$f]),i.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0,1)(2,"div",2),i._UZ(3,"div",3)(4,"div",4),i.qZA(),i.TgZ(5,"div",5),i._UZ(6,"div",6),i.qZA(),i.TgZ(7,"div",7),i._UZ(8,"div",8)(9,"div",9),i.TgZ(10,"div",10)(11,"span",11),i._uU(12),i.qZA()()()()),2&r&&(i.xp6(3),i.Q6J("ngStyle",u._getTrackBackgroundStyles()),i.xp6(1),i.Q6J("ngStyle",u._getTrackFillStyles()),i.xp6(1),i.Q6J("ngStyle",u._getTicksContainerStyles()),i.xp6(1),i.Q6J("ngStyle",u._getTicksStyles()),i.xp6(1),i.Q6J("ngStyle",u._getThumbContainerStyles()),i.xp6(5),i.Oqu(u.displayValue))},dependencies:[it.PC],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0}),a})();function Jd(a){return!isNaN(a)&&isFinite(a)}function gs(a){return"t"===a.type[0]}function _l(a,c){let r;return r=gs(a)?"number"==typeof c?Hn(a.touches,c)||Hn(a.changedTouches,c):a.touches[0]||a.changedTouches[0]:a,r?{x:r.clientX,y:r.clientY}:void 0}function Hn(a,c){for(let r=0;r<a.length;r++)if(a[r].identifier===c)return a[r]}let Wd=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[it.ez,rt.BQ,rt.BQ]}),a})(),Uf=(()=>{class a{constructor(r,u,p,f,_){this.matDialogRef=r,this._data=u,this._helperService=p,this._diklatService=f,this._toastr=_,this.valueDiscipline=25,this.valueActiveness=25,this.valuePreTest=25,this.valuePostTest=25,this._unsubscribeAll=new lt.x}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}create(){this._diklatService.setBobot({courseId:this._data.id,discipline:this.valueDiscipline,activeness:this.valueActiveness,preTest:this.valuePreTest,postTest:this.valuePostTest}).subscribe(u=>{u?.success?(this._toastr.success("Bobot penilaian berhasil diset"),this.matDialogRef.close(!0)):this._toastr.error(u?.message)})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(Dt.W),i.Y36(Ct.c),i.Y36(ne._W))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:45,vars:19,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto"],[1,"flex","flex-col","w-full"],[1,"grid","grid-cols-2","gap-4"],[1,"text-right"],[1,"col-span-2"],[1,"w-full",3,"max","min","ngModel","ngModelChange"],["slider1",""],["slider2",""],["slider3",""],["slider4",""],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","click"]],template:function(r,u){if(1&r&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3,"Set Bobot Penilaian"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div"),i._uU(10,"Disiplin"),i.qZA(),i.TgZ(11,"div",8),i._uU(12),i.qZA(),i.TgZ(13,"div",9)(14,"mat-slider",10,11),i.NdJ("ngModelChange",function(f){return u.valueDiscipline=f}),i.qZA()()(),i.TgZ(16,"div",7)(17,"div"),i._uU(18,"Keaktifan"),i.qZA(),i.TgZ(19,"div",8),i._uU(20),i.qZA(),i.TgZ(21,"div",9)(22,"mat-slider",10,12),i.NdJ("ngModelChange",function(f){return u.valueActiveness=f}),i.qZA()()(),i.TgZ(24,"div",7)(25,"div"),i._uU(26,"Pre-test"),i.qZA(),i.TgZ(27,"div",8),i._uU(28),i.qZA(),i.TgZ(29,"div",9)(30,"mat-slider",10,13),i.NdJ("ngModelChange",function(f){return u.valuePreTest=f}),i.qZA()()(),i.TgZ(32,"div",7)(33,"div"),i._uU(34,"Post-test"),i.qZA(),i.TgZ(35,"div",8),i._uU(36),i.qZA(),i.TgZ(37,"div",9)(38,"mat-slider",10,14),i.NdJ("ngModelChange",function(f){return u.valuePostTest=f}),i.qZA()()()()()(),i.TgZ(40,"div",15)(41,"button",16),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(42," Tutup "),i.qZA(),i.TgZ(43,"button",17),i.NdJ("click",function(){return u.create()}),i._uU(44," Submit "),i.qZA()()),2&r){const p=i.MAs(15),f=i.MAs(23),_=i.MAs(31),C=i.MAs(39);i.xp6(4),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(7),i.Oqu(p.value),i.xp6(2),i.Q6J("max",100)("min",0)("ngModel",u.valueDiscipline),i.xp6(6),i.Oqu(f.value),i.xp6(2),i.Q6J("max",100)("min",0)("ngModel",u.valueActiveness),i.xp6(6),i.Oqu(_.value),i.xp6(2),i.Q6J("max",100)("min",0)("ngModel",u.valuePreTest),i.xp6(6),i.Oqu(C.value),i.xp6(2),i.Q6J("max",100)("min",0)("ngModel",u.valuePostTest),i.xp6(5),i.Q6J("color","primary")}},dependencies:[wt.lW,Y.Hw,yr,F.JJ,F.On],encapsulation:2,changeDetection:0}),a})();function Cn(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"button",23),i.NdJ("click",function(){i.CHM(r),i.oxw();const p=i.MAs(21);return i.KtG(p.click())}),i._uU(1,"Pilih Template"),i.qZA()}2&a&&i.Q6J("color","accent")}function Ar(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"button",24),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.toggleOnFileInputed(!1))}),i._UZ(1,"mat-icon",25),i.qZA()}2&a&&(i.Q6J("matTooltip","Clear"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"))}let Kd=(()=>{class a{constructor(r,u,p,f,_,C,D,x){this.matDialogRef=r,this._data=u,this._helperService=p,this._diklatService=f,this._toastr=_,this._formBuilder=C,this._changeDetectorRef=D,this._referensiService=x,this.onFileInputed=!1,this._unsubscribeAll=new lt.x}ngOnInit(){this.form=this._formBuilder.group({file:[null,[F.kI.required]]})}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}toggleOnFileInputed(r=null){null===r?this.onFileInputed=!this.onFileInputed:(r||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=r),this._changeDetectorRef.markForCheck()}onFileInput(r){const u=this._referensiService.onFileInputSingle(r,"image/jpeg",2e3);return u.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=u.fileInfo.name,this.form.get("file").setValue(r.target.files[0]),!0):(this._toastr.error(u.msg,"ERROR"),!1)}download(){window.open("/assets/certificate_template.docx","_blank")}create(){const r=this.form.getRawValue(),p=new FormData;p.append("courseId",this._data.id),r.file&&p.append("template",r.file),this._diklatService.setTemplateCertificate(p).subscribe(f=>{f?.success?(this._toastr.success("Template sertifikat berhasil diset"),this.matDialogRef.close(!0)):this._toastr.error(f?.message)})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(ot.so),i.Y36(ot.WI),i.Y36(Dt.W),i.Y36(Ct.c),i.Y36(ne._W),i.Y36(F.QS),i.Y36(i.sBO),i.Y36($t.A2))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ng-component"]],features:[i._Bn([{provide:rt.sG,useValue:$t.lv},{provide:rt._A,useClass:ke.t7,deps:[rt.Ad]}])],decls:32,vars:8,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4","mb-4"],[1,"flex","items-center"],[1,"ml-3"],[1,"text-md","font-medium","truncate"],[1,"underline",3,"click"],[1,"fuse-mat-no-subscript","w-full"],["type","file","accept",".doc,.docx,msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start","mt-2"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"]],template:function(r,u){if(1&r){const p=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._uU(3,"Set Template Sertifikat"),i.qZA(),i.TgZ(4,"button",3),i.NdJ("click",function(){return u.matDialogRef.close()}),i._UZ(5,"mat-icon",4),i.qZA()(),i.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"button",11),i.NdJ("click",function(){return u.download()}),i._uU(13,"Contoh template"),i.qZA()()()()(),i.TgZ(14,"div",7)(15,"div",12)(16,"mat-label"),i._uU(17,"Lampiran Template "),i.TgZ(18,"i"),i._uU(19,"(Maksimal ukuran 1 MB)"),i.qZA()(),i.TgZ(20,"input",13,14),i.NdJ("click",function(){i.CHM(p);const _=i.MAs(21);return i.KtG(_.value=null)})("change",function(_){return u.onFileInput(_)}),i.qZA(),i.TgZ(22,"div",15)(23,"div",16),i.YNc(24,Cn,2,1,"button",17),i.YNc(25,Ar,2,2,"button",18),i._UZ(26,"span",19),i.qZA()()()()()()(),i.TgZ(27,"div",20)(28,"button",21),i.NdJ("click",function(){return u.matDialogRef.close()}),i._uU(29," Tutup "),i.qZA(),i.TgZ(30,"button",22),i.NdJ("click",function(){return u.create()}),i._uU(31," Submit "),i.qZA()()}2&r&&(i.xp6(4),i.Q6J("tabIndex",-1),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:x"),i.xp6(1),i.Q6J("formGroup",u.form),i.xp6(18),i.Q6J("ngIf",!u.onFileInputed),i.xp6(1),i.Q6J("ngIf",u.onFileInputed),i.xp6(1),i.Q6J("id","fileDokumen"),i.xp6(4),i.Q6J("color","primary")("disabled",u.form.invalid))},dependencies:[wt.lW,at.hX,Y.Hw,H.gM,it.O5,F._Y,F.JL,F.sg],encapsulation:2,changeDetection:0}),a})();function qn(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"mat-option",7),i._uU(2),i.qZA(),i.BQk()),2&a){const r=c.$implicit;i.xp6(1),i.Q6J("value",r.id),i.xp6(1),i.Oqu(r.name)}}function Zf(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"button",17),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.toggleCreate())}),i._UZ(2,"mat-icon",18),i.TgZ(3,"span",19),i._uU(4,"Diklat & Kursus"),i.qZA()(),i.BQk()}2&a&&(i.xp6(1),i.Q6J("color","primary"),i.xp6(1),i.Q6J("svgIcon","heroicons_outline:plus"))}const Xd=function(a,c,r,u){return{"text-blue-800 bg-blue-100 dark:text-blue-50 dark:bg-blue-500":a,"text-green-800 bg-green-100 dark:text-green-50 dark:bg-green-500":c,"text-pink-800 bg-pink-100 dark:text-pink-50 dark:bg-pink-500":r,"text-amber-800 bg-amber-100 dark:text-amber-50 dark:bg-amber-500":u}};function vl(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",32),i._uU(2),i.qZA(),i.BQk()),2&a){const r=c.ngIf;i.xp6(1),i.Q6J("ngClass",i.l5B(2,Xd,"DIKLAT_TEKNIS"===r.id,"DIKLAT_FUNGSIONAL"===r.id,"cloud"===r.id,"firebase"===r.id)),i.xp6(1),i.hij(" ",r.name," ")}}function St(a,c){1&a&&(i.ynx(0),i._UZ(1,"mat-icon",34),i.BQk()),2&a&&(i.xp6(1),i.Q6J("svgIcon","heroicons_solid:badge-check")("matTooltip","Anda telah menyelesaikan Dikla / Kursus ini"))}function tu(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",33),i.YNc(2,St,2,2,"ng-container",14),i.qZA(),i.BQk()),2&a){const r=i.oxw().$implicit;i.xp6(2),i.Q6J("ngIf",100==+r.progress)}}function de(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",35),i._UZ(2,"mat-icon",29),i.TgZ(3,"div",30),i._uU(4),i.qZA()(),i.BQk()),2&a){const r=i.oxw(2).$implicit;i.xp6(2),i.Q6J("svgIcon","heroicons_solid:user-circle"),i.xp6(2),i.Oqu(r.instructureTestName)}}function xr(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",35),i._UZ(2,"mat-icon",29),i.TgZ(3,"div",30),i._uU(4),i.qZA()(),i.YNc(5,de,5,2,"ng-container",14),i.BQk()),2&a){const r=i.oxw().$implicit;i.xp6(2),i.Q6J("svgIcon","heroicons_solid:users"),i.xp6(2),i.hij("",r.participantCount," Peserta"),i.xp6(1),i.Q6J("ngIf",null==r?null:r.instructureTestName)}}function eu(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",36),i._UZ(2,"div",37),i.ALo(3,"percent"),i._UZ(4,"mat-progress-bar",38),i.qZA(),i.BQk()),2&a){const r=i.oxw().$implicit;i.xp6(2),i.Q6J("matTooltip",i.lcZ(3,4,r.progress))("matTooltipPosition","above")("matTooltipClass","-mb-0.5"),i.xp6(2),i.Q6J("value",+r.progress)}}const wl=function(a){return[a]};function ue(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",39)(2,"button",40),i._UZ(3,"mat-icon",41),i.qZA(),i.TgZ(4,"a",42)(5,"span",43)(6,"span"),i._uU(7,"Kelola"),i.qZA()()(),i.TgZ(8,"mat-menu",null,44)(10,"button",45),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(2);return i.KtG(f.toggleInstruktur(p))}),i.TgZ(11,"span",33),i._UZ(12,"mat-icon",46),i.TgZ(13,"span"),i._uU(14,"Assign Instruktur Test"),i.qZA()()(),i.TgZ(15,"button",45),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(2);return i.KtG(f.togglePeserta(p))}),i.TgZ(16,"span",33),i._UZ(17,"mat-icon",46),i.TgZ(18,"span"),i._uU(19,"Kelola Peserta"),i.qZA()()(),i.TgZ(20,"button",45),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(2);return i.KtG(f.toggleBobot(p))}),i.TgZ(21,"span",33),i._UZ(22,"mat-icon",46),i.TgZ(23,"span"),i._uU(24,"Set Bobot Penilaian"),i.qZA()()(),i.TgZ(25,"button",45),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(2);return i.KtG(f.toggleTemplateSertifikat(p))}),i.TgZ(26,"span",33),i._UZ(27,"mat-icon",46),i.TgZ(28,"span"),i._uU(29,"Set Template Sertifikat"),i.qZA()()(),i._UZ(30,"hr",47),i.TgZ(31,"button",45),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(2);return i.KtG(f.toggleKehadiran(p))}),i.TgZ(32,"span",33),i._UZ(33,"mat-icon",46),i.TgZ(34,"span"),i._uU(35,"Daftar Hadir"),i.qZA()()(),i.TgZ(36,"button",45),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(2);return i.KtG(f.togglePenilaian(p))}),i.TgZ(37,"span",33),i._UZ(38,"mat-icon",46),i.TgZ(39,"span"),i._uU(40,"Penilaian"),i.qZA()()(),i.TgZ(41,"button",45),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(2);return i.KtG(f.toggleSertifikat(p))}),i.TgZ(42,"span",33),i._UZ(43,"mat-icon",46),i.TgZ(44,"span"),i._uU(45,"Menerbitkan Sertifikat"),i.qZA()()(),i._UZ(46,"hr",47),i.TgZ(47,"button",45),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(2);return i.KtG(f.toggleEdit(p))}),i.TgZ(48,"span",33),i._UZ(49,"mat-icon",46),i.TgZ(50,"span"),i._uU(51,"Ubah"),i.qZA()()(),i.TgZ(52,"button",45),i.NdJ("click",function(){i.CHM(r);const p=i.oxw().$implicit,f=i.oxw(2);return i.KtG(f.toggleDelete(p.id))}),i.TgZ(53,"span",33),i._UZ(54,"mat-icon",46),i.TgZ(55,"span"),i._uU(56,"Hapus"),i.qZA()()()()(),i.BQk()}if(2&a){const r=i.MAs(9),u=i.oxw().$implicit;i.xp6(2),i.Q6J("matMenuTriggerFor",r),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:dots-horizontal"),i.xp6(1),i.Q6J("routerLink",i.VKq(12,wl,"kelola/"+u.id)),i.xp6(8),i.Q6J("svgIcon","heroicons_solid:user-add"),i.xp6(5),i.Q6J("svgIcon","heroicons_solid:user-add"),i.xp6(5),i.Q6J("svgIcon","heroicons_solid:badge-check"),i.xp6(5),i.Q6J("svgIcon","heroicons_solid:academic-cap"),i.xp6(6),i.Q6J("svgIcon","heroicons_solid:clipboard-check"),i.xp6(5),i.Q6J("svgIcon","heroicons_solid:badge-check"),i.xp6(5),i.Q6J("svgIcon","heroicons_solid:academic-cap"),i.xp6(6),i.Q6J("svgIcon","heroicons_solid:pencil-alt"),i.xp6(5),i.Q6J("svgIcon","heroicons_solid:trash")}}function Tr(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",39)(2,"a",42)(3,"span",43)(4,"span"),i._uU(5,"Mulai"),i.qZA(),i._UZ(6,"mat-icon",48),i.qZA()()(),i.BQk()),2&a){const r=i.oxw().$implicit;i.xp6(2),i.Q6J("routerLink",i.VKq(2,wl,"play/"+r.id)),i.xp6(4),i.Q6J("svgIcon","heroicons_solid:arrow-sm-right")}}function iu(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",21)(2,"div",22)(3,"div",23),i.YNc(4,vl,3,7,"ng-container",14),i.ALo(5,"fuseFindByKey"),i.YNc(6,tu,3,1,"ng-container",14),i.qZA(),i.TgZ(7,"div",24),i._UZ(8,"img",25),i.qZA(),i.TgZ(9,"div",24),i._uU(10),i.qZA(),i.TgZ(11,"div",26),i._uU(12),i.qZA(),i._UZ(13,"div",27),i.TgZ(14,"div",28),i._UZ(15,"mat-icon",29),i.TgZ(16,"div",30),i._uU(17),i.qZA()(),i.YNc(18,xr,6,3,"ng-container",14),i.qZA(),i.TgZ(19,"div",31),i.YNc(20,eu,5,6,"ng-container",14),i.YNc(21,ue,57,14,"ng-container",14),i.YNc(22,Tr,7,4,"ng-container",14),i.qZA()(),i.BQk()),2&a){const r=c.$implicit,u=i.oxw(2);i.xp6(4),i.Q6J("ngIf",i.Dn7(5,12,r.courseGroup.jenisKegiatan,"id",u.categories)),i.xp6(2),i.Q6J("ngIf","ROLE_USER"===u.role),i.xp6(2),i.Q6J("src",u.getFilePath(r.coverImagePath),i.LSH),i.xp6(2),i.Oqu(r.title),i.xp6(2),i.Oqu(r.description),i.xp6(3),i.Q6J("svgIcon","heroicons_solid:calendar"),i.xp6(2),i.AsE("",r.startDate," - ",r.endDate,""),i.xp6(1),i.Q6J("ngIf","ROLE_ADMIN"===u.role||"ROLE_INSTRUKTUR"===u.role),i.xp6(2),i.Q6J("ngIf","ROLE_ADMIN"!==u.role||"ROLE_INSTRUKTUR"!==u.role),i.xp6(1),i.Q6J("ngIf","ROLE_ADMIN"===u.role),i.xp6(1),i.Q6J("ngIf","ROLE_USER"===u.role||"ROLE_INSTRUKTUR"===u.role)}}function nu(a,c){if(1&a&&(i.ynx(0),i.TgZ(1,"div",20),i.YNc(2,iu,23,16,"ng-container",8),i.qZA(),i.BQk()),2&a){const r=i.oxw();i.xp6(2),i.Q6J("ngForOf",r.filteredCourses)("ngForTrackBy",r.trackByFn)}}function te(a,c){1&a&&(i.TgZ(0,"div",49),i._UZ(1,"mat-icon",50),i.TgZ(2,"div",51),i._uU(3,"Diklat & Kursus tidak ditemukan!"),i.qZA()()),2&a&&(i.xp6(1),i.Q6J("svgIcon","heroicons_outline:document-search"))}const yo=[{path:"",component:wg,children:[{path:"",pathMatch:"full",component:(()=>{class a{constructor(r,u,p,f,_,C,D){this._authService=r,this._changeDetectorRef=u,this._diklatService=p,this._helperService=f,this._fuseConfirmationService=_,this._matDialog=C,this._toastr=D,this.categories=this._helperService.jenisKegiatanList(),this.role=this._authService.role,this.filters={categorySlug$:new ln.X("all"),query$:new ln.X(""),hideCompleted$:new ln.X(!1)},this._unsubscribeAll=new lt.x}ngOnInit(){this._diklatService.items$.pipe((0,ct.R)(this._unsubscribeAll)).subscribe(r=>{this.courses=this.filteredCourses=r,this._changeDetectorRef.markForCheck()}),(0,Gg.a)([this.filters.categorySlug$,this.filters.query$,this.filters.hideCompleted$]).subscribe(([r,u,p])=>{this.filteredCourses=this.courses,"all"!==r&&(this.filteredCourses=this.filteredCourses.filter(f=>f.category===r)),""!==u&&(this.filteredCourses=this.filteredCourses.filter(f=>f.title.toLowerCase().includes(u.toLowerCase())||f.description.toLowerCase().includes(u.toLowerCase())||f.category.toLowerCase().includes(u.toLowerCase()))),p&&(this.filteredCourses=this.filteredCourses.filter(f=>0===f.progress.completed))})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}getFilePath(r){return null!==r?qe.N.baseUrl+r:"./assets/images/cards/01-320x200.jpg"}toggleCreate(){this._matDialog.open(Sd,{autoFocus:!1}).afterClosed().subscribe(u=>{u&&this._diklatService.getList().subscribe()})}toggleEdit(r){this._matDialog.open(Sd,{autoFocus:!1,data:r}).afterClosed().subscribe(p=>{p&&this._diklatService.getList().subscribe()})}toggleInstruktur(r){this._matDialog.open(zf,{autoFocus:!1,data:r}).afterClosed().subscribe(p=>{p&&this._diklatService.getList().subscribe()})}togglePeserta(r){this._matDialog.open(wr,{autoFocus:!1,data:r}).afterClosed().subscribe(()=>{})}toggleKelola(r){this._matDialog.open(wr,{autoFocus:!1,data:r}).afterClosed().subscribe(()=>{})}toggleBobot(r){this._matDialog.open(Uf,{autoFocus:!1,data:r}).afterClosed().subscribe(()=>{this._diklatService.getList().subscribe()})}toggleTemplateSertifikat(r){this._matDialog.open(Kd,{autoFocus:!1,data:r}).afterClosed().subscribe(()=>{this._diklatService.getList().subscribe()})}togglePenilaian(r){this._matDialog.open(Ef,{autoFocus:!1,data:r}).afterClosed().subscribe(()=>{})}toggleKehadiran(r){this._matDialog.open(Od,{autoFocus:!1,data:r}).afterClosed().subscribe(()=>{})}toggleSertifikat(r){this._matDialog.open(pf,{autoFocus:!1,data:r}).afterClosed().subscribe(()=>{})}toggleDelete(r){this._fuseConfirmationService.open({title:"Hapus Diklat",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:"heroicons_outline:x",color:"warn"},actions:{confirm:{show:!0,label:"Konfirm hapus",color:"warn"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(p=>{"confirmed"===p&&this._diklatService.courseDelete(r).subscribe(f=>{f?.success?(this._toastr.success("Diklat berhasil dihapus"),this._diklatService.getList().subscribe()):this._toastr.error(f?.message,"ERROR")})})}filterByQuery(r){this.filters.query$.next(r)}filterByCategory(r){this.filters.categorySlug$.next(r.value)}toggleCompleted(r){this.filters.hideCompleted$.next(r.checked)}trackByFn(r,u){return u.id||r}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ie.e),i.Y36(i.sBO),i.Y36(Ct.c),i.Y36(Dt.W),i.Y36(us.R),i.Y36(ot.uw),i.Y36(ne._W))},a.\u0275cmp=i.Xpm({type:a,selectors:[["diklat-list"]],decls:21,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","w-full","mx-auto"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","max-w-xs","sm:max-w-none"],[1,"text-2xl","font-extrabold","tracking-tight","leading-none","mr-10"],[1,"fuse-mat-no-subscript","w-full","sm:w-72"],[3,"value","selectionChange"],[3,"value"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"fuse-mat-no-subscript","w-full","sm:w-72","mt-4","sm:mt-0","sm:ml-4",3,"floatLabel"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["placeholder","Cari judul","matInput","",3,"input"],["query",""],[1,"mt-8","sm:mt-0","ml-3",3,"color","change"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["noCourses",""],["mat-flat-button","",1,"mt-8","sm:mt-0","sm:ml-auto",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-8","mt-8","sm:mt-10"],[1,"flex","flex-col","shadow","rounded-2xl","overflow-hidden","bg-card"],[1,"flex","flex-col","p-6"],[1,"flex","items-center","justify-between"],[1,"mt-4","text-lg","font-medium"],[1,"h-full",3,"src"],[1,"line-clamp-2","text-secondary","mt-5"],[1,"w-12","h-1","my-6","border-t-2"],[1,"flex","items-center","leading-5","text-md","text-secondary"],[1,"icon-size-5","text-hint",3,"svgIcon"],[1,"ml-1.5"],[1,"flex","flex-col","w-full","mt-auto"],[1,"py-0.5","px-3","rounded-full","text-sm","font-semibold",3,"ngClass"],[1,"flex","items-center"],[1,"icon-size-5","text-green-600",3,"svgIcon","matTooltip"],[1,"flex","items-center","leading-5","text-md","text-secondary","mt-5"],[1,"relative","h-0.5"],[1,"z-10","absolute","inset-x-0","h-6","-mt-3",3,"matTooltip","matTooltipPosition","matTooltipClass"],[1,"h-0.5",3,"value"],[1,"px-6","py-4","text-right","bg-gray-50","dark:bg-transparent"],["mat-button","",1,"px-6","py-4",3,"matMenuTriggerFor"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",3,"routerLink"],[1,"inline-flex","items-center"],["postCardMenu01","matMenu"],["mat-menu-item","",3,"click"],[1,"icon-size-5","mr-3",3,"svgIcon"],[1,"border-b","my-1"],[1,"ml-1.5","icon-size-5",3,"svgIcon"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-6","text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(r,u){if(1&r){const p=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),i._uU(5,"Diklat & Kursus"),i.qZA(),i.TgZ(6,"mat-form-field",5)(7,"mat-select",6),i.NdJ("selectionChange",function(_){return u.filterByCategory(_)}),i.TgZ(8,"mat-option",7),i._uU(9,"-- Semua Jenis --"),i.qZA(),i.YNc(10,qn,3,2,"ng-container",8),i.qZA()(),i.TgZ(11,"mat-form-field",9),i._UZ(12,"mat-icon",10),i.TgZ(13,"input",11,12),i.NdJ("input",function(){i.CHM(p);const _=i.MAs(14);return i.KtG(u.filterByQuery(_.value))}),i.qZA()(),i.TgZ(15,"mat-slide-toggle",13),i.NdJ("change",function(_){return u.toggleCompleted(_)}),i._uU(16," Sembunyikan selesai "),i.qZA(),i.YNc(17,Zf,5,2,"ng-container",14),i.qZA(),i.YNc(18,nu,3,2,"ng-container",15),i.YNc(19,te,4,1,"ng-template",null,16,i.W1O),i.qZA()()()}if(2&r){const p=i.MAs(20);i.xp6(7),i.Q6J("value","all"),i.xp6(1),i.Q6J("value","all"),i.xp6(2),i.Q6J("ngForOf",u.categories)("ngForTrackBy",u.trackByFn),i.xp6(1),i.Q6J("floatLabel","always"),i.xp6(1),i.Q6J("svgIcon","heroicons_solid:search"),i.xp6(3),i.Q6J("color","primary"),i.xp6(2),i.Q6J("ngIf","ROLE_ADMIN"===u.role),i.xp6(1),i.Q6J("ngIf",u.filteredCourses.length)("ngIfElse",p)}},dependencies:[Nt.yS,wt.lW,wt.zs,at.KE,at.qo,Y.Hw,Qt.Nt,U.pW,At.PQ,$.gD,rt.ey,j.Rr,H.gM,it.mk,it.sg,it.O5,cn.VK,cn.OP,cn.p6,ud,it.Zx],encapsulation:2,changeDetection:0}),a})(),resolve:{courses:Cg}},{path:"kelola/:id",component:Jg,resolve:{course:fd}},{path:"play/:id",component:vg,resolve:{course:fd}}]}];var _e=G(7204);function ou(a,c){if(1&a){const r=i.EpF();i.ynx(0),i._UZ(1,"formly-field",7),i.TgZ(2,"div",8)(3,"button",9),i.NdJ("click",function(){const f=i.CHM(r).index,_=i.oxw();return i.KtG(_.remove(f))}),i.TgZ(4,"mat-icon"),i._uU(5,"close"),i.qZA()()(),i.BQk()}if(2&a){const r=c.$implicit;i.xp6(1),i.Q6J("field",r)}}function Ao(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"button",10),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.submit())}),i._uU(2,"SIMPAN SESI"),i.qZA(),i.BQk()}if(2&a){const r=i.oxw();i.xp6(1),i.Q6J("disabled",!r.formControl.valid)}}let Qn=(()=>{class a extends _e.hv{constructor(r,u,p){super(),this._diklatService=r,this.router=u,this._toastr=p,this.viewLoading=!1}submit(){this.viewLoading=!0;const r=this.formControl.value;let u=0;console.log("SesiAddComponent->submitValue",this.formControl.value),r.forEach(p=>{p.startDate=Ae()(p.startDate).format("YYYY-MM-DD"),p.endDate=Ae()(p.endDate).format("YYYY-MM-DD"),this._diklatService.sectionCreate(p).pipe((0,as.x)(()=>{this.viewLoading=!1})).subscribe(f=>{f.success&&(u+=u+1,this._toastr.success("Sesi `"+f.mapData.data.title+"` berhasil ditambahkan"))})}),this.field.fieldGroup=[],this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigateByUrl(this.router.url),console.log("SesiAddComponent->submitted",u)}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ct.c),i.Y36(Nt.F0),i.Y36(ne._W))},a.\u0275cmp=i.Xpm({type:a,selectors:[["formly-repeat-section"]],features:[i.qOj],decls:8,vars:2,consts:[[1,"kt-section"],[1,"kt-section__content"],[4,"ngFor","ngForOf"],[1,"row","kt-mt-10"],[1,"col-12","text-right"],["mat-raised-button","",1,"kt-mr-10",3,"click"],[4,"ngIf"],[1,"col-11",3,"field"],[1,"col-1","text-right"],["mat-button","","color","warn",3,"click"],["mat-raised-button","","color","warn",3,"disabled","click"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,ou,6,1,"ng-container",2),i.TgZ(3,"div",3)(4,"div",4)(5,"button",5),i.NdJ("click",function(){return u.add()}),i._uU(6," + SESI "),i.qZA(),i.YNc(7,Ao,3,1,"ng-container",6),i.qZA()()()()),2&r&&(i.xp6(2),i.Q6J("ngForOf",u.field.fieldGroup),i.xp6(5),i.Q6J("ngIf",u.field.fieldGroup.length))},dependencies:[it.sg,it.O5,Y.Hw,wt.lW,_e.cw],encapsulation:2}),a})();function su(a,c){if(1&a){const r=i.EpF();i.ynx(0),i._UZ(1,"formly-field",7),i.TgZ(2,"div",8)(3,"button",9),i.NdJ("click",function(){const f=i.CHM(r).index,_=i.oxw();return i.KtG(_.remove(f))}),i.TgZ(4,"mat-icon"),i._uU(5,"close"),i.qZA()()(),i.BQk()}if(2&a){const r=c.$implicit;i.xp6(1),i.Q6J("field",r)}}let ru=(()=>{class a extends _e.hv{constructor(r,u,p){super(),this._diklatService=r,this.router=u,this.toastr=p,this.viewLoading=!1,this.selected=JSON.parse(localStorage.getItem("selectedSections"))}submit(){this.viewLoading=!0;let u=0;this.formControl.value.forEach(p=>{p.activityGroupDate=Ae()(p.activityGroupDate).format("YYYY-MM-DD"),p.startTime=Ae().utc(p.startTime,"HH:mm").format("HH:mm"),p.endTime=Ae().utc(p.endTime,"HH:mm").format("HH:mm"),p.sectionId=this.selected.id,console.log("ActivityGroupAddComponent->queryParams",p),this._diklatService.activityGroupCreate(p).pipe((0,as.x)(()=>{this.viewLoading=!1})).subscribe(f=>{f.success?(u+=u+1,this.toastr.success("Sesi `"+f.mapData.data.title+"` berhasil ditambahkan")):this.toastr.success("ERROR: `"+f.message+"`"),console.log("ActivityGroupAddComponent->return",f)})}),this.field.fieldGroup=[],this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigateByUrl(this.router.url),console.log("ActivityGroupAddComponent->submitted",u)}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ct.c),i.Y36(Nt.F0),i.Y36(ne._W))},a.\u0275cmp=i.Xpm({type:a,selectors:[["formly-repeat-activity-group"]],features:[i.qOj],decls:9,vars:3,consts:[[1,"kt-portlet__body--fit"],[4,"ngFor","ngForOf"],[1,"kt-portlet__foot"],[1,"row","align-items-center","kt-margin-20"],[1,"col-md-12","kt-align-right"],["mat-raised-button","",1,"kt-mr-10",3,"click"],["mat-raised-button","","color","warn",3,"hidden","disabled","click"],[1,"col-md-11",3,"field"],[1,"col-md-1","text-right"],["mat-button","","color","warn",3,"click"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0),i.YNc(1,su,6,1,"ng-container",1),i.qZA(),i.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),i.NdJ("click",function(){return u.add()}),i._uU(6," ROW "),i.qZA(),i.TgZ(7,"button",6),i.NdJ("click",function(){return u.submit()}),i._uU(8,"SIMPAN"),i.qZA()()()()),2&r&&(i.xp6(1),i.Q6J("ngForOf",u.field.fieldGroup),i.xp6(6),i.Q6J("hidden",!u.field.fieldGroup.length)("disabled",!u.formControl.valid))},dependencies:[it.sg,Y.Hw,wt.lW,_e.cw],encapsulation:2}),a})();function Cl(a,c){if(1&a){const r=i.EpF();i.ynx(0),i.TgZ(1,"div",8)(2,"div",9),i._UZ(3,"formly-field",10),i.qZA(),i.TgZ(4,"div",11)(5,"button",12),i.NdJ("click",function(){const f=i.CHM(r).index,_=i.oxw();return i.KtG(_.remove(f))}),i.TgZ(6,"mat-icon"),i._uU(7,"close"),i.qZA()()()(),i.BQk()}if(2&a){const r=c.$implicit;i.xp6(3),i.Q6J("field",r)}}let au=(()=>{class a extends _e.hv{constructor(r,u,p){super(),this._diklatService=r,this.router=u,this.toastr=p,this.viewLoading=!1,this.selected=JSON.parse(localStorage.getItem("selectedSections")),this.__documents$=new ln.X([])}uploadDocument(r,u){var p=this;return(0,mi.Z)(function*(){const f=new FormData;f.append("file",r,r.name),yield p._diklatService.courseDocumentUpload(f).pipe().subscribe(_=>{console.log("ActivityAddComponent->courseDocumentUpload-data",_),_.success?(p.__documents$.next(_),p.toastr.success("File"+r.name+" berhasil diupload")):p.toastr.error("File "+r.name+" gagal diupload, ERROR : "+_.message)},_=>p.toastr.error("File "+r.name+" gagal diupload, ERROR : "+_.error.message))})()}submit(){this.viewLoading=!0,console.log("ActivityAddComponent->model",this.model),console.log("ActivityAddComponent->selected",this.selected),this.model.forEach(u=>{"ASSIGNMENT"===u.type&&this.saveAssignment(u),"URL"===u.type&&this.saveURL(u),"ATTENDANCE"===u.type&&this.saveAttendance(u),"MATERIAL"===u.type&&this.saveMaterial(u)}),this.field.fieldGroup=[],this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigateByUrl(this.router.url)}saveAttendance(r){this._diklatService.activityAttendance({activityGroupId:r.activityGroupId,dueDateCompletion:r.activityDate+" "+Ae().utc(r.dueDateCompletion_ATTENDANCE.replace(":",""),"HH:mm").format("HH:mm")}).pipe().subscribe(u=>{console.log("ActivityAddComponent->saveURL-data",u),u.success?this.toastr.success("ATTENDANCE berhasil ditambahkan"):this.toastr.error("ATTENDANCE gagal ditambahkan, ERROR : "+u.message)},u=>this.toastr.error("ATTENDANCE gagal ditambahkan, ERROR : "+u.error.message))}saveURL(r){this._diklatService.activityURL({activityGroupId:r.activityGroupId,keterangan:r.keterangan,link:r.link}).pipe().subscribe(u=>{console.log("ActivityAddComponent->saveURL-data",u),u.success?this.toastr.success("LINK "+r.keterangan+" berhasil ditambahkan"):this.toastr.error("LINK "+r.keterangan+" gagal ditambahkan, ERROR : "+u.message)},u=>this.toastr.error("LINK "+r.keterangan+" gagal ditambahkan, ERROR : "+u.error.message))}saveAssignment(r){for(let u=0;u<r.file_ASSIGNMENT.length;u++){const p=r.file_ASSIGNMENT[u];this.uploadDocument(p,{title:"ASSIGNMENT : "+p.name})}this.__documents$.subscribe(u=>{if(console.log("ActivityAddComponent->__documents",u),u&&u.success){const p=[];p.push(u.mapData.data.id),this._diklatService.activityAssignment({activityGroupId:r.activityGroupId,documents:p,dueDateCompletion:r.activityDate+" "+Ae().utc(r.dueDateCompletion_ASSIGNMENT.replace(":",""),"HH:mm").format("HH:mm")}).pipe().subscribe(f=>{console.log("ActivityAddComponent->activityAssignment-data",f),f.success?this.toastr.success("ASSIGNMENT "+u.mapData.data.originalFilename+" berhasil ditambahkan"):this.toastr.error("ASSIGNMENT "+u.mapData.data.originalFilename+" gagal ditambahkan, ERROR : "+f.message)},f=>this.toastr.error("ASSIGNMENT "+u.mapData.data.originalFilename+" gagal ditambahkan, ERROR : "+f.error.message))}})}saveMaterial(r){if("YOUTUBE"!==r.materiType){for(let u=0;u<r.file_MATERIAL.length;u++){const p=r.file_MATERIAL[u];this.uploadDocument(p,{title:"MATERIAL : "+p.name})}this.__documents$.subscribe(u=>{if(console.log("ActivityAddComponent->__documents",u),u&&u.success){const p={activityGroupId:r.activityGroupId,documentId:u.mapData.data.id,materiType:r.materiType};"DOCUMENT"===r.materiType?(p.numPage=+r.totalPageVideo,p.description=r.description):p.numDurationInMinute=+r.totalPageVideo,this._diklatService.activityMaterial(p).pipe().subscribe(f=>{console.log("ActivityAddComponent->activityAssignment-data",f),f.success?this.toastr.success("MATERIAL "+u.mapData.data.originalFilename+" berhasil ditambahkan"):this.toastr.error("MATERIAL "+u.mapData.data.originalFilename+" gagal ditambahkan, ERROR : "+f.message)},f=>this.toastr.error("MATERIAL "+u.mapData.data.originalFilename+" gagal ditambahkan, ERROR : "+f.error.message))}})}else this._diklatService.activityMaterial({activityGroupId:r.activityGroupId,materiType:r.materiType,videoId:r.video_id,link:r.link,numDurationInMinute:+r.totalPageVideo}).pipe().subscribe(p=>{console.log("ActivityAddComponent->activityAssignment-YOUTUBE",p),p.success?this.toastr.success("MATERIAL VIDEO Youtube berhasil ditambahkan"):this.toastr.error("MATERIAL VIDEO Youtube gagal ditambahkan, ERROR : "+p.message)},p=>this.toastr.error("MATERIAL VIDEO Youtube gagal ditambahkan, ERROR : "+p.error.message))}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(Ct.c),i.Y36(Nt.F0),i.Y36(ne._W))},a.\u0275cmp=i.Xpm({type:a,selectors:[["formly-repeat-activity"]],features:[i.qOj],decls:10,vars:3,consts:[[1,"kt-portlet__body"],[1,"kt-widget1"],[4,"ngFor","ngForOf"],[1,"kt-portlet__foot"],[1,"row","align-items-center","kt-margin-20"],[1,"col-md-12","kt-align-right"],["mat-raised-button","",1,"kt-mr-10",3,"click"],["mat-raised-button","","color","warn",3,"hidden","disabled","click"],[1,"kt-widget1__item"],[1,"kt-widget1__info"],[3,"field"],[1,"kt-widget1__number"],["mat-button","","color","warn",3,"click"]],template:function(r,u){1&r&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,Cl,8,1,"ng-container",2),i.qZA()(),i.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),i.NdJ("click",function(){return u.add()}),i._uU(7," ROW "),i.qZA(),i.TgZ(8,"button",7),i.NdJ("click",function(){return u.submit()}),i._uU(9,"SIMPAN"),i.qZA()()()()),2&r&&(i.xp6(2),i.Q6J("ngForOf",u.field.fieldGroup),i.xp6(6),i.Q6J("hidden",!u.field.fieldGroup.length)("disabled",!u.formControl.valid))},dependencies:[it.sg,Y.Hw,wt.lW,_e.cw],styles:[".mat-form-field{padding-right:10px!important}",".spacer[_ngcontent-%COMP%]{flex:1 1 auto}",".kt-widget1[_ngcontent-%COMP%]{padding:0!important}",".kt-widget1[_ngcontent-%COMP%]   .kt-widget1__item[_ngcontent-%COMP%]{border-bottom:.07rem dashed #000000!important}"]}),a})(),Hf=(()=>{class a extends _e.fS{get type(){return this.to.type||"text"}}return a.\u0275fac=function(){let c;return function(u){return(c||(c=i.n5z(a)))(u||a)}}(),a.\u0275cmp=i.Xpm({type:a,selectors:[["formly-field-time-input"]],features:[i.qOj],decls:4,vars:4,consts:[["appearance","fill",1,"mat-form-field-fluid"],["matInput","","mask","Hh:m0","type","text",3,"leadZeroDateTime","formControl","formlyAttributes"]],template:function(r,u){1&r&&(i.TgZ(0,"mat-form-field",0)(1,"mat-label"),i._uU(2),i.qZA(),i._UZ(3,"input",1),i.qZA()),2&r&&(i.xp6(2),i.Oqu(u.field.templateOptions.label),i.xp6(1),i.Q6J("leadZeroDateTime",!0)("formControl",u.formControl)("formlyAttributes",u.field))},dependencies:[F.Fj,F.JJ,F.oH,at.KE,at.hX,Qt.Nt,cs.Z6,_e.JD],encapsulation:2}),a})();var qf=G(831),fs=G(4214),lu=G(309);const Dr=function(){return lu.Z.Date.now()};var yl=/\s/;var Yf=/^\s+/;const Rt=function Jf(a){return a&&a.slice(0,function Qf(a){for(var c=a.length;c--&&yl.test(a.charAt(c)););return c}(a)+1).replace(Yf,"")};var Gf=G(8286),Yn=G(6539);var Wf=/^[-+]0x[0-9a-f]+$/i,Kf=/^0b[01]+$/i,hu=/^0o[0-7]+$/i,Xf=parseInt;const fe=function Di(a){if("number"==typeof a)return a;if(function uu(a){return"symbol"==typeof a||(0,Yn.Z)(a)&&"[object Symbol]"==(0,Gf.Z)(a)}(a))return NaN;if((0,fs.Z)(a)){var c="function"==typeof a.valueOf?a.valueOf():a;a=(0,fs.Z)(c)?c+"":c}if("string"!=typeof a)return 0===a?a:+a;a=Rt(a);var r=Kf.test(a);return r||hu.test(a)?Xf(a.slice(2),r?2:8):Wf.test(a)?NaN:+a};var qi=Math.max,Qi=Math.min;const ib=function eb(a,c,r){var u=!0,p=!0;if("function"!=typeof a)throw new TypeError("Expected a function");return(0,fs.Z)(r)&&(u="leading"in r?!!r.leading:u,p="trailing"in r?!!r.trailing:p),function tb(a,c,r){var u,p,f,_,C,D,x=0,y=!1,I=!1,K=!0;if("function"!=typeof a)throw new TypeError("Expected a function");function ut(we){var zn=u,dr=p;return u=p=void 0,x=we,_=a.apply(dr,zn)}function jt(we){return x=we,C=setTimeout(Jt,c),y?ut(we):_}function xt(we){var zn=we-D;return void 0===D||zn>=c||zn<0||I&&we-x>=f}function Jt(){var we=Dr();if(xt(we))return ze(we);C=setTimeout(Jt,function ie(we){var ji=c-(we-D);return I?Qi(ji,f-(we-x)):ji}(we))}function ze(we){return C=void 0,K&&u?ut(we):(u=p=void 0,_)}function Wc(){var we=Dr(),zn=xt(we);if(u=arguments,p=this,D=we,zn){if(void 0===C)return jt(D);if(I)return clearTimeout(C),C=setTimeout(Jt,c),ut(D)}return void 0===C&&(C=setTimeout(Jt,c)),_}return c=fe(c)||0,(0,fs.Z)(r)&&(y=!!r.leading,f=(I="maxWait"in r)?qi(fe(r.maxWait)||0,c):f,K="trailing"in r?!!r.trailing:K),Wc.cancel=function ve(){void 0!==C&&clearTimeout(C),x=0,u=D=p=C=void 0},Wc.flush=function Ua(){return void 0===C?_:ze(Dr())},Wc}(a,c,{leading:u,maxWait:c,trailing:p})};var yn=G(7176);var It=G(300);function fu(a,c=new Set){const r=[a],u=new Set;let p=0;for(;r.length>p;){const f=r[p++];if(!(u.has(f)||bu(f)||c.has(f)))if(u.add(f),f[Symbol.iterator])try{for(const _ of f)r.push(_)}catch{}else for(const _ in f)"defaultValue"!==_&&r.push(f[_])}return u}function bu(a){const c=Object.prototype.toString.call(a),r=typeof a;return"number"===r||"boolean"===r||"string"===r||"symbol"===r||"function"===r||"[object Date]"===c||"[object RegExp]"===c||"[object Module]"===c||null==a||a instanceof EventTarget||a instanceof Event}class lb extends class ab{constructor(c){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof c.crashNumberLimit?c.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof c.minimumNonErrorTimePeriod?c.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const u=r.error||r.reason;u instanceof Error&&this._handleError(u,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(c){this._creator=c}setDestructor(c){this._destructor=c}destroy(){this._stopErrorHandling(),this._listeners={}}on(c,r){this._listeners[c]||(this._listeners[c]=[]),this._listeners[c].push(r)}off(c,r){this._listeners[c]=this._listeners[c].filter(u=>u!==r)}_fire(c,...r){const u=this._listeners[c]||[];for(const p of u)p.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(c,r){if(this._shouldReactToError(c)){this.crashes.push({message:c.message,stack:c.stack,filename:r.filename,lineno:r.lineno,colno:r.colno,date:this._now()});const u=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:c,causesRestart:u}),u?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(c){return c.is&&c.is("CKEditorError")&&null!=c.context&&"ready"===this.state&&this._isErrorComingFromThisItem(c)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(c,r={}){super(r),this._editor=null,this._throttledSave=ib(this._save.bind(this),"number"==typeof r.saveInterval?r.saveInterval:5e3),this._creator=(u,p)=>c.create(u,p),this._destructor=u=>u.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(c=>{console.error("An error happened during the editor destroying.",c)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const c=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,c,c.context)}}).then(()=>{this._fire("restart")})}create(c=this._elementOrData,r=this._config,u){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=c,this._config=this._cloneEditorConfiguration(r)||{},this._config.context=u,this._creator(c,this._config))).then(p=>{this._editor=p,p.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=p.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const c=this._editor;return this._editor=null,c.model.document.off("change:data",this._throttledSave),this._destructor(c)})}_save(){const c=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=c}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(c){this._excludedProps=c}_getData(){const c={};for(const r of this._editor.model.document.getRootNames())c[r]=this._editor.data.get({rootName:r});return c}_isErrorComingFromThisItem(c){return function Sr(a,c,r=new Set){if(a===c&&function rb(a){return"object"==typeof a&&null!==a}(a))return!0;const u=fu(a,r),p=fu(c,r);for(const f of u)if(p.has(f))return!0;return!1}(this._editor,c.context,this._excludedProps)}_cloneEditorConfiguration(c){return function gu(a,c){return(0,yn.Z)(a,5,c="function"==typeof c?c:void 0)}(c,(r,u)=>{if(function Si(a){return(0,Yn.Z)(a)&&1===a.nodeType&&!(0,It.Z)(a)}(r)||"context"===u)return r})}}var ku=G(9676);function _u(a,c){}const Me=new Array(256).fill(0).map((a,c)=>("0"+c.toString(16)).slice(-2)),Er="Lock from Angular integration (@ckeditor/ckeditor5-angular)";let wu=(()=>{class a{constructor(r,u){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new i.vpe,this.change=new i.vpe,this.blur=new i.vpe,this.focus=new i.vpe,this.error=new i.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function vu(){const a=4294967296*Math.random()>>>0,c=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,u=4294967296*Math.random()>>>0;return"e"+Me[a>>0&255]+Me[a>>8&255]+Me[a>>16&255]+Me[a>>24&255]+Me[c>>0&255]+Me[c>>8&255]+Me[c>>16&255]+Me[c>>24&255]+Me[r>>0&255]+Me[r>>8&255]+Me[r>>16&255]+Me[r>>24&255]+Me[u>>0&255]+Me[u>>8&255]+Me[u>>16&255]+Me[u>>24&255]}(),this.ngZone=u,this.elementRef=r;const{CKEDITOR_VERSION:p}=window;if(p){const[f]=p.split(".").map(Number);f<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(r){this.setDisabledState(r)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let r=this.editorWatchdog;return this.watchdog&&(r=this.watchdog._watchdogs.get(this.id)),r?r.editor:null}ngOnChanges(r){Object.prototype.hasOwnProperty.call(r,"data")&&r.data&&!r.data.isFirstChange()&&this.writeValue(r.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){var r=this;return(0,mi.Z)(function*(){r.watchdog?yield r.watchdog.remove(r.id):r.editorWatchdog&&r.editorWatchdog.editor&&(yield r.editorWatchdog.destroy(),r.editorWatchdog=void 0)})()}writeValue(r){null===r&&(r=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(r),this.isEditorSettingData=!1):(this.data=r,this.ready.pipe((0,ku.P)()).subscribe(u=>{u.setData(this.data)}))}registerOnChange(r){this.cvaOnChange=r}registerOnTouched(r){this.cvaOnTouched=r}setDisabledState(r){this.editorInstance&&(r?this.editorInstance.enableReadOnlyMode(Er):this.editorInstance.disableReadOnlyMode(Er)),this.initiallyDisabled=r}attachToWatchdog(){var r=this;const u=function(){var D=(0,mi.Z)(function*(x,y){return r.ngZone.runOutsideAngular((0,mi.Z)(function*(){r.elementRef.nativeElement.appendChild(x);const I=yield r.editor.create(x,y);return r.initiallyDisabled&&I.enableReadOnlyMode(Er),r.ngZone.run(()=>{r.ready.emit(I)}),r.setUpEditorEvents(I),I}))});return function(y,I){return D.apply(this,arguments)}}(),p=function(){var D=(0,mi.Z)(function*(x){yield x.destroy(),r.elementRef.nativeElement.removeChild(r.editorElement)});return function(y){return D.apply(this,arguments)}}(),f=()=>{this.ngZone.run(()=>{this.error.emit()})},_=document.createElement(this.tagName),C=this.getConfig();if(this.editorElement=_,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:u,destructor:p,sourceElementOrData:_,config:C}),this.watchdog.on("itemError",(D,{itemId:x})=>{x===this.id&&f()});else{const D=new lb(this.editor,this.editorWatchdogConfig);D.setCreator(u),D.setDestructor(p),D.on("error",f),this.editorWatchdog=D,this.editorWatchdog.create(_,C)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const r={...this.config},u=this.config.initialData||this.data;return u&&(r.initialData=u),r}setUpEditorEvents(r){const p=r.editing.view.document;r.model.document.on("change:data",f=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){const _=r.getData();this.cvaOnChange(_)}this.change.emit({event:f,editor:r})}})}),p.on("focus",f=>{this.ngZone.run(()=>{this.focus.emit({event:f,editor:r})})}),p.on("blur",f=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:f,editor:r})})})}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(i.SBq),i.Y36(i.R0b))},a.\u0275cmp=i.Xpm({type:a,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[i._Bn([{provide:F.JU,useExisting:(0,i.Gpc)(()=>a),multi:!0}]),i.TTD],decls:1,vars:0,template:function(r,u){1&r&&i.YNc(0,_u,0,0,"ng-template")},encapsulation:2}),a})(),xo=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[F.u5,it.ez]]}),a})();var Ir=G(8556);const Tl=["ckeditor"];let Dl=(()=>{class a extends _e.fS{constructor(){super(...arguments),this.Editor=Ir,this.ckconfig={toolbar:{items:["bold","italic","underline","specialCharacters","link","bulletedList","numberedList","horizontalLine","|","alignment","indent","outdent","|","imageInsert","blockQuote","insertTable","|","fontSize","fontColor","fontFamily","highlight","fontBackgroundColor"]},image:{toolbar:["imageTextAlternative","imageStyle:full","imageStyle:side","linkImage"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableCellProperties","tableProperties"]},language:"id"}}get type(){return this.to.type||"text"}ngAfterViewInit(){}}return a.\u0275fac=function(){let c;return function(u){return(c||(c=i.n5z(a)))(u||a)}}(),a.\u0275cmp=i.Xpm({type:a,selectors:[["formly-field-ckeditor-input"]],viewQuery:function(r,u){if(1&r&&i.Gf(Tl,5),2&r){let p;i.iGM(p=i.CRH())&&(u.ckeditor=p.first)}},features:[i.qOj],decls:3,vars:5,consts:[[3,"editor","formControl","data","formlyAttributes"]],template:function(r,u){1&r&&(i.TgZ(0,"mat-label"),i._uU(1),i.qZA(),i._UZ(2,"ckeditor",0)),2&r&&(i.xp6(1),i.Oqu(u.field.templateOptions.label),i.xp6(1),i.Q6J("editor",u.Editor)("formControl",u.formControl)("data",u.field.templateOptions.data)("formlyAttributes",u.field))},dependencies:[F.JJ,F.oH,at.hX,wu,_e.JD],encapsulation:2}),a})();var Sl=G(5100);const Cu=["datepickerToggle"];function cb(a,c){if(1&a){const r=i.EpF();i.TgZ(0,"mat-datepicker-toggle",4),i.NdJ("click",function(){i.CHM(r);const p=i.oxw();return i.KtG(p.detectChanges())}),i.qZA()}if(2&a){const r=i.oxw(),u=i.MAs(4);i.Q6J("disabled",r.props.disabled)("for",u)}}let yu=(()=>{class a extends Sl.f{constructor(r,u){super(),this.config=r,this.cdRef=u,this.defaultOptions={props:{datepickerOptions:{startView:"month",datepickerTogglePosition:"suffix",disabled:!1,opened:!1,dateInput:()=>{},dateChange:()=>{},monthSelected:()=>{},yearSelected:()=>{}}}}}detectChanges(){this.options.detectChanges?.(this.field)}ngAfterViewInit(){this.props[this.props.datepickerOptions.datepickerTogglePosition]=this.datepickerToggle,(0,_e.yQ)(this.field,["props","datepickerOptions","opened"],()=>{this.cdRef.detectChanges()}),this.config.getValidatorMessage("matDatepickerParse")&&(this.fieldErrorsObserver=(0,_e.yQ)(this.field,["formControl","errors"],({currentValue:r})=>{if(r&&r.required&&r.matDatepickerParse){const u=Object.keys(r).sort(p=>"matDatepickerParse"===p?-1:0).reduce((p,f)=>({...p,[f]:r[f]}),{});this.fieldErrorsObserver?.setValue(u)}}))}ngOnDestroy(){super.ngOnDestroy(),this.fieldErrorsObserver?.unsubscribe()}}return a.\u0275fac=function(r){return new(r||a)(i.Y36(_e.o),i.Y36(i.sBO))},a.\u0275cmp=i.Xpm({type:a,selectors:[["formly-field-mat-datepicker"]],viewQuery:function(r,u){if(1&r&&i.Gf(Cu,7),2&r){let p;i.iGM(p=i.CRH())&&(u.datepickerToggle=p.first)}},features:[i.qOj],decls:5,vars:22,consts:[["matInput","",3,"id","name","errorStateMatcher","formControl","matDatepicker","matDatepickerFilter","max","min","formlyAttributes","placeholder","tabindex","readonly","required","dateInput","dateChange"],["datepickerToggle",""],[3,"color","dateClass","disabled","opened","panelClass","startAt","startView","touchUi","calendarHeaderComponent","monthSelected","yearSelected","closed"],["picker",""],[3,"disabled","for","click"]],template:function(r,u){if(1&r){const p=i.EpF();i.TgZ(0,"input",0),i.NdJ("dateInput",function(_){return u.props.datepickerOptions.dateInput(u.field,_)})("dateChange",function(_){return u.props.datepickerOptions.dateChange(u.field,_)}),i.qZA(),i.YNc(1,cb,1,2,"ng-template",null,1,i.W1O),i.TgZ(3,"mat-datepicker",2,3),i.NdJ("monthSelected",function(_){i.CHM(p);const C=i.MAs(4);return i.KtG(u.props.datepickerOptions.monthSelected(u.field,_,C))})("yearSelected",function(_){i.CHM(p);const C=i.MAs(4);return i.KtG(u.props.datepickerOptions.yearSelected(u.field,_,C))})("opened",function(){return u.props.datepickerOptions.opened=!0})("closed",function(){return u.props.datepickerOptions.opened=!1}),i.qZA()}if(2&r){const p=i.MAs(4);i.Q6J("id",u.id)("name",u.field.name)("errorStateMatcher",u.errorStateMatcher)("formControl",u.formControl)("matDatepicker",p)("matDatepickerFilter",u.props.datepickerOptions.filter)("max",u.props.datepickerOptions.max)("min",u.props.datepickerOptions.min)("formlyAttributes",u.field)("placeholder",u.props.placeholder)("tabindex",u.props.tabindex)("readonly",u.props.readonly)("required",u.required),i.xp6(3),i.Q6J("color",u.props.color)("dateClass",u.props.datepickerOptions.dateClass)("disabled",u.props.datepickerOptions.disabled)("opened",u.props.datepickerOptions.opened)("panelClass",u.props.datepickerOptions.panelClass)("startAt",u.props.datepickerOptions.startAt)("startView",u.props.datepickerOptions.startView)("touchUi",u.props.datepickerOptions.touchUi)("calendarHeaderComponent",u.props.datepickerOptions.calendarHeaderComponent)}},dependencies:[pe.nW,pe.Mq,Qt.Nt,F.Fj,pe.hl,F.JJ,F.oH,_e.JD,F.Q7],encapsulation:2,changeDetection:0}),a})(),db=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[[it.ez,F.UX,Qt.c,pe.FA,Sl.n,_e.X0.forChild({types:[{name:"datepicker",component:yu,wrappers:["form-field"]}]})]]}),a})(),Mr=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[B.m,Y.Ps,wt.ot,Qt.c,pe.FA,db,ke.Yd,at.lN,cs.yI,F.u5,xo,_e.X0.forRoot({extras:{lazyRender:!0},types:[{name:"sesi",component:Qn},{name:"activity_group",component:ru},{name:"activity",component:au},{name:"time_format",component:Hf},{name:"ckeditor_format",component:Dl}]}),qf.o]}),a})();typeof window<"u"&&window;Symbol("vmPlayerKey"),Symbol("vmNameKey"),Symbol("vmRegistryKey"),Symbol("vmRegistrationKey");Symbol("vmProviderCache");HTMLElement;HTMLElement;HTMLElement;HTMLElement;HTMLElement,HTMLElement,HTMLElement;var Os,li;HTMLElement,HTMLElement;const $e=typeof window<"u",ra=$e?null===(Os=window.navigator)||void 0===Os?void 0:Os.userAgent.toLowerCase():"",en=/iphone|ipad|ipod|ios|CriOS|FxiOS/.test(ra);/android/.test(ra),$e&&/(iPhone|iPod)/gi.test(null===(li=window.navigator)||void 0===li?void 0:li.platform);/firefox/.test(ra);const Mh=$e&&window.chrome;$e&&!Mh&&(window.safari||en||/(apple|safari)/.test(ra));HTMLElement;HTMLElement;HTMLElement,HTMLElement;HTMLElement,HTMLElement;HTMLElement,HTMLElement;var ci={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},ua=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],mc=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],di=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Oe=typeof window<"u"&&typeof window.document<"u"?window.document:{};"fullscreenEnabled"in Oe&&Object.keys(ci);HTMLElement;HTMLElement;HTMLElement;const $h="https://cdn.jsdelivr.net/npm/@vime/core@latest/icons";new Map(Object.entries({vime:a=>`${$h}/vime/vm-${a}.svg`,material:a=>`${$h}/material/md-${a}.svg`}));new DOMParser;HTMLElement,HTMLElement,HTMLElement,HTMLElement;HTMLElement;HTMLElement,HTMLElement,HTMLElement,HTMLElement;HTMLElement,HTMLElement;HTMLElement,HTMLElement,HTMLElement;HTMLElement;HTMLElement;HTMLElement,HTMLElement,HTMLElement,HTMLElement;HTMLElement,HTMLElement,HTMLElement;HTMLElement,HTMLElement;HTMLElement;HTMLElement;HTMLElement;HTMLElement,G(4762);let Rv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({}),a})();var Cp=G(6523),Nv=G(1995),Bv=G(9239),yp=G(7241),Ap=G(1860);function or(a,c,r){for(let u in c)if(c.hasOwnProperty(u)){const p=c[u];p?a.setProperty(u,p,r?.has(u)?"important":""):a.removeProperty(u)}return a}function On(a,c){const r=c?"":"none";or(a.style,{"touch-action":c?"":"none","-webkit-user-drag":c?"":"none","-webkit-tap-highlight-color":c?"":"transparent","user-select":r,"-ms-user-select":r,"-webkit-user-select":r,"-moz-user-select":r})}function Vc(a,c,r){or(a.style,{position:c?"":"fixed",top:c?"":"0",opacity:c?"":"0",left:c?"":"-999em"},r)}function sr(a,c){return c&&"none"!=c?a+" "+c:a}function rr(a){const c=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*c}function Fa(a,c){return a.getPropertyValue(c).split(",").map(u=>u.trim())}function ja(a){const c=a.getBoundingClientRect();return{top:c.top,right:c.right,bottom:c.bottom,left:c.left,width:c.width,height:c.height,x:c.x,y:c.y}}function ar(a,c,r){const{top:u,bottom:p,left:f,right:_}=a;return r>=u&&r<=p&&c>=f&&c<=_}function ns(a,c,r){a.top+=c,a.bottom=a.top+a.height,a.left+=r,a.right=a.left+a.width}function $c(a,c,r,u){const{top:p,right:f,bottom:_,left:C,width:D,height:x}=a,y=D*c,I=x*c;return u>p-I&&u<_+I&&r>C-y&&r<f+y}class Uc{constructor(c){this._document=c,this.positions=new Map}clear(){this.positions.clear()}cache(c){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),c.forEach(r=>{this.positions.set(r,{scrollPosition:{top:r.scrollTop,left:r.scrollLeft},clientRect:ja(r)})})}handleScroll(c){const r=(0,Hi.sA)(c),u=this.positions.get(r);if(!u)return null;const p=u.scrollPosition;let f,_;if(r===this._document){const x=this.getViewportScrollPosition();f=x.top,_=x.left}else f=r.scrollTop,_=r.scrollLeft;const C=p.top-f,D=p.left-_;return this.positions.forEach((x,y)=>{x.clientRect&&r!==y&&r.contains(y)&&ns(x.clientRect,C,D)}),p.top=f,p.left=_,{top:C,left:D}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Tp(a){const c=a.cloneNode(!0),r=c.querySelectorAll("[id]"),u=a.nodeName.toLowerCase();c.removeAttribute("id");for(let p=0;p<r.length;p++)r[p].removeAttribute("id");return"canvas"===u?Hc(a,c):("input"===u||"select"===u||"textarea"===u)&&Zc(a,c),Dp("canvas",a,c,Hc),Dp("input, textarea, select",a,c,Zc),c}function Dp(a,c,r,u){const p=c.querySelectorAll(a);if(p.length){const f=r.querySelectorAll(a);for(let _=0;_<p.length;_++)u(p[_],f[_])}}let Sp=0;function Zc(a,c){"file"!==c.type&&(c.value=a.value),"radio"===c.type&&c.name&&(c.name=`mat-clone-${c.name}-${Sp++}`)}function Hc(a,c){const r=c.getContext("2d");if(r)try{r.drawImage(a,0,0)}catch{}}const qc=(0,Hi.i$)({passive:!0}),Va=(0,Hi.i$)({passive:!1}),Qc=new Set(["position"]);class Ip{constructor(c,r,u,p,f,_){this._config=r,this._document=u,this._ngZone=p,this._viewportRuler=f,this._dragDropRegistry=_,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new lt.x,this._pointerMoveSubscription=Zn.w0.EMPTY,this._pointerUpSubscription=Zn.w0.EMPTY,this._scrollSubscription=Zn.w0.EMPTY,this._resizeSubscription=Zn.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new lt.x,this.started=new lt.x,this.released=new lt.x,this.ended=new lt.x,this.entered=new lt.x,this.exited=new lt.x,this.dropped=new lt.x,this.moved=this._moveEvents,this._pointerDown=C=>{if(this.beforeStarted.next(),this._handles.length){const D=this._getTargetHandle(C);D&&!this._disabledHandles.has(D)&&!this.disabled&&this._initializeDragSequence(D,C)}else this.disabled||this._initializeDragSequence(this._rootElement,C)},this._pointerMove=C=>{const D=this._getPointerPositionOnPage(C);if(!this._hasStartedDragging){if(Math.abs(D.x-this._pickupPositionOnPage.x)+Math.abs(D.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const ut=Date.now()>=this._dragStartTime+this._getDragStartDelay(C),jt=this._dropContainer;if(!ut)return void this._endDragSequence(C);(!jt||!jt.isDragging()&&!jt.isReceiving())&&(C.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(C)))}return}C.preventDefault();const x=this._getConstrainedPointerPosition(D);if(this._hasMoved=!0,this._lastKnownPointerPosition=D,this._updatePointerDirectionDelta(x),this._dropContainer)this._updateActiveDropContainer(x,D);else{const y=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,I=this._activeTransform;I.x=x.x-y.x+this._passiveTransform.x,I.y=x.y-y.y+this._passiveTransform.y,this._applyRootElementTransform(I.x,I.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:x,event:C,distance:this._getDragDistance(x),delta:this._pointerDirectionDelta})})},this._pointerUp=C=>{this._endDragSequence(C)},this._nativeDragStart=C=>{if(this._handles.length){const D=this._getTargetHandle(C);D&&!this._disabledHandles.has(D)&&!this.disabled&&C.preventDefault()}else this.disabled||C.preventDefault()},this.withRootElement(c).withParent(r.parentDragRef||null),this._parentPositions=new Uc(u),_.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(c){const r=(0,ge.Ig)(c);r!==this._disabled&&(this._disabled=r,this._toggleNativeDragInteractions(),this._handles.forEach(u=>On(u,r)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(c){this._handles=c.map(u=>(0,ge.fI)(u)),this._handles.forEach(u=>On(u,this.disabled)),this._toggleNativeDragInteractions();const r=new Set;return this._disabledHandles.forEach(u=>{this._handles.indexOf(u)>-1&&r.add(u)}),this._disabledHandles=r,this}withPreviewTemplate(c){return this._previewTemplate=c,this}withPlaceholderTemplate(c){return this._placeholderTemplate=c,this}withRootElement(c){const r=(0,ge.fI)(c);return r!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{r.addEventListener("mousedown",this._pointerDown,Va),r.addEventListener("touchstart",this._pointerDown,qc),r.addEventListener("dragstart",this._nativeDragStart,Va)}),this._initialTransform=void 0,this._rootElement=r),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(c){return this._boundaryElement=c?(0,ge.fI)(c):null,this._resizeSubscription.unsubscribe(),c&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(c){return this._parentDragRef=c,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(c){!this._disabledHandles.has(c)&&this._handles.indexOf(c)>-1&&(this._disabledHandles.add(c),On(c,!0))}enableHandle(c){this._disabledHandles.has(c)&&(this._disabledHandles.delete(c),On(c,this.disabled))}withDirection(c){return this._direction=c,this}_withDropContainer(c){this._dropContainer=c}getFreeDragPosition(){const c=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:c.x,y:c.y}}setFreeDragPosition(c){return this._activeTransform={x:0,y:0},this._passiveTransform.x=c.x,this._passiveTransform.y=c.y,this._dropContainer||this._applyRootElementTransform(c.x,c.y),this}withPreviewContainer(c){return this._previewContainer=c,this}_sortFromLastPointerPosition(){const c=this._lastKnownPointerPosition;c&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(c),c)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(c){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:c}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(c),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const r=this._getPointerPositionOnPage(c);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(r),dropPoint:r,event:c})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(c){lr(c)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const r=this._dropContainer;if(r){const u=this._rootElement,p=u.parentNode,f=this._placeholder=this._createPlaceholderElement(),_=this._anchor=this._anchor||this._document.createComment(""),C=this._getShadowRoot();p.insertBefore(_,u),this._initialTransform=u.style.transform||"",this._preview=this._createPreviewElement(),Vc(u,!1,Qc),this._document.body.appendChild(p.replaceChild(f,u)),this._getPreviewInsertionPoint(p,C).appendChild(this._preview),this.started.next({source:this,event:c}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:c}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(c,r){this._parentDragRef&&r.stopPropagation();const u=this.isDragging(),p=lr(r),f=!p&&0!==r.button,_=this._rootElement,C=(0,Hi.sA)(r),D=!p&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),x=p?(0,kl.yG)(r):(0,kl.X6)(r);if(C&&C.draggable&&"mousedown"===r.type&&r.preventDefault(),u||f||D||x)return;if(this._handles.length){const K=_.style;this._rootElementTapHighlight=K.webkitTapHighlightColor||"",K.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(K=>this._updateOnScroll(K)),this._boundaryElement&&(this._boundaryRect=ja(this._boundaryElement));const y=this._previewTemplate;this._pickupPositionInElement=y&&y.template&&!y.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,c,r);const I=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(r);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:I.x,y:I.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,r)}_cleanupDragArtifacts(c){Vc(this._rootElement,!0,Qc),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const r=this._dropContainer,u=r.getItemIndex(this),p=this._getPointerPositionOnPage(c),f=this._getDragDistance(p),_=r._isOverContainer(p.x,p.y);this.ended.next({source:this,distance:f,dropPoint:p,event:c}),this.dropped.next({item:this,currentIndex:u,previousIndex:this._initialIndex,container:r,previousContainer:this._initialContainer,isPointerOverContainer:_,distance:f,dropPoint:p,event:c}),r.drop(this,u,this._initialIndex,this._initialContainer,_,f,p),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:c,y:r},{x:u,y:p}){let f=this._initialContainer._getSiblingContainerFromPosition(this,c,r);!f&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(c,r)&&(f=this._initialContainer),f&&f!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=f,this._dropContainer.enter(this,c,r,f===this._initialContainer&&f.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:f,currentIndex:f.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(u,p),this._dropContainer._sortItem(this,c,r,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(c,r):this._applyPreviewTransform(c-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y))}_createPreviewElement(){const c=this._previewTemplate,r=this.previewClass,u=c?c.template:null;let p;if(u&&c){const f=c.matchSize?this._initialClientRect:null,_=c.viewContainer.createEmbeddedView(u,c.context);_.detectChanges(),p=Jc(_,this._document),this._previewRef=_,c.matchSize?Mp(p,f):p.style.transform=$a(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else p=Tp(this._rootElement),Mp(p,this._initialClientRect),this._initialTransform&&(p.style.transform=this._initialTransform);return or(p.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Qc),On(p,!1),p.classList.add("cdk-drag-preview"),p.setAttribute("dir",this._direction),r&&(Array.isArray(r)?r.forEach(f=>p.classList.add(f)):p.classList.add(r)),p}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const c=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(c.left,c.top);const r=function xp(a){const c=getComputedStyle(a),r=Fa(c,"transition-property"),u=r.find(C=>"transform"===C||"all"===C);if(!u)return 0;const p=r.indexOf(u),f=Fa(c,"transition-duration"),_=Fa(c,"transition-delay");return rr(f[p])+rr(_[p])}(this._preview);return 0===r?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(u=>{const p=_=>{(!_||(0,Hi.sA)(_)===this._preview&&"transform"===_.propertyName)&&(this._preview?.removeEventListener("transitionend",p),u(),clearTimeout(f))},f=setTimeout(p,1.5*r);this._preview.addEventListener("transitionend",p)}))}_createPlaceholderElement(){const c=this._placeholderTemplate,r=c?c.template:null;let u;return r?(this._placeholderRef=c.viewContainer.createEmbeddedView(r,c.context),this._placeholderRef.detectChanges(),u=Jc(this._placeholderRef,this._document)):u=Tp(this._rootElement),u.style.pointerEvents="none",u.classList.add("cdk-drag-placeholder"),u}_getPointerPositionInElement(c,r,u){const p=r===this._rootElement?null:r,f=p?p.getBoundingClientRect():c,_=lr(u)?u.targetTouches[0]:u,C=this._getViewportScrollPosition();return{x:f.left-c.left+(_.pageX-f.left-C.left),y:f.top-c.top+(_.pageY-f.top-C.top)}}_getPointerPositionOnPage(c){const r=this._getViewportScrollPosition(),u=lr(c)?c.touches[0]||c.changedTouches[0]||{pageX:0,pageY:0}:c,p=u.pageX-r.left,f=u.pageY-r.top;if(this._ownerSVGElement){const _=this._ownerSVGElement.getScreenCTM();if(_){const C=this._ownerSVGElement.createSVGPoint();return C.x=p,C.y=f,C.matrixTransform(_.inverse())}}return{x:p,y:f}}_getConstrainedPointerPosition(c){const r=this._dropContainer?this._dropContainer.lockAxis:null;let{x:u,y:p}=this.constrainPosition?this.constrainPosition(c,this,this._initialClientRect,this._pickupPositionInElement):c;if("x"===this.lockAxis||"x"===r?p=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===r)&&(u=this._pickupPositionOnPage.x),this._boundaryRect){const{x:f,y:_}=this._pickupPositionInElement,C=this._boundaryRect,{width:D,height:x}=this._getPreviewRect(),y=C.top+_,I=C.bottom-(x-_);u=Yc(u,C.left+f,C.right-(D-f)),p=Yc(p,y,I)}return{x:u,y:p}}_updatePointerDirectionDelta(c){const{x:r,y:u}=c,p=this._pointerDirectionDelta,f=this._pointerPositionAtLastDirectionChange,_=Math.abs(r-f.x),C=Math.abs(u-f.y);return _>this._config.pointerDirectionChangeThreshold&&(p.x=r>f.x?1:-1,f.x=r),C>this._config.pointerDirectionChangeThreshold&&(p.y=u>f.y?1:-1,f.y=u),p}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const c=this._handles.length>0||!this.isDragging();c!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=c,On(this._rootElement,c))}_removeRootElementListeners(c){c.removeEventListener("mousedown",this._pointerDown,Va),c.removeEventListener("touchstart",this._pointerDown,qc),c.removeEventListener("dragstart",this._nativeDragStart,Va)}_applyRootElementTransform(c,r){const u=$a(c,r),p=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=p.transform&&"none"!=p.transform?p.transform:""),p.transform=sr(u,this._initialTransform)}_applyPreviewTransform(c,r){const u=this._previewTemplate?.template?void 0:this._initialTransform,p=$a(c,r);this._preview.style.transform=sr(p,u)}_getDragDistance(c){const r=this._pickupPositionOnPage;return r?{x:c.x-r.x,y:c.y-r.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:c,y:r}=this._passiveTransform;if(0===c&&0===r||this.isDragging()||!this._boundaryElement)return;const u=this._rootElement.getBoundingClientRect(),p=this._boundaryElement.getBoundingClientRect();if(0===p.width&&0===p.height||0===u.width&&0===u.height)return;const f=p.left-u.left,_=u.right-p.right,C=p.top-u.top,D=u.bottom-p.bottom;p.width>u.width?(f>0&&(c+=f),_>0&&(c-=_)):c=0,p.height>u.height?(C>0&&(r+=C),D>0&&(r-=D)):r=0,(c!==this._passiveTransform.x||r!==this._passiveTransform.y)&&this.setFreeDragPosition({y:r,x:c})}_getDragStartDelay(c){const r=this.dragStartDelay;return"number"==typeof r?r:lr(c)?r.touch:r?r.mouse:0}_updateOnScroll(c){const r=this._parentPositions.handleScroll(c);if(r){const u=(0,Hi.sA)(c);this._boundaryRect&&u!==this._boundaryElement&&u.contains(this._boundaryElement)&&ns(this._boundaryRect,r.top,r.left),this._pickupPositionOnPage.x+=r.left,this._pickupPositionOnPage.y+=r.top,this._dropContainer||(this._activeTransform.x-=r.left,this._activeTransform.y-=r.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,Hi.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(c,r){const u=this._previewContainer||"global";if("parent"===u)return c;if("global"===u){const p=this._document;return r||p.fullscreenElement||p.webkitFullscreenElement||p.mozFullScreenElement||p.msFullscreenElement||p.body}return(0,ge.fI)(u)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(c){return this._handles.find(r=>c.target&&(c.target===r||r.contains(c.target)))}}function $a(a,c){return`translate3d(${Math.round(a)}px, ${Math.round(c)}px, 0)`}function Yc(a,c,r){return Math.max(c,Math.min(r,a))}function lr(a){return"t"===a.type[0]}function Jc(a,c){const r=a.rootNodes;if(1===r.length&&r[0].nodeType===c.ELEMENT_NODE)return r[0];const u=c.createElement("div");return r.forEach(p=>u.appendChild(p)),u}function Mp(a,c){a.style.width=`${c.width}px`,a.style.height=`${c.height}px`,a.style.transform=$a(c.left,c.top)}function os(a,c){return Math.max(0,Math.min(c,a))}class Pp{constructor(c,r){this._element=c,this._dragDropRegistry=r,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(c){this.withItems(c)}sort(c,r,u,p){const f=this._itemPositions,_=this._getItemIndexFromPointerPosition(c,r,u,p);if(-1===_&&f.length>0)return null;const C="horizontal"===this.orientation,D=f.findIndex(xt=>xt.drag===c),x=f[_],I=x.clientRect,K=D>_?1:-1,ut=this._getItemOffsetPx(f[D].clientRect,I,K),jt=this._getSiblingOffsetPx(D,f,K),ie=f.slice();return function Ov(a,c,r){const u=os(c,a.length-1),p=os(r,a.length-1);if(u===p)return;const f=a[u],_=p<u?-1:1;for(let C=u;C!==p;C+=_)a[C]=a[C+_];a[p]=f}(f,D,_),f.forEach((xt,Jt)=>{if(ie[Jt]===xt)return;const ze=xt.drag===c,ve=ze?ut:jt,Ua=ze?c.getPlaceholderElement():xt.drag.getRootElement();xt.offset+=ve,C?(Ua.style.transform=sr(`translate3d(${Math.round(xt.offset)}px, 0, 0)`,xt.initialTransform),ns(xt.clientRect,0,ve)):(Ua.style.transform=sr(`translate3d(0, ${Math.round(xt.offset)}px, 0)`,xt.initialTransform),ns(xt.clientRect,ve,0))}),this._previousSwap.overlaps=ar(I,r,u),this._previousSwap.drag=x.drag,this._previousSwap.delta=C?p.x:p.y,{previousIndex:D,currentIndex:_}}enter(c,r,u,p){const f=null==p||p<0?this._getItemIndexFromPointerPosition(c,r,u):p,_=this._activeDraggables,C=_.indexOf(c),D=c.getPlaceholderElement();let x=_[f];if(x===c&&(x=_[f+1]),!x&&(null==f||-1===f||f<_.length-1)&&this._shouldEnterAsFirstChild(r,u)&&(x=_[0]),C>-1&&_.splice(C,1),x&&!this._dragDropRegistry.isDragging(x)){const y=x.getRootElement();y.parentElement.insertBefore(D,y),_.splice(f,0,c)}else(0,ge.fI)(this._element).appendChild(D),_.push(c);D.style.transform="",this._cacheItemPositions()}withItems(c){this._activeDraggables=c.slice(),this._cacheItemPositions()}withSortPredicate(c){this._sortPredicate=c}reset(){this._activeDraggables.forEach(c=>{const r=c.getRootElement();if(r){const u=this._itemPositions.find(p=>p.drag===c)?.initialTransform;r.style.transform=u||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(c){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(u=>u.drag===c)}updateOnScroll(c,r){this._itemPositions.forEach(({clientRect:u})=>{ns(u,c,r)}),this._itemPositions.forEach(({drag:u})=>{this._dragDropRegistry.isDragging(u)&&u._sortFromLastPointerPosition()})}_cacheItemPositions(){const c="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(r=>{const u=r.getVisibleElement();return{drag:r,offset:0,initialTransform:u.style.transform||"",clientRect:ja(u)}}).sort((r,u)=>c?r.clientRect.left-u.clientRect.left:r.clientRect.top-u.clientRect.top)}_getItemOffsetPx(c,r,u){const p="horizontal"===this.orientation;let f=p?r.left-c.left:r.top-c.top;return-1===u&&(f+=p?r.width-c.width:r.height-c.height),f}_getSiblingOffsetPx(c,r,u){const p="horizontal"===this.orientation,f=r[c].clientRect,_=r[c+-1*u];let C=f[p?"width":"height"]*u;if(_){const D=p?"left":"top",x=p?"right":"bottom";-1===u?C-=_.clientRect[D]-f[x]:C+=f[D]-_.clientRect[x]}return C}_shouldEnterAsFirstChild(c,r){if(!this._activeDraggables.length)return!1;const u=this._itemPositions,p="horizontal"===this.orientation;if(u[0].drag!==this._activeDraggables[0]){const _=u[u.length-1].clientRect;return p?c>=_.right:r>=_.bottom}{const _=u[0].clientRect;return p?c<=_.left:r<=_.top}}_getItemIndexFromPointerPosition(c,r,u,p){const f="horizontal"===this.orientation,_=this._itemPositions.findIndex(({drag:C,clientRect:D})=>{if(C===c)return!1;if(p){const x=f?p.x:p.y;if(C===this._previousSwap.drag&&this._previousSwap.overlaps&&x===this._previousSwap.delta)return!1}return f?r>=Math.floor(D.left)&&r<Math.floor(D.right):u>=Math.floor(D.top)&&u<Math.floor(D.bottom)});return-1!==_&&this._sortPredicate(_,c)?_:-1}}class jv{constructor(c,r,u,p,f){this._dragDropRegistry=r,this._ngZone=p,this._viewportRuler=f,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new lt.x,this.entered=new lt.x,this.exited=new lt.x,this.dropped=new lt.x,this.sorted=new lt.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Zn.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new lt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Lv(a=0,c=Cp.z){return a<0&&(a=0),(0,Nv.H)(a,a,c)}(0,Bv.Z).pipe((0,ct.R)(this._stopScrollTimers)).subscribe(()=>{const _=this._scrollNode,C=this.autoScrollStep;1===this._verticalScrollDirection?_.scrollBy(0,-C):2===this._verticalScrollDirection&&_.scrollBy(0,C),1===this._horizontalScrollDirection?_.scrollBy(-C,0):2===this._horizontalScrollDirection&&_.scrollBy(C,0)})},this.element=(0,ge.fI)(c),this._document=u,this.withScrollableParents([this.element]),r.registerDropContainer(this),this._parentPositions=new Uc(u),this._sortStrategy=new Pp(this.element,r),this._sortStrategy.withSortPredicate((_,C)=>this.sortPredicate(_,C,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(c,r,u,p){this._draggingStarted(),null==p&&this.sortingDisabled&&(p=this._draggables.indexOf(c)),this._sortStrategy.enter(c,r,u,p),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:c,container:this,currentIndex:this.getItemIndex(c)})}exit(c){this._reset(),this.exited.next({item:c,container:this})}drop(c,r,u,p,f,_,C,D={}){this._reset(),this.dropped.next({item:c,currentIndex:r,previousIndex:u,container:this,previousContainer:p,isPointerOverContainer:f,distance:_,dropPoint:C,event:D})}withItems(c){const r=this._draggables;return this._draggables=c,c.forEach(u=>u._withDropContainer(this)),this.isDragging()&&(r.filter(p=>p.isDragging()).every(p=>-1===c.indexOf(p))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(c){return this._sortStrategy.direction=c,this}connectedTo(c){return this._siblings=c.slice(),this}withOrientation(c){return this._sortStrategy.orientation=c,this}withScrollableParents(c){const r=(0,ge.fI)(this.element);return this._scrollableElements=-1===c.indexOf(r)?[r,...c]:c.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(c){return this._isDragging?this._sortStrategy.getItemIndex(c):this._draggables.indexOf(c)}isReceiving(){return this._activeSiblings.size>0}_sortItem(c,r,u,p){if(this.sortingDisabled||!this._clientRect||!$c(this._clientRect,.05,r,u))return;const f=this._sortStrategy.sort(c,r,u,p);f&&this.sorted.next({previousIndex:f.previousIndex,currentIndex:f.currentIndex,container:this,item:c})}_startScrollingIfNecessary(c,r){if(this.autoScrollDisabled)return;let u,p=0,f=0;if(this._parentPositions.positions.forEach((_,C)=>{C===this._document||!_.clientRect||u||$c(_.clientRect,.05,c,r)&&([p,f]=function Bp(a,c,r,u){const p=Np(c,u),f=Lp(c,r);let _=0,C=0;if(p){const D=a.scrollTop;1===p?D>0&&(_=1):a.scrollHeight-D>a.clientHeight&&(_=2)}if(f){const D=a.scrollLeft;1===f?D>0&&(C=1):a.scrollWidth-D>a.clientWidth&&(C=2)}return[_,C]}(C,_.clientRect,c,r),(p||f)&&(u=C))}),!p&&!f){const{width:_,height:C}=this._viewportRuler.getViewportSize(),D={width:_,height:C,top:0,right:_,bottom:C,left:0};p=Np(D,r),f=Lp(D,c),u=window}u&&(p!==this._verticalScrollDirection||f!==this._horizontalScrollDirection||u!==this._scrollNode)&&(this._verticalScrollDirection=p,this._horizontalScrollDirection=f,this._scrollNode=u,(p||f)&&u?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const c=(0,ge.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=c.msScrollSnapType||c.scrollSnapType||"",c.scrollSnapType=c.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const c=(0,ge.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(c).clientRect}_reset(){this._isDragging=!1;const c=(0,ge.fI)(this.element).style;c.scrollSnapType=c.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(r=>r._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(c,r){return null!=this._clientRect&&ar(this._clientRect,c,r)}_getSiblingContainerFromPosition(c,r,u){return this._siblings.find(p=>p._canReceive(c,r,u))}_canReceive(c,r,u){if(!this._clientRect||!ar(this._clientRect,r,u)||!this.enterPredicate(c,this))return!1;const p=this._getShadowRoot().elementFromPoint(r,u);if(!p)return!1;const f=(0,ge.fI)(this.element);return p===f||f.contains(p)}_startReceiving(c,r){const u=this._activeSiblings;!u.has(c)&&r.every(p=>this.enterPredicate(p,this)||this._draggables.indexOf(p)>-1)&&(u.add(c),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(c){this._activeSiblings.delete(c),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(c=>{if(this.isDragging()){const r=this._parentPositions.handleScroll(c);r&&this._sortStrategy.updateOnScroll(r.top,r.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const c=(0,Hi.kV)((0,ge.fI)(this.element));this._cachedShadowRoot=c||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const c=this._sortStrategy.getActiveItemsSnapshot().filter(r=>r.isDragging());this._siblings.forEach(r=>r._startReceiving(this,c))}}function Np(a,c){const{top:r,bottom:u,height:p}=a,f=.05*p;return c>=r-f&&c<=r+f?1:c>=u-f&&c<=u+f?2:0}function Lp(a,c){const{left:r,right:u,width:p}=a,f=.05*p;return c>=r-f&&c<=r+f?1:c>=u-f&&c<=u+f?2:0}const cr=(0,Hi.i$)({passive:!1,capture:!0});let Vv=(()=>{class a{constructor(r,u){this._ngZone=r,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=p=>p.isDragging(),this.pointerMove=new lt.x,this.pointerUp=new lt.x,this.scroll=new lt.x,this._preventDefaultWhileDragging=p=>{this._activeDragInstances.length>0&&p.preventDefault()},this._persistentTouchmoveListener=p=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&p.preventDefault(),this.pointerMove.next(p))},this._document=u}registerDropContainer(r){this._dropInstances.has(r)||this._dropInstances.add(r)}registerDragItem(r){this._dragInstances.add(r),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,cr)})}removeDropContainer(r){this._dropInstances.delete(r)}removeDragItem(r){this._dragInstances.delete(r),this.stopDragging(r),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,cr)}startDragging(r,u){if(!(this._activeDragInstances.indexOf(r)>-1)&&(this._activeDragInstances.push(r),1===this._activeDragInstances.length)){const p=u.type.startsWith("touch");this._globalListeners.set(p?"touchend":"mouseup",{handler:f=>this.pointerUp.next(f),options:!0}).set("scroll",{handler:f=>this.scroll.next(f),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:cr}),p||this._globalListeners.set("mousemove",{handler:f=>this.pointerMove.next(f),options:cr}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((f,_)=>{this._document.addEventListener(_,f.handler,f.options)})})}}stopDragging(r){const u=this._activeDragInstances.indexOf(r);u>-1&&(this._activeDragInstances.splice(u,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(r){return this._activeDragInstances.indexOf(r)>-1}scrolled(r){const u=[this.scroll];return r&&r!==this._document&&u.push(new yp.y(p=>this._ngZone.runOutsideAngular(()=>{const _=C=>{this._activeDragInstances.length&&p.next(C)};return r.addEventListener("scroll",_,!0),()=>{r.removeEventListener("scroll",_,!0)}}))),(0,Ap.T)(...u)}ngOnDestroy(){this._dragInstances.forEach(r=>this.removeDragItem(r)),this._dropInstances.forEach(r=>this.removeDropContainer(r)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((r,u)=>{this._document.removeEventListener(u,r.handler,r.options)}),this._globalListeners.clear()}}return a.\u0275fac=function(r){return new(r||a)(i.LFG(i.R0b),i.LFG(it.K0))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const $v={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Uv=(()=>{class a{constructor(r,u,p,f){this._document=r,this._ngZone=u,this._viewportRuler=p,this._dragDropRegistry=f}createDrag(r,u=$v){return new Ip(r,u,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(r){return new jv(r,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return a.\u0275fac=function(r){return new(r||a)(i.LFG(it.K0),i.LFG(i.R0b),i.LFG(At.rL),i.LFG(Vv))},a.\u0275prov=i.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Wv=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({providers:[Uv],imports:[At.ZD]}),a})();var Kv=G(5804),Xv=G(8606);let tw=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({}),a})(),ew=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=i.oAB({type:a}),a.\u0275inj=i.cJS({imports:[Nt.Bz.forChild(yo),wt.ot,at.lN,Y.Ps,Qt.c,ht.To,U.Cv,$.LD,Ti.Fk,Wv,S.SJ,j.rP,H.AV,Wd,O.V,B.m,Z.Nh,cn.Tx,ot.Is,pe.FA,ke.Yd,st.p0,Ui.TU,cl.p9,Mr,Rv,_e.X0,Kv.J,cs.yI.forRoot(),Xv.H,tw]}),a})()},1993:ye=>{function me(G){return Promise.resolve().then(()=>{var Nt=new Error("Cannot find module '"+G+"'");throw Nt.code="MODULE_NOT_FOUND",Nt})}me.keys=()=>[],me.resolve=me,me.id=1993,ye.exports=me},7820:ye=>{function me(Nt,wt,at,Y,Qt,U,$){try{var S=Nt[U]($),j=S.value}catch(H){return void at(H)}S.done?wt(j):Promise.resolve(j).then(Y,Qt)}ye.exports=function G(Nt){return function(){var wt=this,at=arguments;return new Promise(function(Y,Qt){var U=Nt.apply(wt,at);function $(j){me(U,Y,Qt,$,S,"next",j)}function S(j){me(U,Y,Qt,$,S,"throw",j)}$(void 0)})}},ye.exports.__esModule=!0,ye.exports.default=ye.exports}}]);