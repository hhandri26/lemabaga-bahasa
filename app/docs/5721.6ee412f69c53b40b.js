"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[5721],{5721:(B,N,s)=>{s.r(N),s.d(N,{VerifikasiRiwayatModule:()=>Yt});var _=s(8692),d=s(4032),x=s(9638),f=s(1379),b=s(3331),A=s(3319),K=s(827),l=s(6558),c=s(3911),u=s(4466),m=s(2516),p=s(8659),h=s(2940),T=s(8772),I=s(1561),v=s(3704),U=s(4536),O=s(7406),y=s(3538),M=s(8033),F=s(4639),Q=s(7775),D=s(8023),R=s(3528),j=s(8288),q=s(5450),r=s(92),t=s(4537),J=s(2047),P=s(7650),S=s(8292),w=s(2494),E=s(5507);function G(n,o){1&n&&(t.ynx(0),t._uU(1," - "),t.BQk())}function H(n,o){if(1&n&&t._uU(0),2&n){const e=t.oxw(2);t.hij(" ",e.kak.angkaKreditMinimal," ")}}function W(n,o){if(1&n&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij("",e," ")}}const z=function(){return["."]};function V(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"table",13)(2,"tr")(3,"td",14),t._uU(4,"NIP"),t.qZA(),t.TgZ(5,"td",14),t._uU(6),t.qZA()(),t.TgZ(7,"tr")(8,"td",14),t._uU(9,"NAMA"),t.qZA(),t.TgZ(10,"td",14),t._uU(11),t.qZA()(),t.TgZ(12,"tr")(13,"td",14),t._uU(14,"JABATAN"),t.qZA(),t.TgZ(15,"td",14),t._uU(16),t.qZA()(),t.TgZ(17,"tr")(18,"td",14),t._uU(19,"JABATAN ANGKA KREDIT MINIMAL"),t.qZA(),t.TgZ(20,"td",14),t._uU(21),t.qZA()(),t.TgZ(22,"tr")(23,"td",14),t._uU(24,"INSTANSI"),t.qZA(),t.TgZ(25,"td",14),t._uU(26),t.qZA()(),t.TgZ(27,"tr")(28,"td",14),t._uU(29,"UNIT KERJA"),t.qZA(),t.TgZ(30,"td",14),t._uU(31),t.qZA()(),t.TgZ(32,"tr",15)(33,"td",16),t._uU(34,"Hasil penilaian kinerja"),t.qZA(),t.TgZ(35,"td",17),t._uU(36,"Angka kredit minimal yang harus didapat setiap tahun"),t.qZA(),t.TgZ(37,"td",17),t._uU(38,"Angka kredit yang didapat (kolom 4 x kolom 5)"),t.qZA(),t.TgZ(39,"td",17),t._uU(40,"Angka kredit sebelumnya / kelebihan"),t.qZA(),t.TgZ(41,"td",17),t._uU(42,"Angka kredit saat ini (kolom 6 + kolom 7)"),t.qZA()(),t.TgZ(43,"tr",15)(44,"td",18),t._uU(45,"TAHUN"),t.qZA(),t.TgZ(46,"td",18),t._uU(47,"ANGKA"),t.qZA(),t.TgZ(48,"td",18),t._uU(49,"SEBUTAN"),t.qZA(),t.TgZ(50,"td",18),t._uU(51,"PERSENTASE"),t.qZA()(),t.TgZ(52,"tr",19)(53,"td",18),t._uU(54,"1"),t.qZA(),t.TgZ(55,"td",18),t._uU(56,"2"),t.qZA(),t.TgZ(57,"td",18),t._uU(58,"3"),t.qZA(),t.TgZ(59,"td",18),t._uU(60,"4"),t.qZA(),t.TgZ(61,"td",18),t._uU(62,"5"),t.qZA(),t.TgZ(63,"td",18),t._uU(64,"6"),t.qZA(),t.TgZ(65,"td",18),t._uU(66,"7"),t.qZA(),t.TgZ(67,"td",18),t._uU(68,"8"),t.qZA()(),t.TgZ(69,"tr")(70,"td",18),t._uU(71),t.qZA(),t.TgZ(72,"td",18),t._uU(73,"-"),t.qZA(),t.TgZ(74,"td",18),t._uU(75,"-"),t.qZA(),t.TgZ(76,"td",18),t._uU(77,"-"),t.qZA(),t.TgZ(78,"td",18),t._uU(79,"-"),t.qZA(),t.TgZ(80,"td",18),t._uU(81,"-"),t.qZA(),t.TgZ(82,"td",18),t._uU(83,"-"),t.qZA(),t.TgZ(84,"td",18),t._uU(85),t.qZA()(),t.TgZ(86,"tr")(87,"td",18),t._uU(88),t.qZA(),t.TgZ(89,"td",18),t._uU(90),t.qZA(),t.TgZ(91,"td",18),t._uU(92),t.qZA(),t.TgZ(93,"td",18),t._uU(94),t.qZA(),t.TgZ(95,"td",18),t.YNc(96,G,2,0,"ng-container",8),t.YNc(97,H,1,1,"ng-template",null,20,t.W1O),t.qZA(),t.TgZ(99,"td",18),t._uU(100),t.qZA(),t.TgZ(101,"td",18),t._uU(102),t.qZA(),t.TgZ(103,"td",18),t._uU(104),t.qZA()(),t.TgZ(105,"tr")(106,"td",21),t._uU(107),t.qZA()()(),t._UZ(108,"hr"),t.TgZ(109,"div",22)(110,"div",6)(111,"div",23)(112,"mat-form-field",24)(113,"mat-label"),t._uU(114,"Tahun"),t.qZA(),t.TgZ(115,"mat-select",25),t.YNc(116,W,2,2,"mat-option",26),t.qZA()(),t.TgZ(117,"mat-form-field",27)(118,"mat-label"),t._uU(119,"Nilai SKP"),t.qZA(),t._UZ(120,"input",28),t.qZA()(),t.TgZ(121,"div",7)(122,"mat-form-field",29)(123,"mat-label"),t._uU(124,"Rekomendasi"),t.qZA(),t._UZ(125,"textarea",30),t.qZA()()()(),t.BQk()),2&n){const e=t.MAs(98),a=t.oxw();t.xp6(6),t.Oqu(null==a.kak?null:a.kak.pns.nip),t.xp6(5),t.Oqu(null==a.kak?null:a.kak.pns.nama),t.xp6(5),t.Oqu(null==a.kak?null:a.kak.pns.jabatanNama),t.xp6(5),t.Oqu(null==a.kak?null:a.kak.pns.jabatanAkMinimal),t.xp6(5),t.Oqu(null==a.kak?null:a.kak.pns.instansiNama),t.xp6(5),t.Oqu(null==a.kak?null:a.kak.pns.unitKerjaNama),t.xp6(40),t.Oqu(null==a.kak?null:a.kak.tahun_lalu),t.xp6(14),t.Oqu(null==a.kak?null:a.kak.angkaKreditTahunLalu),t.xp6(3),t.Oqu(null==a.kak?null:a.kak.tahun),t.xp6(2),t.Oqu(null==a.kak?null:a.kak.nilaiSkp),t.xp6(2),t.Oqu(null==a.kak?null:a.kak.klasifikasiNilaiSkp.sebutan),t.xp6(2),t.hij("",null==a.kak?null:a.kak.klasifikasiNilaiSkp.persentase,"%"),t.xp6(2),t.Q6J("ngIf",null===(null==a.kak?null:a.kak.angkaKreditMinimal))("ngIfElse",e),t.xp6(4),t.Oqu(null==a.kak?null:a.kak.angkaKreditDidapat),t.xp6(2),t.Oqu(null==a.kak?null:a.kak.angkaKreditTahunLalu),t.xp6(2),t.Oqu(null==a.kak?null:a.kak.angkaKreditHasilKonversi),t.xp6(3),t.Oqu(null==a.kak?null:a.kak.narasi),t.xp6(8),t.Q6J("formControlName","tahun"),t.xp6(1),t.Q6J("ngForOf",a.tahun),t.xp6(4),t.Q6J("formControlName","nilaiSkp")("dropSpecialCharacters",!1)("mask","0*.00")("specialCharacters",t.DdM(27,z)),t.xp6(5),t.Q6J("rows",3)("formControlName","narasi")("spellcheck",!1)}}function $(n,o){if(1&n&&(t.TgZ(0,"fuse-alert",32)(1,"span",33),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.Q6J("type","error"),t.xp6(2),t.Oqu(e.kakError)}}let X=(()=>{class n{constructor(e,a,i,g,k,Z,C,L){this.matDialogRef=e,this._data=a,this._formBuilder=i,this._referensiService=g,this._helperService=k,this._profilService=Z,this._toastr=C,this._changeDetectorRef=L,this.items=[],this.tahun=this._referensiService.tahun(),this._unsubscribeAll=new D.x}ngOnInit(){this.form=this._formBuilder.group({tahun:["",[r.kI.required]],nilaiSkp:["",[r.kI.required]],narasi:["",[r.kI.required]]}),this._profilService.getKAK(this._data.id).subscribe(e=>{e.success?(this.kak=e.mapData.data,this.kak.tahun_lalu=e.mapData.data.tahun-1,this.kak.klasifikasiNilaiSkp.persentase=100*this.kak.klasifikasiNilaiSkp.persentase,console.log("this.kak.narasi",this.kak.narasi),this.form.get("narasi").setValue(this.kak.narasi,{onlySelf:!0})):this.kakError=e.message,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}submit(){const e=this.form.getRawValue();this._profilService.correctingKAK({id:this._data.id,nilaiSkp:+e.nilaiSkp.toString().replace(/[^0-9.]/g,""),tahun:+e.tahun,narasi:e.narasi}).subscribe(a=>{a?.success?(this._toastr.success(a.message),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(a?.message,"ERROR")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.so),t.Y36(U.WI),t.Y36(r.qu),t.Y36(q.A2),t.Y36(J.W),t.Y36(P.z),t.Y36(S._W),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],features:[t._Bn([{provide:f.sG,useValue:q.lv},{provide:f._A,useClass:T.t7,deps:[f.Ad]}])],decls:17,vars:7,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4"],[4,"ngIf","ngIfElse"],["error",""],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],["width","100%",1,"table","table-bordered",2,"font-size",".9rem !important"],["colspan","4"],[1,"tbl_header"],["align","center","colspan","4"],["align","center","rowspan","2"],["align","center"],[1,"numbering"],["angkaKreditMinimal",""],["align","left","colspan","8"],[1,"flex","items-center"],[1,"mt-4","flex","items-center"],[1,"fuse-mat-no-subscript","min-w-60","pr-8"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"fuse-mat-no-subscript","min-w-60"],["matInput","",3,"formControlName","dropSpecialCharacters","mask","specialCharacters"],[1,"fuse-mat-textarea","w-full"],["matInput","",3,"rows","formControlName","spellcheck"],[3,"value"],[3,"type"],["fuseAlertTitle",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Koreksi KAK"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return a.matDialogRef.close()}),t._UZ(5,"mat-icon",4),t.qZA()(),t.TgZ(6,"form",5)(7,"div",6)(8,"div",7),t.YNc(9,V,126,28,"ng-container",8),t.YNc(10,$,3,2,"ng-template",null,9,t.W1O),t.qZA()()(),t.TgZ(12,"div",10)(13,"button",11),t.NdJ("click",function(){return a.matDialogRef.close()}),t._uU(14," Tutup "),t.qZA(),t.TgZ(15,"button",12),t.NdJ("click",function(){return a.submit()}),t._uU(16," Submit "),t.qZA()()()),2&e){const i=t.MAs(11);t.xp6(4),t.Q6J("tabIndex",-1),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(3),t.Q6J("ngIf",a.kak)("ngIfElse",i),t.xp6(6),t.Q6J("color","primary")("disabled",a.form.invalid)}},dependencies:[_.sg,_.O5,x.lW,p.KE,p.hX,b.Hw,O.Nt,M.gD,f.ey,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,w.W,E.Z6],styles:[".readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none}.numbering[_ngcontent-%COMP%]{background-color:#a9a9a9;font-size:.7rem;height:10px!important;text-align:center}.tbl_header[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;font-size:1rem;font-weight:700}.table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;border:1px solid #000000!important}.zero-padding[_ngcontent-%COMP%]{padding:0!important}.rejected[_ngcontent-%COMP%]{border-left:10px solid red!important}.waiting-approval[_ngcontent-%COMP%]{border-left:10px solid yellow!important}.draft[_ngcontent-%COMP%]{border-left:10px solid grey!important}.table-success-OK[_ngcontent-%COMP%], .table-success-OK[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-success-OK[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background-color:#baecdd!important}.table-success-NOK[_ngcontent-%COMP%], .table-success-NOK[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-success-NOK[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background-color:#fec8da!important}.table-success-DRAFT[_ngcontent-%COMP%], .table-success-DRAFT[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-success-DRAFT[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background-color:#d0d4f5!important}.table-success-CORRECTION[_ngcontent-%COMP%], .table-success-CORRECTION[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-success-CORRECTION[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background-color:#ffebc1!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem!important}"],changeDetection:0}),n})();var tt=s(6738),et=s.n(tt),nt=s(9457),at=s.n(nt);function it(n,o){1&n&&(t.ynx(0),t._uU(1," - "),t.BQk())}function ot(n,o){if(1&n&&t._uU(0),2&n){const e=t.oxw(2);t.hij(" ",e.kak.angkaKreditMinimal," ")}}function st(n,o){if(1&n&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",e.name," ")}}function lt(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"table",13)(2,"tr")(3,"td",14),t._uU(4,"NIP"),t.qZA(),t.TgZ(5,"td",14),t._uU(6),t.qZA()(),t.TgZ(7,"tr")(8,"td",14),t._uU(9,"NAMA"),t.qZA(),t.TgZ(10,"td",14),t._uU(11),t.qZA()(),t.TgZ(12,"tr")(13,"td",14),t._uU(14,"JABATAN"),t.qZA(),t.TgZ(15,"td",14),t._uU(16),t.qZA()(),t.TgZ(17,"tr")(18,"td",14),t._uU(19,"JABATAN ANGKA KREDIT MINIMAL"),t.qZA(),t.TgZ(20,"td",14),t._uU(21),t.qZA()(),t.TgZ(22,"tr")(23,"td",14),t._uU(24,"INSTANSI"),t.qZA(),t.TgZ(25,"td",14),t._uU(26),t.qZA()(),t.TgZ(27,"tr")(28,"td",14),t._uU(29,"UNIT KERJA"),t.qZA(),t.TgZ(30,"td",14),t._uU(31),t.qZA()(),t.TgZ(32,"tr",15)(33,"td",16),t._uU(34,"Hasil penilaian kinerja"),t.qZA(),t.TgZ(35,"td",17),t._uU(36,"Angka kredit minimal yang harus didapat setiap tahun"),t.qZA(),t.TgZ(37,"td",17),t._uU(38,"Angka kredit yang didapat (kolom 4 x kolom 5)"),t.qZA(),t.TgZ(39,"td",17),t._uU(40,"Angka kredit sebelumnya / kelebihan"),t.qZA(),t.TgZ(41,"td",17),t._uU(42,"Angka kredit saat ini (kolom 6 + kolom 7)"),t.qZA()(),t.TgZ(43,"tr",15)(44,"td",18),t._uU(45,"TAHUN"),t.qZA(),t.TgZ(46,"td",18),t._uU(47,"ANGKA"),t.qZA(),t.TgZ(48,"td",18),t._uU(49,"SEBUTAN"),t.qZA(),t.TgZ(50,"td",18),t._uU(51,"PERSENTASE"),t.qZA()(),t.TgZ(52,"tr",19)(53,"td",18),t._uU(54,"1"),t.qZA(),t.TgZ(55,"td",18),t._uU(56,"2"),t.qZA(),t.TgZ(57,"td",18),t._uU(58,"3"),t.qZA(),t.TgZ(59,"td",18),t._uU(60,"4"),t.qZA(),t.TgZ(61,"td",18),t._uU(62,"5"),t.qZA(),t.TgZ(63,"td",18),t._uU(64,"6"),t.qZA(),t.TgZ(65,"td",18),t._uU(66,"7"),t.qZA(),t.TgZ(67,"td",18),t._uU(68,"8"),t.qZA()(),t.TgZ(69,"tr")(70,"td",18),t._uU(71),t.qZA(),t.TgZ(72,"td",18),t._uU(73,"-"),t.qZA(),t.TgZ(74,"td",18),t._uU(75,"-"),t.qZA(),t.TgZ(76,"td",18),t._uU(77,"-"),t.qZA(),t.TgZ(78,"td",18),t._uU(79,"-"),t.qZA(),t.TgZ(80,"td",18),t._uU(81,"-"),t.qZA(),t.TgZ(82,"td",18),t._uU(83,"-"),t.qZA(),t.TgZ(84,"td",18),t._uU(85),t.qZA()(),t.TgZ(86,"tr")(87,"td",18),t._uU(88),t.qZA(),t.TgZ(89,"td",18),t._uU(90),t.qZA(),t.TgZ(91,"td",18),t._uU(92),t.qZA(),t.TgZ(93,"td",18),t._uU(94),t.qZA(),t.TgZ(95,"td",18),t.YNc(96,it,2,0,"ng-container",8),t.YNc(97,ot,1,1,"ng-template",null,20,t.W1O),t.qZA(),t.TgZ(99,"td",18),t._uU(100),t.qZA(),t.TgZ(101,"td",18),t._uU(102),t.qZA(),t.TgZ(103,"td",18),t._uU(104),t.qZA()(),t.TgZ(105,"tr")(106,"td",21),t._uU(107),t.qZA()()(),t._UZ(108,"hr"),t.TgZ(109,"div",22)(110,"div",6)(111,"div",23)(112,"mat-form-field",24)(113,"mat-label"),t._uU(114,"Tanggal PAK"),t.qZA(),t.TgZ(115,"input",25),t.NdJ("focus",function(){t.CHM(e);const i=t.MAs(118);return t.KtG(i.open())}),t.qZA(),t._UZ(116,"mat-datepicker-toggle",26)(117,"mat-datepicker",null,27),t.qZA(),t.TgZ(119,"mat-form-field",24)(120,"mat-label"),t._uU(121,"Blanko"),t.qZA(),t.TgZ(122,"mat-select",28),t.YNc(123,st,2,2,"mat-option",29),t.qZA()(),t.TgZ(124,"mat-form-field",30)(125,"mat-label"),t._uU(126,"KARPEG"),t.qZA(),t._UZ(127,"input",31),t.qZA()(),t.TgZ(128,"div",23)(129,"mat-form-field",24)(130,"mat-label"),t._uU(131,"NIP"),t.qZA(),t._UZ(132,"input",31),t.qZA(),t.TgZ(133,"mat-form-field",24)(134,"mat-label"),t._uU(135,"Nama"),t.qZA(),t._UZ(136,"input",31),t.qZA(),t.TgZ(137,"mat-form-field",30)(138,"mat-label"),t._uU(139,"Jabatan"),t.qZA(),t._UZ(140,"input",31),t.qZA()(),t.TgZ(141,"div",23)(142,"mat-form-field",24)(143,"mat-label"),t._uU(144,"Tembusan 1"),t.qZA(),t._UZ(145,"input",31),t.qZA(),t.TgZ(146,"mat-form-field",24)(147,"mat-label"),t._uU(148,"Tembusan 2"),t.qZA(),t._UZ(149,"input",31),t.qZA(),t.TgZ(150,"mat-form-field",24)(151,"mat-label"),t._uU(152,"Tembusan 3"),t.qZA(),t._UZ(153,"input",31),t.qZA(),t.TgZ(154,"mat-form-field",24)(155,"mat-label"),t._uU(156,"Tembusan 4"),t.qZA(),t._UZ(157,"input",31),t.qZA(),t.TgZ(158,"mat-form-field",24)(159,"mat-label"),t._uU(160,"Tembusan 5"),t.qZA(),t._UZ(161,"input",31),t.qZA(),t.TgZ(162,"mat-form-field",24)(163,"mat-label"),t._uU(164,"Tembusan 6"),t.qZA(),t._UZ(165,"input",31),t.qZA()()()(),t.BQk()}if(2&n){const e=t.MAs(98),a=t.MAs(118),i=t.oxw();t.xp6(6),t.Oqu(null==i.kak?null:i.kak.pns.nip),t.xp6(5),t.Oqu(null==i.kak?null:i.kak.pns.nama),t.xp6(5),t.Oqu(null==i.kak?null:i.kak.pns.jabatanNama),t.xp6(5),t.Oqu(null==i.kak?null:i.kak.pns.jabatanAkMinimal),t.xp6(5),t.Oqu(null==i.kak?null:i.kak.pns.instansiNama),t.xp6(5),t.Oqu(null==i.kak?null:i.kak.pns.unitKerjaNama),t.xp6(40),t.Oqu(null==i.kak?null:i.kak.tahun_lalu),t.xp6(14),t.Oqu(null==i.kak?null:i.kak.angkaKreditTahunLalu),t.xp6(3),t.Oqu(null==i.kak?null:i.kak.tahun),t.xp6(2),t.Oqu(null==i.kak?null:i.kak.nilaiSkp),t.xp6(2),t.Oqu(null==i.kak?null:i.kak.klasifikasiNilaiSkp.sebutan),t.xp6(2),t.hij("",null==i.kak?null:i.kak.klasifikasiNilaiSkp.persentase,"%"),t.xp6(2),t.Q6J("ngIf",null===(null==i.kak?null:i.kak.angkaKreditMinimal))("ngIfElse",e),t.xp6(4),t.Oqu(null==i.kak?null:i.kak.angkaKreditDidapat),t.xp6(2),t.Oqu(null==i.kak?null:i.kak.angkaKreditTahunLalu),t.xp6(2),t.Oqu(null==i.kak?null:i.kak.angkaKreditHasilKonversi),t.xp6(3),t.Oqu(null==i.kak?null:i.kak.narasi),t.xp6(8),t.Q6J("matDatepicker",a)("formControlName","tglPak")("max",i._helperService.maxDate()),t.xp6(1),t.Q6J("for",a),t.xp6(6),t.Q6J("formControlName","isBlanko"),t.xp6(1),t.Q6J("ngForOf",i.blankoList),t.xp6(4),t.Q6J("formControlName","noKarpeg")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","spesimenNip")("spellcheck",!1),t.xp6(4),t.Q6J("formControlName","spesimenNama")("spellcheck",!1),t.xp6(4),t.Q6J("formControlName","spesimenJabatan")("spellcheck",!1),t.xp6(5),t.Q6J("formControlName","tembusan1")("spellcheck",!1),t.xp6(4),t.Q6J("formControlName","tembusan2")("spellcheck",!1),t.xp6(4),t.Q6J("formControlName","tembusan3")("spellcheck",!1),t.xp6(4),t.Q6J("formControlName","tembusan4")("spellcheck",!1),t.xp6(4),t.Q6J("formControlName","tembusan5")("spellcheck",!1),t.xp6(4),t.Q6J("formControlName","tembusan6")("spellcheck",!1)}}function rt(n,o){if(1&n&&(t.TgZ(0,"fuse-alert",33)(1,"span",34),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.Q6J("type","error"),t.xp6(2),t.Oqu(e.kakError)}}let ct=(()=>{class n{constructor(e,a,i,g,k,Z,C){this.matDialogRef=e,this._data=a,this._formBuilder=i,this._helperService=g,this._profilService=k,this._toastr=Z,this._changeDetectorRef=C,this.items=[],this.blankoList=this._helperService.blankoList(),this._unsubscribeAll=new D.x}ngOnInit(){this.form=this._formBuilder.group({spesimenJabatan:[""],spesimenNama:[""],spesimenNip:[""],noKarpeg:[""],tembusan1:[""],tembusan2:[""],tembusan3:[""],tembusan4:[""],tembusan5:[""],tembusan6:[""],tglPak:["",[r.kI.required]],isBlanko:["",[r.kI.required]]}),console.log(this._data),this._profilService.getKAK(this._data.id).subscribe(e=>{e.success?(this.kak=e.mapData.data,this.kak.tahun_lalu=e.mapData.data.tahun-1,this.kak.klasifikasiNilaiSkp.persentase=100*this.kak.klasifikasiNilaiSkp.persentase):this.kakError=e.message,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}submit(){const e=this.form.getRawValue();let a;a={spesimenJabatan:e.spesimenJabatan,spesimenNama:e.spesimenNama,spesimenNip:e.spesimenNip,noKarpeg:e.noKarpeg,tglPak:et()(e.tglPak).format("DD-MM-YYYY"),usulId:this._data.id,isBlanko:e.isBlanko};const i=[];e.tembusan1&&i.push(e.tembusan1),e.tembusan2&&i.push(e.tembusan2),e.tembusan3&&i.push(e.tembusan3),e.tembusan4&&i.push(e.tembusan4),a.tembusan=i,this._profilService.cetakKAK(a).subscribe(g=>{at().saveAs(g,this.kak.pns.nip+"_KAK_"+this.kak.pns.nip+"_.pdf")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(U.so),t.Y36(U.WI),t.Y36(r.qu),t.Y36(J.W),t.Y36(P.z),t.Y36(S._W),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],features:[t._Bn([{provide:f.sG,useValue:q.lv},{provide:f._A,useClass:T.t7,deps:[f.Ad]}])],decls:17,vars:7,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4"],[4,"ngIf","ngIfElse"],["error",""],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],["width","100%",1,"table","table-bordered",2,"font-size",".9rem !important"],["colspan","4"],[1,"tbl_header"],["align","center","colspan","4"],["align","center","rowspan","2"],["align","center"],[1,"numbering"],["angkaKreditMinimal",""],["align","left","colspan","8"],[1,"flex","items-center"],[1,"mt-4","flex","items-center"],[1,"fuse-mat-no-subscript","min-w-60","pr-8"],["matInput","",3,"matDatepicker","formControlName","max","focus"],["matSuffix","",3,"for"],["_tglSk",""],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"fuse-mat-no-subscript","min-w-60"],["matInput","",3,"formControlName","spellcheck"],[3,"value"],[3,"type"],["fuseAlertTitle",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Cetak KAK"),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){return a.matDialogRef.close()}),t._UZ(5,"mat-icon",4),t.qZA()(),t.TgZ(6,"form",5)(7,"div",6)(8,"div",7),t.YNc(9,lt,166,44,"ng-container",8),t.YNc(10,rt,3,2,"ng-template",null,9,t.W1O),t.qZA()()(),t.TgZ(12,"div",10)(13,"button",11),t.NdJ("click",function(){return a.matDialogRef.close()}),t._uU(14," Tutup "),t.qZA(),t.TgZ(15,"button",12),t.NdJ("click",function(){return a.submit()}),t._uU(16," Cetak "),t.qZA()()()),2&e){const i=t.MAs(11);t.xp6(4),t.Q6J("tabIndex",-1),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(3),t.Q6J("ngIf",a.kak)("ngIfElse",i),t.xp6(6),t.Q6J("color","primary")("disabled",a.form.invalid)}},dependencies:[_.sg,_.O5,x.lW,p.KE,p.hX,p.R9,b.Hw,O.Nt,M.gD,f.ey,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,w.W,v.Mq,v.hl,v.nW],styles:[".readonly-wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.readonly-wrapper[_ngcontent-%COMP%]   .readonly-block[_ngcontent-%COMP%]{pointer-events:none}.numbering[_ngcontent-%COMP%]{background-color:#a9a9a9;font-size:.7rem;height:10px!important;text-align:center}.tbl_header[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;font-size:1rem;font-weight:700}.table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important;border:1px solid #000000!important}.zero-padding[_ngcontent-%COMP%]{padding:0!important}.rejected[_ngcontent-%COMP%]{border-left:10px solid red!important}.waiting-approval[_ngcontent-%COMP%]{border-left:10px solid yellow!important}.draft[_ngcontent-%COMP%]{border-left:10px solid grey!important}.table-success-OK[_ngcontent-%COMP%], .table-success-OK[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-success-OK[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background-color:#baecdd!important}.table-success-NOK[_ngcontent-%COMP%], .table-success-NOK[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-success-NOK[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background-color:#fec8da!important}.table-success-DRAFT[_ngcontent-%COMP%], .table-success-DRAFT[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-success-DRAFT[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background-color:#d0d4f5!important}.table-success-CORRECTION[_ngcontent-%COMP%], .table-success-CORRECTION[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-success-CORRECTION[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background-color:#ffebc1!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.25rem!important}"],changeDetection:0}),n})();var Y=s(1949),ut=s(1683);function mt(n,o){1&n&&(t.TgZ(0,"div",19),t._UZ(1,"mat-progress-bar",20),t.qZA()),2&n&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function gt(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"number"),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.hij("",t.lcZ(2,1,e.pagination.recordsTotal),"\xa0Usulan ")}}function dt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-option",21),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function _t(n,o){1&n&&t.GkF(0)}const pt=function(n){return{$implicit:n}};function ft(n,o){if(1&n&&(t.ynx(0),t.YNc(1,_t,1,0,"ng-container",40),t.BQk()),2&n){const e=t.oxw().$implicit;t.oxw(4);const a=t.MAs(24);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(2,pt,e))}}const kt=function(n,o,e){return{"bg-red-200 text-red-800 dark:bg-red-600 dark:text-red-50":n,"bg-blue-200 text-blue-800 dark:bg-blue-600 dark:text-blue-50":o,"bg-green-200 text-green-800 dark:bg-green-600 dark:text-green-50":e}};function At(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",29)(2,"div",30)(3,"div",31),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"div",32)(7,"div",33)(8,"div"),t._uU(9),t.qZA(),t.TgZ(10,"div",34),t._uU(11,"\u2022"),t.qZA(),t.TgZ(12,"div"),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",26)(15,"div",31),t._uU(16),t.ALo(17,"titlecase"),t.qZA(),t.TgZ(18,"span",35)(19,"span",36),t._uU(20),t.qZA()()(),t.TgZ(21,"div",37),t._uU(22),t.ALo(23,"date"),t.qZA(),t.TgZ(24,"div",27)(25,"button",38),t.NdJ("click",function(){const g=t.CHM(e).$implicit,k=t.oxw(4);return t.KtG(k.toggleDetails(g.id))}),t._UZ(26,"mat-icon",39),t.qZA()()(),t.TgZ(27,"div",23),t.YNc(28,ft,2,4,"ng-container",5),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,a=t.oxw(4);t.xp6(4),t.hij(" ",t.lcZ(5,10,e.pns.nama),""),t.xp6(5),t.Oqu(e.pns.nip),t.xp6(4),t.AsE("",e.pns.golonganNama," - ",e.pns.jabatanNama,""),t.xp6(3),t.hij(" ",t.lcZ(17,12,e.namaJenisUsul),""),t.xp6(2),t.Q6J("ngClass",t.kEZ(17,kt,"DELETE"===e.actionName,"EDIT"===e.actionName,"ADD"===e.actionName)),t.xp6(2),t.Oqu(a._action(e.actionName)),t.xp6(2),t.hij(" ",t.xi3(23,14,e.createdDate,"d/M/yyyy h:mm")," "),t.xp6(4),t.Q6J("svgIcon",(null==a.selected?null:a.selected.id)===e.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),t.xp6(2),t.Q6J("ngIf",(null==a.selected?null:a.selected.id)===e.id)}}function Zt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,At,29,21,"ng-container",12),t.BQk()),2&n){const e=o.ngIf,a=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",a.trackByFn)}}const ht=function(n){return{"pointer-events-none":n}},Tt=function(){return[10,50,100,250,500]};function xt(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",23)(2,"div",24)(3,"div",25),t._uU(4,"Diusulkan oleh"),t.qZA(),t.TgZ(5,"div",26),t._uU(6,"Jenis usulan"),t.qZA(),t.TgZ(7,"div",27),t._uU(8,"Diusulkan pada"),t.qZA(),t._UZ(9,"div",27),t.qZA(),t.YNc(10,Zt,2,2,"ng-container",5),t.ALo(11,"async"),t.qZA(),t.TgZ(12,"mat-paginator",28),t.NdJ("page",function(i){t.CHM(e);const g=t.oxw(2);return t.KtG(g.pageEvent(i))}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(10),t.Q6J("ngIf",t.lcZ(11,7,e.items$)),t.xp6(2),t.Q6J("ngClass",t.VKq(9,ht,e.isLoading))("length",e.pagination.recordsTotal)("pageIndex",e.pagination.draw)("pageSize",e.pagination.perPage)("pageSizeOptions",t.DdM(11,Tt))("showFirstLastButtons",!0)}}function bt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,xt,13,12,"ng-container",22),t.BQk()),2&n){const e=o.ngIf;t.oxw();const a=t.MAs(26);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",a)}}function vt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",59),t._uU(2),t.qZA(),t.TgZ(3,"div",59),t._uU(4),t.qZA(),t.TgZ(5,"div",59),t._uU(6),t.qZA(),t._UZ(7,"div",61),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.keyLabel),t.xp6(2),t.Oqu(e.before),t.xp6(2),t.Oqu(e.after)}}function Ut(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",58),t._UZ(2,"div",59),t.TgZ(3,"div",60),t._uU(4,"Data semula"),t.qZA(),t.TgZ(5,"div",60),t._uU(6,"Data menjadi"),t.qZA(),t._UZ(7,"div",61),t.YNc(8,vt,8,3,"ng-container",62),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(8),t.Q6J("ngForOf",e.selected.payload)}}function Ct(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",59)(2,"div",50),t._UZ(3,"mat-icon",51),t.TgZ(4,"button",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,g=t.oxw(4);return t.KtG(g.togglePrint(i.after))}),t._uU(5,"Dokumen"),t.qZA()()(),t.BQk()}}function Nt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",59),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.after)}}function Kt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",59),t._uU(2),t.qZA(),t.YNc(3,Ct,6,0,"ng-container",5),t.YNc(4,Nt,3,1,"ng-container",5),t._UZ(5,"div",61),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.keyLabel),t.xp6(1),t.Q6J("ngIf",e.isDownload),t.xp6(1),t.Q6J("ngIf",!e.isDownload)}}function Ot(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",58),t._UZ(2,"div",59),t.TgZ(3,"div",60),t._uU(4,"Data yang ditambahkan "),t.qZA(),t._UZ(5,"div",61),t.YNc(6,Kt,6,3,"ng-container",62),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(6),t.Q6J("ngForOf",e.selected.payload)}}function Mt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",59),t._uU(2),t.qZA(),t.TgZ(3,"div",59),t._uU(4),t.qZA(),t._UZ(5,"div",61),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.keyLabel),t.xp6(2),t.Oqu(e.before)}}function qt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",58),t._UZ(2,"div",59),t.TgZ(3,"div",60),t._uU(4,"Data yang dihapus"),t.qZA(),t._UZ(5,"div",61),t.YNc(6,Mt,6,2,"ng-container",62),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(6),t.Q6J("ngForOf",e.selected.payload)}}function It(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",55)(2,"button",63),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.toggleKoreksiKak(i.selected))}),t._uU(3,"Koreksi"),t.qZA(),t.TgZ(4,"button",63),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.toggleCetakKak(i.selected))}),t._uU(5,"Cetak Hasil"),t.qZA(),t.TgZ(6,"button",63),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.toggleProsesUlangKak(i.selected))}),t._uU(7,"Proses Ulang"),t.qZA()(),t.BQk()}}function yt(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",41)(2,"div",42)(3,"div",43)(4,"div",44)(5,"div",45),t.YNc(6,Ut,9,1,"ng-container",5),t.YNc(7,Ot,7,1,"ng-container",5),t.YNc(8,qt,7,1,"ng-container",5),t.qZA(),t.TgZ(9,"div",46)(10,"div",47)(11,"h3",48),t._uU(12,"Lampiran dokumen :"),t.qZA(),t.TgZ(13,"div",49)(14,"div",33)(15,"div",50),t._UZ(16,"mat-icon",51),t.TgZ(17,"button",52),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.togglePrint(i.selected.dokumenId))}),t._uU(18,"Dokumen"),t.qZA()()()(),t.TgZ(19,"mat-form-field",53)(20,"mat-label"),t._uU(21,"Catatan hasil verifikasi"),t.qZA(),t.TgZ(22,"textarea",54),t.NdJ("ngModelChange",function(i){t.CHM(e);const g=t.oxw(2);return t.KtG(g.message=i)}),t.qZA()(),t.YNc(23,It,8,0,"ng-container",5),t.qZA()()()()(),t.TgZ(24,"div",55)(25,"button",56),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openConfirmationDialog(!1,i.selected.id))}),t._uU(26,"Tolak"),t.qZA(),t.TgZ(27,"button",57),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.openConfirmationDialog(!0,i.selected.id))}),t._uU(28,"Setuju"),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf","EDIT"===e.selected.actionName),t.xp6(1),t.Q6J("ngIf","ADD"===e.selected.actionName),t.xp6(1),t.Q6J("ngIf","DELETE"===e.selected.actionName),t.xp6(14),t.Q6J("ngModel",e.message)("autocomplete","off")("placeholder","Jelaskan alasan jika menolak"),t.xp6(1),t.Q6J("ngIf","KONVERSI_ANGKA_KREDIT"===e.selected.jenisUsul),t.xp6(2),t.Q6J("color","warn"),t.xp6(2),t.Q6J("color","primary")}}function Dt(n,o){if(1&n&&t.YNc(0,yt,29,9,"ng-container",5),2&n){const e=t.oxw();t.Q6J("ngIf",e.selected)}}function Rt(n,o){1&n&&(t.TgZ(0,"fuse-alert",64)(1,"span",65),t._uU(2,"Usulan perubahan data tidak ditemukan!"),t.qZA()()),2&n&&t.Q6J("type","info")}let Pt=(()=>{class n{constructor(e,a,i,g,k,Z,C,L){this._changeDetectorRef=e,this._verifikasiRiwayatService=a,this._fuseConfirmationService=i,this._toastr=g,this._formBuilder=k,this._referensiService=Z,this._profilService=C,this._matDialog=L,this.isLoading=!1,this.selected=null,this.message=null,this.jenisUsulan=this._referensiService.jenisUsulan(),this.actionUsulan=this._referensiService.actionUsulan(),this._unsubscribeAll=new D.x}ngOnInit(){this.form=this._formBuilder.group({byJenisUsul:[""],byNama:[null]}),this._verifikasiRiwayatService.pagination$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()}),this.items$=this._verifikasiRiwayatService.items$,this._verifikasiRiwayatService.items$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(),this._verifikasiRiwayatService.pagination$.pipe((0,R.R)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){}toggleKoreksiKak(e){this._matDialog.open(X,{autoFocus:!1,data:e}).afterClosed().subscribe(i=>{})}toggleCetakKak(e){this._matDialog.open(ct,{autoFocus:!1,data:e}).afterClosed().subscribe(i=>{})}toggleProsesUlangKak(e){this._fuseConfirmationService.open({title:"Proses Ulang KAK ",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:"heroicons_outline:check",color:"warn"},actions:{confirm:{show:!0,label:"Proses",color:"warn"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(i=>{"confirmed"===i&&this._profilService.reprocessKAK(e.id).subscribe(g=>{g?.success?(this._toastr.success("Proses ulang KAK berhasil"),this.closeDetails(),this.fetch(this.pagination.draw,this.pagination.perPage,this.form.getRawValue()).subscribe(),this._changeDetectorRef.markForCheck()):this._toastr.error(g?.message,"ERROR")})})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}pageEvent(e){this.fetch(e.pageIndex,e.pageSize,this.form.getRawValue()).subscribe()}toggleSearch(){this.fetch(this.pagination.draw,this.pagination.perPage,this.form.getRawValue()).subscribe()}fetch(e=0,a=10,i={}){return i.byJenisUsul||(i.byJenisUsul=null),this._verifikasiRiwayatService.getList(+e,+a,i).pipe()}toggleDetails(e){this.selected&&this.selected.id===e?this.closeDetails():this._verifikasiRiwayatService.getDetail(e).subscribe(a=>{this.selected=a,this._changeDetectorRef.markForCheck()})}closeDetails(){this.selected=null}_action(e){return(this.actionUsulan.find(i=>i.id===e)||null)?.nama??"-"}togglePrint(e){this._profilService.preview(e).subscribe(a=>{const i=URL.createObjectURL(a);window.open(i,"_blank")})}openConfirmationDialog(e,a){e||this.message?this._fuseConfirmationService.open({title:e?"Menyetujui verifikasi data ":"Menolak verifikasi data ",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:e?"heroicons_outline:check":"heroicons_outline:x",color:e?"primary":"warn"},actions:{confirm:{show:!0,label:e?"Setuju":"Tolak",color:e?"primary":"warn"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(g=>{if("confirmed"===g){const k=new FormData;k.append("isKonversiAK",!1),k.append("isApprove",e),k.append("usulId",a),k.append("message",this.message),this._verifikasiRiwayatService.approval(k).subscribe(Z=>{Z?.success?(this._toastr.success("Data telah diverifikasi","Konfirmasi Berhasil"),this.closeDetails(),this.fetch(this.pagination.draw,this.pagination.perPage,this.form.getRawValue()).subscribe(),this._changeDetectorRef.markForCheck()):this._toastr.error(Z?.message,"ERROR")})}}):this._toastr.error("Untuk menolak Anda harus menjelaskan alasannya pada catatan hasil verifikasi","Alasan hasil verifikasi harus diisi")}trackByFn(e,a){return String(a.id)||String(e)}trackByFnType(e,a){return a.id||e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(Y.h),t.Y36(ut.R),t.Y36(S._W),t.Y36(r.qu),t.Y36(q.A2),t.Y36(P.z),t.Y36(U.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(e,a){if(1&e&&t.Gf(y.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(a._paginator=i.first)}},features:[t._Bn([{provide:f.sG,useValue:f.sG}])],decls:27,vars:10,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-4","px-4","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-2xl","font-extrabold","tracking-tight","leading-none"],[1,"ml-0.5","font-medium","text-secondary"],[4,"ngIf"],[3,"formGroup"],[1,"flex","items-center","mt-4","sm:mt-0","md:mt-4"],[1,"flex-auto","ml-4"],[1,"fuse-mat-no-subscript","w-full","min-w-50"],[3,"formControlName"],["value",""],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-stroked-button","",1,"ml-4","bg-card","hover:bg-hover",3,"color","click"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],["rowDetailsTemplate",""],["noItems",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[3,"value"],[4,"ngIf","ngIfElse"],[1,"grid"],[1,"item-grid","z-10","sticky","top-0","grid","grid-flow-col","auto-cols-max","md:auto-cols-min","grid-cols-12","gap-3","py-3","px-6","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"md:block","col-span-8"],[1,"hidden","md:block","col-span-2"],[1,"hidden","md:block","col-span-1"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page"],[1,"item-grid","grid","grid-flow-col","auto-cols-max","md:auto-cols-min","grid-cols-12","items-center","gap-2","py-3","px-6","border-b"],[1,"hidden","md:block","col-span-8"],[1,"font-medium","tracking-tight","leading-6","truncate","text-md"],[1,"text-secondary","font-medium"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],[1,"hidden","sm:block"],[1,"inline-flex","items-center","font-bold","text-xs","px-2.5","py-0.5","rounded-full","tracking-wide",3,"ngClass"],[1,"leading-relaxed","whitespace-nowrap"],[1,"hidden","md:block","truncate","text-sm","col-span-1"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[1,"icon-size-5",3,"svgIcon"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"shadow-lg","overflow-hidden"],[1,"flex"],[1,"flex","flex-col","w-full"],[1,"flex","flex-auto","flex-wrap","px-2"],[1,"flex","flex-col","w-full","lg:w-3/4"],[1,"flex","flex-col","w-full","lg:w-1/4"],[1,"my-3"],[1,"mb-2"],[1,"text-secondary","font-medium","mb-2"],[1,"flex","items-center"],["svgIcon","attach_file",1,"icon-size-5","text-hint"],[1,"ml-1.5","text-sm","underline",3,"click"],[1,"fuse-mat-no-subscript","w-full","mt-4"],["matInput","",3,"ngModel","autocomplete","placeholder","ngModelChange"],[1,"flex","items-center","justify-end","w-full","border-t","px-8","py-4"],["mat-button","",1,"mr-4",3,"color","click"],["mat-flat-button","",3,"color","click"],[1,"grid","grid-cols-12","gap-x-1","py-5","px-4"],[1,"col-span-4","text-sm"],[1,"col-span-4","text-sm","font-semibold"],[1,"col-span-12","my-2","border-b"],[4,"ngFor","ngForOf"],["mat-button","",3,"click"],[3,"type"],["fuseAlertTitle",""]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,mt,2,1,"div",2),t.TgZ(3,"div")(4,"div",3),t._uU(5,"Usulan\xa0Perubahan\xa0Data"),t.qZA(),t.TgZ(6,"div",4),t.YNc(7,gt,3,3,"ng-container",5),t.qZA()(),t.TgZ(8,"form",6)(9,"div",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-select",10)(13,"mat-option",11),t._uU(14,"-- Semua Jenis Usulan --"),t.qZA(),t.YNc(15,dt,3,2,"ng-container",12),t.qZA()()(),t.TgZ(16,"button",13),t.NdJ("click",function(){return a.toggleSearch()}),t.TgZ(17,"span",14),t._uU(18,"Cari"),t.qZA()()()()(),t.TgZ(19,"div",15)(20,"div",16),t.YNc(21,bt,2,2,"ng-container",5),t.ALo(22,"async"),t.YNc(23,Dt,1,1,"ng-template",null,17,t.W1O),t.YNc(25,Rt,3,1,"ng-template",null,18,t.W1O),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngIf",a.isLoading),t.xp6(5),t.Q6J("ngIf",a.pagination.recordsTotal>0),t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(4),t.Q6J("formControlName","byJenisUsul"),t.xp6(3),t.Q6J("ngForOf",a.jenisUsulan)("ngForTrackBy",a.trackByFn),t.xp6(1),t.Q6J("color","primary"),t.xp6(5),t.Q6J("ngIf",t.lcZ(22,8,a.items$)))},dependencies:[_.mk,_.sg,_.O5,_.tP,x.lW,p.KE,p.hX,b.Hw,O.Nt,y.NW,K.pW,M.gD,f.ey,r._Y,r.Fj,r.JJ,r.JL,r.On,r.sg,r.u,w.W,_.Ov,_.JJ,_.rS,_.uU],encapsulation:2,data:{animation:j.L},changeDetection:0}),n})(),St=(()=>{class n{constructor(e){this._verifikasiRiwayatService=e}resolve(e,a){return this._verifikasiRiwayatService.getList()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Y.h))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var wt=s(7937),Lt=s(1208);let Jt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,a){1&e&&t._UZ(0,"router-outlet")},dependencies:[d.lC],encapsulation:2}),n})();var Et=s(5184);let Yt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.ez,d.Bz.forChild([{path:"",component:Jt,children:[{path:"",component:Pt,resolve:{lists:St}}]}]),Lt.c,x.ot,I.p9,p.lN,b.Ps,O.c,A.Tx,y.TU,K.Cv,f.si,l.JX,M.LD,F.rP,h.AV,u.m,m.Nh,U.Is,Q.fC,v.FA,T.Yd,c.p0,wt.w,E.yI.forRoot(),Et.p]}),n})()},2047:(B,N,s)=>{s.d(N,{G:()=>f,W:()=>b});var _=s(6738),d=s.n(_),x=s(4537);const f={parse:{dateInput:"DD MMMM YYYY"},display:{dateInput:"DD MMMM YYYY",monthYearLabel:"DD MMMM YYYY",dateA11yLabel:"DD MMMM YYYY",monthYearA11yLabel:"DD MMMM YYYY"}};let b=(()=>{class A{requireMatch(l){return"string"==typeof l.value?{incorrect:!0}:null}maxDate(){return d()(new Date).format("YYYY-MM-DD")}startDate(){return new Date(1990,0,1)}diklatType(){return[{value:"ATTENDANCE",text:"Absen"},{value:"MATERIAL",text:"Materi"},{value:"ASSIGNMENT",text:"Tugas"},{value:"URL",text:"Referensi Link"},{value:"POSTTEST",text:"Post Test"},{value:"PRETEST",text:"Pre Test"}]}onFileInputSingle(l,c){const u=l.target.files[0],m=Math.round(u.size/Math.pow(1024,1)),p=u.type,h={name:u.name,size:m+" KB",type:u.type,lastModified:d()(u.lastModified).format("DD-MM-YYYY HH:MM")};return m>2e3?{isSuccess:!1,msg:'File "'+u.name+'" tidak dapat di unggah, karena lebih dari 2MB',fileInfo:h}:p!==c?{isSuccess:!1,msg:"Format file tidak sesuai, format file harus: *.pdf",fileInfo:h}:{isSuccess:!0,msg:"success",fileInfo:h}}mimeDocument(){return["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/pdf","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]}mimeVideo(){return["video/mp4"]}onFileInputMultiple(l,c){for(let m=0;m<l.length;m++){const p=Math.round(l[m].size/Math.pow(1024,1)),h=l[m].type,T={name:l[m].name,size:p+" KB",type:l[m].type,lastModified:d()(l[m].lastModified).format("DD-MM-YYYY HH:MM")},I=c.find(v=>v===h);return p>1e4?{isSuccess:!1,msg:'ERROR : File "'+l[m].name+'" lebih dari 10MB',fileInfo:T}:I?{isSuccess:!0,msg:"success",fileInfo:T}:{isSuccess:!1,msg:'ERROR : File "'+l[m].name+'" tidak sesuai dengan format yg ditentukan',fileInfo:T}}}publishList(){return[{id:!0,name:"PUBLISH"},{id:!1,name:"UN-PUBLISH"}]}blankoList(){return[{id:!1,name:"Dengan Banko"},{id:!0,name:"Tidak dengan banko"}]}categoryBeritaList(){return[{id:5,name:"NEWS"}]}isLulus(){return[{id:!0,name:"Lulus"},{id:!1,name:"Tidak Lulus"}]}isUjiKompetensi(){return[{id:!0,name:"Sudah Uji Kompetensi"},{id:!1,name:"Belum Uji Kompetensi"}]}statusKegiatanList(){return[{id:"SUDAH_BERLANGSUNG",name:"Sudah Berlangsung"},{id:"SEDANG_BERLANGSUNG",name:"Sedang Berlangsung"},{id:"AKAN_DATANG",name:"Akan Datang"}]}statusUndanganList(){return[{id:"MENUNGGU_KONFIRMASI",name:"Menunggu Konfirmasi"},{id:"KONFIRMASI_AKAN_HADIR",name:"Konfirmasi Akan Hadir"},{id:"KONFIRMASI_TIDAK_HADIR",name:"Konfirmasi Tidak Hadir"},{id:"KONFIRMASI_DITOLAK",name:"Konfirmasi Ditolak"},{id:"KONFIRMASI_DISETUJUI",name:"Konfirmasi Disetujui"},{id:"TIDAK_PERLU_KONFIRMASI",name:"Tidak Perlu Konfirmasi"}]}glossariumIstilahList(){return[{id:!0,name:"Istilah Asing"},{id:!1,name:"Istilah Indonesia"}]}bahasaList(){return[{id:"en",name:"Bahasa Asing"},{id:"id",name:"Bahasa Indonesia"}]}jenisSertifikatList(){return[{id:"TOEFL",name:"TOEFL"},{id:"IELTS",name:"IELTS"},{id:"TOEIC",name:"TOEIC"},{id:"HSK",name:"HSK"},{id:"JLPT",name:"JLPT"},{id:"TOPIK",name:"TOPIK"},{id:"DELF",name:"DELF"},{id:"TESTDAF",name:"TESTDAF"}]}jenisUsulList(){return[{id:null,name:"Semua usulan"},{id:"RW_GOL",name:"Pangkat/Golongan"},{id:"RW_JAB",name:"Jabatan"},{id:"RW_INSTANSI",name:"Instansi"},{id:"RW_KEG_TRANSLASI",name:"Kegiatan Penerjemahan"},{id:"RW_PELATIHAN",name:"Pelatihan"},{id:"RW_PENDIDIKAN",name:"Pendidikan"},{id:"RW_ANGKA_KREDIT_KONVERSI",name:"Angka Kredit Konversi"},{id:"RW_ANGKA_KREDIT_AKUMULASI",name:"Angka Kredit Akumulasi"},{id:"RW_ANGKA_KREDIT_PENETAPAN",name:"Angka Kredit Pentetapan"},{id:"RW_UJI_KOMPETENSI",name:"Uji Kompetensi"},{id:"KEMAHIRAN_BAHASA",name:"Riwayat Kemahiran Berbahasa"}]}lingkupPelatihanList(){return[{id:"NASIONAL",name:"Nasional"},{id:"INTERNASIONAL",name:"Internasional"}]}agamaList(){return[{id:"IS",name:"Islam"},{id:"KR",name:"Kristen"},{id:"KA",name:"Khatolik"},{id:"HI",name:"Hindu"},{id:"BU",name:"Budha"},{id:"KH",name:"Khonghucu"},{id:"LN",name:"Lain-lain"}]}jenisKelaminList(){return[{id:"M",name:"Pria"},{id:"F",name:"Wanita"}]}typeForumList(){return[{id:"PRIVATE",name:"Private"},{id:"PUBLIC",name:"Public"}]}jenisKegiatanList(){return[{id:"DIKLAT_FUNGSIONAL",name:"Diklat Fungsional"},{id:"DIKLAT_TEKNIS",name:"Diklat Teknis"},{id:"UJI_KOMPETENSI",name:"Uji Kompetensi"},{id:"BIMBINGAN_TEKNIS",name:"Bimbingan Teknis"},{id:"KURSUS",name:"Kursus"}]}jenisKegiatanDiklatList(){return[{id:"DIKLAT_FUNGSIONAL",name:"Diklat Fungsional"},{id:"DIKLAT_TEKNIS",name:"Diklat Teknis"},{id:"UJI_KOMPETENSI",name:"Uji Kompetensi"},{id:"BIMBINGAN_TEKNIS",name:"Bimbingan Teknis"},{id:"KURSUS",name:"Kursus"}]}jenisPengangkatanList(){return[{id:"PENGANGKATAN_PERTAMA",name:"Pertama"},{id:"PENGANGKATAN_ALIH_JABATAN",name:"Alih Jabatan"},{id:"PROMOSI",name:"Promosi"}]}statusKawinList(){return[{id:"BELUM_KAWIN",name:"Belum Kawin"},{id:"MENIKAH",name:"Menikah"},{id:"CERAI",name:"Cerai"},{id:"JANDA_DUDA",name:"Janda / Duda"},{id:"UNKNOWN",name:"Tidak diketahui"}]}calculateAge(l){const c=new Date(l),u=Date.now()-c.getTime(),m=new Date(u);return Math.abs(m.getUTCFullYear()-1970)}pad(l,c){let u=l+"";for(;u.length<c;)u="0"+u;return u}toInteger(l){return parseInt(`${l}`,10)}getDateFromStringID(l=""){if(l&&l.length>0){const c=l.trim().split("-"),u=this.toInteger(c[2]),m=this.toInteger(c[1]),p=this.toInteger(c[0]);return new Date(u,m-1,p)}return new Date}convertDateFormat(l){return d()(l).format("DD-MM-YYYY")}convertDateTimeFormat(l){return d()(l).format("lll")}replaceUnderscore(l){return l.split("_").join(" ")}fromNow(l){return d()(l).locale("id").fromNow()}timeDiff(l,c){const u=d()(l,"YYYY-MM-DD HH:mm").diff(d()(c,"YYYY-MM-DD HH:mm")),m=d().duration(u);return Math.floor(m.asHours())+d().utc(u).format(":mm")}isLate(l,c){const u=d()(l,"YYYY-MM-DD HH:mm").diff(d()(c,"YYYY-MM-DD HH:mm"));return!d().duration(u)}tieringResultPenilaian(l){let c="SANGAT BAIK";switch(!0){case+l<=50:c="BURUK";break;case+l<=60:c="SEDANG";break;case+l<=75:c="CUKUP";break;case+l<=90.99:c="BAIK"}return c}}return A.\u0275fac=function(l){return new(l||A)},A.\u0275prov=x.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()}}]);