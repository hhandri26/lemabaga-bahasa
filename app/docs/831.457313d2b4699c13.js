"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[831],{7204:(be,X,_)=>{_.d(X,{JD:()=>Oe,M2:()=>Me,MZ:()=>E,T7:()=>ve,TM:()=>Ce,X0:()=>Se,cw:()=>Fe,fS:()=>fe,hv:()=>Ee,n2:()=>Ae,o:()=>p,yQ:()=>T});var s=_(4537),i=_(92),v=_(97),A=_(4945),F=_(1860),V=_(7241),ee=_(8023),q=_(7969),te=_(2147),j=_(1927),re=_(3151),Y=_(4970),N=_(1528),oe=_(5598),Z=_(8168),Q=_(8692),ne=_(5998);const se=["container"];function J(n,r){}function L(n,r){1&n&&s._UZ(0,"formly-field",1),2&n&&s.Q6J("field",r.$implicit)}const B=["*"],K=["fieldComponent"];function le(n,r,e){if(r.id)return r.id;let t=r.type;return!t&&r.template&&(t="template"),t instanceof s.DyG&&(t=t.prototype.constructor.name),[n,t,r.key,e].join("_")}function C(n){return!x(n.key)&&""!==n.key&&(!Array.isArray(n.key)||n.key.length>0)}function G(n){if(!C(n))return[];if(n._keyPath?.key!==n.key){let r=[];if("string"==typeof n.key){const e=-1===n.key.indexOf("[")?n.key:n.key.replace(/\[(\w+)\]/g,".$1");r=-1!==e.indexOf(".")?e.split("."):[e]}else r=Array.isArray(n.key)?n.key.slice(0):[`${n.key}`];E(n,"_keyPath",{key:n.key,path:r})}return n._keyPath.path.slice(0)}const H=["required","pattern","minLength","maxLength","min","max"];function m(n,r){let e=G(n);if(0===e.length)return;let t=n;for(;t.parent;)t=t.parent,e=[...G(t),...e];if(void 0===r&&n.resetOnHide){const o=e.pop();delete e.reduce((u,d)=>u[d]||{},t.model)[o]}else!function O(n,r,e){for(let t=0;t<r.length-1;t++){const o=r[t];(!n[o]||!w(n[o]))&&(n[o]=/^\d+$/.test(r[t+1])?[]:{}),n=n[o]}n[r[r.length-1]]=P(e)}(t.model,e,r)}function f(n){let r=n.parent?n.parent.model:n.model;for(const e of G(n)){if(!r)return r;r=r[e]}return r}function y(n,...r){return r.forEach(e=>{for(const t in e)x(n[t])||U(n[t])?n[t]=P(e[t]):he(n[t],e[t])&&y(n[t],e[t])}),n}function x(n){return null==n}function I(n){return void 0===n}function U(n){return""===n}function ae(n){return"function"==typeof n}function he(n,r){return w(n)&&w(r)&&Object.getPrototypeOf(n)===Object.getPrototypeOf(r)&&!(Array.isArray(n)||Array.isArray(r))}function w(n){return null!=n&&"object"==typeof n}function P(n){if(!w(n)||(0,v.b)(n)||n instanceof s.Rgc||n.changingThisBreaksApplicationSecurity||-1!==["RegExp","FileList","File","Blob"].indexOf(n.constructor.name))return n;if(n instanceof Set)return new Set(n);if(n instanceof Map)return new Map(n);if(n instanceof Uint8Array)return new Uint8Array(n);if(n instanceof Uint16Array)return new Uint16Array(n);if(n instanceof Uint32Array)return new Uint32Array(n);if(n._isAMomentObject&&ae(n.clone))return n.clone();if(n instanceof i.TO)return null;if(n instanceof Date)return new Date(n.getTime());if(Array.isArray(n))return n.slice(0).map(t=>P(t));const r=Object.getPrototypeOf(n);let e=Object.create(r);return e=Object.setPrototypeOf(e,r),Object.keys(n).reduce((t,o)=>{const a=Object.getOwnPropertyDescriptor(n,o);return a.get?Object.defineProperty(t,o,a):t[o]=P(n[o]),t},e)}function E(n,r,e){Object.defineProperty(n,r,{enumerable:!1,writable:!0,configurable:!0}),n[r]=e}function pe(n,r,e){let t=[];const o=()=>{t.forEach(u=>u()),t=[]},a=T(n,r,({firstChange:u,currentValue:d})=>{!u&&e(),o(),w(d)&&"Object"===d.constructor.name&&Object.keys(d).forEach(b=>{t.push(pe(n,[...r,b],e))})});return()=>{a.unsubscribe(),o()}}function T(n,r,e){n._observers||E(n,"_observers",{});let t=n;for(let d=0;d<r.length-1;d++)(!t[r[d]]||!w(t[r[d]]))&&(t[r[d]]=/^\d+$/.test(r[d+1])?[]:{}),t=t[r[d]];const o=r[r.length-1],a=r.join(".");n._observers[a]||(n._observers[a]={value:t[o],onChange:[]});const u=n._observers[a];if(t[o]!==u.value&&(u.value=t[o]),e&&-1===u.onChange.indexOf(e)&&(u.onChange.push(e),e({currentValue:u.value,firstChange:!0}),u.onChange.length>=1&&w(t))){const{enumerable:d}=Object.getOwnPropertyDescriptor(t,o)||{enumerable:!0};Object.defineProperty(t,o,{enumerable:d,configurable:!0,get:()=>u.value,set:b=>{if(b!==u.value){const D=u.value;u.value=b,u.onChange.forEach(M=>M({previousValue:D,currentValue:b,firstChange:!1}))}}})}return{setValue(d,b=!0){if(d===u.value)return;const D=u.value;u.value=d,u.onChange.forEach(M=>{M!==e&&b&&M({previousValue:D,currentValue:d,firstChange:!1})})},unsubscribe(){u.onChange=u.onChange.filter(d=>d!==e),0===u.onChange.length&&delete n._observers[a]}}}function de(n,r){if(r=Array.isArray(r)?r.join("."):r,n.fieldGroup)for(let e=0,t=n.fieldGroup.length;e<t;e++){const o=n.fieldGroup[e],a=Array.isArray(o.key)?o.key.join("."):o.key;if(a===r)return o;if(o.fieldGroup&&(x(a)||0===r.indexOf(`${a}.`))){const u=de(o,x(a)?r:r.slice(a.length+1));if(u)return u}}}function ce(n){n._componentRefs?.forEach(r=>{r instanceof s.UuU?r.injector.get(s.sBO).markForCheck():r.markForCheck()})}function c(n){const r=t=>t.hide||t.expressions?.hide||t.hideExpression;let e=!n.resetOnHide||!r(n);if(!r(n)&&n.resetOnHide){let t=n.parent;for(;t&&!r(t);)t=t.parent;e=!t||!r(t)}return!e}function h(){return+s.q4F.major>=18&&+s.q4F.minor>=1}const l=new s.OlP("FORMLY_CONFIG");let p=(()=>{class n{constructor(){this.types={},this.validators={},this.wrappers={},this.messages={},this.extras={checkExpressionOn:"modelChange",lazyRender:!0,resetFieldOnHide:!0,renderFormlyFieldElement:!0,showError:e=>e.formControl?.invalid&&(e.formControl?.touched||e.options.parentForm?.submitted||!!e.field.validation?.show)},this.extensions={},this.presets={},this.extensionsByPriority={}}addConfig(e){e.types&&e.types.forEach(t=>this.setType(t)),e.validators&&e.validators.forEach(t=>this.setValidator(t)),e.wrappers&&e.wrappers.forEach(t=>this.setWrapper(t)),e.validationMessages&&e.validationMessages.forEach(t=>this.addValidatorMessage(t.name,t.message)),e.extensions&&this.setSortedExtensions(e.extensions),e.extras&&(this.extras={...this.extras,...e.extras}),e.presets&&(this.presets={...this.presets,...e.presets.reduce((t,o)=>({...t,[o.name]:o.config}),{})})}setType(e){Array.isArray(e)?e.forEach(t=>this.setType(t)):(this.types[e.name]||(this.types[e.name]={name:e.name}),["component","extends","defaultOptions","wrappers"].forEach(t=>{e.hasOwnProperty(t)&&(this.types[e.name][t]=e[t])}))}getType(e,t=!1){if(e instanceof s.DyG)return{component:e,name:e.prototype.constructor.name};if(!this.types[e]){if(t)throw new Error(`[Formly Error] The type "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return null}return this.mergeExtendedType(e),this.types[e]}getMergedField(e={}){const t=this.getType(e.type);if(!t)return;t.defaultOptions&&y(e,t.defaultOptions);const o=t.extends&&this.getType(t.extends).defaultOptions;o&&y(e,o),e?.optionsTypes&&e.optionsTypes.forEach(u=>{const d=this.getType(u).defaultOptions;d&&y(e,d)});const a=this.resolveFieldTypeRef(e);a?.instance?.defaultOptions&&y(e,a.instance.defaultOptions),!e.wrappers&&t.wrappers&&(e.wrappers=[...t.wrappers])}resolveFieldTypeRef(e={}){const t=this.getType(e.type);if(!t)return null;if(!t.component||t._componentRef)return t._componentRef;const{_viewContainerRef:o,_injector:a}=e.options;if(!o||!a)return null;const u=o.createComponent(t.component,{injector:a});E(t,"_componentRef",u);try{u.destroy()}catch(d){console.error(`An error occurred while destroying the Formly component type "${e.type}"`,d)}return t._componentRef}setWrapper(e){this.wrappers[e.name]=e,e.types&&e.types.forEach(t=>{this.setTypeWrapper(t,e.name)})}getWrapper(e){if(e instanceof s.DyG)return{component:e,name:e.prototype.constructor.name};if(!this.wrappers[e])throw new Error(`[Formly Error] The wrapper "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.wrappers[e]}setTypeWrapper(e,t){this.types[e]||(this.types[e]={}),this.types[e].wrappers||(this.types[e].wrappers=[]),-1===this.types[e].wrappers.indexOf(t)&&this.types[e].wrappers.push(t)}setValidator(e){this.validators[e.name]=e}getValidator(e){if(!this.validators[e])throw new Error(`[Formly Error] The validator "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.validators[e]}addValidatorMessage(e,t){this.messages[e]=t}getValidatorMessage(e){return this.messages[e]}setSortedExtensions(e){e.forEach(t=>{const o=t.priority??1;this.extensionsByPriority[o]={...this.extensionsByPriority[o],[t.name]:t.extension}}),this.extensions=Object.keys(this.extensionsByPriority).map(Number).sort((t,o)=>t-o).reduce((t,o)=>({...t,...this.extensionsByPriority[o]}),{})}mergeExtendedType(e){if(!this.types[e].extends)return;const t=this.getType(this.types[e].extends);this.types[e].component||(this.types[e].component=t.component),this.types[e].wrappers||(this.types[e].wrappers=t.wrappers)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g=(()=>{class n{constructor(e,t,o,a){this.config=e,this.injector=t,this.viewContainerRef=o,this.parentForm=a}buildForm(e,t=[],o,a){this.build({fieldGroup:t,model:o,form:e,options:a})}build(e){if(!this.config.extensions.core)throw new Error("NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.");e.parent||this._setOptions(e),function ie(n,r){const e=n._updateTreeValidity.bind(n);n._updateTreeValidity=()=>{},r(),n._updateTreeValidity=e}(e.form,()=>{if(this._build(e),!e.parent||e.fieldArray){const t=e.options;e.parent&&c(e)&&t._hiddenFieldsForCheck?.push(e),t.checkExpressions?.(e,!0),t._detectChanges?.(e)}})}_build(e){if(!e)return;const t=Object.values(this.config.extensions);t.forEach(o=>o.prePopulate?.(e)),t.forEach(o=>o.onPopulate?.(e)),e.fieldGroup?.forEach(o=>this._build(o)),t.forEach(o=>o.postPopulate?.(e))}_setOptions(e){e.form=e.form||new i.cw({}),e.model=e.model||{},e.options=e.options||{};const t=e.options;t._viewContainerRef||E(t,"_viewContainerRef",this.viewContainerRef),t._injector||E(t,"_injector",this.injector),t.build||(t._buildForm=()=>{console.warn("Formly: 'options._buildForm' is deprecated since v6.0, use 'options.build' instead."),this.build(e)},t.build=(o=e)=>(this.build(o),o)),!t.parentForm&&this.parentForm&&(E(t,"parentForm",this.parentForm),h()||T(t,["parentForm","submitted"],({firstChange:o})=>{o||t.detectChanges(e)}))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(p),s.LFG(s.zs3),s.LFG(s.s_b,8),s.LFG(i.sg,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k(n,r=!1){const e=n.formControl,t=e._fields?e._fields.indexOf(n):-1;-1!==t&&e._fields.splice(t,1);const o=e.parent;if(!o)return;const a={emitEvent:r};if(o instanceof i.Oe){const u=o.controls.findIndex(d=>d===e);-1!==u&&o.removeAt(u,a)}else if(o instanceof i.cw){const u=G(n),d=u[u.length-1];o.get([d])===e&&o.removeControl(d,a)}e.setParent(null)}function R(n){return n.formControl?n.formControl:!1===n.shareFormControl?null:n.form?.get(G(n))}function W(n,r,e=!1){if((r=r||n.formControl)._fields||E(r,"_fields",[]),-1===r._fields.indexOf(n)&&r._fields.push(n),!n.formControl&&r){E(n,"formControl",r),r.setValidators(null),r.setAsyncValidators(null),n.props.disabled=!!n.props.disabled;const d=T(n,["props","disabled"],({firstChange:b,currentValue:D})=>{b||(D?n.formControl.disable():n.formControl.enable())});r instanceof i.NI&&r.registerOnDisabledChange(d.setValue)}if(!n.form||!C(n))return;let t=n.form;const o=G(n),a=f(n);(!x(r.value)||!x(a))&&r.value!==a&&r instanceof i.NI&&r.patchValue(a);for(let d=0;d<o.length-1;d++){const b=o[d];t.get([b])||t.setControl(b,new i.cw({}),{emitEvent:e}),t=t.get([b])}const u=o[o.length-1];!n._hide&&t.get([u])!==r&&t.setControl(u,r,{emitEvent:e})}function S(n,r=!1){const e=n.status,t=n.value;n.updateValueAndValidity({emitEvent:!1,onlySelf:r}),e!==n.status&&n.statusChanges.emit(n.status),t!==n.value&&n.valueChanges.emit(n.value)}function ue(n){delete n?._fields,n.setValidators(null),n.setAsyncValidators(null),(n instanceof i.cw||n instanceof i.Oe)&&Object.values(n.controls).forEach(r=>ue(r))}let ye=(()=>{class n{constructor(e){this.ref=e}ngOnChanges(){this.name=this.name||"formly-group"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","formlyTemplate",""]],inputs:{name:["formlyTemplate","name"]},features:[s.TTD]}),n})(),_e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(e,t,o,a,u){this.config=e,this.renderer=t,this._elementRef=o,this.hostContainerRef=a,this.form=u,this.hostObservers=[],this.componentRefs=[],this.hooksObservers=[],this.detectFieldBuild=!1,this.valueChangesUnsubscribe=()=>{}}get containerRef(){return this.config.extras.renderFormlyFieldElement?this.viewContainerRef:this.hostContainerRef}get elementRef(){return this.config.extras.renderFormlyFieldElement?this._elementRef:this.componentRefs?.[0]instanceof s.UuU?this.componentRefs[0].location:null}ngAfterContentInit(){this.triggerHook("afterContentInit")}ngAfterViewInit(){this.triggerHook("afterViewInit")}ngDoCheck(){this.detectFieldBuild&&this.field&&this.field.options&&this.render()}ngOnInit(){this.triggerHook("onInit")}ngOnChanges(e){this.triggerHook("onChanges",e)}ngOnDestroy(){this.resetRefs(this.field),this.hostObservers.forEach(e=>e.unsubscribe()),this.hooksObservers.forEach(e=>e()),this.valueChangesUnsubscribe(),this.triggerHook("onDestroy")}renderField(e,t,o=[]){if(this.containerRef===e&&(this.resetRefs(this.field),this.containerRef.clear(),o=this.field?.wrappers),o?.length>0){const[a,...u]=o,{component:d}=this.config.getWrapper(a),b=e.createComponent(d);this.attachComponentRef(b,t),T(b.instance,["fieldComponent"],({currentValue:D,previousValue:M,firstChange:z})=>{if(D){if(M&&M._lContainer===D._lContainer)return;const $=M?M.detach():null;$&&!$.destroyed?D.insert($):this.renderField(D,t,u),!z&&b.changeDetectorRef.detectChanges()}})}else if(t?.type){const a=this.form?.templates?.find(d=>d.name===t.type);let u;if(a)u=e.createEmbeddedView(a.ref,{$implicit:t});else{const{component:d}=this.config.getType(t.type,!0);u=e.createComponent(d)}this.attachComponentRef(u,t)}}triggerHook(e,t){if(("onInit"===e||"onChanges"===e&&t.field&&!t.field.firstChange)&&(this.valueChangesUnsubscribe(),this.valueChangesUnsubscribe=this.fieldChanges(this.field)),this.field?.hooks?.[e]&&(!t||t.field)){const o=this.field.hooks[e](this.field);if((0,v.b)(o)&&-1!==["onInit","afterContentInit","afterViewInit"].indexOf(e)){const a=o.subscribe();this.hooksObservers.push(()=>a.unsubscribe())}}"onChanges"===e&&t.field&&(this.resetRefs(t.field.previousValue),this.render())}attachComponentRef(e,t){this.componentRefs.push(e),t._componentRefs.push(e),e instanceof s.UuU&&Object.assign(e.instance,{field:t})}render(){if(this.field){if(!this.field.options)return void(this.detectFieldBuild=!0);if(this.detectFieldBuild=!1,this.hostObservers.forEach(e=>e.unsubscribe()),this.hostObservers=[T(this.field,["hide"],({firstChange:e,currentValue:t})=>{const o=this.containerRef;!1===this.config.extras.lazyRender?(e&&this.renderField(o,this.field),(!e||e&&t)&&this.elementRef&&this.renderer.setStyle(this.elementRef.nativeElement,"display",t?"none":"")):t?(o.clear(),this.field.className&&this.renderer.removeAttribute(this.elementRef.nativeElement,"class")):(this.renderField(o,this.field),this.field.className&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",this.field.className)),!e&&this.field.options.detectChanges(this.field)}),T(this.field,["className"],({firstChange:e,currentValue:t})=>{(!e||e&&t)&&(!this.config.extras.lazyRender||!0!==this.field.hide)&&this.elementRef&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",t)})],h()){if(this.field.formControl){const e=this.field.formControl.events.subscribe(()=>ce(this.field));this.hostObservers.push(e)}}else["touched","pristine","status"].forEach(e=>this.hostObservers.push(T(this.field,["formControl",e],({firstChange:t})=>!t&&ce(this.field))))}}resetRefs(e){e&&(e._localFields?e._localFields=[]:E(this.field,"_localFields",[]),e._componentRefs?e._componentRefs=e._componentRefs.filter(t=>-1===this.componentRefs.indexOf(t)):E(this.field,"_componentRefs",[])),this.componentRefs=[]}fieldChanges(e){if(!e)return()=>{};const t=[pe(e,["props"],()=>e.options.detectChanges(e))];e.options&&t.push(pe(e.options,["formState"],()=>e.options.detectChanges(e)));for(const a of Object.keys(e._expressions||{})){const u=T(e,["_expressions",a],({currentValue:d,previousValue:b})=>{b?.subscription&&(b.subscription.unsubscribe(),b.subscription=null),(0,v.b)(d.value$)&&(d.subscription=d.value$.subscribe())});t.push(()=>{e._expressions[a]?.subscription&&e._expressions[a].subscription.unsubscribe(),u.unsubscribe()})}for(const a of[["focus"],["template"],["fieldGroupClassName"],["validation","show"]]){const u=T(e,a,({firstChange:d})=>!d&&e.options.detectChanges(e));t.push(()=>u.unsubscribe())}if(e.formControl&&!e.fieldGroup){const a=e.formControl;let u=a.valueChanges.pipe((0,q.U)(M=>(e.parsers?.map(z=>M=z(M,e)),Object.is(M,e.formControl.value)||e.formControl.setValue(M),M)),(0,te.x)((M,z)=>!(M!==z||Array.isArray(M)||w(M))));a.value!==f(e)&&(u=u.pipe((0,j.O)(a.value)));const{updateOn:d,debounce:b}=e.modelOptions;(!d||"change"===d)&&b?.default>0&&(u=a.valueChanges.pipe((0,re.b)(b.default)));const D=u.subscribe(M=>{a._fields?.length>1&&a instanceof i.NI&&a.patchValue(M,{emitEvent:!1,onlySelf:!0}),C(e)&&m(e,M),e.options.fieldChanges.next({value:M,field:e,type:"valueChanges"})});t.push(()=>D.unsubscribe())}let o=[];return T(e,["_localFields"],({currentValue:a})=>{o.forEach(u=>u()),o=(a||[]).map(u=>this.fieldChanges(u))}),()=>{t.forEach(a=>a()),o.forEach(a=>a())}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(p),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(_e,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["formly-field"]],viewQuery:function(e,t){if(1&e&&s.Gf(se,7,s.s_b),2&e){let o;s.iGM(o=s.CRH())&&(t.viewContainerRef=o.first)}},inputs:{field:"field"},features:[s.TTD],decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&s.YNc(0,J,0,0,"ng-template",null,0,s.W1O)},styles:["[_nghost-%COMP%]:empty{display:none}"]}),n})(),ve=(()=>{class n{constructor(e,t,o,a){this.builder=e,this.config=t,this.ngZone=o,this.fieldTemplates=a,this.modelChange=new s.vpe,this.field={type:"formly-group"},this._modelChangeValue={},this.valueChangesUnsubscribe=()=>{}}set form(e){this.field.form=e}get form(){return this.field.form}set model(e){this.config.extras.immutable&&this._modelChangeValue===e||this.setField({model:e})}get model(){return this.field.model}set fields(e){this.setField({fieldGroup:e})}get fields(){return this.field.fieldGroup}set options(e){this.setField({options:e})}get options(){return this.field.options}set templates(e){this.fieldTemplates.templates=e}ngDoCheck(){"changeDetectionCheck"===this.config.extras.checkExpressionOn&&this.checkExpressionChange()}ngOnChanges(e){e.fields&&this.form&&ue(this.form),(e.fields||e.form||e.model&&this._modelChangeValue!==e.model.currentValue)&&(this.valueChangesUnsubscribe(),this.builder.build(this.field),this.valueChangesUnsubscribe=this.valueChanges())}ngOnDestroy(){this.valueChangesUnsubscribe()}checkExpressionChange(){this.field.options.checkExpressions?.(this.field)}valueChanges(){this.valueChangesUnsubscribe();let e=null;if(h()){let o=this.options?.parentForm?.submitted;e=this.form.events.subscribe(()=>{o!==this.options?.parentForm?.submitted&&(this.options.detectChanges(this.field),o=this.options?.parentForm?.submitted)})}const t=this.field.options.fieldChanges.pipe((0,Y.h)(({field:o,type:a})=>C(o)&&"valueChanges"===a),(0,N.w)(()=>function ge(n){return n instanceof s.o17}(this.ngZone)?(0,A.of)(null):this.ngZone.onStable.asObservable().pipe((0,oe.q)(1)))).subscribe(()=>this.ngZone.runGuarded(()=>{this.checkExpressionChange(),this.modelChange.emit(this._modelChangeValue=P(this.model))}));return()=>{e?.unsubscribe(),t.unsubscribe()}}setField(e){this.config.extras.immutable?this.field={...this.field,...P(e)}:Object.keys(e).forEach(t=>this.field[t]=e[t])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(g),s.Y36(p),s.Y36(s.R0b),s.Y36(_e))},n.\u0275cmp=s.Xpm({type:n,selectors:[["formly-form"]],contentQueries:function(e,t,o){if(1&e&&s.Suo(o,ye,4),2&e){let a;s.iGM(a=s.CRH())&&(t.templates=a)}},inputs:{form:"form",model:"model",fields:"fields",options:"options"},outputs:{modelChange:"modelChange"},features:[s._Bn([g,_e]),s.TTD],decls:1,vars:1,consts:[[3,"field"]],template:function(e,t){1&e&&s._UZ(0,"formly-field",0),2&e&&s.Q6J("field",t.field)},dependencies:[Fe],encapsulation:2,changeDetection:0}),n})(),Oe=(()=>{class n{constructor(e,t,o){this.renderer=e,this.elementRef=t,this.uiAttributesCache={},this.uiEvents={listeners:[],events:["click","keyup","keydown","keypress","focus","blur","change"],callback:(a,u)=>{switch(a){case"focus":return this.onFocus(u);case"blur":return this.onBlur(u);case"change":return this.onChange(u);default:return this.props[a](this.field,u)}}},this.document=o}get props(){return this.field.props||{}}get fieldAttrElements(){return this.field?._elementRefs||[]}ngOnChanges(e){e.field&&(this.field.name&&this.setAttribute("name",this.field.name),this.uiEvents.listeners.forEach(t=>t()),this.uiEvents.events.forEach(t=>{(this.props?.[t]||-1!==["focus","blur","change"].indexOf(t))&&this.uiEvents.listeners.push(this.renderer.listen(this.elementRef.nativeElement,t,o=>this.uiEvents.callback(t,o)))}),this.props?.attributes&&T(this.field,["props","attributes"],({currentValue:t,previousValue:o})=>{o&&Object.keys(o).forEach(a=>this.removeAttribute(a)),t&&Object.keys(t).forEach(a=>{null!=t[a]&&this.setAttribute(a,t[a])})}),this.detachElementRef(e.field.previousValue),this.attachElementRef(e.field.currentValue),1===this.fieldAttrElements.length&&(!this.id&&this.field.id&&this.setAttribute("id",this.field.id),this.focusObserver=T(this.field,["focus"],({currentValue:t})=>{this.toggleFocus(t)}))),e.id&&this.setAttribute("id",this.id)}ngDoCheck(){if(!this.uiAttributes){const e=this.elementRef.nativeElement;this.uiAttributes=[...H,"tabindex","placeholder","readonly","disabled","step"].filter(t=>!e.hasAttribute||!e.hasAttribute(t))}for(let e=0;e<this.uiAttributes.length;e++){const t=this.uiAttributes[e],o=this.props[t];this.uiAttributesCache[t]!==o&&(!this.props.attributes||!this.props.attributes.hasOwnProperty(t.toLowerCase()))&&(this.uiAttributesCache[t]=o,o||0===o?this.setAttribute(t,!0===o?t:`${o}`):this.removeAttribute(t))}}ngOnDestroy(){this.uiEvents.listeners.forEach(e=>e()),this.detachElementRef(this.field),this.focusObserver?.unsubscribe()}toggleFocus(e){const t=this.fieldAttrElements?this.fieldAttrElements[0]:null;if(!t||!t.nativeElement.focus)return;const o=!!this.document.activeElement&&this.fieldAttrElements.some(({nativeElement:a})=>this.document.activeElement===a||a.contains(this.document.activeElement));e&&!o?Promise.resolve().then(()=>t.nativeElement.focus()):!e&&o&&Promise.resolve().then(()=>t.nativeElement.blur())}onFocus(e){this.focusObserver?.setValue(!0),this.props.focus?.(this.field,e)}onBlur(e){this.focusObserver?.setValue(!1),this.props.blur?.(this.field,e)}onHostChange(e){e instanceof Event||this.onChange(e)}onChange(e){this.props.change?.(this.field,e),this.field.formControl?.markAsDirty()}attachElementRef(e){!e||(-1===e._elementRefs?.indexOf(this.elementRef)?e._elementRefs.push(this.elementRef):E(e,"_elementRefs",[this.elementRef]))}detachElementRef(e){const t=e?._elementRefs?this.fieldAttrElements.indexOf(this.elementRef):-1;-1!==t&&e._elementRefs.splice(t,1)}setAttribute(e,t){this.renderer.setAttribute(this.elementRef.nativeElement,e,t)}removeAttribute(e){this.renderer.removeAttribute(this.elementRef.nativeElement,e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Q.K0))},n.\u0275dir=s.lG2({type:n,selectors:[["","formlyAttributes",""]],hostBindings:function(e,t){1&e&&s.NdJ("change",function(a){return t.onHostChange(a)})},inputs:{field:["formlyAttributes","field"],id:"id"},features:[s.TTD]}),n})(),fe=(()=>{class n{constructor(){this.field={}}set _formlyControls(e){this.field._localFields=e.map(o=>o.control._fields||[]).flat().filter(o=>o.formControl!==this.field.formControl)}get model(){return this.field.model}get form(){return this.field.form}get options(){return this.field.options}get key(){return this.field.key}get formControl(){return this.field.formControl}get props(){return this.field.props||{}}get to(){return this.props}get showError(){return this.options.showError(this)}get id(){return this.field.id}get formState(){return this.options?.formState||{}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,t){if(1&e&&s.Gf(i.a5,5),2&e){let o;s.iGM(o=s.CRH())&&(t._formlyControls=o)}},inputs:{field:"field"}}),n})(),Ce=(()=>{class n extends fe{}return n.\u0275fac=function(){let r;return function(t){return(r||(r=s.n5z(n)))(t||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["formly-group"]],hostVars:2,hostBindings:function(e,t){2&e&&s.Tol(t.field.fieldGroupClassName||"")},features:[s.qOj],ngContentSelectors:B,decls:2,vars:1,consts:[[3,"field",4,"ngFor","ngForOf"],[3,"field"]],template:function(e,t){1&e&&(s.F$t(),s.YNc(0,L,1,1,"formly-field",0),s.Hsn(1)),2&e&&s.Q6J("ngForOf",t.field.fieldGroup)},dependencies:[Fe,Q.sg],encapsulation:2,changeDetection:0}),n})(),Me=(()=>{class n{constructor(e){this.config=e}ngOnChanges(){const e=H.map(t=>`templateOptions.${t}`);this.errorMessage$=(0,F.T)(this.field.formControl.statusChanges,this.field.options?this.field.options.fieldChanges.pipe((0,Y.h)(({field:t,type:o,property:a})=>t===this.field&&"expressionChanges"===o&&(-1!==a.indexOf("validation")||-1!==e.indexOf(a)))):(0,A.of)(null)).pipe((0,j.O)(null),(0,N.w)(()=>(0,v.b)(this.errorMessage)?this.errorMessage:(0,A.of)(this.errorMessage)))}get errorMessage(){const e=this.field.formControl;for(const t in e.errors)if(e.errors.hasOwnProperty(t)){let o=this.config.getValidatorMessage(t);if(w(e.errors[t])){if(e.errors[t].errorPath)return;e.errors[t].message&&(o=e.errors[t].message)}return this.field.validation?.messages?.[t]&&(o=this.field.validation.messages[t]),this.field.validators?.[t]?.message&&(o=this.field.validators[t].message),this.field.asyncValidators?.[t]?.message&&(o=this.field.asyncValidators[t].message),"function"==typeof o?o(e.errors[t],this.field):o}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(p))},n.\u0275cmp=s.Xpm({type:n,selectors:[["formly-validation-message"]],inputs:{field:"field"},features:[s.TTD],decls:2,vars:3,template:function(e,t){1&e&&(s._uU(0),s.ALo(1,"async")),2&e&&s.Oqu(s.lcZ(1,1,t.errorMessage$))},dependencies:[Q.Ov],encapsulation:2,changeDetection:0}),n})(),Ee=(()=>{class n extends fe{onPopulate(e){C(e)&&W(e,R(e)||new i.Oe([],{updateOn:e.modelOptions.updateOn})),e.fieldGroup=e.fieldGroup||[];const t=Array.isArray(e.model)?e.model.length:0;if(e.fieldGroup.length>t)for(let o=e.fieldGroup.length-1;o>=t;--o)k(e.fieldGroup[o],!0),e.fieldGroup.splice(o,1);for(let o=e.fieldGroup.length;o<t;o++){const a={...P("function"==typeof e.fieldArray?e.fieldArray(e):e.fieldArray)};null!==a.key&&(a.key=`${o}`),e.fieldGroup.push(a)}}add(e,t,{markAsDirty:o}={markAsDirty:!0}){e=e??this.field.fieldGroup.length,this.model||m(this.field,[]),this.model.splice(e,0,t?P(t):void 0),this.markFieldForCheck(this.field.fieldGroup[e]),this._build(),o&&this.formControl.markAsDirty()}remove(e,{markAsDirty:t}={markAsDirty:!0}){this.model.splice(e,1);const o=this.field.fieldGroup[e];this.field.fieldGroup.splice(e,1),this.field.fieldGroup.forEach((a,u)=>this.updateArrayElementKey(a,`${u}`)),k(o,!0),this._build(),t&&this.formControl.markAsDirty()}_build(){(this.field.formControl._fields??[this.field]).forEach(t=>this.options.build(t)),this.options.fieldChanges.next({field:this.field,value:f(this.field),type:"valueChanges"})}updateArrayElementKey(e,t){if(C(e))e.key=t;else if(e.fieldGroup?.length)for(let o=0;o<e.fieldGroup.length;o++)this.updateArrayElementKey(e.fieldGroup[o],t)}markFieldForCheck(e){!e||(e.fieldGroup?.forEach(t=>this.markFieldForCheck(t)),!1===e.hide&&this.options._hiddenFieldsForCheck.push(e))}}return n.\u0275fac=function(){let r;return function(t){return(r||(r=s.n5z(n)))(t||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})(),Ae=(()=>{class n extends fe{set _formlyControls(e){}set _staticContent(e){this.fieldComponent=e}}return n.\u0275fac=function(){let r;return function(t){return(r||(r=s.n5z(n)))(t||n)}}(),n.\u0275dir=s.lG2({type:n,viewQuery:function(e,t){if(1&e&&(s.Gf(K,5,s.s_b),s.Gf(K,7,s.s_b)),2&e){let o;s.iGM(o=s.CRH())&&(t.fieldComponent=o.first),s.iGM(o=s.CRH())&&(t._staticContent=o.first)}},features:[s.qOj]}),n})(),Te=(()=>{class n extends fe{constructor(e){super(),this.sanitizer=e,this.innerHtml={}}get template(){return this.field&&this.field.template!==this.innerHtml.template&&(this.innerHtml={template:this.field.template,content:this.props.safeHtml?this.sanitizer.bypassSecurityTrustHtml(this.field.template):this.field.template}),this.innerHtml.content}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(ne.H7))},n.\u0275cmp=s.Xpm({type:n,selectors:[["formly-template"]],features:[s.qOj],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,t){1&e&&s._UZ(0,"div",0),2&e&&s.Q6J("innerHtml",t.template,s.oJD)},encapsulation:2,changeDetection:0}),n})();class Pe{onPopulate(r){if(r._expressions)return;E(r,"_expressions",{}),T(r,["hide"],({currentValue:t,firstChange:o})=>{E(r,"_hide",!!t),(!o||o&&!0===t)&&(r.props.hidden=t,r.options._hiddenFieldsForCheck.push(r))}),r.hideExpression&&T(r,["hideExpression"],({currentValue:t})=>{r._expressions.hide=this.parseExpressions(r,"hide","boolean"==typeof t?()=>t:t)});const e=(t,o)=>{"string"==typeof o||ae(o)?r._expressions[t]=this.parseExpressions(r,t,o):o instanceof V.y&&(r._expressions[t]={value$:o.pipe((0,Z.b)(a=>{this.evalExpr(r,t,a),r.options._detectChanges(r)}))})};r.expressions=r.expressions||{};for(const t of Object.keys(r.expressions))T(r,["expressions",t],({currentValue:o})=>{e(t,ae(o)?(...a)=>o(r,a[3]):o)});r.expressionProperties=r.expressionProperties||{};for(const t of Object.keys(r.expressionProperties))T(r,["expressionProperties",t],({currentValue:o})=>e(t,o))}postPopulate(r){if(!r.parent&&!r.options.checkExpressions){let e=!1;r.options.checkExpressions=(t,o)=>{if(e)return;e=!0;const a=this.checkExpressions(t,o),u=r.options;u._hiddenFieldsForCheck.sort(d=>d.hide?-1:1).forEach(d=>this.changeHideState(d,d.hide,!o)),u._hiddenFieldsForCheck=[],a&&this.checkExpressions(r),e=!1},r.options._checkField=(t,o)=>{console.warn("Formly: 'options._checkField' is deprecated since v6.0, use 'options.checkExpressions' instead."),r.options.checkExpressions(t,o)}}}parseExpressions(r,e,t){let o,a;if(r.parent&&["hide","props.disabled"].includes(e)){const u=d=>"hide"===e?d.hide:d.props.disabled;o=()=>{let d=r.parent;for(;d.parent&&!u(d);)d=d.parent;return u(d)}}return"string"==typeof(t=t||(()=>!1))&&(t=function ke(n,r){try{return Function(...r,`return ${n};`)}catch(e){console.error(e)}}(t,["model","formState","field"])),{callback:u=>{try{const d=function De(n,r,e){return"function"==typeof n?n.apply(r,e):!!n}(o?(...b)=>o(r)||t(...b):t,{field:r},[r.model,r.options.formState,r,u]);return!(!u&&(a===d||w(d)&&!(0,v.b)(d)&&JSON.stringify(d)===JSON.stringify(a))||(a=d,this.evalExpr(r,e,d),0))}catch(d){throw d.message=`[Formly Error] [Expression "${e}"] ${d.message}`,d}}}}checkExpressions(r,e=!1){if(!r)return!1;let t=!1;if(r._expressions)for(const o of Object.keys(r._expressions))r._expressions[o].callback?.(e)&&(t=!0);return r.fieldGroup?.forEach(o=>this.checkExpressions(o,e)&&(t=!0)),t}changeDisabledState(r,e){r.fieldGroup&&r.fieldGroup.filter(t=>!t._expressions.hasOwnProperty("props.disabled")).forEach(t=>this.changeDisabledState(t,e)),C(r)&&r.props.disabled!==e&&(r.props.disabled=e)}changeHideState(r,e,t){if(r.fieldGroup&&r.fieldGroup.filter(o=>o&&!o._expressions.hide).forEach(o=>this.changeHideState(o,e,t)),r.formControl&&C(r)){E(r,"_hide",!(!e&&!r.hide));const o=r.formControl;o._fields?.length>1&&S(o),!0!==e||o._fields&&!o._fields.every(a=>!!a._hide)?!1===e&&(r.resetOnHide&&!I(r.defaultValue)&&I(f(r))&&m(r,r.defaultValue),W(r,void 0,!0),r.resetOnHide&&r.fieldArray&&r.fieldGroup?.length!==r.model?.length&&r.options.build(r)):(k(r,!0),t&&r.resetOnHide&&(m(r,void 0),r.formControl.reset({value:void 0,disabled:r.formControl.disabled}),r.options.fieldChanges.next({value:void 0,field:r,type:"valueChanges"}),r.fieldGroup&&r.formControl instanceof i.Oe&&(r.fieldGroup.length=0)))}r.options.fieldChanges&&r.options.fieldChanges.next({field:r,type:"hidden",value:e})}evalExpr(r,e,t){if(0===e.indexOf("model.")){const o=e.replace(/^model\./,""),a=r.fieldGroup?r:r.parent;let u=r?.key===o?r.formControl:r.form.get(o);!u&&r.get(o)&&(u=r.get(o).formControl),m({key:o,parent:a,model:r.model},t),u&&(!x(u.value)||!x(t))&&u.value!==t&&u.patchValue(t)}else{try{let o=r;const a=this._evalExpressionPath(r,e),u=a.length-1;for(let d=0;d<u;d++)o=o[a[d]];o[a[u]]=t}catch(o){throw o.message=`[Formly Error] [Expression "${e}"] ${o.message}`,o}["templateOptions.disabled","props.disabled"].includes(e)&&C(r)&&this.changeDisabledState(r,t)}this.emitExpressionChanges(r,e,t)}emitExpressionChanges(r,e,t){!r.options.fieldChanges||r.options.fieldChanges.next({field:r,type:"expressionChanges",property:e,value:t})}_evalExpressionPath(r,e){if(r._expressions[e]&&r._expressions[e].paths)return r._expressions[e].paths;let t=[];return-1===e.indexOf("[")?t=e.split("."):e.split(/[[\]]{1,2}/).filter(o=>o).forEach(o=>{const a=o.match(/['|"](.*?)['|"]/);a?t.push(a[1]):t.push(...o.split(".").filter(u=>u))}),r._expressions[e]&&(r._expressions[e].paths=t),t}}class Re{constructor(r){this.config=r}onPopulate(r){this.initFieldValidation(r,"validators"),this.initFieldValidation(r,"asyncValidators")}initFieldValidation(r,e){const t=[];if("validators"===e&&!(r.hasOwnProperty("fieldGroup")&&!C(r))&&t.push(this.getPredefinedFieldValidation(r)),r[e])for(const o of Object.keys(r[e]))"validation"===o?t.push(...r[e].validation.map(a=>this.wrapNgValidatorFn(r,a))):t.push(this.wrapNgValidatorFn(r,r[e][o],o));E(r,"_"+e,t)}getPredefinedFieldValidation(r){let e=[];return H.forEach(t=>T(r,["props",t],({currentValue:o,firstChange:a})=>{e=e.filter(u=>u!==t),"required"===t&&null!=o&&"boolean"!=typeof o&&console.warn(`Formly: Invalid prop 'required' of type '${typeof o}', expected 'boolean' (Field:${r.key}).`),null!=o&&!1!==o&&e.push(t),!a&&r.formControl&&S(r.formControl)})),t=>0===e.length?null:i.kI.compose(e.map(o=>()=>{const a=r.props[o];switch(o){case"required":return i.kI.required(t);case"pattern":return i.kI.pattern(a)(t);case"minLength":const u=i.kI.minLength(a)(t),d=this.config.getValidatorMessage("minlength")||r.validation?.messages?.minlength?"minlength":"minLength";return u?{[d]:u.minlength}:null;case"maxLength":const b=i.kI.maxLength(a)(t),D=this.config.getValidatorMessage("maxlength")||r.validation?.messages?.maxlength?"maxlength":"maxLength";return b?{[D]:b.maxlength}:null;case"min":return i.kI.min(a)(t);case"max":return i.kI.max(a)(t);default:return null}}))(t)}wrapNgValidatorFn(r,e,t){let o;if("string"==typeof e&&(o=P(this.config.getValidator(e))),"object"==typeof e&&e.name&&(o=P(this.config.getValidator(e.name)),e.options&&(o.options=e.options)),"object"==typeof e&&e.expression){const{expression:a,...u}=e;o={name:t,validation:a,options:Object.keys(u).length>0?u:null}}return"function"==typeof e&&(o={name:t,validation:e}),a=>{const u=o.validation(a,r,o.options);return function me(n){return!!n&&"function"==typeof n.then}(u)?u.then(d=>this.handleResult(r,t?!!d:d,o)):(0,v.b)(u)?u.pipe((0,q.U)(d=>this.handleResult(r,t?!!d:d,o))):this.handleResult(r,t?!!u:u,o)}}handleResult(r,e,{name:t,options:o}){"boolean"==typeof e&&(e=e?null:{[t]:o||!0});const a=r.formControl;return a?._childrenErrors?.[t]?.(),w(e)&&Object.keys(e).forEach(u=>{const d=e[u].errorPath?e[u].errorPath:o?.errorPath,b=d?r.formControl.get(d):null;if(b){const{errorPath:D,...M}=e[u];b.setErrors({...b.errors||{},[u]:M}),!a._childrenErrors&&E(a,"_childrenErrors",{}),a._childrenErrors[u]=()=>{const{[u]:z,...$}=b.errors||{};b.setErrors(0===Object.keys($).length?null:$)}}}),e}}class we{prePopulate(r){this.root||(this.root=r),r.parent&&Object.defineProperty(r,"form",{get:()=>r.parent.formControl,configurable:!0})}onPopulate(r){r.hasOwnProperty("fieldGroup")&&!C(r)?E(r,"formControl",r.form):this.addFormControl(r)}postPopulate(r){if(this.root===r&&(this.root=null,this.setValidators(r)&&r.parent)){let t=r.parent;for(;t;)(C(t)||!t.parent)&&S(t.formControl,!0),t=t.parent}}addFormControl(r){let e=R(r);if(!r.fieldArray){if(e){if(e instanceof i.NI){const t=C(r)?f(r):r.defaultValue;e.defaultValue=t}}else{const t={updateOn:r.modelOptions.updateOn};if(r.fieldGroup)e=new i.cw({},t);else{const o=C(r)?f(r):r.defaultValue;e=new i.NI({value:o,disabled:!!r.props.disabled},{...t,initialValueIsDefault:!0})}}W(r,e)}}setValidators(r,e=!1){!1===e&&C(r)&&r.props?.disabled&&(e=!0);let t=!1;if(r.fieldGroup?.forEach(o=>o&&this.setValidators(o,e)&&(t=!0)),C(r)||!r.parent||!C(r)&&!r.fieldGroup){const{formControl:o}=r;if(o&&(C(r)&&o instanceof i.NI&&(e&&o.enabled&&(o.disable({emitEvent:!1,onlySelf:!0}),t=!0),!e&&o.disabled&&(o.enable({emitEvent:!1,onlySelf:!0}),t=!0)),null===o.validator&&this.hasValidators(r,"_validators")&&(o.setValidators(()=>{const a=i.kI.compose(this.mergeValidators(r,"_validators"));return a?a(o):null}),t=!0),null===o.asyncValidator&&this.hasValidators(r,"_asyncValidators")&&(o.setAsyncValidators(()=>{const a=i.kI.composeAsync(this.mergeValidators(r,"_asyncValidators"));return a?a(o):(0,A.of)(null)}),t=!0),t)){S(o,!0);let a=o.parent;for(let u=1;u<G(r).length;u++)a&&(S(a,!0),a=a.parent)}}return t}hasValidators(r,e){const t=r.formControl;return!!(t?._fields?.length>1&&t._fields.some(o=>o[e].length>0)||r[e].length>0)||r.fieldGroup?.some(o=>o?.fieldGroup&&!C(o)&&this.hasValidators(o,e))}mergeValidators(r,e){const t=[],o=r.formControl;return o?._fields?.length>1?o._fields.filter(a=>!a._hide).forEach(a=>t.push(...a[e])):r[e]&&t.push(...r[e]),r.fieldGroup&&r.fieldGroup.filter(a=>a?.fieldGroup&&!C(a)).forEach(a=>t.push(...this.mergeValidators(a,e))),t}}class Ie{constructor(r){this.config=r,this.formId=0}prePopulate(r){const e=r.parent;this.initRootOptions(r),this.initFieldProps(r),e&&(Object.defineProperty(r,"options",{get:()=>e.options,configurable:!0}),Object.defineProperty(r,"model",{get:()=>C(r)&&r.fieldGroup?f(r):e.model,configurable:!0})),Object.defineProperty(r,"get",{value:t=>de(r,t),configurable:!0}),this.getFieldComponentInstance(r).prePopulate?.(r)}onPopulate(r){this.initFieldOptions(r),this.getFieldComponentInstance(r).onPopulate?.(r),r.fieldGroup&&r.fieldGroup.forEach((e,t)=>{e&&(Object.defineProperty(e,"parent",{get:()=>r,configurable:!0}),Object.defineProperty(e,"index",{get:()=>t,configurable:!0})),this.formId++})}postPopulate(r){this.getFieldComponentInstance(r).postPopulate?.(r)}initFieldProps(r){r.props??(r.props=r.templateOptions),Object.defineProperty(r,"templateOptions",{get:()=>r.props,set:e=>r.props=e,configurable:!0})}initRootOptions(r){if(r.parent)return;const e=r.options;r.options.formState=r.options.formState||{},e.showError||(e.showError=this.config.extras.showError),e.fieldChanges||E(e,"fieldChanges",new ee.x),e._hiddenFieldsForCheck||(e._hiddenFieldsForCheck=[]),e._markForCheck=t=>{console.warn("Formly: 'options._markForCheck' is deprecated since v6.0, use 'options.detectChanges' instead."),e.detectChanges(t)},e._detectChanges=t=>{t._componentRefs&&ce(t),t.fieldGroup?.forEach(o=>o&&e._detectChanges(o))},e.detectChanges=t=>{t.options.checkExpressions?.(t),e._detectChanges(t)},e.resetModel=t=>{t=P(t??e._initialModel),r.model&&(Object.keys(r.model).forEach(o=>delete r.model[o]),Object.assign(r.model,t||{})),h()||T(e,["parentForm","submitted"]).setValue(!1,!1),e.build(r),r.form.reset(r.model)},e.updateInitialValue=t=>e._initialModel=P(t??r.model),r.options.updateInitialValue()}initFieldOptions(r){y(r,{id:le(`formly_${this.formId}`,r,r.index),hooks:{},modelOptions:{},validation:{messages:{}},props:r.type&&C(r)?{label:"",placeholder:"",disabled:!1}:{}}),this.config.extras.resetFieldOnHide&&!1!==r.resetOnHide&&(r.resetOnHide=!0),"formly-template"!==r.type&&(r.template||r.expressions?.template||r.expressionProperties?.template)&&(r.type="formly-template"),!r.type&&r.fieldGroup&&(r.type="formly-group"),r.type&&this.config.getMergedField(r),C(r)&&!I(r.defaultValue)&&I(f(r))&&!c(r)&&m(r,r.defaultValue),r.wrappers=r.wrappers||[]}getFieldComponentInstance(r){const e=()=>{let t=this.config.resolveFieldTypeRef(r);const o=r._componentRefs?.slice(-1)[0];return o instanceof s.UuU&&o?.componentType===t?.componentType&&(t=o),t?.instance};return r._proxyInstance||E(r,"_proxyInstance",new Proxy({},{get:(t,o)=>e()?.[o],set:(t,o,a)=>e()[o]=a})),r._proxyInstance}}function xe(n){return{types:[{name:"formly-group",component:Ce},{name:"formly-template",component:Te}],extensions:[{name:"core",extension:new Ie(n),priority:-250},{name:"field-validation",extension:new Re(n),priority:-200},{name:"field-form",extension:new we,priority:-150},{name:"field-expression",extension:new Pe,priority:-100}]}}let Se=(()=>{class n{constructor(e,t=[]){!t||t.forEach(o=>e.addConfig(o))}static forRoot(e={}){return{ngModule:n,providers:[{provide:l,multi:!0,useFactory:xe,deps:[p]},{provide:l,useValue:e,multi:!0},p,g]}}static forChild(e={}){return{ngModule:n,providers:[{provide:l,multi:!0,useFactory:xe,deps:[p]},{provide:l,useValue:e,multi:!0},g]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(p),s.LFG(l,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Q.ez]]}),n})()},5100:(be,X,_)=>{_.d(X,{f:()=>H,n:()=>G});var s=_(4537),i=_(8692),v=_(7204),A=_(92),F=_(8659),V=_(8954),ee=_(8023);function q(m,O){1&m&&(s.TgZ(0,"span",11),s._uU(1,"*"),s.qZA())}function te(m,O){if(1&m&&(s.TgZ(0,"mat-label"),s._uU(1),s.YNc(2,q,2,0,"span",10),s.qZA()),2&m){const f=s.oxw();s.xp6(1),s.hij(" ",f.props.label," "),s.xp6(1),s.Q6J("ngIf",f.props.required&&!0!==f.props.hideRequiredMarker)}}const j=function(m){return{field:m}};function re(m,O){if(1&m&&(s.ynx(0,12),s.GkF(1,13),s.BQk()),2&m){const f=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",f.props.textPrefix)("ngTemplateOutletContext",s.VKq(2,j,f.field))}}function Y(m,O){if(1&m&&(s.ynx(0,14),s.GkF(1,13),s.BQk()),2&m){const f=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",f.props.prefix)("ngTemplateOutletContext",s.VKq(2,j,f.field))}}function N(m,O){if(1&m&&(s.ynx(0,15),s.GkF(1,13),s.BQk()),2&m){const f=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",f.props.textSuffix)("ngTemplateOutletContext",s.VKq(2,j,f.field))}}function oe(m,O){if(1&m&&(s.ynx(0,16),s.GkF(1,13),s.BQk()),2&m){const f=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",f.props.suffix)("ngTemplateOutletContext",s.VKq(2,j,f.field))}}const Z=function(m){return{content:m}};function Q(m,O){if(1&m&&(s.TgZ(0,"mat-hint"),s.GkF(1,13),s.qZA()),2&m){const f=O.ngIf;s.oxw();const y=s.MAs(13);s.xp6(1),s.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",s.VKq(2,Z,f))}}function ne(m,O){if(1&m&&(s.TgZ(0,"mat-hint",17),s.GkF(1,13),s.qZA()),2&m){const f=O.ngIf;s.oxw();const y=s.MAs(13);s.xp6(1),s.Q6J("ngTemplateOutlet",y)("ngTemplateOutletContext",s.VKq(2,Z,f))}}function se(m,O){if(1&m&&(s.ynx(0),s._uU(1),s.BQk()),2&m){const f=s.oxw().content;s.xp6(1),s.Oqu(f)}}function J(m,O){if(1&m&&s.GkF(0,13),2&m){const f=s.oxw().content,y=s.oxw();s.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",s.VKq(2,j,y.field))}}function L(m,O){if(1&m&&(s.YNc(0,se,2,1,"ng-container",18),s.YNc(1,J,1,4,"ng-template",null,19,s.W1O)),2&m){const f=O.content,y=s.MAs(2);s.Q6J("ngIf",!f.createEmbeddedView)("ngIfElse",y)}}const B=["matPrefix"],K=["matTextPrefix"],ie=["matSuffix"],le=["matTextSuffix"];let C=(()=>{class m extends v.n2{constructor(f,y,x){super(),this.renderer=f,this.elementRef=y,this.focusMonitor=x}ngOnInit(){(0,v.MZ)(this.field,"_formField",this.formField),this.focusMonitor.monitor(this.elementRef,!0).subscribe(f=>{!f&&this.field.focus&&(this.field.focus=!1)})}ngAfterViewInit(){if("outline"!==this.formField.appearance&&!0===this.props.hideFieldUnderline){const f=this.formField._elementRef.nativeElement.querySelector(".mat-form-field-underline");f&&this.renderer.removeChild(f.parentNode,f)}}ngOnDestroy(){delete this.field._formField,this.focusMonitor.stopMonitoring(this.elementRef)}}return m.\u0275fac=function(f){return new(f||m)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(V.tE))},m.\u0275cmp=s.Xpm({type:m,selectors:[["formly-wrapper-mat-form-field"]],viewQuery:function(f,y){if(1&f&&s.Gf(F.KE,7),2&f){let x;s.iGM(x=s.CRH())&&(y.formField=x.first)}},features:[s.qOj],decls:14,vars:13,consts:[[3,"hideRequiredMarker","floatLabel","appearance","subscriptSizing","color"],["fieldComponent",""],[4,"ngIf"],["matTextPrefix","",4,"ngIf"],["matPrefix","",4,"ngIf"],["matTextSuffix","",4,"ngIf"],["matSuffix","",4,"ngIf"],[3,"field"],["align","end",4,"ngIf"],["stringOrTemplate",""],["aria-hidden","true","class","mat-form-field-required-marker mat-mdc-form-field-required-marker",4,"ngIf"],["aria-hidden","true",1,"mat-form-field-required-marker","mat-mdc-form-field-required-marker"],["matTextPrefix",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["matPrefix",""],["matTextSuffix",""],["matSuffix",""],["align","end"],[4,"ngIf","ngIfElse"],["template",""]],template:function(f,y){if(1&f&&(s.TgZ(0,"mat-form-field",0),s.GkF(1,null,1),s.YNc(3,te,3,2,"mat-label",2),s.YNc(4,re,2,4,"ng-container",3),s.YNc(5,Y,2,4,"ng-container",4),s.YNc(6,N,2,4,"ng-container",5),s.YNc(7,oe,2,4,"ng-container",6),s.TgZ(8,"mat-error"),s._UZ(9,"formly-validation-message",7),s.qZA(),s.YNc(10,Q,2,4,"mat-hint",2),s.YNc(11,ne,2,4,"mat-hint",8),s.qZA(),s.YNc(12,L,3,2,"ng-template",null,9,s.W1O)),2&f){let x;s.Q6J("hideRequiredMarker",!0)("floatLabel",y.props.floatLabel)("appearance",y.props.appearance)("subscriptSizing",y.props.subscriptSizing)("color",null!==(x=y.props.color)&&void 0!==x?x:"primary"),s.xp6(3),s.Q6J("ngIf",y.props.label&&!0!==y.props.hideLabel),s.xp6(1),s.Q6J("ngIf",y.props.textPrefix),s.xp6(1),s.Q6J("ngIf",y.props.prefix),s.xp6(1),s.Q6J("ngIf",y.props.textSuffix),s.xp6(1),s.Q6J("ngIf",y.props.suffix),s.xp6(2),s.Q6J("field",y.field),s.xp6(1),s.Q6J("ngIf",y.props.description||y.props.hintStart),s.xp6(1),s.Q6J("ngIf",y.props.hintEnd)}},dependencies:[F.KE,v.M2,i.O5,F.hX,i.tP,F.qo,F.R9,F.TO,F.bx],styles:["formly-wrapper-mat-form-field .mat-mdc-form-field,formly-wrapper-mat-form-field .mat-form-field{width:100%}\n"],encapsulation:2}),m})(),G=(()=>{class m{}return m.\u0275fac=function(f){return new(f||m)},m.\u0275mod=s.oAB({type:m}),m.\u0275inj=s.cJS({imports:[[i.ez,A.UX,F.lN,v.X0.forChild({wrappers:[{name:"form-field",component:C}]})]]}),m})(),H=(()=>{class m extends v.fS{constructor(){super(...arguments),this.errorStateMatcher={isErrorState:()=>this.field&&this.showError},this.stateChanges=new ee.x,this._errorState=!1,this._focused=!1}set matPrefix(f){f&&(this.props.prefix=f)}set matTextPrefix(f){f&&(this.props.textPrefix=f)}set matSuffix(f){f&&(this.props.suffix=f)}set matTextSuffix(f){f&&(this.props.textSuffix=f)}set _controls(f){this.attachControl(1===f.length?f.first:this)}ngOnDestroy(){delete this.formField?._control,this.stateChanges.complete()}setDescribedByIds(f){}onContainerClick(f){this.field.focus=!0,this.stateChanges.next()}get errorState(){const f=this.options.showError(this);return f!==this._errorState&&(this._errorState=f,this.stateChanges.next()),f}get controlType(){if(this.props.type)return this.props.type;const f=this.field.type;return f instanceof s.DyG?f.prototype.constructor.name:f}get focused(){const f=!!this.field.focus&&!this.disabled;return f!==this._focused&&(this._focused=f,this.stateChanges.next()),f}get disabled(){return!!this.props.disabled}get required(){return!!this.props.required}get placeholder(){return this.props.placeholder||""}get shouldPlaceholderFloat(){return this.shouldLabelFloat}get value(){return this.formControl?.value}set value(f){this.formControl?.patchValue(f)}get ngControl(){return this.formControl}get empty(){return null==this.value||""===this.value}get shouldLabelFloat(){return this.focused||!this.empty}get formField(){return this.field?._formField}attachControl(f){if(this.formField&&f!==this.formField._control){this.formField._control=f;const y=f?.ngControl;y?.valueAccessor?.hasOwnProperty("_formField")&&(y.valueAccessor._formField=this.formField),y?.valueAccessor?.hasOwnProperty("_parentFormField")&&(y.valueAccessor._parentFormField=this.formField),["prefix","suffix","textPrefix","textSuffix"].forEach(I=>(0,v.yQ)(this.field,["props",I],({currentValue:U})=>U&&Promise.resolve().then(()=>{this.options.detectChanges(this.field)})));const x=f.setDescribedByIds.bind(f);f.setDescribedByIds=I=>{setTimeout(()=>x(I))}}}}return m.\u0275fac=function(){let O;return function(y){return(O||(O=s.n5z(m)))(y||m)}}(),m.\u0275dir=s.lG2({type:m,viewQuery:function(f,y){if(1&f&&(s.Gf(B,5),s.Gf(K,5),s.Gf(ie,5),s.Gf(le,5),s.Gf(F.Eo,5)),2&f){let x;s.iGM(x=s.CRH())&&(y.matPrefix=x.first),s.iGM(x=s.CRH())&&(y.matTextPrefix=x.first),s.iGM(x=s.CRH())&&(y.matSuffix=x.first),s.iGM(x=s.CRH())&&(y.matTextSuffix=x.first),s.iGM(x=s.CRH())&&(y._controls=x)}},features:[s.qOj]}),m})()},831:(be,X,_)=>{_.d(X,{o:()=>ge});var s=_(5100),i=_(4537),v=_(8692),A=_(7204),F=_(92),V=_(7406);function ee(c,h){if(1&c&&i._UZ(0,"input",2),2&c){const l=i.oxw();i.Q6J("id",l.id)("name",l.field.name)("type",l.type||"text")("readonly",l.props.readonly)("required",l.required)("errorStateMatcher",l.errorStateMatcher)("formControl",l.formControl)("formlyAttributes",l.field)("tabIndex",l.props.tabindex)("placeholder",l.props.placeholder)}}function q(c,h){if(1&c&&i._UZ(0,"input",3),2&c){const l=i.oxw();i.Q6J("id",l.id)("name",l.field.name)("readonly",l.props.readonly)("required",l.required)("errorStateMatcher",l.errorStateMatcher)("formControl",l.formControl)("formlyAttributes",l.field)("tabIndex",l.props.tabindex)("placeholder",l.props.placeholder)}}let te=(()=>{class c extends s.f{get type(){return this.props.type||"text"}}return c.\u0275fac=function(){let h;return function(p){return(h||(h=i.n5z(c)))(p||c)}}(),c.\u0275cmp=i.Xpm({type:c,selectors:[["formly-field-mat-input"]],features:[i.qOj],decls:3,vars:2,consts:[["matInput","",3,"id","name","type","readonly","required","errorStateMatcher","formControl","formlyAttributes","tabIndex","placeholder",4,"ngIf","ngIfElse"],["numberTmp",""],["matInput","",3,"id","name","type","readonly","required","errorStateMatcher","formControl","formlyAttributes","tabIndex","placeholder"],["matInput","","type","number",3,"id","name","readonly","required","errorStateMatcher","formControl","formlyAttributes","tabIndex","placeholder"]],template:function(l,p){if(1&l&&(i.YNc(0,ee,1,10,"input",0),i.YNc(1,q,1,9,"ng-template",null,1,i.W1O)),2&l){const g=i.MAs(2);i.Q6J("ngIf","number"!==p.type)("ngIfElse",g)}},dependencies:[v.O5,V.Nt,F.Fj,F.Q7,F.JJ,F.oH,A.JD,F.wV],encapsulation:2,changeDetection:0}),c})(),j=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[v.ez,F.UX,V.c,s.n,A.X0.forChild({types:[{name:"input",component:te,wrappers:["form-field"]},{name:"string",extends:"input"},{name:"number",extends:"input",defaultOptions:{props:{type:"number"}}},{name:"integer",extends:"input",defaultOptions:{props:{type:"number"}}}]})]]}),c})();var re=_(7025);let Y=(()=>{class c extends s.f{constructor(){super(...arguments),this.defaultOptions={props:{cols:1,rows:1}}}}return c.\u0275fac=function(){let h;return function(p){return(h||(h=i.n5z(c)))(p||c)}}(),c.\u0275cmp=i.Xpm({type:c,selectors:[["formly-field-mat-textarea"]],features:[i._Bn([{provide:V.Jk,useExisting:c}]),i.qOj],decls:1,vars:16,consts:[["matInput","",3,"id","name","readonly","required","formControl","errorStateMatcher","cols","rows","formlyAttributes","placeholder","tabindex","cdkTextareaAutosize","cdkAutosizeMinRows","cdkAutosizeMaxRows"]],template:function(l,p){1&l&&i._UZ(0,"textarea",0),2&l&&(i.ekj("cdk-textarea-autosize",p.props.autosize),i.Q6J("id",p.id)("name",p.field.name)("readonly",p.props.readonly)("required",p.required)("formControl",p.formControl)("errorStateMatcher",p.errorStateMatcher)("cols",p.props.cols)("rows",p.props.rows)("formlyAttributes",p.field)("placeholder",p.props.placeholder)("tabindex",p.props.tabindex)("cdkTextareaAutosize",p.props.autosize)("cdkAutosizeMinRows",p.props.autosizeMinRows)("cdkAutosizeMaxRows",p.props.autosizeMaxRows))},dependencies:[V.Nt,F.Fj,re.IC,F.Q7,F.JJ,F.oH,A.JD],encapsulation:2,changeDetection:0}),c})(),N=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[v.ez,F.UX,V.c,s.n,A.X0.forChild({types:[{name:"textarea",component:Y,wrappers:["form-field"]}]})]]}),c})();var oe=_(7241),Z=_(4121),Q=_(7969),ne=_(4970),se=_(8168);let J=(()=>{class c{transform(l,p){return l instanceof oe.y?this.dispose():l=this.observableOf(l,p),l.pipe((0,Q.U)(g=>this.transformOptions(g,p)))}ngOnDestroy(){this.dispose()}transformOptions(l,p){const g=this.transformSelectProps(p),k=[],R={};return l?.forEach(W=>{const S=this.transformOption(W,g);if(S.group){const ue=R[S.label];void 0===ue?R[S.label]=k.push(S)-1:S.group.forEach(ye=>k[ue].group.push(ye))}else k.push(S)}),k}transformOption(l,p){const g=p.groupProp(l);return Array.isArray(g)?{label:p.labelProp(l),group:g.map(k=>this.transformOption(k,p))}:(l={label:p.labelProp(l),value:p.valueProp(l),disabled:!!p.disabledProp(l)},g?{label:g,group:[l]}:l)}transformSelectProps(l){const p=l?.props||l?.templateOptions||{},g=k=>"function"==typeof k?k:R=>R[k];return{groupProp:g(p.groupProp||"group"),labelProp:g(p.labelProp||"label"),valueProp:g(p.valueProp||"value"),disabledProp:g(p.disabledProp||"disabled")}}dispose(){this._options&&(this._options.complete(),this._options=null),this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}observableOf(l,p){return this.dispose(),p&&p.options&&p.options.fieldChanges&&(this._subscription=p.options.fieldChanges.pipe((0,ne.h)(({property:g,type:k,field:R})=>"expressionChanges"===k&&(0===g.indexOf("templateOptions.options")||0===g.indexOf("props.options"))&&R===p&&Array.isArray(R.props.options)&&!!this._options),(0,se.b)(()=>this._options.next(p.props.options))).subscribe()),this._options=new Z.X(l),this._options.asObservable()}}return c.\u0275fac=function(l){return new(l||c)},c.\u0275pipe=i.Yjl({name:"formlySelectOptions",type:c,pure:!0}),c})(),L=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({}),c})();var B=_(3556);function K(c,h){if(1&c&&(i.TgZ(0,"mat-radio-button",2),i._uU(1),i.qZA()),2&c){const l=h.$implicit,p=h.index,g=i.oxw();i.Q6J("id",g.id+"_"+p)("color",g.props.color)("labelPosition",g.props.labelPosition)("disabled",l.disabled)("value",l.value),i.xp6(1),i.hij(" ",l.label," ")}}let ie=(()=>{class c extends s.f{constructor(){super(...arguments),this.defaultOptions={props:{hideFieldUnderline:!0,floatLabel:"always",tabindex:-1}}}ngAfterViewInit(){this.focusObserver=(0,A.yQ)(this.field,["focus"],({currentValue:l})=>{-1===this.props.tabindex&&l&&this.radioGroup._radios.length>0&&setTimeout(()=>{(this.radioGroup.selected?this.radioGroup.selected:this.radioGroup._radios.first).focus()})})}onContainerClick(){}ngOnDestroy(){super.ngOnDestroy(),this.focusObserver&&this.focusObserver.unsubscribe()}}return c.\u0275fac=function(){let h;return function(p){return(h||(h=i.n5z(c)))(p||c)}}(),c.\u0275cmp=i.Xpm({type:c,selectors:[["formly-field-mat-radio"]],viewQuery:function(l,p){if(1&l&&i.Gf(B.VQ,7),2&l){let g;i.iGM(g=i.CRH())&&(p.radioGroup=g.first)}},features:[i.qOj],decls:4,vars:10,consts:[[3,"formControl","formlyAttributes","required","tabindex"],[3,"id","color","labelPosition","disabled","value",4,"ngFor","ngForOf"],[3,"id","color","labelPosition","disabled","value"]],template:function(l,p){1&l&&(i.TgZ(0,"mat-radio-group",0),i.YNc(1,K,2,6,"mat-radio-button",1),i.ALo(2,"async"),i.ALo(3,"formlySelectOptions"),i.qZA()),2&l&&(i.Q6J("formControl",p.formControl)("formlyAttributes",p.field)("required",p.required)("tabindex",p.props.tabindex),i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,5,i.xi3(3,7,p.props.options,p.field))))},dependencies:[B.U0,B.VQ,F.JJ,F.oH,A.JD,F.Q7,v.sg,v.Ov,J],encapsulation:2,changeDetection:0}),c})(),le=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[v.ez,F.UX,B.Fk,s.n,L,A.X0.forChild({types:[{name:"radio",component:ie,wrappers:["form-field"]}]})]]}),c})();var C=_(1561),G=_(8954);function H(c,h){1&c&&(i.TgZ(0,"span",2),i._uU(1,"*"),i.qZA())}let m=(()=>{class c extends s.f{constructor(l,p){super(),this.renderer=l,this.focusMonitor=p,this.defaultOptions={props:{hideFieldUnderline:!0,indeterminate:!0,floatLabel:"always",hideLabel:!0,color:"accent"}}}onContainerClick(l){this.checkbox.focus(),super.onContainerClick(l)}ngAfterViewInit(){this.checkbox&&this.focusMonitor.monitor(this.checkbox._inputElement,!0).subscribe(l=>{this.field.focus=!!l,this.stateChanges.next(),l?this.props.focus&&this.props.focus(this.field):this.props.blur&&this.props.blur(this.field)})}ngAfterViewChecked(){if(this.required!==this._required&&this.checkbox&&this.checkbox._inputElement){this._required=this.required;const l=this.checkbox._inputElement.nativeElement;this.required?this.renderer.setAttribute(l,"required","required"):this.renderer.removeAttribute(l,"required")}}ngOnDestroy(){super.ngOnDestroy(),this.checkbox&&this.focusMonitor.stopMonitoring(this.checkbox._inputElement)}}return c.\u0275fac=function(l){return new(l||c)(i.Y36(i.Qsj),i.Y36(G.tE))},c.\u0275cmp=i.Xpm({type:c,selectors:[["formly-field-mat-checkbox"]],viewQuery:function(l,p){if(1&l&&i.Gf(C.oG,7),2&l){let g;i.iGM(g=i.CRH())&&(p.checkbox=g.first)}},features:[i.qOj],decls:3,vars:10,consts:[[3,"formControl","id","name","formlyAttributes","tabIndex","indeterminate","color","labelPosition"],["aria-hidden","true","class","mat-form-field-required-marker mat-mdc-form-field-required-marker",4,"ngIf"],["aria-hidden","true",1,"mat-form-field-required-marker","mat-mdc-form-field-required-marker"]],template:function(l,p){1&l&&(i.TgZ(0,"mat-checkbox",0),i._uU(1),i.YNc(2,H,2,0,"span",1),i.qZA()),2&l&&(i.Q6J("formControl",p.formControl)("id",p.id)("name",p.field.name)("formlyAttributes",p.field)("tabIndex",p.props.tabindex)("indeterminate",p.props.indeterminate&&null==p.formControl.value)("color",p.props.color)("labelPosition",p.props.labelPosition),i.xp6(1),i.hij(" ",p.props.label," "),i.xp6(1),i.Q6J("ngIf",p.props.required&&!0!==p.props.hideRequiredMarker))},dependencies:[C.oG,F.JJ,F.oH,A.JD,v.O5],encapsulation:2,changeDetection:0}),c})(),O=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[v.ez,F.UX,C.p9,s.n,A.X0.forChild({types:[{name:"checkbox",component:m,wrappers:["form-field"]},{name:"boolean",extends:"checkbox"}]})]]}),c})();function f(c,h){if(1&c){const l=i.EpF();i.ynx(0),i.TgZ(1,"mat-checkbox",1),i.NdJ("change",function(g){const R=i.CHM(l).$implicit,W=i.oxw();return i.KtG(W.onChange(R.value,g.checked))}),i._uU(2),i.qZA(),i.BQk()}if(2&c){const l=h.$implicit,p=h.index,g=i.oxw();i.xp6(1),i.Q6J("id",g.id+"_"+p)("formlyAttributes",g.field)("tabIndex",g.props.tabindex)("color",g.props.color)("labelPosition",g.props.labelPosition)("checked",g.isChecked(l))("disabled",g.formControl.disabled||l.disabled),i.xp6(1),i.hij(" ",l.label," ")}}let y=(()=>{class c extends s.f{constructor(){super(...arguments),this.defaultOptions={props:{hideFieldUnderline:!0,floatLabel:"always",color:"accent"}}}onChange(l,p){this.formControl.markAsDirty(),this.formControl.patchValue("array"===this.props.type?p?[...this.formControl.value||[],l]:[...this.formControl.value||[]].filter(g=>g!==l):{...this.formControl.value,[l]:p}),this.formControl.markAsTouched()}onContainerClick(){}isChecked(l){const p=this.formControl.value;return p&&("array"===this.props.type?-1!==p.indexOf(l.value):p[l.value])}}return c.\u0275fac=function(){let h;return function(p){return(h||(h=i.n5z(c)))(p||c)}}(),c.\u0275cmp=i.Xpm({type:c,selectors:[["formly-field-mat-multicheckbox"]],viewQuery:function(l,p){if(1&l&&i.Gf(C.oG,5),2&l){let g;i.iGM(g=i.CRH())&&(p.checkboxes=g)}},hostVars:1,hostBindings:function(l,p){2&l&&i.Ikx("id",p.id)},features:[i.qOj],decls:3,vars:6,consts:[[4,"ngFor","ngForOf"],[3,"id","formlyAttributes","tabIndex","color","labelPosition","checked","disabled","change"]],template:function(l,p){1&l&&(i.YNc(0,f,3,8,"ng-container",0),i.ALo(1,"async"),i.ALo(2,"formlySelectOptions")),2&l&&i.Q6J("ngForOf",i.lcZ(1,1,i.xi3(2,3,p.props.options,p.field)))},dependencies:[C.oG,v.sg,A.JD,v.Ov,J],encapsulation:2,changeDetection:0}),c})(),x=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[v.ez,F.UX,C.p9,s.n,L,A.X0.forChild({types:[{name:"multicheckbox",component:y,wrappers:["form-field"]}]})]]}),c})();var I=_(8033),U=_(1379);function ae(c,h){if(1&c){const l=i.EpF();i.TgZ(0,"mat-option",3),i.NdJ("click",function(){const k=i.CHM(l).selectOptions,R=i.oxw();return i.KtG(R.toggleSelectAll(k))}),i._UZ(1,"mat-pseudo-checkbox",4),i._uU(2),i.qZA()}if(2&c){const l=h.selectOptions,p=i.oxw();i.xp6(1),i.Q6J("state",p.getSelectAllState(l)),i.xp6(1),i.hij(" ",p.props.selectAllOption," ")}}const he=function(c){return{selectOptions:c}};function w(c,h){if(1&c&&i.GkF(0,7),2&c){const l=i.oxw().ngIf;i.oxw();const p=i.MAs(1);i.Q6J("ngTemplateOutlet",p)("ngTemplateOutletContext",i.VKq(2,he,l))}}function me(c,h){if(1&c&&(i.TgZ(0,"mat-option",12),i._uU(1),i.qZA()),2&c){const l=h.$implicit;i.Q6J("value",l.value)("disabled",l.disabled),i.xp6(1),i.hij(" ",l.label," ")}}function P(c,h){if(1&c&&(i.TgZ(0,"mat-optgroup",10),i.YNc(1,me,2,3,"mat-option",11),i.qZA()),2&c){const l=i.oxw().$implicit;i.Q6J("label",l.label),i.xp6(1),i.Q6J("ngForOf",l.group)}}function E(c,h){if(1&c&&(i.TgZ(0,"mat-option",12),i._uU(1),i.qZA()),2&c){const l=i.oxw().$implicit;i.Q6J("value",l.value)("disabled",l.disabled),i.xp6(1),i.Oqu(l.label)}}function pe(c,h){if(1&c&&(i.ynx(0),i.YNc(1,P,2,2,"mat-optgroup",8),i.YNc(2,E,2,3,"mat-option",9),i.BQk()),2&c){const l=h.$implicit;i.xp6(1),i.Q6J("ngIf",l.group),i.xp6(1),i.Q6J("ngIf",!l.group)}}function T(c,h){if(1&c&&(i.ynx(0),i.YNc(1,w,1,4,"ng-container",5),i.YNc(2,pe,3,2,"ng-container",6),i.BQk()),2&c){const l=h.ngIf,p=i.oxw();i.xp6(1),i.Q6J("ngIf",p.props.multiple&&p.props.selectAllOption),i.xp6(1),i.Q6J("ngForOf",l)}}let de=(()=>{class c extends s.f{constructor(){super(...arguments),this.defaultOptions={props:{compareWith:(l,p)=>l===p}}}set select(l){(0,A.yQ)(l,["_parentFormField","_textField"],({currentValue:p})=>{p&&(l._preferredOverlayOrigin=l._parentFormField.getConnectedOverlayOrigin())})}getSelectAllState(l){return this.empty||0===this.value.length?null:this.value.length!==this.getSelectAllValue(l).length?"indeterminate":"checked"}toggleSelectAll(l){const p=this.getSelectAllValue(l);this.formControl.setValue(this.value&&this.value.length===p.length?[]:p),this.formControl.markAsDirty()}change(l){this.props.change?.(this.field,l)}_getAriaLabelledby(){return this.props.attributes?.["aria-labelledby"]?this.props.attributes["aria-labelledby"]:this.formField?._labelId}_getAriaLabel(){return this.props.attributes?.["aria-label"]}getSelectAllValue(l){if(!this.selectAllValue||l!==this.selectAllValue.options){const p=[];l.forEach(g=>g.group?p.push(...g.group):p.push(g)),this.selectAllValue={options:l,value:p.filter(g=>!g.disabled).map(g=>g.value)}}return this.selectAllValue.value}}return c.\u0275fac=function(){let h;return function(p){return(h||(h=i.n5z(c)))(p||c)}}(),c.\u0275cmp=i.Xpm({type:c,selectors:[["formly-field-mat-select"]],viewQuery:function(l,p){if(1&l&&i.Gf(I.gD,7),2&l){let g;i.iGM(g=i.CRH())&&(p.select=g.first)}},features:[i.qOj],decls:6,vars:20,consts:[["selectAll",""],[3,"id","formControl","formlyAttributes","placeholder","tabIndex","required","compareWith","multiple","errorStateMatcher","aria-label","aria-labelledby","disableOptionCentering","typeaheadDebounceInterval","panelClass","selectionChange"],[4,"ngIf"],[3,"click"],[1,"mat-option-pseudo-checkbox",3,"state"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"label",4,"ngIf"],[3,"value","disabled",4,"ngIf"],[3,"label"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"]],template:function(l,p){1&l&&(i.YNc(0,ae,3,2,"ng-template",null,0,i.W1O),i.TgZ(2,"mat-select",1),i.NdJ("selectionChange",function(k){return p.change(k)}),i.YNc(3,T,3,2,"ng-container",2),i.ALo(4,"async"),i.ALo(5,"formlySelectOptions"),i.qZA()),2&l&&(i.xp6(2),i.Q6J("id",p.id)("formControl",p.formControl)("formlyAttributes",p.field)("placeholder",p.props.placeholder)("tabIndex",p.props.tabindex)("required",p.required)("compareWith",p.props.compareWith)("multiple",p.props.multiple)("errorStateMatcher",p.errorStateMatcher)("aria-label",p._getAriaLabel())("aria-labelledby",p._getAriaLabelledby())("disableOptionCentering",p.props.disableOptionCentering)("typeaheadDebounceInterval",p.props.typeaheadDebounceInterval)("panelClass",p.props.panelClass),i.xp6(1),i.Q6J("ngIf",i.lcZ(4,15,i.xi3(5,17,p.props.options,p.field))))},dependencies:[U.ey,U.nP,I.gD,U.Nv,F.JJ,F.oH,A.JD,F.Q7,v.O5,v.tP,v.sg,v.Ov,J],encapsulation:2,changeDetection:0}),c})(),ce=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[v.ez,F.UX,I.LD,U.us,s.n,L,A.X0.forChild({types:[{name:"select",component:de,wrappers:["form-field"]},{name:"enum",extends:"select"}]})]]}),c})(),ge=(()=>{class c{}return c.\u0275fac=function(l){return new(l||c)},c.\u0275mod=i.oAB({type:c}),c.\u0275inj=i.cJS({imports:[[s.n,j,N,le,O,x,ce]]}),c})()}}]);