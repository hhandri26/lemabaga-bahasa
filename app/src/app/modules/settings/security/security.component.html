<div class="w-full max-w-3xl">
    <fuse-alert class="mt-8" *ngIf="showAlert" [appearance]="'outline'" [showIcon]="false" [type]="alert.type">
        {{alert.message}}
    </fuse-alert>
    <!-- Form -->
    <form [formGroup]="form">

        <div class="grid sm:grid-cols-4 gap-6 w-full mt-8">
            <!-- Current password -->
            <!-- <div class="sm:col-span-4">
                <mat-form-field class="w-full">
                    <mat-label>Password saat ini</mat-label>
                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:key'" matPrefix></mat-icon>
                    <input autocomplete="off" matInput type="password" [formControlName]="'current_password'" #currentPasswordField>
                    <button mat-icon-button type="button" (click)="currentPasswordField.type === 'password' ? currentPasswordField.type = 'text' : currentPasswordField.type = 'password'" matSuffix>
                        <mat-icon class="icon-size-5" *ngIf="currentPasswordField.type === 'password'" [svgIcon]="'heroicons_solid:eye'"></mat-icon>
                        <mat-icon class="icon-size-5" *ngIf="currentPasswordField.type === 'text'" [svgIcon]="'heroicons_solid:eye-off'"></mat-icon>
                    </button>
                    <mat-error *ngIf="form.get('current_password').hasError('required')">
                        Password wajib diisi
                    </mat-error>
                    <mat-error *ngIf="form.get('current_password').hasError('minlength')">
                        Minimal 6 karakter
                    </mat-error>
                </mat-form-field>
            </div> -->
            <!-- New password -->
            <div class="sm:col-span-4">
                <mat-form-field class="w-full">
                    <mat-label>Password baru</mat-label>
                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:key'" matPrefix></mat-icon>
                    <input autocomplete="off" [formControlName]="'password'" type="password" matInput #passwordField>
                    <button mat-icon-button type="button" (click)="passwordField.type === 'password' ? passwordField.type = 'text' : passwordField.type = 'password'" matSuffix>
                        <mat-icon class="icon-size-5" *ngIf="passwordField.type === 'password'" [svgIcon]="'heroicons_solid:eye'"></mat-icon>
                        <mat-icon class="icon-size-5" *ngIf="passwordField.type === 'text'" [svgIcon]="'heroicons_solid:eye-off'"></mat-icon>
                    </button>
                    <mat-error *ngIf="form.get('password').hasError('required')">
                        Password wajib diisi
                    </mat-error>
                    <mat-error *ngIf="form.get('password').hasError('minlength')">
                        Minimal 6 karakter
                    </mat-error>
                </mat-form-field>
                <div class="mt-1 text-md text-hint">Minimal 6 karakter</div>
            </div>
            <div class="sm:col-span-4">
                <mat-form-field class="w-full">
                    <mat-label>Konfirmasi password baru</mat-label>
                    <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:key'" matPrefix></mat-icon>
                    <input autocomplete="off" matInput type="password" [formControlName]="'password_confirmation'" #password_confirmationField>
                    <button mat-icon-button type="button" (click)="password_confirmationField.type === 'password' ? password_confirmationField.type = 'text' : password_confirmationField.type = 'password'" matSuffix>
                        <mat-icon class="icon-size-5" *ngIf="password_confirmationField.type === 'password'" [svgIcon]="'heroicons_solid:eye'"></mat-icon>
                        <mat-icon class="icon-size-5" *ngIf="password_confirmationField.type === 'text'" [svgIcon]="'heroicons_solid:eye-off'"></mat-icon>
                    </button>
                    <mat-error *ngIf="form.get('password_confirmation').hasError('required')">
                        Konfirmasi password wajib diisi
                    </mat-error>
                    <mat-error *ngIf="form.get('password_confirmation').hasError('confirmPasswordValidator')">
                        Konfirmasi password tidak sesuai dengan password
                    </mat-error>
                </mat-form-field>
            </div>
        </div>

        <!-- Divider -->
        <div class="my-10 border-t"></div>

        <!-- Actions -->
        <div class="flex items-center justify-end">
            <button class="ml-4" mat-flat-button type="button" [color]="'primary'" [disabled]="form.disabled || isLoadingSubmit" (click)="save()">
                <span *ngIf="!form.disabled">
                    Simpan
                </span>
                <mat-progress-spinner *ngIf="form.disabled" [diameter]="24"
                    [mode]="'indeterminate'"></mat-progress-spinner>
            </button>
        </div>
    </form>

</div>
