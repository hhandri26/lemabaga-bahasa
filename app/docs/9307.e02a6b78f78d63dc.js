"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[9307],{9307:(kt,E,s)=>{s.r(E),s.d(E,{FormasiModule:()=>Tt});var g=s(8692),S=s(4032),A=s(9638),m=s(1379),y=s(3331),P=s(3319),q=s(827),K=s(6558),W=s(3911),G=s(4466),V=s(2516),T=s(8659),U=s(2940),e=s(4537);let H=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"router-outlet")},dependencies:[S.lC],encapsulation:2}),i})();var N=s(8772),$=s(1561),z=s(3704),d=s(4536),L=s(7406),R=s(3538),j=s(8033),X=s(4639),ee=s(7775),C=s(8023),J=s(3528),te=s(8288),c=s(92),v=s(5450),h=s(1927),x=s(8168),ne=s(2340),D=s(2047),k=s(310),I=s(8292),ie=s(7495),oe=s(47),O=s(7204);function ae(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",24),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.BQk()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.hij(" ",e.lcZ(3,2,t.nama)," ")}}function re(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(24);return e.KtG(o.click())}),e._uU(1,"Unggah Surat Usulan"),e.qZA()}2&i&&e.Q6J("color","accent")}function se(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleOnFileInputed(!1))}),e._UZ(1,"mat-icon",27),e.qZA()}2&i&&(e.Q6J("matTooltip","Clear"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"))}let le=(()=>{class i{constructor(t,n,o,r,_,p,b,Z,l,u){this.matDialogRef=t,this._data=n,this._formBuilder=o,this._helperService=r,this._changeDetectorRef=_,this._referensiService=p,this._formasiService=b,this._toastr=Z,this._userService=l,this._penerjemahService=u,this.file=null,this.onFileInputed=!1,this.baseUrl=ne.N.baseUrl,this.jenisJabatan$=this._referensiService.jabatan(),this.options={},this.model={formasiDetails:[]},this.formFormasi=new c.cw({}),this.fields=[{key:"formasiDetails",type:"form_formasi_rows",fieldArray:{fieldGroup:[{fieldGroupClassName:"grid grid-flow-col-dense grid-cols-4 gap-4",fieldGroup:[{type:"select",key:"jabatanId",className:"formly-jabatanId col-span-1",templateOptions:{label:"Jenis Jabatan",multiple:!1,valueProp:f=>f.id,options:this._referensiService.jabatan(),required:!0,appearance:"fill",labelProp:"nama"},expressionProperties:{"templateOptions.disabled":(f,w,F)=>{const Y=this.model.formasiDetails[+F.parent.parent.key]?.formula;return!!Array.isArray(Y)&&Y.length>0}}},{type:"input",key:"unitKerja",className:"formly-unitKerja col-span-3",templateOptions:{label:"Nama Unit Kerja",required:!0,appearance:"fill"}}]},{key:"formula",type:"form_formasi_formula",fieldArray:{fieldGroup:[{type:"select",key:"uraianTugasId",className:"formly-uraianTugasId",defaultValue:0,templateOptions:{multiple:!1,valueProp:f=>f,compareWith:(f,w)=>f.id===w.id,required:!0,appearance:"fill",labelProp:"text"},expressionProperties:{"templateOptions.options":(f,w,F)=>this._referensiService.uraianTugas(this.model.formasiDetails[+F.parent.parent.parent.key].jabatanId)}},{type:"input",key:"output",className:"formly-output",templateOptions:{type:"number",required:!0,appearance:"fill"},expressionProperties:{"templateOptions.disabled":f=>!f.uraianTugasId}},{type:"type_string",key:"waktu",className:"formly-waktu",hideExpression:f=>!f.output,hooks:{onInit:f=>f.form.valueChanges.pipe((0,h.O)(f.form.value),(0,x.b)(w=>{f.formControl.setValue(w.uraianTugasId.workPerHour,{onlySelf:!0})}))}}]}}]}}],this._unsubscribeAll=new C.x}ngOnInit(){this._userService.user$.pipe((0,J.R)(this._unsubscribeAll)).subscribe(t=>{this.satuanOrganisasi$=this._referensiService.satuanOrganisasi({instansiId:t.instansiId.id}),this._changeDetectorRef.markForCheck()}),this.form=this._formBuilder.group({id:[""],satuanOrganisasiId:[null,[c.kI.required]],file:[null,c.kI.required]})}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}create(){const t=this.form.getRawValue(),n=[];this.model.formasiDetails.forEach(r=>{const _=[];r.formula.forEach(p=>{_.push({uraianTugasId:p.uraianTugasId.id,output:+p.output})}),n.push({unitKerja:r.unitKerja,jabatanId:r.jabatanId,formula:_})}),console.log("formasiDetails",n);const o=new FormData;o.append("formasiDetails",JSON.stringify(n)),o.append("satuanOrganisasiId",t.satuanOrganisasiId),t.file&&o.append("file",t.file),this._formasiService.createUsul(o).subscribe(r=>{r?.success?(this._toastr.success("Usulan membutuhkan waktu approvel oleh Pembina Penerjemah","Formasi berhasil diusulkan"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(r?.message,"ERROR")})}toggleOnFileInputed(t=null){null===t?this.onFileInputed=!this.onFileInputed:(t||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=t),this._changeDetectorRef.markForCheck()}onFileInput(t){const n=this._referensiService.onFileInputSingle(t,"application/pdf",2e3);return n.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=n.fileInfo.name,this.form.get("file").setValue(t.target.files[0]),!0):(this._toastr.error(n.msg,"ERROR"),!1)}displayFn(t){if(t)return t.nama}trackByFn(t,n){return n.id||t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI),e.Y36(c.QS),e.Y36(D.W),e.Y36(e.sBO),e.Y36(v.A2),e.Y36(k.k),e.Y36(I._W),e.Y36(ie.K),e.Y36(oe.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&e.Gf(R.NW,7),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first)}},features:[e._Bn([{provide:m.sG,useValue:v.lv},{provide:m._A,useClass:N.t7,deps:[m.Ad]}])],decls:38,vars:17,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[3,"formGroup"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto"],[1,"flex","flex-col","w-full"],[1,"mt-4"],[1,"fuse-mat-no-subscript","w-full"],[3,"formControlName"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"mt-4","mb-4"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start","mt-2"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[3,"model","fields","options","form"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],[3,"value"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Usulan Formasi Baru"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.matDialogRef.close()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"mat-form-field",9)(11,"mat-label"),e._uU(12,"Satuan Organisasi"),e.qZA(),e.TgZ(13,"mat-select",10),e.YNc(14,ae,4,4,"ng-container",11),e.ALo(15,"async"),e.qZA()()()(),e.TgZ(16,"div",7)(17,"div",12)(18,"div",9)(19,"mat-label"),e._uU(20,"Lampiran Surat Usulan "),e.TgZ(21,"i"),e._uU(22,"(PDF, Maksimal ukuran 2 MB)"),e.qZA()(),e.TgZ(23,"input",13,14),e.NdJ("click",function(){e.CHM(o);const _=e.MAs(24);return e.KtG(_.value=null)})("change",function(_){return n.onFileInput(_)}),e.qZA(),e.TgZ(25,"div",15)(26,"div",16),e.YNc(27,re,2,1,"button",17),e.YNc(28,se,2,2,"button",18),e._UZ(29,"span",19),e.qZA()()()()(),e.TgZ(30,"div",7)(31,"div",12),e._UZ(32,"formly-form",20),e.qZA()()()(),e.TgZ(33,"div",21)(34,"button",22),e.NdJ("click",function(){return n.matDialogRef.close()}),e._uU(35," Batal "),e.qZA(),e.TgZ(36,"button",23),e.NdJ("click",function(){return n.create()}),e._uU(37," Simpan Draft "),e.qZA()()()}2&t&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(7),e.Q6J("formControlName","satuanOrganisasiId"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(15,15,n.satuanOrganisasi$))("ngForTrackBy",n.trackByFn),e.xp6(13),e.Q6J("ngIf",!n.onFileInputed),e.xp6(1),e.Q6J("ngIf",n.onFileInputed),e.xp6(1),e.Q6J("id","fileDokumen"),e.xp6(3),e.Q6J("model",n.model)("fields",n.fields)("options",n.options)("form",n.formFormasi),e.xp6(4),e.Q6J("color","primary")("disabled",n.form.invalid))},dependencies:[g.sg,g.O5,A.lW,T.KE,T.hX,y.Hw,j.gD,m.ey,U.gM,c._Y,c.JJ,c.JL,c.sg,c.u,O.T7,g.Ov,g.rS],encapsulation:2,changeDetection:0}),i})(),ce=(()=>{class i{constructor(t,n,o,r,_,p){this.matDialogRef=t,this._formasiId=n,this._formBuilder=o,this._helperService=r,this._toastr=_,this._formasiService=p,this._unsubscribeAll=new C.x}ngOnInit(){this.form=this._formBuilder.group({notes:["",[c.kI.required]]})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}send(){const t=this.form.getRawValue(),n=new FormData;n.append("formasiId",this._formasiId),n.append("notes",t.notes),this._formasiService.returnUsulan(n).subscribe(o=>{o?.success?(this._toastr.success("Penolakan usulan formasi berhasil"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(o?.message,"ERROR")})}trackByFn(t,n){return n.id||t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI),e.Y36(c.QS),e.Y36(D.W),e.Y36(I._W),e.Y36(k.k))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e._Bn([{provide:m.sG,useValue:v.lv},{provide:m._A,useClass:N.t7,deps:[m.Ad]}])],decls:18,vars:8,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4","mb-4"],[1,"fuse-mat-textarea","w-full"],["matInput","",3,"rows","formControlName","spellcheck"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Penolakan Usulan Formasi"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.matDialogRef.close()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),e._uU(11,"Catatan penolakan"),e.qZA(),e._UZ(12,"textarea",9),e.qZA()()()(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return n.matDialogRef.close()}),e._uU(15," Batal "),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){return n.send()}),e._uU(17," Submit "),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(6),e.Q6J("rows",3)("formControlName","notes")("spellcheck",!1),e.xp6(4),e.Q6J("color","primary")("disabled",n.form.invalid))},dependencies:[A.lW,T.KE,T.hX,y.Hw,L.Nt,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u],encapsulation:2,changeDetection:0}),i})();function _e(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(15);return e.KtG(o.click())}),e._uU(1,"Unggah Dokumen Rekomendasi"),e.qZA()}2&i&&e.Q6J("color","accent")}function ue(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleOnFileInputed(!1))}),e._UZ(1,"mat-icon",21),e.qZA()}2&i&&(e.Q6J("matTooltip","Clear"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"))}let me=(()=>{class i{constructor(t,n,o,r,_,p,b,Z){this.matDialogRef=t,this._formasiId=n,this._formBuilder=o,this._helperService=r,this._referensiService=_,this._toastr=p,this._changeDetectorRef=b,this._formasiService=Z,this.onFileInputed=!1,this._unsubscribeAll=new C.x}ngOnInit(){this.form=this._formBuilder.group({file:["",[c.kI.required]]})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}approved(){const t=this.form.getRawValue(),n=new FormData;n.append("formasiId",this._formasiId),t.file&&n.append("file",t.file),this._formasiService.approveUsulan(n).subscribe(o=>{o?.success?(this._toastr.success("Persetujuan formasi berhasil"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(o?.message,"ERROR")})}toggleOnFileInputed(t=null){null===t?this.onFileInputed=!this.onFileInputed:(t||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=t),this._changeDetectorRef.markForCheck()}onFileInput(t){const n=this._referensiService.onFileInputSingle(t,"application/pdf",2e3);return n.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=n.fileInfo.name,this.form.get("file").setValue(t.target.files[0]),!0):(this._toastr.error(n.msg,"ERROR"),!1)}trackByFn(t,n){return n.id||t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI),e.Y36(c.QS),e.Y36(D.W),e.Y36(v.A2),e.Y36(I._W),e.Y36(e.sBO),e.Y36(k.k))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e._Bn([{provide:m.sG,useValue:v.lv},{provide:m._A,useClass:N.t7,deps:[m.Ad]}])],decls:26,vars:8,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"mt-4","mb-4"],[1,"fuse-mat-no-subscript","w-full"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start","mt-2"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Menyetujui Usulan Formasi"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.matDialogRef.close()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"mat-label"),e._uU(11,"Lampiran Dokumen Rekomendasi "),e.TgZ(12,"i"),e._uU(13,"(PDF, Maksimal ukuran 2 MB)"),e.qZA()(),e.TgZ(14,"input",9,10),e.NdJ("click",function(){e.CHM(o);const _=e.MAs(15);return e.KtG(_.value=null)})("change",function(_){return n.onFileInput(_)}),e.qZA(),e.TgZ(16,"div",11)(17,"div",12),e.YNc(18,_e,2,1,"button",13),e.YNc(19,ue,2,2,"button",14),e._UZ(20,"span",15),e.qZA()()()()()(),e.TgZ(21,"div",16)(22,"button",17),e.NdJ("click",function(){return n.matDialogRef.close()}),e._uU(23," Batal "),e.qZA(),e.TgZ(24,"button",18),e.NdJ("click",function(){return n.approved()}),e._uU(25," Submit "),e.qZA()()()}2&t&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(12),e.Q6J("ngIf",!n.onFileInputed),e.xp6(1),e.Q6J("ngIf",n.onFileInputed),e.xp6(1),e.Q6J("id","fileDokumen"),e.xp6(4),e.Q6J("color","primary")("disabled",n.form.invalid))},dependencies:[g.O5,A.lW,T.hX,y.Hw,U.gM,c._Y,c.JL,c.sg],encapsulation:2,changeDetection:0}),i})();var B=s(4970);function pe(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(17);return e.KtG(o.click())}),e._uU(1,"Unggah Dokumen KEMENPAN"),e.qZA()}2&i&&e.Q6J("color","accent")}function ge(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleOnFileInputed(!1))}),e._UZ(1,"mat-icon",23),e.qZA()}2&i&&(e.Q6J("matTooltip","Clear"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"))}let fe=(()=>{class i{constructor(t,n,o,r,_,p,b,Z){this.matDialogRef=t,this._data=n,this._formBuilder=o,this._helperService=r,this._referensiService=_,this._toastr=p,this._changeDetectorRef=b,this._formasiService=Z,this.options={},this.model={count:1,formasiDetailApproved:[{}]},this.formFormasi=new c.cw({}),this.fields=[{className:"formly-hide",key:"count",type:"input",templateOptions:{hidden:!0,disabled:!0},hooks:{onInit:l=>l.formControl.valueChanges.pipe((0,h.O)(l.formControl.value),(0,B.h)(u=>u>0),(0,x.b)(u=>{this.model.formasiDetailApproved.length=u,this.model={...this.model,count:u}}))}},{key:"formasiDetailApproved",type:"form_formasi_approve",fieldArray:{fieldGroup:[{key:"id",type:"input",hooks:{onInit:l=>l.form.valueChanges.pipe((0,h.O)(l.form.value),(0,x.b)(u=>{l.formControl.setValue(u.id,{onlySelf:!0})}))}},{type:"type_string",key:"unitKerjaNama",className:"formly-unitKerjaNama",hooks:{onInit:l=>l.form.valueChanges.pipe((0,h.O)(l.form.value),(0,x.b)(u=>{l.formControl.setValue(u.unitKerjaNama,{onlySelf:!0})}))}},{type:"type_string",key:"jabatanNama",className:"formly-jabatanNama",hooks:{onInit:l=>l.form.valueChanges.pipe((0,h.O)(l.form.value),(0,x.b)(u=>{l.formControl.setValue(u.jabatanNama,{onlySelf:!0})}))}},{type:"type_string",key:"sumOfWorkerNeeds",className:"formly-sumOfWorkerNeeds",hooks:{onInit:l=>l.form.valueChanges.pipe((0,h.O)(l.form.value),(0,x.b)(u=>{l.formControl.setValue(u.sumOfWorkerNeeds,{onlySelf:!0})}))}},{type:"input",key:"sumOfWorkerNeedsApproved",className:"formly-sumOfWorkerNeedsApproved",templateOptions:{type:"number",required:!0,appearance:"fill"}}]}}],this.onFileInputed=!1,this._unsubscribeAll=new C.x}ngOnInit(){this.form=this._formBuilder.group({file:["",[c.kI.required]]})}ngAfterViewInit(){const t=[];this._data.formasiDetails.forEach(n=>{t.push({id:n.id,jabatanNama:n.jabatanNama,unitKerjaNama:n.unitKerjaNama,sumOfWorkerNeeds:n.sumOfWorkerNeeds,sumOfWorkerNeedsApproved:0})}),this.formFormasi.get("count").setValue(t.length),this.formFormasi.get("formasiDetailApproved").patchValue(t),this._changeDetectorRef.detectChanges(),this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}send(){this.formFormasi.markAllAsTouched();const t=[];this.model.formasiDetailApproved.forEach(r=>{t.push({id:r.id,sumOfWorkerNeedsApproved:r.sumOfWorkerNeedsApproved})});const n=this.form.getRawValue(),o=new FormData;o.append("formasiId",this._data.formasiId),o.append("formasiDetailApproved",JSON.stringify(t)),n.file&&o.append("file",n.file),this._formasiService.sendMenpan(o).subscribe(r=>{r?.success?(this._toastr.success("Rekomendasi persetujuan formasi berhasil disubmit"),this.form.reset(),this.matDialogRef.close(!0)):this._toastr.error(r?.message,"ERROR")})}toggleOnFileInputed(t=null){null===t?this.onFileInputed=!this.onFileInputed:(t||(this.form.get("file").setValue(null),document.getElementById("fileDokumen").innerText=null),this.onFileInputed=t),this._changeDetectorRef.markForCheck()}onFileInput(t){const n=this._referensiService.onFileInputSingle(t,"application/pdf",2e3);return n.isSuccess?(this.onFileInputed=!0,document.getElementById("fileDokumen").innerText=n.fileInfo.name,this.form.get("file").setValue(t.target.files[0]),!0):(this._toastr.error(n.msg,"ERROR"),!1)}trackByFn(t,n){return n.id||t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI),e.Y36(c.QS),e.Y36(D.W),e.Y36(v.A2),e.Y36(I._W),e.Y36(e.sBO),e.Y36(k.k))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e._Bn([{provide:m.sG,useValue:v.lv},{provide:m._A,useClass:N.t7,deps:[m.Ad]}])],decls:28,vars:12,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"px-4"],[3,"model","fields","options","form"],[1,"py-4"],[1,"fuse-mat-no-subscript","w-full"],["type","file","accept","application/pdf",2,"display","none",3,"click","change"],["fileEditDocument",""],[1,"flex","flex-auto","items-start","mt-2"],[1,"flex","items-center","justify-start","w-full","mx-auto"],["class","mr-2","mat-flat-button","",3,"color","click",4,"ngIf"],["mat-icon-button","","class","mr-2",3,"matTooltip","click",4,"ngIf"],[1,"ml-auto","ml-2",3,"id"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","disabled","click"],["mat-flat-button","",1,"mr-2",3,"color","click"],["mat-icon-button","",1,"mr-2",3,"matTooltip","click"],[3,"svgIcon"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Rekomendasi Hasil Persetujuan KEMENPAN"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.matDialogRef.close()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5)(7,"div",6)(8,"div",7),e._UZ(9,"formly-form",8),e.qZA(),e.TgZ(10,"div",9)(11,"div",10)(12,"mat-label"),e._uU(13,"Lampiran Dokumen KEMENPAN "),e.TgZ(14,"i"),e._uU(15,"(PDF, Maksimal ukuran 2 MB)"),e.qZA()(),e.TgZ(16,"input",11,12),e.NdJ("click",function(){e.CHM(o);const _=e.MAs(17);return e.KtG(_.value=null)})("change",function(_){return n.onFileInput(_)}),e.qZA(),e.TgZ(18,"div",13)(19,"div",14),e.YNc(20,pe,2,1,"button",15),e.YNc(21,ge,2,2,"button",16),e._UZ(22,"span",17),e.qZA()()()()()(),e.TgZ(23,"div",18)(24,"button",19),e.NdJ("click",function(){return n.matDialogRef.close()}),e._uU(25," Batal "),e.qZA(),e.TgZ(26,"button",20),e.NdJ("click",function(){return n.send()}),e._uU(27," Submit "),e.qZA()()()}2&t&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("model",n.model)("fields",n.fields)("options",n.options)("form",n.formFormasi),e.xp6(11),e.Q6J("ngIf",!n.onFileInputed),e.xp6(1),e.Q6J("ngIf",n.onFileInputed),e.xp6(1),e.Q6J("id","fileDokumen"),e.xp6(4),e.Q6J("color","primary")("disabled",n.form.invalid))},dependencies:[g.O5,A.lW,T.hX,y.Hw,U.gM,c._Y,c.JL,c.sg,O.T7],styles:[".formly-hide{display:none!important}"],changeDetection:0}),i})();var M=s(2494);let de=(()=>{class i{constructor(t,n,o,r,_,p,b,Z){this.matDialogRef=t,this._data=n,this._formBuilder=o,this._helperService=r,this._referensiService=_,this._toastr=p,this._changeDetectorRef=b,this._formasiService=Z,this.options={},this.model={count:1,formasiDetailApproved:[{}]},this.formFormasi=new c.cw({}),this.fields=[{className:"formly-hide",key:"count",type:"input",templateOptions:{hidden:!0,disabled:!0},hooks:{onInit:l=>l.formControl.valueChanges.pipe((0,h.O)(l.formControl.value),(0,B.h)(u=>u>0),(0,x.b)(u=>{this.model.formasiDetailApproved.length=u,this.model={...this.model,count:u}}))}},{key:"formasiDetailApproved",type:"form_formasi_approve",fieldArray:{fieldGroup:[{key:"id",type:"input",hooks:{onInit:l=>l.form.valueChanges.pipe((0,h.O)(l.form.value),(0,x.b)(u=>{l.formControl.setValue(u.id,{onlySelf:!0})}))}},{type:"type_string",key:"unitKerjaNama",className:"formly-unitKerjaNama",hooks:{onInit:l=>l.form.valueChanges.pipe((0,h.O)(l.form.value),(0,x.b)(u=>{l.formControl.setValue(u.unitKerjaNama,{onlySelf:!0})}))}},{type:"type_string",key:"jabatanNama",className:"formly-jabatanNama",hooks:{onInit:l=>l.form.valueChanges.pipe((0,h.O)(l.form.value),(0,x.b)(u=>{l.formControl.setValue(u.jabatanNama,{onlySelf:!0})}))}},{type:"type_string",key:"sumOfWorkerNeeds",className:"formly-sumOfWorkerNeeds",hooks:{onInit:l=>l.form.valueChanges.pipe((0,h.O)(l.form.value),(0,x.b)(u=>{l.formControl.setValue(u.sumOfWorkerNeeds,{onlySelf:!0})}))}},{type:"input",key:"sumOfWorkerNeedsApproved",className:"formly-sumOfWorkerNeedsApproved",hooks:{onInit:l=>l.form.valueChanges.pipe((0,h.O)(l.form.value),(0,x.b)(u=>{l.formControl.setValue(u.sumOfWorkerNeedsApproved,{onlySelf:!0})}))},templateOptions:{type:"number",required:!0,appearance:"fill"}}]}}],this.onFileInputed=!1,this._unsubscribeAll=new C.x}ngOnInit(){}ngAfterViewInit(){const t=[];console.log(this._data.formasiDetails),this._data.formasiDetails.forEach(n=>{t.push({id:n.id,jabatanNama:n.jabatanNama,unitKerjaNama:n.unitKerjaNama,sumOfWorkerNeeds:n.sumOfWorkerNeeds,sumOfWorkerNeedsApproved:n.sumOfWorkerNeedsApproved})}),this.formFormasi.get("count").setValue(t.length),this.formFormasi.get("formasiDetailApproved").patchValue(t),this._changeDetectorRef.detectChanges(),this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}send(){this.formFormasi.markAllAsTouched();const t=[];this.model.formasiDetailApproved.forEach(r=>{t.push({id:r.id,sumOfWorkerNeedsApproved:r.sumOfWorkerNeedsApproved})});const o=new FormData;o.append("formasiId",this._data.formasiId),o.append("isCorrection",!0),o.append("formasiDetailApproved",JSON.stringify(t)),this._formasiService.setComplete(o).subscribe(r=>{r?.success?(this._toastr.success("Penolakan usulan berhasil disubmit"),this.matDialogRef.close(!0)):this._toastr.error(r?.message,"ERROR")})}trackByFn(t,n){return n.id||t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI),e.Y36(c.QS),e.Y36(D.W),e.Y36(v.A2),e.Y36(I._W),e.Y36(e.sBO),e.Y36(k.k))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e._Bn([{provide:m.sG,useValue:v.lv},{provide:m._A,useClass:N.t7,deps:[m.Ad]}])],decls:18,vars:8,consts:[[1,"flex","flex-col","flex-auto","md:w-220","md:min-w-220","max-h-160","-m-6","overflow-y-auto"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-auto","flex-wrap","w-full","p-6","space-y-1","overflow-y-auto"],[1,"flex","flex-col","w-full"],[1,"py-3",3,"type"],["fuseAlertTitle",""],[1,"px-4"],[3,"model","fields","options","form"],[1,"flex","items-center","justify-end","border-t","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"ml-4",3,"color","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Penolakan Hasil Persetujuan KEMENPAN"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.matDialogRef.close()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"fuse-alert",7)(9,"span",8),e._uU(10,"Permintaan revisi jumlah formasi"),e.qZA()(),e.TgZ(11,"div",9),e._UZ(12,"formly-form",10),e.qZA()()(),e.TgZ(13,"div",11)(14,"button",12),e.NdJ("click",function(){return n.matDialogRef.close()}),e._uU(15," Batal "),e.qZA(),e.TgZ(16,"button",13),e.NdJ("click",function(){return n.send()}),e._uU(17," Submit "),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(3),e.Q6J("type","info"),e.xp6(4),e.Q6J("model",n.model)("fields",n.fields)("options",n.options)("form",n.formFormasi),e.xp6(4),e.Q6J("color","primary"))},dependencies:[A.lW,y.Hw,M.W,O.T7],styles:[".formly-hide{display:none!important}"],changeDetection:0}),i})();var he=s(1683),xe=s(8951);function ve(i,a){1&i&&(e.TgZ(0,"div",12),e._UZ(1,"mat-progress-bar",13),e.qZA()),2&i&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function be(i,a){if(1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"number"),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.hij("",e.lcZ(2,1,t.pagination.recordsTotal),"\xa0Formasi ")}}function Ze(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.create())}),e._UZ(2,"mat-icon",15),e.TgZ(3,"span",16),e._uU(4,"Formasi"),e.qZA()(),e.BQk()}2&i&&(e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"))}function Ae(i,a){1&i&&(e.ynx(0),e.TgZ(1,"span",32)(2,"button",33),e._uU(3,"Draft Usulan"),e.qZA()(),e.BQk())}function ye(i,a){1&i&&(e.ynx(0),e.TgZ(1,"span",32)(2,"button",34),e._uU(3,"Usulan Disubmit"),e.qZA()(),e.BQk())}function Te(i,a){1&i&&(e.ynx(0),e.TgZ(1,"span",35)(2,"button",36),e._uU(3,"Usulan Ditolak"),e.qZA()(),e.BQk())}function ke(i,a){1&i&&(e.ynx(0),e.TgZ(1,"span",37)(2,"button",38),e._uU(3,"Usulan Disetujui"),e.qZA()(),e.BQk())}function Ne(i,a){1&i&&(e.ynx(0),e.TgZ(1,"span",37)(2,"button",39),e._uU(3,"Disetujui KEMENPAN"),e.qZA()(),e.BQk())}function Ce(i,a){1&i&&(e.ynx(0),e.TgZ(1,"span",37)(2,"button",40),e._uU(3,"Usulan Selesai"),e.qZA()(),e.BQk())}function Ie(i,a){1&i&&e.GkF(0)}const Ue=function(i){return{$implicit:i}};function De(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Ie,1,0,"ng-container",41),e.BQk()),2&i){const t=e.oxw().$implicit;e.oxw(4);const n=e.MAs(16);e.xp6(1),e.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",e.VKq(2,Ue,t))}}function we(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",25)(2,"div",20)(3,"div",26),e._uU(4),e.ALo(5,"titlecase"),e._UZ(6,"br"),e._uU(7),e.ALo(8,"titlecase"),e.qZA()(),e.TgZ(9,"div",21)(10,"div",27),e._uU(11),e.qZA()(),e.TgZ(12,"div",21),e.YNc(13,Ae,4,0,"ng-container",5),e.YNc(14,ye,4,0,"ng-container",5),e.YNc(15,Te,4,0,"ng-container",5),e.YNc(16,ke,4,0,"ng-container",5),e.YNc(17,Ne,4,0,"ng-container",5),e.YNc(18,Ce,4,0,"ng-container",5),e.qZA(),e.TgZ(19,"div",28),e._uU(20),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"div",22)(23,"div",29)(24,"button",30),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.toggleDetails(r.id))}),e._UZ(25,"mat-icon",31),e.qZA()()()(),e.TgZ(26,"div",18),e.YNc(27,De,2,4,"ng-container",5),e.qZA(),e.BQk()}if(2&i){const t=a.$implicit,n=e.oxw(4);e.xp6(4),e.hij(" ",e.lcZ(5,12,t.instansiNama),""),e.xp6(3),e.hij(" ",e.lcZ(8,14,t.satuanOrganisasnNama)," "),e.xp6(4),e.hij(" ",t.sumOfWorkerNeeds," PFP "),e.xp6(2),e.Q6J("ngIf","CREATED"===t.status),e.xp6(1),e.Q6J("ngIf","SUBMITED"===t.status),e.xp6(1),e.Q6J("ngIf","RETURN"===t.status),e.xp6(1),e.Q6J("ngIf","REKOMENDASI_SENT"===t.status),e.xp6(1),e.Q6J("ngIf","MENPAN_APPROVED"===t.status),e.xp6(1),e.Q6J("ngIf","COMPLETED"===t.status),e.xp6(2),e.hij(" ",e.xi3(21,16,t.createdAt,"d/M/yyyy h:mm")," "),e.xp6(5),e.Q6J("svgIcon",(null==n.selected?null:n.selected.id)===t.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),e.xp6(2),e.Q6J("ngIf",(null==n.selected?null:n.selected.id)===t.id)}}function Je(i,a){if(1&i&&(e.ynx(0),e.YNc(1,we,28,19,"ng-container",24),e.BQk()),2&i){const t=a.ngIf,n=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",n.trackByFn)}}const Oe=function(i){return{"pointer-events-none":i}},Re=function(){return[10,50,100,250,500]};function Fe(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",18)(2,"div",19)(3,"div",20),e._uU(4,"Instansi"),e.qZA(),e.TgZ(5,"div",21),e._uU(6,"Jumlah Rekomendasi Instansi"),e.qZA(),e.TgZ(7,"div",21),e._uU(8,"Status"),e.qZA(),e.TgZ(9,"div",22),e._uU(10,"Diusulkan pada"),e.qZA(),e._UZ(11,"div",22),e.qZA(),e.YNc(12,Je,2,2,"ng-container",5),e.ALo(13,"async"),e.qZA(),e.TgZ(14,"mat-paginator",23),e.NdJ("page",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.pageEvent(o))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(12),e.Q6J("ngIf",e.lcZ(13,7,t.items$)),e.xp6(2),e.Q6J("ngClass",e.VKq(9,Oe,t.isLoading))("length",t.pagination.recordsTotal)("pageIndex",t.pagination.draw)("pageSize",t.pagination.perPage)("pageSizeOptions",e.DdM(11,Re))("showFirstLastButtons",!0)}}function Qe(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Fe,15,12,"ng-container",17),e.BQk()),2&i){const t=a.ngIf;e.oxw();const n=e.MAs(18);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",n)}}function Ee(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"mat-icon",61),e.qZA(),e.BQk())}function Se(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",62),e._UZ(2,"mat-icon",61),e.qZA(),e.BQk())}function qe(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",54),e._uU(2,"\u2022"),e.qZA(),e.TgZ(3,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(6);return e.KtG(o.toggleDelete(o.selected.id))}),e._uU(4,"Hapus"),e.qZA(),e.TgZ(5,"div",55)(6,"button",64),e._uU(7,"Ubah"),e.qZA()(),e.TgZ(8,"div",55)(9,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(6);return e.KtG(o.toggleSubmitUsulan(o.selected.id))}),e._uU(10,"Submit Usulan"),e.qZA()(),e.BQk()}2&i&&(e.xp6(3),e.Q6J("color","secondary"),e.xp6(3),e.Q6J("color","secondary"),e.xp6(3),e.Q6J("color","warn"))}function Le(i,a){1&i&&(e.ynx(0),e.TgZ(1,"fuse-alert",65)(2,"span",66),e._uU(3,"Usulan Anda sedang diproses oleh pembina, untuk selanjutnya akan diberikan rekomendasi persetujuan formasi"),e.qZA()(),e.BQk()),2&i&&(e.xp6(1),e.Q6J("type","info"))}function je(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",76),e._uU(3),e.qZA(),e.TgZ(4,"td",69),e._uU(5),e.qZA(),e.TgZ(6,"td",77),e._uU(7),e.qZA(),e.TgZ(8,"td",77),e._uU(9),e.ALo(10,"number"),e.qZA()(),e.BQk()),2&i){const t=a.$implicit,n=a.index;e.xp6(3),e.Oqu(n+1),e.xp6(2),e.Oqu(t.uraianTugasText),e.xp6(2),e.Oqu(t.output),e.xp6(2),e.hij("",e.lcZ(10,4,t.uraianTugasWorkPerHour*t.output)," jam")}}function Be(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"table",67)(2,"tr")(3,"td",68),e._uU(4),e.qZA()(),e.TgZ(5,"tr")(6,"td",69),e._uU(7,"Unit\xa0kerja"),e.qZA(),e.TgZ(8,"td",70),e._uU(9),e.qZA()(),e.TgZ(10,"tr")(11,"td",69),e._uU(12,"Jabatan"),e.qZA(),e.TgZ(13,"td",70),e._uU(14),e.qZA()(),e.TgZ(15,"tr")(16,"th",71),e._uU(17,"No"),e.qZA(),e.TgZ(18,"th",72),e._uU(19,"Uraian Tugas"),e.qZA(),e.TgZ(20,"th",71),e._uU(21,"Satuan\xa0Hasil (output)"),e.qZA(),e.TgZ(22,"th",71),e._uU(23,"Waktu\xa0Penyelesaian Pekerjaan"),e.qZA()(),e.YNc(24,je,11,6,"ng-container",59),e.TgZ(25,"tr")(26,"td",73),e._uU(27,"Total"),e.qZA(),e.TgZ(28,"td",74),e._uU(29),e.qZA(),e.TgZ(30,"td",74),e._uU(31),e.qZA()(),e.TgZ(32,"tr")(33,"td",73),e._uU(34,"Rata-rata"),e.qZA(),e.TgZ(35,"td",74),e._uU(36),e.qZA(),e.TgZ(37,"td",74),e._uU(38),e.qZA()(),e.TgZ(39,"tr")(40,"td",73),e._uU(41,"Jumlah Formasi Penerjemah Ahli Pertama yang dibutuhkan"),e.qZA(),e.TgZ(42,"td",75),e._uU(43),e.qZA()()(),e.BQk()),2&i){const t=a.$implicit,n=a.index;e.xp6(4),e.hij("Formasi #",n+1,":"),e.xp6(5),e.Oqu(t.unitKerjaNama),e.xp6(5),e.Oqu(t.jabatanNama),e.xp6(10),e.Q6J("ngForOf",t.formula),e.xp6(5),e.Oqu(t.sumOfOutput),e.xp6(2),e.hij("",t.sumOfWorkPerHour," jam"),e.xp6(5),e.Oqu(t.avgOfOutput),e.xp6(2),e.hij("",t.avgOfWorkPerHour," jam"),e.xp6(5),e.Oqu(t.sumOfWorkerNeeds)}}function Me(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",48),e._UZ(2,"div",49),e.TgZ(3,"div",50),e.YNc(4,Ee,3,0,"ng-container",5),e.YNc(5,Se,3,0,"ng-container",5),e.TgZ(6,"div",51)(7,"div",29)(8,"div",52),e._uU(9,"Usulan formasi baru"),e.qZA(),e.YNc(10,qe,11,3,"ng-container",5),e.qZA(),e.TgZ(11,"div",29)(12,"div",53),e._uU(13),e.qZA(),e.TgZ(14,"div",54),e._uU(15,"\u2022"),e.qZA(),e.TgZ(16,"div",55),e._UZ(17,"mat-icon",56),e.TgZ(18,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(4);return e.KtG(r.togglePrint(o.payload.dokumenUsulId))}),e._uU(19,"Lampiran surat usulan"),e.qZA()()(),e.YNc(20,Le,4,1,"ng-container",5),e.TgZ(21,"div",58),e._uU(22,"Detail formasi yang diusulkan:"),e.qZA(),e.YNc(23,Be,44,9,"ng-container",59),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(4);e.xp6(4),e.Q6J("ngIf","CREATED"===n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(1),e.Q6J("ngIf","CREATED"!==n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(5),e.Q6J("ngIf","ROLE_ADMIN_KEPEGAWAIAN_INSTANSI"===n.role&&"CREATED"===n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(3),e.hij("Dibuat ",t.createdAt,""),e.xp6(7),e.Q6J("ngIf","ROLE_ADMIN_KEPEGAWAIAN_INSTANSI"===n.role&&"CREATED"===n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(3),e.Q6J("ngForOf",t.payload.formasiDetail)}}function Ye(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"mat-icon",61),e.qZA(),e.BQk())}function Pe(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",62),e._UZ(2,"mat-icon",61),e.qZA(),e.BQk())}function Ke(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"fuse-alert",65)(2,"span",66),e._uU(3,"Harap periksa detail formasi usulan dan lampiran surat sebelum menentukan persetujuan"),e.qZA()(),e.TgZ(4,"div",29)(5,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(6);return e.KtG(o.returnUsul(o.selected.id))}),e._uU(6,"Tolak"),e.qZA(),e.TgZ(7,"div",55)(8,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(6);return e.KtG(o.approveUsul(o.selected.id))}),e._uU(9,"Setuju"),e.qZA()()(),e.BQk()}2&i&&(e.xp6(1),e.Q6J("type","info"),e.xp6(4),e.Q6J("color","secondary"),e.xp6(3),e.Q6J("color","warn"))}function We(i,a){1&i&&(e.ynx(0),e.TgZ(1,"fuse-alert",65)(2,"span",66),e._uU(3,"Usulan Anda sedang diproses oleh pembina, untuk selanjutnya akan diberikan rekomendasi persetujuan formasi"),e.qZA()(),e.BQk()),2&i&&(e.xp6(1),e.Q6J("type","info"))}function Ge(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",48),e._UZ(2,"div",49),e.TgZ(3,"div",50),e.YNc(4,Ye,3,0,"ng-container",5),e.YNc(5,Pe,3,0,"ng-container",5),e.TgZ(6,"div",51)(7,"div",29)(8,"div",52),e._uU(9,"Proses persetujuan oleh pembina"),e.qZA()(),e.TgZ(10,"div",29)(11,"div",53),e._uU(12),e.qZA(),e.TgZ(13,"div",54),e._uU(14,"\u2022"),e.qZA(),e.TgZ(15,"div",55),e._UZ(16,"mat-icon",56),e.TgZ(17,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(4);return e.KtG(r.togglePrint(o.payload.dokumenUsulId))}),e._uU(18,"Lampiran surat usulan"),e.qZA()()(),e.TgZ(19,"div",29)(20,"div",78),e._uU(21),e.qZA(),e.TgZ(22,"div",54),e._uU(23,"\u2022"),e.qZA(),e.TgZ(24,"div",78),e._uU(25),e.qZA()(),e.YNc(26,Ke,10,3,"ng-container",5),e.YNc(27,We,4,1,"ng-container",5),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(4);e.xp6(4),e.Q6J("ngIf","SUBMITED"===n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(1),e.Q6J("ngIf","SUBMITED"!==n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(7),e.hij("Diterima ",t.createdAt,""),e.xp6(9),e.hij("Satuan Organisasi ",t.payload.satuanOrganisasiNama,""),e.xp6(4),e.hij("Kebutuhan ",t.payload.sumOfWorkerNeeds," PFP"),e.xp6(1),e.Q6J("ngIf","ROLE_ADMIN"===n.role&&"SUBMITED"===n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(1),e.Q6J("ngIf","ROLE_ADMIN_KEPEGAWAIAN_INSTANSI"===n.role&&"SUBMITED"===n.selected.histories[n.selected.histories.length-1].eventName)}}function Ve(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"mat-icon",61),e.qZA(),e.BQk())}function He(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",62),e._UZ(2,"mat-icon",61),e.qZA(),e.BQk())}function $e(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"li",48),e._UZ(2,"div",49),e.TgZ(3,"div",50),e.YNc(4,Ve,3,0,"ng-container",5),e.YNc(5,He,3,0,"ng-container",5),e.TgZ(6,"div",51)(7,"div",29)(8,"div",52),e._uU(9,"Proses persetujuan oleh pembina"),e.qZA()(),e.TgZ(10,"div",52),e._uU(11,"Usulan formasi "),e.TgZ(12,"strong"),e._uU(13,"ditolak"),e.qZA(),e._uU(14,", dengan alasan:"),e.qZA(),e.TgZ(15,"fuse-alert",65)(16,"span",66),e._uU(17),e.qZA()()()()(),e.BQk()),2&i){const t=e.oxw().$implicit,n=e.oxw(4);e.xp6(4),e.Q6J("ngIf","RETURN"===n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(1),e.Q6J("ngIf","RETURN"!==n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(10),e.Q6J("type","info"),e.xp6(2),e.Oqu(t.payload.notes)}}function ze(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"mat-icon",61),e.qZA(),e.BQk())}function Xe(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",62),e._UZ(2,"mat-icon",61),e.qZA(),e.BQk())}function et(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",51)(2,"div",29)(3,"div",52),e._uU(4,"Menunggu surat persetujuan dari KEMENPAN oleh Unit Kerja Pengelola Kepegawaian"),e.qZA()(),e.TgZ(5,"div",29)(6,"div",53),e._uU(7),e.qZA(),e.TgZ(8,"div",54),e._uU(9,"\u2022"),e.qZA(),e.TgZ(10,"div",55),e._UZ(11,"mat-icon",56),e.TgZ(12,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,r=e.oxw(4);return e.KtG(r.togglePrint(o.payload.dokumenRekomendasiId))}),e._uU(13,"Lampiran surat rekomendasi"),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw(2).$implicit;e.xp6(7),e.hij("Disubmit ",t.createdAt,"")}}function tt(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",51)(2,"div",29)(3,"div",52),e._uU(4,"Upload surat persetujuan dari KEMENPAN dan set formasi yang telah disetujui"),e.qZA()(),e.TgZ(5,"div",29)(6,"div",53),e._uU(7),e.qZA(),e.TgZ(8,"div",54),e._uU(9,"\u2022"),e.qZA(),e.TgZ(10,"div",55),e._UZ(11,"mat-icon",56),e.TgZ(12,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,r=e.oxw(4);return e.KtG(r.togglePrint(o.payload.dokumenRekomendasiId))}),e._uU(13,"Lampiran surat rekomendasi"),e.qZA()()(),e.TgZ(14,"div",55)(15,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(6);return e.KtG(o.toggleApprovedMenpan(o.selected.id))}),e._uU(16,"Submit Rekomendasi"),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw(2).$implicit;e.xp6(7),e.hij("Disubmit ",t.createdAt,""),e.xp6(8),e.Q6J("color","warn")}}function nt(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"li",48),e._UZ(2,"div",49),e.TgZ(3,"div",50),e.YNc(4,ze,3,0,"ng-container",5),e.YNc(5,Xe,3,0,"ng-container",5),e.YNc(6,et,14,1,"ng-container",5),e.YNc(7,tt,17,2,"ng-container",5),e.qZA()(),e.BQk()),2&i){const t=e.oxw(5);e.xp6(4),e.Q6J("ngIf","REKOMENDASI_SENT"===t.selected.histories[t.selected.histories.length-1].eventName),e.xp6(1),e.Q6J("ngIf","REKOMENDASI_SENT"!==t.selected.histories[t.selected.histories.length-1].eventName),e.xp6(1),e.Q6J("ngIf","ROLE_ADMIN"===t.role&&"REKOMENDASI_SENT"===t.selected.histories[t.selected.histories.length-1].eventName),e.xp6(1),e.Q6J("ngIf","ROLE_ADMIN_KEPEGAWAIAN_INSTANSI"===t.role&&"REKOMENDASI_SENT"===t.selected.histories[t.selected.histories.length-1].eventName)}}function it(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"mat-icon",61),e.qZA(),e.BQk())}function ot(i,a){1&i&&(e.ynx(0),e.TgZ(1,"div",62),e._UZ(2,"mat-icon",61),e.qZA(),e.BQk())}function at(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",54),e._uU(2,"\u2022"),e.qZA(),e.TgZ(3,"div",55)(4,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(7);return e.KtG(o.toggleTolakFinal(o.selected.id))}),e._uU(5,"Tolak"),e.qZA()(),e.TgZ(6,"div",55)(7,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(7);return e.KtG(o.toggleSetujuFinal(o.selected.id))}),e._uU(8,"Setuju"),e.qZA()(),e.BQk()}2&i&&(e.xp6(4),e.Q6J("color","secondary"),e.xp6(3),e.Q6J("color","warn"))}function rt(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",69),e._uU(3),e.qZA(),e.TgZ(4,"td",69),e._uU(5),e.qZA(),e.TgZ(6,"td",69),e._uU(7),e.qZA(),e.TgZ(8,"td",69),e._uU(9),e.qZA(),e.TgZ(10,"td",69),e._uU(11),e.qZA()(),e.BQk()),2&i){const t=a.$implicit,n=a.index;e.xp6(3),e.Oqu(n+1),e.xp6(2),e.Oqu(t.unitKerjaNama),e.xp6(2),e.Oqu(t.jabatanNama),e.xp6(2),e.Oqu(t.sumOfWorkerNeeds),e.xp6(2),e.Oqu(t.sumOfWorkerNeedsApproved)}}function st(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"table",67)(2,"tr")(3,"th",79),e._uU(4,"No"),e.qZA(),e.TgZ(5,"th",80),e._uU(6,"Unit Kerja"),e.qZA(),e.TgZ(7,"th",80),e._uU(8,"Jabatan"),e.qZA(),e.TgZ(9,"th",81),e._uU(10,"Dibutuhkan"),e.qZA(),e.TgZ(11,"th",81),e._uU(12,"Disetujui"),e.qZA()(),e.YNc(13,rt,12,5,"ng-container",59),e.qZA(),e.BQk()),2&i){const t=e.oxw(3).$implicit;e.xp6(13),e.Q6J("ngForOf",t.payload.formasiDetailApproved)}}function lt(i,a){1&i&&(e.ynx(0),e.TgZ(1,"fuse-alert",65)(2,"span",66),e._uU(3,"Menunggu proses persetujuan oleh Pembina"),e.qZA()(),e.BQk()),2&i&&(e.xp6(1),e.Q6J("type","info"))}function ct(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",51)(2,"div",29)(3,"div",52),e._uU(4,"Formasi telah disetujui oleh KEMENPAN"),e.qZA(),e.YNc(5,at,9,2,"ng-container",5),e.qZA(),e.TgZ(6,"div",29)(7,"div",53),e._uU(8),e.qZA(),e.TgZ(9,"div",54),e._uU(10,"\u2022"),e.qZA(),e.TgZ(11,"div",55),e._UZ(12,"mat-icon",56),e.TgZ(13,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,r=e.oxw(4);return e.KtG(r.togglePrint(o.payload.dokumenMenpanId))}),e._uU(14,"Lampiran surat KEMENPAN"),e.qZA()()(),e.TgZ(15,"div",58),e._uU(16,"Detail formasi yang disetujui:"),e.qZA(),e.YNc(17,st,14,1,"ng-container",59),e.YNc(18,lt,4,1,"ng-container",5),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2).$implicit,n=e.oxw(4);e.xp6(5),e.Q6J("ngIf","ROLE_ADMIN"===n.role&&"MENPAN_APPROVED"===n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(3),e.hij("Pada ",t.createdAt,""),e.xp6(9),e.Q6J("ngForOf",t.payload.formasiDetailApproved),e.xp6(1),e.Q6J("ngIf","ROLE_ADMIN_KEPEGAWAIAN_INSTANSI"===n.role&&"MENPAN_APPROVED"===n.selected.histories[n.selected.histories.length-1].eventName)}}function _t(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"li",48),e._UZ(2,"div",49),e.TgZ(3,"div",50),e.YNc(4,it,3,0,"ng-container",5),e.YNc(5,ot,3,0,"ng-container",5),e.YNc(6,ct,19,4,"ng-container",5),e.qZA()(),e.BQk()),2&i){const t=e.oxw().$implicit,n=e.oxw(4);e.xp6(4),e.Q6J("ngIf","MENPAN_APPROVED"===n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(1),e.Q6J("ngIf","MENPAN_APPROVED"!==n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(1),e.Q6J("ngIf",null==t?null:t.payload)}}function ut(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Me,24,6,"ng-container",5),e.YNc(2,Ge,28,7,"ng-container",5),e.YNc(3,$e,18,4,"ng-container",5),e.YNc(4,nt,8,4,"ng-container",5),e.YNc(5,_t,7,3,"ng-container",5),e.BQk()),2&i){const t=a.$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("ngIf","CREATED"===t.eventName),e.xp6(1),e.Q6J("ngIf","SUBMITED"===t.eventName),e.xp6(1),e.Q6J("ngIf","RETURN"===t.eventName),e.xp6(1),e.Q6J("ngIf","REKOMENDASI_SENT"===t.eventName&&"REKOMENDASI_SENT"===n.selected.histories[n.selected.histories.length-1].eventName),e.xp6(1),e.Q6J("ngIf","MENPAN_APPROVED"===t.eventName)}}function mt(i,a){if(1&i&&(e.ynx(0),e.YNc(1,ut,6,5,"ng-container",24),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.selected.histories)("ngForTrackBy",t.trackByFn)}}function pt(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",42)(2,"div",43)(3,"div",44)(4,"div",45)(5,"div",46),e._uU(6,"Detail tahapan usulan:"),e.qZA(),e.TgZ(7,"div",47)(8,"ol"),e.YNc(9,mt,2,2,"ng-container",5),e.qZA()()()()()(),e.BQk()),2&i){const t=e.oxw(2);e.xp6(9),e.Q6J("ngIf",null==t.selected?null:t.selected.histories)}}function gt(i,a){if(1&i&&e.YNc(0,pt,10,1,"ng-container",5),2&i){const t=e.oxw();e.Q6J("ngIf",t.selected)}}function ft(i,a){1&i&&(e.TgZ(0,"fuse-alert",82)(1,"span",66),e._uU(2,"Usulan formasi tidak ditemukan!"),e.qZA()()),2&i&&e.Q6J("type","info")}let dt=(()=>{class i{constructor(t,n,o,r,_,p,b,Z){this._changeDetectorRef=t,this._formasiService=n,this._fuseConfirmationService=o,this._toastr=r,this._formBuilder=_,this._referensiService=p,this._matDialog=b,this._authService=Z,this.isLoading=!1,this.selected=null,this.role=this._authService.role,this.jenisJabatan$=this._referensiService.jabatan(),this._unsubscribeAll=new C.x}ngOnInit(){this.form=this._formBuilder.group({byJabatanId:[""],byDeskripsi:[null]}),this._formasiService.pagination$.pipe((0,J.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.items$=this._formasiService.items$,this._formasiService.items$.pipe((0,J.R)(this._unsubscribeAll)).subscribe(),this._formasiService.pagination$.pipe((0,J.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}pageEvent(t){this.fetch(t.pageIndex,t.pageSize,this.form.getRawValue()).subscribe()}toggleSearch(){this.fetch(this.pagination.draw,this.pagination.perPage,this.form.getRawValue()).subscribe()}fetch(t=0,n=10,o={}){return o.byStatus||(o.byStatus=null),this._formasiService.getList(+t,+n,o).pipe()}toggleDetails(t){this.selected&&this.selected.id===t?this.closeDetails():this._formasiService.getDetail(t).subscribe(n=>{this.selected=n,this._formasiService.getHistory(t).subscribe(o=>{this.selected.histories=o,this._changeDetectorRef.markForCheck()})})}closeDetails(){this.selected=null}create(){this._matDialog.open(le,{autoFocus:!1,width:"100%"}).afterClosed().subscribe(n=>{n&&this._formasiService.getList().subscribe()})}approveUsul(t){this._matDialog.open(me,{autoFocus:!1,data:t}).afterClosed().subscribe(o=>{o&&(this._formasiService.getList().subscribe(),this.closeDetails(),this.toggleDetails(t))})}toggleApprovedMenpan(t){this._matDialog.open(fe,{width:"100%",autoFocus:!1,data:{formasiId:t,formasiDetails:this.selected.formasiDetails}}).afterClosed().subscribe(r=>{r&&(this._formasiService.getList().subscribe(),this.closeDetails(),this.toggleDetails(t))})}toggleTolakFinal(t){this._matDialog.open(de,{width:"100%",autoFocus:!1,data:{formasiId:t,formasiDetails:this.selected.formasiDetails}}).afterClosed().subscribe(r=>{r&&(this._formasiService.getList().subscribe(),this.closeDetails(),this.toggleDetails(t))})}returnUsul(t){this._matDialog.open(ce,{autoFocus:!1,data:t}).afterClosed().subscribe(o=>{o&&(this._formasiService.getList().subscribe(),this.closeDetails(),this.toggleDetails(t))})}toggleDelete(t){this._fuseConfirmationService.open({title:"Hapus usulan formasi",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:"heroicons_outline:x",color:"warn"},actions:{confirm:{show:!0,label:"Konfirm hapus",color:"warn"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(o=>{})}toggleSubmitUsulan(t){this._fuseConfirmationService.open({title:"Submit usulan formasi",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:"heroicons_outline:x",color:"warn"},actions:{confirm:{show:!0,label:"Konfirm Submit",color:"warn"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(o=>{if("confirmed"===o){const r=new FormData;r.append("formasiId",t),this._formasiService.submitUsul(r).subscribe(_=>{_?.success?(this._toastr.success("Submit Berhasil, selanjutnya menunggu konfirmasi surat rekomendasi dari Pembina"),this.closeDetails(),this._formasiService.getList().subscribe()):this._toastr.error(_?.message,"ERROR")})}})}toggleSetujuFinal(t){this._fuseConfirmationService.open({title:"Menyetujui usulan formasi dari KEMENPAN",message:'<span class="font-medium">Tindakan ini tidak dapat dibatalkan!</span>',icon:{show:!0,name:"heroicons_outline:x",color:"warn"},actions:{confirm:{show:!0,label:"Konfirm Submit",color:"warn"},cancel:{show:!0,label:"Batal"}},dismissible:!0}).afterClosed().subscribe(o=>{if("confirmed"===o){const r=new FormData,_=!1;r.append("formasiId",t),r.append("isCorrection",_),this._formasiService.setComplete(r).subscribe(p=>{p?.success?(this._toastr.success("Submit Berhasil, selanjutnya dapat dilakukan pengangkatan PFP oleh unit Kepegawaian"),this.closeDetails(),this._formasiService.getList().subscribe()):this._toastr.error(p?.message,"ERROR")})}})}togglePrint(t){this._formasiService.cetak(t).subscribe({next:n=>{const o=URL.createObjectURL(n);window.open(o,"_blank")},error:()=>{this._toastr.error("ERROR: Dokumen gagal ditampilkan","ERROR")}})}trackByFn(t,n){return String(n.id)||String(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO),e.Y36(k.k),e.Y36(he.R),e.Y36(I._W),e.Y36(c.qu),e.Y36(v.A2),e.Y36(d.uw),e.Y36(xe.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],features:[e._Bn([{provide:m.sG,useValue:m.sG}])],decls:19,vars:7,consts:[[1,"flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-4","px-4","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-2xl","font-extrabold","tracking-tight","leading-none"],[1,"ml-0.5","font-medium","text-secondary"],[4,"ngIf"],[3,"formGroup"],[1,"flex","items-center","mt-4","sm:mt-0","md:mt-4"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],["rowDetailsTemplate",""],["noItems",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],["mat-flat-button","",1,"ml-4",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[4,"ngIf","ngIfElse"],[1,"grid"],[1,"item-grid","z-10","sticky","top-0","grid","grid-flow-col","auto-cols-max","md:auto-cols-min","grid-cols-12","gap-3","py-3","px-6","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"md:block","col-span-6"],[1,"hidden","md:block","col-span-2"],[1,"hidden","md:block","col-span-1"],[1,"sticky","sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"item-grid","grid","grid-flow-col","auto-cols-max","md:auto-cols-min","grid-cols-12","items-center","gap-2","py-3","px-6","border-b"],[1,"font-medium","leading-5","truncate"],[1,"font-medium","leading-5","truncate","text-md"],[1,"hidden","md:block","truncate","text-sm","col-span-1"],[1,"flex","flex-col","sm:flex-row","sm:items-center","mt-2","sm:mt-1","sm:space-x-2","text-md","leading-5"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"inline-flex","items-center","font-bold","text-xs","px-2.5","py-0.5","rounded-full","tracking-wide","bg-yellow-200","text-yellow-800","dark:bg-yellow-600","dark:text-yellow-50"],["matTooltip","Draft usulan formasi baru telah dibuat oleh Kepegawaian",1,"leading-relaxed","whitespace-nowrap","text-sm"],["matTooltip","Usulan formasi baru telah disubmit oleh Kepegawaian, selanjutnya menunggu proses persetujuan oleh Pembina",1,"leading-relaxed","whitespace-nowrap","text-sm"],[1,"inline-flex","items-center","font-bold","text-xs","px-2.5","py-0.5","rounded-full","tracking-wide","bg-red-200","text-red-800","dark:bg-red-600","dark:text-red-50"],["matTooltip","Usulan formasi baru ditolak oleh Pembina",1,"leading-relaxed","whitespace-nowrap","text-sm"],[1,"inline-flex","items-center","font-bold","text-xs","px-2.5","py-0.5","rounded-full","tracking-wide","bg-green-200","text-green-800","dark:bg-green-600","dark:text-green-50"],["matTooltip","Selanjutnya menunggu unit Kepegawaian menginput hasil rekomendasi dari KEMENPAN",1,"leading-relaxed","whitespace-nowrap","text-sm"],["matTooltip","Unit Kepegawaian telah input hasil rekomendasi dari KEMENPAN, selanjutnya menunggu persetujuan dari Pembina",1,"leading-relaxed","whitespace-nowrap","text-sm"],["matTooltip","Proses usulan telah selesai, Unit Kepegawaian dapat melakukan input PFP pada menu pengangkatan PFP",1,"leading-relaxed","whitespace-nowrap","text-sm"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"shadow-lg","overflow-hidden"],[1,"flex"],[1,"flex","flex-auto","flex-wrap","py-5"],[1,"flex","flex-col","w-full","sm:pl-8"],[1,"mt-1.5","text-md","text-secondary"],[1,"mt-2"],[1,"relative","flex","py-2"],[1,"absolute","top-7","left-5","w-0.5","h-full","-ml-px","bg-gray-200","dark:bg-gray-600"],[1,"relative","flex","flex-auto"],[1,"flex","flex-col","flex-auto","items-start"],[1,"font-medium","text-md"],[1,"text-secondary"],[1,"hidden","sm:block"],[1,"flex","items-center"],["svgIcon","attach_file",1,"icon-size-5","text-hint"],[1,"ml-1.5","text-sm","underline",3,"click"],[1,"text-md","py-3"],[4,"ngFor","ngForOf"],[1,"flex","shrink-0","items-center","justify-center","w-10","h-10","mr-4","rounded-full","bg-red-200"],["svgIcon","heroicons_outline:check"],[1,"flex","shrink-0","items-center","justify-center","w-10","h-10","mr-4","rounded-full","bg-green-200"],["mat-button","",3,"color","click"],["mat-button","",3,"color"],[1,"py-3",3,"type"],["fuseAlertTitle",""],[1,"border-collapse","text-sm"],["colspan","4",1,"border","bg-blue-50","px-4","py-2"],[1,"border","px-4","py-2"],["colspan","3",1,"border","px-4","py-2"],[1,"bg-gray-50","border","text-left","px-4","py-2","text-center"],["width","100%",1,"bg-gray-50","border","text-left","px-4","py-2","text-center"],["colspan","2",1,"border","bg-gray-50","px-4","py-2","text-right","font-medium"],[1,"border","bg-gray-50","px-4","py-2","font-medium","text-right"],["colspan","2",1,"border","bg-gray-50","px-4","py-2","font-medium","text-center"],[1,"border","px-4","py-2","text-center"],[1,"border","px-4","py-2","text-right"],[1,"font-medium"],[1,"bg-gray-50","border","text-left","px-4","py-2",2,"width","70px"],[1,"bg-gray-50","border","text-left","px-4","py-2",2,"width","50%"],[1,"bg-gray-50","border","text-left","px-4","py-2",2,"width","100px"],[3,"type"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,ve,2,1,"div",2),e.TgZ(3,"div")(4,"div",3),e._uU(5,"Usulan Formasi Baru"),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,be,3,3,"ng-container",5),e.qZA()(),e.TgZ(8,"form",6)(9,"div",7),e.YNc(10,Ze,5,2,"ng-container",5),e.qZA()()(),e.TgZ(11,"div",8)(12,"div",9),e.YNc(13,Qe,2,2,"ng-container",5),e.ALo(14,"async"),e.YNc(15,gt,1,1,"ng-template",null,10,e.W1O),e.YNc(17,ft,3,1,"ng-template",null,11,e.W1O),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.isLoading),e.xp6(5),e.Q6J("ngIf",n.pagination.recordsTotal>0),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(2),e.Q6J("ngIf","ROLE_ADMIN_KEPEGAWAIAN_INSTANSI"===n.role),e.xp6(3),e.Q6J("ngIf",e.lcZ(14,5,n.items$)))},dependencies:[g.mk,g.sg,g.O5,g.tP,A.lW,y.Hw,R.NW,q.pW,U.gM,c._Y,c.JL,c.sg,M.W,g.Ov,g.JJ,g.rS,g.uU],encapsulation:2,data:{animation:te.L},changeDetection:0}),i})(),ht=(()=>{class i{constructor(t){this._formasiService=t}resolve(t,n){return this._formasiService.getList()}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(k.k))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var xt=s(7937),vt=s(5507),bt=s(1208),Zt=s(5184),At=s(831),yt=s(8562);let Tt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.ez,S.Bz.forChild([{path:"",component:H,children:[{path:"",component:dt,resolve:{lists:ht}}]}]),bt.c,A.ot,$.p9,T.lN,y.Ps,L.c,P.Tx,R.TU,q.Cv,m.si,K.JX,j.LD,X.rP,U.AV,G.m,V.Nh,d.Is,ee.fC,z.FA,N.Yd,W.p0,xt.w,vt.yI.forRoot(),Zt.p,O.X0.forRoot({extras:{lazyRender:!0}}),At.o,yt.I]}),i})()}}]);